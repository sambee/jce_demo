var Ext=Ext||{};Ext.Boot=Ext.Boot||function(n){function u(n){if(n.$isRequest)return n;var n=n.url?n:{url:n},i=n.url,r=i.charAt?[i]:i,u=n.charset||t.config.charset;e(n,{urls:r,charset:u});e(this,n)}function s(n){if(n.$isEntry)return n;i("creating entry for "+n.url);var h=n.charset||t.config.charset,o=Ext.manifest,f=o&&o.loader,u=n.cache!==undefined?n.cache:f&&f.cache,r,s;u===undefined&&(u=!t.config.disableCaching);u===!1?r=+new Date:u!==!0&&(r=u);r&&(s=f&&f.cacheParam||t.config.disableCachingParam,r=s+"="+r);e(n,{charset:h,buster:r,requests:[]});e(this,n)}var r=document,h=function(n,t,i){if(i&&h(n,i),n&&t&&typeof t=="object")for(var r in t)n[r]=t[r];return n},c={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(r.cookie)?!1:!0,disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:undefined},v=/\.css(?:\?|$)/i,l=r.createElement("a"),a=typeof window!="undefined",o={browser:a,node:!a&&typeof require=="function",phantom:typeof phantom!="undefined"&&phantom.fs},f=Ext.platformTags={},i=function(){},e=function(n,t,i){if(i&&e(n,i),n&&t&&typeof t=="object")for(var r in t)n[r]=t[r];return n},t={loading:0,loaded:0,env:o,config:c,scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,debug:i,useElements:!0,listeners:[],Request:u,Entry:s,detectPlatformTags:function(){for(var u=navigator.userAgent,p=f.isMobile=/Mobile(\/|\s)/.test(u),e,a,o,v,s,c,i=document.createElement("div"),y=["iPhone","iPod","Android","Silk","Android 2","BlackBerry","BB","iPad","RIM Tablet OS","MSIE 10","Trident","Chrome","Tizen","Firefox","Safari","Windows Phone"],w=function(n,t){t===undefined&&(t=window);var r="on"+n.toLowerCase(),u=r in i;return u||i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),u=typeof i[r]=="function",typeof i[r]!="undefined"&&(i[r]=undefined),i.removeAttribute(r)),u},n={},b=y.length,l,r=0;r<b;r++)l=y[r],n[l]=new RegExp(l).test(u);e=n.iPhone||n.iPod||!n.Silk&&n.Android&&(n["Android 2"]||p)||(n.BlackBerry||n.BB)&&n.isMobile||n["Windows Phone"];o=!f.isPhone&&(n.iPad||n.Android||n.Silk||n["RIM Tablet OS"]||n["MSIE 10"]&&/; Touch/.test(u));v=w("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints;a=!e&&!o;s=n["MSIE 10"];c=n.Blackberry||n.BB;h(f,t.loadPlatformsParam(),{phone:e,tablet:o,desktop:a,touch:v,ios:n.iPad||n.iPhone||n.iPod,android:n.Android||n.Silk,blackberry:c,safari:n.Safari&&!c,chrome:n.Chrome,ie10:s,windows:s||n.Trident,tizen:n.Tizen,firefox:n.Firefox})},loadPlatformsParam:function(){for(var s=window.location.search.substr(1),f=s.split("&"),u={},h={},t,e,i,o,r,n=0;n<f.length;n++)t=f[n].split("="),u[t[0]]=t[1];if(u.platformTags)for(t=u.platform.split(/\W/),e=t.length,n=0;n<e;n++)i=t[n].split(":"),o=i[0],i.length>1&&(r=i[1],r=r==="false"||r==="0"?!1:!0),h[o]=r;return i},filterPlatform:function(n){n=[].concat(n);for(var i,r=n.length,t=0;t<r;t++)if(i=n[t],f.hasOwnProperty(i))return!!f[i];return!1},init:function(){for(var e=r.getElementsByTagName("script"),a=e.length,v,n,u,o,f,c,l,h=0;h<a;h++)(u=(n=e[h]).src,u)&&(o=n.readyState||null,f||/\/ext(\-[a-z\-]+)?\.js$/.test(u)&&(t.hasReadyState="readyState"in n,t.hasAsync="async"in n||!t.hasReadyState,f=u),t.scripts[c=t.canonicalUrl(u)]||(i("creating entry "+c+" in Boot.init"),v=new s({key:c,url:u,done:o===null||o==="loaded"||o==="complete",el:n,prop:"src"})));f||(n=e[e.length-1],f=n.src,t.hasReadyState="readyState"in n,t.hasAsync="async"in n||!t.hasReadyState);t.baseUrl=f.substring(0,f.lastIndexOf("/")+1);l=window.location.origin||window.location.protocol+"//"+window.location.hostnaBoot+(window.location.port?":"+window.location.port:"");t.origin=l;t.detectPlatformTags();Ext.filterPlatform=t.filterPlatform},canonicalUrl:function(n){l.href=n;var i=l.href,f=c.disableCachingParam,r=f?i.indexOf(f+"="):-1,u,t;return r>0&&((u=i.charAt(r-1))==="?"||u==="&")&&(t=i.indexOf("&",r),t=t<0?"":i.substring(t),t&&u==="?"&&(++r,t=t.substring(1)),i=i.substring(0,r-1)+t),i},getConfig:function(n){return n?t.config[n]:t.config},setConfig:function(n,i){if(typeof n=="string")t.config[n]=i;else for(var r in n)t.setConfig(r,n[r]);return t},getHead:function(){return t.docHead||(t.docHead=r.head||r.getElementsByTagName("head")[0])},create:function(n,i,r){var u=r||{};return u.url=n,u.key=i,t.scripts[i]=new s(u)},getEntry:function(n,i){var u=t.canonicalUrl(n),r=t.scripts[u];return r||(r=t.create(n,u,i)),r},processRequest:function(n,t){n.loadEntries(t)},load:function(n){i("Boot.load called");var n=new u(n);return n.sync||t.syncMode?t.loadSync(n):(t.currentRequest?(i("current active request, suspending this request"),n.getEntries(),t.suspendedQueue.push(n)):(t.currentRequest=n,t.processRequest(n,!1)),t)},loadSync:function(n){i("Boot.loadSync called");var n=new u(n);return t.syncMode++,t.processRequest(n,!0),t.syncMode--,t},loadBasePrefix:function(n){return n=new u(n),n.prependBaseUrl=!0,t.load(n)},loadSyncBasePrefix:function(n){return n=new u(n),n.prependBaseUrl=!0,t.loadSync(n)},requestComplete:function(n){var r;if(t.currentRequest===n)for(t.currentRequest=null;t.suspendedQueue.length>0;)if(r=t.suspendedQueue.shift(),!r.done){i("resuming suspended request");t.load(r);break}t.currentRequest||t.suspendedQueue.length!=0||t.fireListeners()},isLoading:function(){return!t.currentRequest&&t.suspendedQueue.length==0},fireListeners:function(){for(var n;t.isLoading()&&(n=t.listeners.shift());)n()},onBootReady:function(n){t.isLoading()?t.listeners.push(n):n()},getPathsFromIndexes:function(n,t){return u.prototype.getPathsFromIndexes(n,t)},createLoadOrderMap:function(n){return u.prototype.createLoadOrderMap(n)},fetch:function(n,t,r,u){u=u===undefined?!!t:u;var f=new XMLHttpRequest,e,s,h,c=!1,o=function(){f&&f.readyState==4&&(s=f.status===1223?204:f.status===0&&((self.location||{}).protocol==="file:"||(self.location||{}).protocol==="ionp:")?200:f.status,h=f.responseText,e={content:h,status:s,exception:c},t&&t.call(r,e),f=null)};u&&(f.onreadystatechange=o);try{i("fetching "+n+" "+(u?"async":"sync"));f.open("GET",n,u);f.send(null)}catch(l){return c=l,o(),e}return u||o(),e},notifyAll:function(n){n.notifyRequests()}};return u.prototype={$isRequest:!0,createLoadOrderMap:function(n){for(var u=n.length,r={},i,t=0;t<u;t++)i=n[t],r[i.path]=i;return r},getLoadIndexes:function(n,i,r,u,f){var e=r[n],y,s,o,h,c,l,a,v,p;if(i[n])return i;for(i[n]=!0,c=!1;!c;){l=!1;for(a in i)if(i.hasOwnProperty(a)){if(e=r[a],!e)continue;if(p=this.prepareUrl(e.path),h=t.getEntry(p),!f||!h||!h.done)for(o=e.requires,u&&e.uses&&(o=o.concat(e.uses)),y=o.length,s=0;s<y;s++)v=o[s],i[v]||(i[v]=!0,l=!0)}l||(c=!0)}return i},getPathsFromIndexes:function(n,t){var i=[],f=[],r,e,u;for(r in n)n.hasOwnProperty(r)&&n[r]&&i.push(r);for(i.sort(function(n,t){return n-t}),e=i.length,u=0;u<e;u++)f.push(t[i[u]].path);return f},expandUrl:function(n,t,i,r){var c,s,f,h;typeof n=="string"&&(n=[n]);var u=this,e=u.loadOrder,o=u.loadOrderMap;if(e){for(o=o||u.createLoadOrderMap(e),u.loadOrderMap=o,t=t||{},c=n.length,s=[],f=0;f<c;f++)h=o[n[f]],h?u.getLoadIndexes(h.idx,t,e,i,r):s.push(n[f]);return u.getPathsFromIndexes(t,e).concat(s)}return n},expandUrls:function(n,t){typeof n=="string"&&(n=[n]);for(var i=[],o={},e,h=n.length,u,s,f,r=0;r<h;r++)for(e=this.expandUrl(n[r],{},t,!0),u=0,s=e.length;u<s;u++)f=e[u],o[f]||(o[f]=!0,i.push(f));return i.length==0&&(i=n),i},expandLoadOrder:function(){var n=this,i=n.urls,t;return n.expanded?t=i:(t=this.expandUrls(i,!0),n.expanded=!0),n.urls=t,i.length!=t.length&&(n.sequential=!0),n},getUrls:function(){return this.expandLoadOrder(),this.urls},prepareUrl:function(n){return this.prependBaseUrl?t.baseUrl+n:n},getEntries:function(){var n=this,i=n.entries,r,u,f,e;if(!i){for(i=[],f=n.getUrls(),r=0;r<f.length;r++)e=n.prepareUrl(f[r]),u=t.getEntry(e,{buster:n.buster,charset:n.charset}),u.requests.push(n),i.push(u);n.entries=i}return i},loadEntries:function(n){var t=this,r=t.getEntries(),f=r.length,o=t.loadStart||0,e,u,i;for(n!==undefined&&(t.sync=n),t.loaded=t.loaded||0,t.loading=t.loading||f,i=o;i<f;i++)if(u=r[i],e=u.loaded?!0:r[i].load(t.sync),!e){t.loadStart=i;u.onDone(function(){t.loadEntries(n)});break}t.processLoadedEntries()},processLoadedEntries:function(){var n=this,r=n.getEntries(),u=r.length,f=n.startIndex||0,t,i;if(!n.done){for(t=f;t<u;t++){if(i=r[t],!i.loaded){n.startIndex=t;return}i.evaluated||i.evaluate();i.error&&(n.error=!0)}n.notify()}},notify:function(){var n=this;if(!n.done){var u=n.error,i=n[u?"failure":"success"],r="delay"in n?n.delay:u?1:t.config.chainDelay,f=n.scope||n;n.done=!0;i&&(r===0||r>0?setTimeout(function(){i.call(f,n)},r):i.call(f,n));n.fireListeners();t.requestComplete(n)}},onDone:function(n){var t=this,i=t.listeners||(t.listeners=[]);t.done?n(t):i.push(n)},fireListeners:function(){var n=this.listeners,t;if(n)for(i("firing request listeners");t=n.shift();)t(this)}},s.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){var n=this;return n.crossDomain===undefined&&(i("checking "+n.getLoadUrl()+" for prefix "+t.origin),n.crossDomain=n.getLoadUrl().indexOf(t.origin)!==0),n.crossDomain},isCss:function(){var n=this;return n.css===undefined&&(n.css=n.url&&v.test(n.url)),this.css},getElement:function(n){var f=this,u=f.el;return u||(i("creating element for "+f.url),f.isCss()?(n=n||"link",u=r.createElement(n),n=="link"?(u.rel="stylesheet",f.prop="href"):f.prop="textContent",u.type="text/css"):(n=n||"script",u=r.createElement(n),u.type="text/javascript",f.prop="src",t.hasAsync&&(u.async=!1)),f.el=u),u},getLoadUrl:function(){var n=this,i=t.canonicalUrl(n.url);return n.loadUrl||(n.loadUrl=!n.buster?i:i+(i.indexOf("?")===-1?"?":"&")+n.buster),n.loadUrl},fetch:function(n){var i=this.getLoadUrl(),r=!!n.async,u=n.complete;t.fetch(i,u,this,r)},onContentLoaded:function(n){var t=this,i=n.status,r=n.content,f=n.exception,u=this.getLoadUrl();t.loaded=!0;(f||i===0)&&!o.phantom?(t.error="Failed loading synchronously via XHR: '"+u+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead."||!0,t.evaluated=!0):i>=200&&i<300||i===304||o.phantom||i===0&&r.length>0?t.content=r:(t.error="Failed loading synchronously via XHR: '"+u+"'. Please verify that the file exists. XHR status code: "+i||!0,t.evaluated=!0)},createLoadElement:function(n){var i=this,r=i.getElement(),u=function(){(this.readyState==="loaded"||this.readyState==="complete")&&n&&n()},f=function(){i.error=!0;n&&n()};i.preserve=!0;r.onerror=f;t.hasReadyState?r.onreadystatechange=u:r.onload=n;r[i.prop]=i.getLoadUrl()},onLoadElementReady:function(){t.getHead().appendChild(this.getElement());this.evaluated=!0},inject:function(n){i("injecting content for "+this.url);var e=this,u=t.getHead(),h=e.url,s=e.key,f,o,c,l;return e.isCss()?(e.preserve=!0,l=s.substring(0,s.lastIndexOf("/")+1),f=r.createElement("base"),f.href=l,u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.href=f.href,h&&(n+="\n/*# sourceURL="+s+" */"),o=e.getElement("style"),c="styleSheet"in o,u.appendChild(f),c?(u.appendChild(o),o.styleSheet.cssText=n):(o.textContent=n,u.appendChild(o)),u.removeChild(f)):(h&&(n+="\n//# sourceURL="+s),Ext.globalEval(n)),e},loadCrossDomain:function(){var n=this,t=function(){n.loaded=n.evaluated=n.done=!0;n.notifyRequests()};if(n.isCss())n.createLoadElement(),n.evaluateLoadElement(),t();else return n.createLoadElement(function(){t()}),n.evaluateLoadElement(),!1;return!0},loadElement:function(){var n=this,t=function(){n.loaded=n.evaluated=n.done=!0;n.notifyRequests()};return n.isCss()?n.loadCrossDomain():(n.createLoadElement(function(){t()}),n.evaluateLoadElement(),!0)},loadSync:function(){var n=this;n.fetch({async:!1,complete:function(t){n.onContentLoaded(t)}});n.evaluate();n.notifyRequests()},load:function(n){var i=this;if(!i.loaded){if(i.loading)return!1;if(i.loading=!0,n)i.loadSync();else{if(i.isCrossDomain())return i.loadCrossDomain();if(!i.isCss()&&t.hasReadyState)i.createLoadElement(function(){i.loaded=!0;i.notifyRequests()});else{if(t.useElements)return i.loadElement();i.fetch({async:!n,complete:function(n){i.onContentLoaded(n);i.notifyRequests()}})}}}return!0},evaluateContent:function(){this.inject(this.content);this.content=null},evaluateLoadElement:function(){t.getHead().appendChild(this.getElement())},evaluate:function(){var n=this;if(!n.evaluated){if(n.evaluating)return;n.evaluating=!0;n.content!==undefined?n.evaluateContent():n.error||n.evaluateLoadElement();n.evaluated=n.done=!0;n.cleanup()}},cleanup:function(){var i=this,t=i.el,r;if(t){if(!i.preserve){i.el=null;t.parentNode.removeChild(t);for(r in t)try{r!==i.prop&&(t[r]=null);delete t[r]}catch(u){}}t.onload=t.onerror=t.onreadystatechange=n}},notifyRequests:function(){for(var t=this.requests,r=t.length,i,n=0;n<r;n++)i=t[n],i.processLoadedEntries();this.done&&this.fireListeners()},onDone:function(n){var t=this,i=t.listeners||(t.listeners=[]);t.done?n(t):i.push(n)},fireListeners:function(){var n=this.listeners,t;if(n&&n.length>0)for(i("firing event listeners for url "+this.url);t=n.shift();)t(this)}},Ext.disableCacheBuster=function(n,t){var i=new Date;i.setTime(i.getTime()+(n?3650:-1)*864e5);i=i.toGMTString();r.cookie="ext-cache=1; expires="+i+"; path="+(t||"/")},o.node&&(t.prototype.load=t.prototype.loadSync=function(){require(filePath);onLoad.call(scope)},t.prototype.init=n),t.init(),t}(function(){});Ext.globalEval=Ext.globalEval||(this.execScript?function(n){execScript(n)}:function(n){eval.call(window,n)});Function.prototype.bind||function(){var n=Array.prototype.slice,t=function(t){var i=n.call(arguments,1),r=this;return i.length?function(){var u=arguments;return r.apply(t,u.length?i.concat(n.call(u)):i)}:(i=null,function(){return r.apply(t,arguments)})};Function.prototype.bind=t;t.$extjs=!0}();Ext=Ext||{};Ext.Direct||(Ext.Direct={});Ext.Toolbar||(Ext.Toolbar={});Ext.app||(Ext.app={});Ext.app.bind||(Ext.app.bind={});Ext.app.bindinspector||(Ext.app.bindinspector={});Ext.app.bindinspector.noconflict||(Ext.app.bindinspector.noconflict={});Ext.app.domain||(Ext.app.domain={});Ext.app.route||(Ext.app.route={});Ext.button||(Ext.button={});Ext.container||(Ext.container={});Ext.core||(Ext.core={});Ext.dashboard||(Ext.dashboard={});Ext.data||(Ext.data={});Ext.data.field||(Ext.data.field={});Ext.data.flash||(Ext.data.flash={});Ext.data.identifier||(Ext.data.identifier={});Ext.data.matrix||(Ext.data.matrix={});Ext.data.operation||(Ext.data.operation={});Ext.data.proxy||(Ext.data.proxy={});Ext.data.reader||(Ext.data.reader={});Ext.data.schema||(Ext.data.schema={});Ext.data.session||(Ext.data.session={});Ext.data.validator||(Ext.data.validator={});Ext.data.writer||(Ext.data.writer={});Ext.dd||(Ext.dd={});Ext.direct||(Ext.direct={});Ext.dom||(Ext.dom={});Ext.dom.Element||(Ext.dom.Element={});Ext.event||(Ext.event={});Ext.event.gesture||(Ext.event.gesture={});Ext.event.publisher||(Ext.event.publisher={});Ext.flash||(Ext.flash={});Ext.form||(Ext.form={});Ext.form.Action||(Ext.form.Action={});Ext.form.action||(Ext.form.action={});Ext.form.field||(Ext.form.field={});Ext.form.trigger||(Ext.form.trigger={});Ext.fx||(Ext.fx={});Ext.fx.animation||(Ext.fx.animation={});Ext.fx.easing||(Ext.fx.easing={});Ext.fx.layout||(Ext.fx.layout={});Ext.fx.layout.card||(Ext.fx.layout.card={});Ext.fx.runner||(Ext.fx.runner={});Ext.fx.target||(Ext.fx.target={});Ext.grid||(Ext.grid={});Ext.grid.column||(Ext.grid.column={});Ext.grid.feature||(Ext.grid.feature={});Ext.grid.filters||(Ext.grid.filters={});Ext.grid.filters.filter||(Ext.grid.filters.filter={});Ext.grid.header||(Ext.grid.header={});Ext.grid.locking||(Ext.grid.locking={});Ext.grid.plugin||(Ext.grid.plugin={});Ext.grid.property||(Ext.grid.property={});Ext.grid.selection||(Ext.grid.selection={});Ext.layout||(Ext.layout={});Ext.layout.boxOverflow||(Ext.layout.boxOverflow={});Ext.layout.component||(Ext.layout.component={});Ext.layout.component.field||(Ext.layout.component.field={});Ext.layout.container||(Ext.layout.container={});Ext.layout.container.border||(Ext.layout.container.border={});Ext.layout.container.boxOverflow||(Ext.layout.container.boxOverflow={});Ext.list||(Ext.list={});Ext.menu||(Ext.menu={});Ext.mixin||(Ext.mixin={});Ext.overrides||(Ext.overrides={});Ext.overrides.app||(Ext.overrides.app={});Ext.overrides.app.domain||(Ext.overrides.app.domain={});Ext.overrides.dom||(Ext.overrides.dom={});Ext.overrides.event||(Ext.overrides.event={});Ext.overrides.event.publisher||(Ext.overrides.event.publisher={});Ext.overrides.plugin||(Ext.overrides.plugin={});Ext.overrides.util||(Ext.overrides.util={});Ext.panel||(Ext.panel={});Ext.perf||(Ext.perf={});Ext.picker||(Ext.picker={});Ext.plugin||(Ext.plugin={});Ext.resizer||(Ext.resizer={});Ext.scroll||(Ext.scroll={});Ext.selection||(Ext.selection={});Ext.slider||(Ext.slider={});Ext.sparkline||(Ext.sparkline={});Ext.state||(Ext.state={});Ext.tab||(Ext.tab={});Ext.tip||(Ext.tip={});Ext.toolbar||(Ext.toolbar={});Ext.tree||(Ext.tree={});Ext.tree.plugin||(Ext.tree.plugin={});Ext.util||(Ext.util={});Ext.util.paintmonitor||(Ext.util.paintmonitor={});Ext.util.sizemonitor||(Ext.util.sizemonitor={});Ext.util.translatable||(Ext.util.translatable={});Ext.ux||(Ext.ux={});Ext.ux.form||(Ext.ux.form={});Ext.ux.layout||(Ext.ux.layout={});Ext.view||(Ext.view={});Ext.window||(Ext.window={}),function(n){var i,l=["constructor","toString","valueOf","toLocaleString"],a={},e={},f=0,o,r,t,v,s,h,c,u,p=function(){var p,w;for(r=Ext.Base,t=Ext.ClassManager,p=l.length;p-->0;)w=1<<p,e[a[w]=l[p]]=w;for(p in e)f|=e[p];if(f=~f,Function.prototype.$isFunction=1,u=!!(t&&t.addAlias),v=Ext.Class.getPreprocessor("config").fn,s=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn,c=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn,h=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn,i=r.$staticMembers,!i){i=[];for(o in r)r.hasOwnProperty(o)&&i.push(o)}return n.derive=y,y.apply(this,arguments)},w=function(n,t,i){var h=i.enumerableMembers,o=n.prototype,r,e,s,f;if(t)if(u)n.addMembers(t);else{for(r in t)f=t[r],f&&f.$isFunction&&!f.$isClass&&f!==Ext.emptyFn&&f!==Ext.identityFn?(r in o&&(f.$previous=o[r]),o[r]=e=f,e.$owner=n,e.$name=r):o[r]=f;for(s=1;h;s<<=1)h&s&&(h&=~s,r=a[s],o[r]=e=t[r],e.$owner=n,e.$name=r)}},b=function(n){var t=function(){return n.apply(this,arguments)||null},u,f;for(t.prototype=Ext.Object.chain(n.prototype),u=i.length;u-->0;)f=i[u],t[f]=r[f];return t},y=function(n,e,o,l,a,y,p,b,k,d,g){for(var nt=function(){return this.constructor.apply(this,arguments)||null},it=nt,ot={enumerableMembers:l&f,onCreated:g,onBeforeCreated:w,aliases:b},ut=o.alternateClassName||[],dt=Ext.global,yt,lt,bt,st,at,pt,ft,ht,ct,rt,wt,et,kt=t.alternateToName||t.maps.alternateToName,vt=t.nameToAlternates||t.maps.nameToAlternates,tt=i.length;tt-->0;)pt=i[tt],nt[pt]=r[pt];if(o.$isFunction&&(o=o(nt)),ot.data=o,ht=o.statics,delete o.statics,o.$className=n,"$className"in o&&(nt.$className=o.$className),nt.extend(e),ft=nt.prototype,nt.xtype=o.xtype=a[0],a&&(ft.xtypes=a),ft.xtypesChain=y,ft.xtypesMap=p,o.alias=b,it.triggerExtended(nt,o,ot),o.onClassExtended){nt.onExtended(o.onClassExtended,nt);delete o.onClassExtended}if(o.privates&&c&&c.call(Ext.Class,nt,o),ht)if(u)nt.addStatics(ht);else for(ct in ht)ht.hasOwnProperty(ct)&&(et=ht[ct],et&&et.$isFunction&&!et.$isClass&&et!==Ext.emptyFn&&et!==Ext.identityFn&&(nt[ct]=wt=et,wt.$owner=nt,wt.$name=ct),nt[ct]=et);if(o.inheritableStatics&&(nt.addInheritableStatics(o.inheritableStatics),delete o.inheritableStatics),ft.onClassExtended){it.onExtended(ft.onClassExtended,it);delete ft.onClassExtended}o.config&&v.call(Ext.Class,nt,o);o.cachedConfig&&s&&s.call(Ext.Class,nt,o);o.deprecated&&h&&h.call(Ext.ClassManager,n,nt,o);ot.onBeforeCreated(nt,ot.data,ot);for(tt=0,st=k&&k.length;tt<st;++tt)nt.mixin.apply(nt,k[tt]);for(tt=0,st=b.length;tt<st;tt++)yt=b[tt],t.setAlias?t.setAlias(nt,yt):t.addAlias(nt,yt);for(o.singleton&&(it=new nt),ut instanceof Array||(ut=[ut]),rt=t.getName(it),tt=0,bt=ut.length;tt<bt;tt++)lt=ut[tt],t.classes[lt]=it,u?t.addAlternate(nt,lt):rt&&(kt[lt]=rt,ut=vt[rt]||(vt[rt]=[]),ut.push(lt));for(tt=0,st=d.length;tt<st;tt+=2)at=d[tt],at||(at=dt),at[d[tt+1]]=it;return t.classes[n]=it,u||rt&&rt!==n&&(kt[n]=rt,ut=vt[rt]||(vt[rt]=[]),ut.push(n)),delete ft.alternateClassName,ot.onCreated&&ot.onCreated.call(it,it),n&&t.triggerCreated(n),it};n.derive=p}(Ext.cmd={});Ext=Ext||{};Ext._startTime=Date.now?Date.now():+new Date,function(){var t=this,o=Object.prototype,i=o.toString,r=["valueOf","toLocaleString","toString","constructor"],n=function(){},u=function(){},f=function(n){return n},e=function(){var n=e.caller.caller;return n.$owner.prototype[n.$name].apply(this,arguments)},s=Ext.manifest||{},h,c=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,l=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=t;n.$nullFn=f.$nullFn=n.$emptyFn=f.$identityFn=u.$nullFn=!0;u.$privacy="framework";Ext.suspendLayouts=Ext.resumeLayouts=n;for(h in{toString:1})r=null;Ext.enumerables=r;Ext.apply=function(n,t,i){if(i&&Ext.apply(n,i),n&&t&&typeof t=="object"){var f,e,u;for(f in t)n[f]=t[f];if(r)for(e=r.length;e--;)u=r[e],t.hasOwnProperty(u)&&(n[u]=t[u])}return n};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",privateFn:u,emptyFn:n,identityFn:f,frameStartTime:+new Date,manifest:s,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(n){return"#"+n},id:function(n,t){if(n&&n.id)return n.id;var i=(t||Ext.idPrefix)+ ++Ext.idSeed;return n&&(n.id=i),i},returnId:function(n){return n.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(Moz.+|MS.+|webkit.+)/,canonicalEventName:function(n){return Ext.$eventNameMap[n]||(Ext.$eventNameMap[n]=Ext.$vendorEventRe.test(n)?n:n.toLowerCase())},applyIf:function(n,t){var i;if(n)for(i in t)n[i]===undefined&&(n[i]=t[i]);return n},now:t.performance&&t.performance.now?function(){return performance.now()}:Date.now||(Date.now=function(){return+new Date}),destroy:function(){for(var i=arguments.length,n,t=0;t<i;t++)n=arguments[t],n&&(Ext.isArray(n)?this.destroy.apply(this,n):Ext.isFunction(n.destroy)&&n.destroy());return null},destroyMembers:function(n){for(var t,r,i=1,u=arguments,f=u.length;i<f;i++)t=n[r=u[i]],t!=null&&(n[r]=Ext.destroy(t))},override:function(n,t){if(n.$isClass)n.override(t);else if(typeof n=="function")Ext.apply(n.prototype,t);else{var u=n.self,i,r;if(u&&u.$isClass)for(i in t)t.hasOwnProperty(i)&&(r=t[i],typeof r=="function"&&(r.$name=i,r.$owner=u,r.$previous=n.hasOwnProperty(i)?n[i]:e),n[i]=r);else Ext.apply(n,t)}return n},valueFrom:function(n,t,i){return Ext.isEmpty(n,i)?t:n},isEmpty:function(n,t){return n==null||(t?!1:n==="")||Ext.isArray(n)&&n.length===0},isArray:"isArray"in Array?Array.isArray:function(n){return i.call(n)==="[object Array]"},isDate:function(n){return i.call(n)==="[object Date]"},isMSDate:function(n){return Ext.isString(n)?l.test(n):!1},isObject:i.call(null)==="[object Object]"?function(n){return n!==null&&n!==undefined&&i.call(n)==="[object Object]"&&n.ownerDocument===undefined}:function(n){return i.call(n)==="[object Object]"},isSimpleObject:function(n){return n instanceof Object&&n.constructor===Object},isPrimitive:function(n){var t=typeof n;return t==="string"||t==="number"||t==="boolean"},isFunction:typeof document!="undefined"&&typeof document.getElementsByTagName("body")=="function"?function(n){return!!n&&i.call(n)==="[object Function]"}:function(n){return!!n&&typeof n=="function"},isNumber:function(n){return typeof n=="number"&&isFinite(n)},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},isString:function(n){return typeof n=="string"},isBoolean:function(n){return typeof n=="boolean"},isElement:function(n){return n?n.nodeType===1:!1},isTextNode:function(n){return n?n.nodeName==="#text":!1},isDefined:function(n){return typeof n!="undefined"},isIterable:function(n){return!n||typeof n.length!="number"||typeof n=="string"||Ext.isFunction(n)?!1:n.propertyIsEnumerable?n.hasOwnProperty("length")&&!n.propertyIsEnumerable("length")?!0:c.test(i.call(n)):!!n.item},isDebugEnabled:n,clone:function(n){if(n===null||n===undefined)return n;if(n.nodeType&&n.cloneNode)return n.cloneNode(!0);var e=i.call(n),u,o,f,t,s;if(e==="[object Date]")return new Date(n.getTime());if(e==="[object Array]")for(u=n.length,t=[];u--;)t[u]=Ext.clone(n[u]);else if(e==="[object Object]"&&n.constructor===Object){t={};for(s in n)t[s]=Ext.clone(n[s]);if(r)for(o=r.length;o--;)f=r[o],n.hasOwnProperty(f)&&(t[f]=n[f])}return t||n},getUniqueGlobalNamespace:function(){var n=this.uniqueGlobalNamespace,i;if(n===undefined){i=0;do n="ExtBox"+ ++i;while(t[n]!==undefined);t[n]=Ext;this.uniqueGlobalNamespace=n}return n},functionFactoryCache:{},cacheableFunctionFactory:function(){var f=this,n=Array.prototype.slice.call(arguments),u=f.functionFactoryCache,r,t,i;return Ext.isSandboxed&&(i=n.length,i>0&&(i--,n[i]="var Ext=window."+Ext.name+";"+n[i])),r=n.join(""),t=u[r],t||(t=Function.prototype.constructor.apply(Function.prototype,n),u[r]=t),t},functionFactory:function(){var t=Array.prototype.slice.call(arguments),n;return Ext.isSandboxed&&(n=t.length,n>0&&(n--,t[n]="var Ext=window."+Ext.name+";"+t[n])),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{log:function(n,i){n&&t.console&&(i&&i in t.console||(i="log"),n="["+i.toUpperCase()+"] "+n,t.console[i](n))},verbose:function(n){this.log(n,"verbose")},info:function(n){this.log(n,"info")},warn:function(n){this.log(n,"warn")},error:function(n){throw new Error(n);},deprecate:function(n){this.log(n,"warn")}}||{verbose:n,log:n,info:n,warn:n,error:function(n){throw new Error(n);},deprecate:n},getElementById:function(n){return document.getElementById(n)},splitAndUnescape:function(){var n={};return function(t,i){if(t){if(!i)return[t]}else return[];for(var e=n[i]||(n[i]=new RegExp("\\\\"+i,"g")),f=[],r,u=t.split(i);(r=u.shift())!==undefined;){while(r.charAt(r.length-1)==="\\"&&u.length>0)r=r+i+u.shift();r=r.replace(e,i);f.push(r)}return f}}()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0}(),function(){function n(){var t=this,i=t.sourceClass,n=t.sourceMethod,r=t.msg;return n&&(r?(n+="(): ",n+=r):n+="()"),i&&(n=n?i+"."+n:i),n||r||""}Ext.Error=function(t){Ext.isString(t)&&(t={msg:t});var i=new Error;return Ext.apply(i,t),i.message=i.message||i.msg,i.toString=n,i};Ext.apply(Ext.Error,{ignore:!1,raise:function(t){t=t||{};Ext.isString(t)&&(t={msg:t});var u=this,r=u.raise.caller,f,i;if(r&&(!t.sourceMethod&&(i=r.$name)&&(t.sourceMethod=i),!t.sourceClass&&(i=r.$owner)&&(i=i.$className)&&(t.sourceClass=i)),u.handle(t)!==!0){f=n.call(t);throw new Ext.Error(t);}},handle:function(){return this.ignore}})}();Ext.deprecated=function(){return Ext.emptyFn};Ext.Array=function(){function c(n,t){for(var u=n.length,r=new Array(u),i=0;i<u;i++)r[i]=i;for(r.sort(function(i,r){return t(n[i],n[r])||i-r}),i=0;i<u;i++)r[i]=n[r[i]];for(i=0;i<u;i++)n[i]=r[i];return n}var i=Array.prototype,t=i.slice,f=function(){var n=[],t,i=20;if(!n.splice)return!1;while(i--)n.push("A");return(n.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),t=n.length,n.splice(13,0,"XXX"),t+1!==n.length)?!1:!0}(),o="indexOf"in i,s=!0;try{typeof document!="undefined"&&t.call(document.getElementsByTagName("body"))}catch(b){s=!1}var e=function(n,t){return t<0?Math.max(0,n.length+t):Math.min(n.length,t)},u=function(n,t,i,r){var o=r?r.length:0,h=n.length,s=e(n,t);if(s===h)o&&n.push.apply(n,r);else{var l=Math.min(i,h-s),f=s+l,c=f+o-l,v=h-f,a=h-l,u;if(c<f)for(u=0;u<v;++u)n[c+u]=n[f+u];else if(c>f)for(u=v;u--;)n[c+u]=n[f+u];if(o&&s===a)n.length=a,n.push.apply(n,r);else for(n.length=a+o,u=0;u<o;++u)n[s+u]=r[u]}return n},l=function(n,t,i,r){return r&&r.length?t!==0||i?t<n.length?n.splice.apply(n,[t,i].concat(r)):n.push.apply(n,r):n.unshift.apply(n,r):n.splice(t,i),n},a=function(n,t,i){return u(n,t,i)},v=function(n,t,i){return n.splice(t,i),n},y=function(n,i,r){var f=e(n,i),o=n.slice(i,e(n,f+r));return arguments.length<4?u(n,f,r):u(n,f,r,t.call(arguments,3)),o},p=function(n){return n.splice.apply(n,t.call(arguments,1))},r=f?v:a,h=f?l:u,w=f?p:y,n={binarySearch:function(t,i,r,u,f){var o=t.length,e,s;for(r instanceof Function?(f=r,r=0,u=o):u instanceof Function?(f=u,u=o):(r===undefined&&(r=0),u===undefined&&(u=o),f=f||n.lexicalCompare),--u;r<=u;)e=r+u>>1,s=f(i,t[e]),s>=0?r=e+1:s<0&&(u=e-1);return r},defaultCompare:function(n,t){return n<t?-1:n>t?1:0},lexicalCompare:function(n,t){return n=String(n),t=String(t),n<t?-1:n>t?1:0},each:function(t,i,r,u){t=n.from(t);var f,e=t.length;if(u!==!0){for(f=0;f<e;f++)if(i.call(r||t[f],t[f],f,t)===!1)return f}else for(f=e-1;f>-1;f--)if(i.call(r||t[f],t[f],f,t)===!1)return f;return!0},forEach:"forEach"in i?function(n,t,i){return n.forEach(t,i)}:function(n,t,i){for(var r=0,u=n.length;r<u;r++)t.call(i,n[r],r,n)},indexOf:o?function(n,t,r){return i.indexOf.call(n,t,r)}:function(n,t,i){for(var u=n.length,r=i<0?Math.max(0,u+i):i||0;r<u;r++)if(n[r]===t)return r;return-1},contains:o?function(n,t){return i.indexOf.call(n,t)!==-1}:function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return!0;return!1},toArray:function(n,i,r){if(!n||!n.length)return[];if(typeof n=="string"&&(n=n.split("")),s)return t.call(n,i||0,r||n.length);var f=[],u;for(i=i||0,r=r?r<0?n.length+r:r:n.length,u=i;u<r;u++)f.push(n[u]);return f},pluck:function(n,t){for(var r=[],f,i=0,u=n.length;i<u;i++)f=n[i],r.push(f[t]);return r},map:"map"in i?function(n,t,i){return n.map(t,i)}:function(n,t,i){for(var u=[],r=0,f=n.length;r<f;r++)u[r]=t.call(i,n[r],r,n);return u},every:"every"in i?function(n,t,i){return n.every(t,i)}:function(n,t,i){for(var r=0,u=n.length;r<u;++r)if(!t.call(i,n[r],r,n))return!1;return!0},some:"some"in i?function(n,t,i){return n.some(t,i)}:function(n,t,i){for(var r=0,u=n.length;r<u;++r)if(t.call(i,n[r],r,n))return!0;return!1},equals:function(n,t){var r=n.length,u=t.length,i;if(n===t)return!0;if(r!==u)return!1;for(i=0;i<r;++i)if(n[i]!==t[i])return!1;return!0},clean:function(n){for(var r=[],t=0,u=n.length,i;t<u;t++)i=n[t],Ext.isEmpty(i)||r.push(i);return r},unique:function(t){for(var i=[],r=0,f=t.length,u;r<f;r++)u=t[r],n.indexOf(i,u)===-1&&i.push(u);return i},filter:"filter"in i?function(n,t,i){return n.filter(t,i)}:function(n,t,i){for(var u=[],r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u},findBy:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i||n,n[r],r))return n[r];return null},from:function(i,r){if(i===undefined||i===null)return[];if(Ext.isArray(i))return r?t.call(i):i;var u=typeof i;return i&&i.length!==undefined&&u!=="string"&&(u!=="function"||!i.apply)?n.toArray(i):[i]},remove:function(t,i){var u=n.indexOf(t,i);return u!==-1&&r(t,u,1),t},removeAt:function(n,t,i){var u=n.length;return t>=0&&t<u&&(i=i||1,i=Math.min(i,u-t),r(n,t,i)),n},include:function(t,i){n.contains(t,i)||t.push(i)},clone:function(n){return t.call(n)},merge:function(){for(var u=t.call(arguments),r=[],i=0,f=u.length;i<f;i++)r=r.concat(u[i]);return n.unique(r)},intersect:function(){var h=[],f=t.call(arguments),e,c,p,u,l,a,w,v,b,y,i,o,s;if(!f.length)return h;for(e=f.length,i=l=0;i<e;i++)a=f[i],(!u||a.length<u.length)&&(u=a,l=i);for(u=n.unique(u),r(f,l,1),w=u.length,e=f.length,i=0;i<w;i++){for(v=u[i],y=0,o=0;o<e;o++)for(c=f[o],p=c.length,s=0;s<p;s++)if(b=c[s],v===b){y++;break}y===e&&h.push(v)}return h},difference:function(n,i){for(var f=t.call(n),o=f.length,u,e=0,s=i.length;e<s;e++)for(u=0;u<o;u++)f[u]===i[e]&&(r(f,u,1),u--,o--);return f},slice:[1,2].slice(1,undefined).length?function(n,i,r){return t.call(n,i,r)}:function(n,i,r){return typeof i=="undefined"?t.call(n):typeof r=="undefined"?t.call(n,i):t.call(n,i,r)},sort:function(t,i){return c(t,i||n.lexicalCompare)},flatten:function(n){function i(n){for(var u,r=0,f=n.length;r<f;r++)u=n[r],Ext.isArray(u)?i(u):t.push(u);return t}var t=[];return i(n)},min:function(n,t){for(var i=n[0],r,u=0,f=n.length;u<f;u++)r=n[u],t?t(i,r)===1&&(i=r):r<i&&(i=r);return i},max:function(n,t){for(var i=n[0],r,u=0,f=n.length;u<f;u++)r=n[u],t?t(i,r)===-1&&(i=r):r>i&&(i=r);return i},mean:function(t){return t.length>0?n.sum(t)/t.length:undefined},sum:function(n){for(var i=0,u,t=0,r=n.length;t<r;t++)u=n[t],i+=u;return i},toMap:function(n,t,i){var u={},r=n.length;if(t)if(typeof t=="string")while(r--)u[n[r][t]]=r+1;else while(r--)u[t.call(i,n[r])]=r+1;else while(r--)u[n[r]]=r+1;return u},toValueMap:function(n,t,i,r){var f={},o=n.length,h,c,s,l,e,u;if(t)for((l=typeof t!="string")||(r=i),c=r===1,h=r===2;o--;)u=n[o],e=l?t.call(i,u):u[t],c?e in f?f[e].push(u):f[e]=[u]:h&&e in f?(s=f[e])instanceof Array?s.push(u):f[e]=[s,u]:f[e]=u;else while(o--)u=n[o],f[u]=u;return f},erase:r,insert:function(n,t,i){return h(n,t,0,i)},replace:h,splice:w,push:function(n){var r=arguments.length,t=1,i;for(n===undefined?n=[]:Ext.isArray(n)||(n=[n]);t<r;t++)i=arguments[t],Array.prototype.push[Ext.isIterable(i)?"apply":"call"](n,i);return n},numericSortFn:function(n,t){return n-t}};return Ext.each=n.each,n.union=n.merge,Ext.min=n.min,Ext.max=n.max,Ext.sum=n.sum,Ext.mean=n.mean,Ext.flatten=n.flatten,Ext.clean=n.clean,Ext.unique=n.unique,Ext.pluck=n.pluck,Ext.toArray=function(){return n.toArray.apply(n,arguments)},n}();Ext.String=function(){var e=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,o=/('|\\)/g,s=/([-.*+?\^${}()|\[\]\/\\])/g,h=/^\s+|\s+$/g,c=/\s+/,l=/(^[^a-z]*|[^\w])/gi,t,n,i,r,a=function(n,i){return t[i]},v=function(t,i){return i in n?n[i]:String.fromCharCode(parseInt(i.substr(2),10))},u=function(n,t){return n===null||n===undefined||t===null||t===undefined?!1:t.length<=n.length},f;return f={insert:function(n,t,i){if(!n)return t;if(!t)return n;var r=n.length;return i||i===0||(i=r),i<0&&(i*=-1,i=i>=r?0:r-i),i===0?n=t+n:i>=n.length?n+=t:n=n.substr(0,i)+t+n.substr(i),n},startsWith:function(n,t,i){var r=u(n,t);return r&&(i&&(n=n.toLowerCase(),t=t.toLowerCase()),r=n.lastIndexOf(t,0)===0),r},endsWith:function(n,t,i){var r=u(n,t);return r&&(i&&(n=n.toLowerCase(),t=t.toLowerCase()),r=n.indexOf(t,n.length-t.length)!==-1),r},createVarName:function(n){return n.replace(l,"")},htmlEncode:function(n){return n?String(n).replace(i,a):n},htmlDecode:function(n){return n?String(n).replace(r,v):n},hasHtmlCharacters:function(n){return i.test(n)},addCharacterEntities:function(u){var o=[],s=[],f,e;for(f in u)e=u[f],n[f]=e,t[e]=f,o.push(e),s.push(f);i=new RegExp("("+o.join("|")+")","g");r=new RegExp("("+s.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){t={};n={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(n,t){return Ext.isEmpty(t)?n:n+(n.indexOf("?")===-1?"?":"&")+t},trim:function(n){return n&&(n=n.replace(e,"")),n||""},capitalize:function(n){return n&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n||""},uncapitalize:function(n){return n&&(n=n.charAt(0).toLowerCase()+n.substr(1)),n||""},ellipsis:function(n,t,i){if(n&&n.length>t){if(i){var r=n.substr(0,t-2),u=Math.max(r.lastIndexOf(" "),r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));if(u!==-1&&u>=t-15)return r.substr(0,u)+"..."}return n.substr(0,t-3)+"..."}return n},escapeRegex:function(n){return n.replace(s,"\\$1")},createRegex:function(n,t,i,r){var u=n;return n==null||n.exec||(u=f.escapeRegex(String(n)),t!==!1&&(u="^"+u),i!==!1&&(u+="$"),u=new RegExp(u,r!==!1?"i":"")),u},escape:function(n){return n.replace(o,"\\$1")},toggle:function(n,t,i){return n===t?i:t},leftPad:function(n,t,i){var r=String(n);for(i=i||" ";r.length<t;)r=i+r;return r},repeat:function(n,t,i){t<1&&(t=0);for(var r=[],u=t;u--;)r.push(n);return r.join(i||"")},splitWords:function(n){return n&&typeof n=="string"?n.replace(h,"").split(c):n||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=function(){function u(n){var t=Array.prototype.slice.call(arguments,1);return n.replace(s,function(n,i){return t[i]})}var n,t=Date,r=/(\\.)/g,f=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,o=/\\/gi,s=/\{(\d+)\}/g,h=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),i=Ext.String.leftPad,c="var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,\ndef = me.defaults,\nfrom = Ext.Number.from,\nresults = String(input).match(me.parseRegexes[{0}]);\nif(results){\n{1}\nif(u != null){\nv = new Date(u * 1000);\n}else{\ndt = me.clearTime(new Date);\ny = from(y, from(def.y, dt.getFullYear()));\nm = from(m, from(def.m - 1, dt.getMonth()));\ndayMatched = d !== undefined;\nd = from(d, from(def.d, dt.getDate()));\nif (!dayMatched) {\ndt.setDate(1);\ndt.setMonth(m);\ndt.setFullYear(y);\ndaysInMonth = me.getDaysInMonth(dt);\nif (d > daysInMonth) {\nd = daysInMonth;\n}\n}\nh  = from(h, from(def.h, dt.getHours()));\ni  = from(i, from(def.i, dt.getMinutes()));\ns  = from(s, from(def.s, dt.getSeconds()));\nms = from(ms, from(def.ms, dt.getMilliseconds()));\nif(z >= 0 && y >= 0){\nv = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);\nv = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);\n}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){\nv = null;\n}else{\nif (W) {\nyear = y || (new Date()).getFullYear();\njan4 = new Date(year, 0, 4, 0, 0, 0);\nd = jan4.getDay();\nweek1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));\nv = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));\n} else {\nv = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);\n}\n}\n}\n}\nif(v){\nif(zz != null){\nv = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn (v != null) ? v : null;";return Date.prototype.toISOString||(Date.prototype.toISOString=function(){var n=this;return i(n.getUTCFullYear(),4,"0")+"-"+i(n.getUTCMonth()+1,2,"0")+"-"+i(n.getUTCDate(),2,"0")+"T"+i(n.getUTCHours(),2,"0")+":"+i(n.getUTCMinutes(),2,"0")+":"+i(n.getUTCSeconds(),2,"0")+"."+i(n.getUTCMilliseconds(),3,"0")+"Z"}),n={now:t.now,toString:function(n){return n||(n=new t),n.getFullYear()+"-"+i(n.getMonth()+1,2,"0")+"-"+i(n.getDate(),2,"0")+"T"+i(n.getHours(),2,"0")+":"+i(n.getMinutes(),2,"0")+":"+i(n.getSeconds(),2,"0")},getElapsed:function(t,i){return Math.abs(t-(i||n.now()))},useStrict:!1,formatCodeToRegex:function(t,i){var r=n.parseCodes[t];return r&&(r=typeof r=="function"?r():r,n.parseCodes[t]=r),r?Ext.applyIf({c:r.c?u(r.c,i||"{0}"):r.c},r):{g:0,c:null,s:Ext.String.escapeRegex(t)}},parseFunctions:{MS:function(n){var i=(n||"").match(h);return i?new t(((i[1]||"")+i[2])*1):null},time:function(n){var i=parseInt(n,10);return i||i===0?new t(i):null},timestamp:function(n){var i=parseInt(n,10);return i||i===0?new t(i*1e3):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return n.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(t){return n.monthNames[t].substring(0,3)},getShortDayName:function(t){return n.dayNames[t].substring(0,3)},getMonthNumber:function(t){return n.monthNumbers[t.substring(0,1).toUpperCase()+t.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(n){return f.test(n.replace(r,""))},formatContainsDateInfo:function(n){return e.test(n.replace(r,""))},unescapeFormat:function(n){return n.replace(o,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){for(var r="Y-m-dTH:i:sP",u=[],f=r.length,i,t=0;t<f;++t)i=r.charAt(t),u.push(i==="T"?"'T'":n.getFormatCode(i));return u.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(i,r,u,f,e,o,s){f=f||0;e=e||0;o=o||0;s=s||0;var h=n.add(new t(i<100?100:i,r-1,u,f,e,o,s),n.YEAR,i<100?i-100:0);return i===h.getFullYear()&&r===h.getMonth()+1&&u===h.getDate()&&f===h.getHours()&&e===h.getMinutes()&&o===h.getSeconds()&&s===h.getMilliseconds()},parse:function(t,i,r){var u=n.parseFunctions;return u[i]==null&&n.createParser(i),u[i].call(n,t,Ext.isDefined(r)?r:n.useStrict)},parseDate:function(t,i,r){return n.parse(t,i,r)},getFormatCode:function(t){var i=n.formatCodes[t];return i&&(i=typeof i=="function"?i():i,n.formatCodes[t]=i),i||"'"+Ext.String.escape(t)+"'"},createFormat:function(t){for(var r=[],u=!1,i="",f=0;f<t.length;++f)i=t.charAt(f),u||i!=="\\"?u?(u=!1,r.push("'"+Ext.String.escape(i)+"'")):i==="\n"?r.push("'\\n'"):r.push(n.getFormatCode(i)):u=!0;n.formatFunctions[t]=Ext.functionFactory("var m=this;return "+r.join("+"))},createParser:function(t){for(var h=n.parseRegexes.length,l=1,r=[],o=[],f=!1,e="",s=0,v=t.length,a=[],i;s<v;++s)e=t.charAt(s),f||e!=="\\"?f?(f=!1,o.push(Ext.String.escape(e))):(i=n.formatCodeToRegex(e,l),l+=i.g,o.push(i.s),i.g&&i.c&&(i.calcAtEnd?a.push(i.c):r.push(i.c))):f=!0;r=r.concat(a);n.parseRegexes[h]=new RegExp("^"+o.join("")+"$","i");n.parseFunctions[t]=Ext.functionFactory("input","strict",u(c,h,r.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var i=[],t=0;t<7;i.push(n.getShortDayName(t)),++t);return{g:0,c:null,s:"(?:"+i.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+n.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+n.monthNames.join("|")+")"}},M:function(){for(var i=[],t=0;t<12;i.push(n.getShortMonthName(t)),++t);return Ext.applyIf({s:"("+i.join("|")+")"},n.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn = o.substring(3,5) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{4})"},P:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn = o.substring(4,6) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var r=[],t=[n.formatCodeToRegex("Y",1),n.formatCodeToRegex("m",2),n.formatCodeToRegex("d",3),n.formatCodeToRegex("H",4),n.formatCodeToRegex("i",5),n.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",n.formatCodeToRegex("P",8).c,"}else{",n.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],i=0,u=t.length;i<u;++i)r.push(t[i].c);return{g:1,c:r.join(""),s:[t[0].s,"(?:","-",t[1].s,"(?:","-",t[2].s,"(?:","(?:T| )?",t[3].s,":",t[4].s,"(?::",t[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(t,i){return n.format(t,i)},isEqual:function(n,t){return n&&t?n.getTime()===t.getTime():!(n||t)},format:function(t,i){var r=n.formatFunctions;return Ext.isDate(t)?(r[i]==null&&n.createFormat(i),r[i].call(t)+""):""},getTimezone:function(n){return n.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(n,t){var i=n.getTimezoneOffset();return(i>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(i)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(i%60),2,"0")},getDayOfYear:function(t){var u=0,i=n.clone(t),f=t.getMonth(),r;for(r=0,i.setDate(1),i.setMonth(0);r<f;i.setMonth(++r))u+=n.getDaysInMonth(i);return u+t.getDate()-1},getWeekOfYear:function(){var n=864e5,i=7*n;return function(r){var f=t.UTC(r.getFullYear(),r.getMonth(),r.getDate()+3)/n,u=Math.floor(f/7),e=new t(u*i).getUTCFullYear();return u-Math.floor(t.UTC(e,0,7)/i)+1}}(),isLeapYear:function(n){var t=n.getFullYear();return!!((t&3)==0&&(t%100||t%400==0&&t))},getFirstDayOfMonth:function(n){var t=(n.getDay()-(n.getDate()-1))%7;return t<0?t+7:t},getLastDayOfMonth:function(t){return n.getLastDateOfMonth(t).getDay()},getFirstDateOfMonth:function(n){return new t(n.getFullYear(),n.getMonth(),1)},getLastDateOfMonth:function(i){return new t(i.getFullYear(),i.getMonth(),n.getDaysInMonth(i))},getDaysInMonth:function(){var t=[31,28,31,30,31,30,31,31,30,31,30,31];return function(i){var r=i.getMonth();return r===1&&n.isLeapYear(i)?29:t[r]}}(),getSuffix:function(n){switch(n.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(n){return new t(n.getTime())},isDST:function(n){return new t(n.getFullYear(),0,1).getTimezoneOffset()!==n.getTimezoneOffset()},clearTime:function(t,i){if(i)return n.clearTime(n.clone(t));var f=t.getDate(),r,u;if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getDate()!==f){for(r=1,u=n.add(t,n.HOUR,r);u.getDate()!==f;r++,u=n.add(t,n.HOUR,r));t.setDate(f);t.setHours(u.getHours())}return t},add:function(t,i,r){var u=n.clone(t),f,o,e=0;if(!i||r===0)return u;if(o=r-parseInt(r,10),r=parseInt(r,10),r)switch(i.toLowerCase()){case n.MILLI:u.setTime(u.getTime()+r);break;case n.SECOND:u.setTime(u.getTime()+r*1e3);break;case n.MINUTE:u.setTime(u.getTime()+r*6e4);break;case n.HOUR:u.setTime(u.getTime()+r*36e5);break;case n.DAY:u.setDate(u.getDate()+r);break;case n.MONTH:f=t.getDate();f>28&&(f=Math.min(f,n.getLastDateOfMonth(n.add(n.getFirstDateOfMonth(t),n.MONTH,r)).getDate()));u.setDate(f);u.setMonth(t.getMonth()+r);break;case n.YEAR:f=t.getDate();f>28&&(f=Math.min(f,n.getLastDateOfMonth(n.add(n.getFirstDateOfMonth(t),n.YEAR,r)).getDate()));u.setDate(f);u.setFullYear(t.getFullYear()+r)}if(o){switch(i.toLowerCase()){case n.MILLI:e=1;break;case n.SECOND:e=1e3;break;case n.MINUTE:e=6e4;break;case n.HOUR:e=36e5;break;case n.DAY:e=864e5;break;case n.MONTH:f=n.getDaysInMonth(u);e=864e5*f;break;case n.YEAR:f=n.isLeapYear(u)?366:365;e=864e5*f}e&&u.setTime(u.getTime()+e*o)}return u},subtract:function(t,i,r){return n.add(t,i,-r)},between:function(n,t,i){var r=n.getTime();return t.getTime()<=r&&r<=i.getTime()},compat:function(){for(var i,e=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],o=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],s=e.length,h=o.length,u,f,r=0;r<s;r++)u=e[r],t[u]=n[u];for(i=0;i<h;i++)f=o[i],t.prototype[f]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n[f].apply(n,t)}},diff:function(t,i,r){var u,f=+i-t;switch(r){case n.MILLI:return f;case n.SECOND:return Math.floor(f/1e3);case n.MINUTE:return Math.floor(f/6e4);case n.HOUR:return Math.floor(f/36e5);case n.DAY:return Math.floor(f/864e5);case"w":return Math.floor(f/6048e5);case n.MONTH:return(u=i.getFullYear()*12+i.getMonth()-(t.getFullYear()*12+t.getMonth()),n.add(t,r,u)>i)?u-1:u;case n.YEAR:return u=i.getFullYear()-t.getFullYear(),n.add(t,r,u)>i?u-1:u}},align:function(i,r,u){var f=new t(+i);switch(r.toLowerCase()){case n.MILLI:return f;case n.SECOND:return f.setUTCSeconds(f.getUTCSeconds()-f.getUTCSeconds()%u),f.setUTCMilliseconds(0),f;case n.MINUTE:return f.setUTCMinutes(f.getUTCMinutes()-f.getUTCMinutes()%u),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case n.HOUR:return f.setUTCHours(f.getUTCHours()-f.getUTCHours()%u),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case n.DAY:return(u===7||u===14)&&f.setUTCDate(f.getUTCDate()-f.getUTCDay()+1),f.setUTCHours(0),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case n.MONTH:return f.setUTCMonth(f.getUTCMonth()-(f.getUTCMonth()-1)%u,1),f.setUTCHours(0),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),f;case n.YEAR:return f.setUTCFullYear(f.getUTCFullYear()-f.getUTCFullYear()%u,1,1),f.setUTCHours(0),f.setUTCMinutes(0),f.setUTCSeconds(0),f.setUTCMilliseconds(0),i}}}}();Ext.Function=function(){var f=0,u,t=[],o=[],s=0,r={},i=window,h=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||function(n){var t=Ext.now(),r=Math.max(0,16-(t-f)),u=i.setTimeout(function(){n(t+r)},r);return f=t+r,u},e=function(){var e=t.length,f,i,n;for(u=null,i=0;i<e;i++)n=t[i],f=n[3],r[f]&&(n[0].apply(n[1]||Ext.global,n[2]||o),delete r[f]);t=t.slice(e)},c=function(){Ext.elevateFunction(e)},n={flexSetter:function(n){return function(t,i){var r,u;if(t!==null)if(typeof t!="string"){for(r in t)t.hasOwnProperty(r)&&n.call(this,r,t[r]);if(Ext.enumerables)for(u=Ext.enumerables.length;u--;)r=Ext.enumerables[u],t.hasOwnProperty(r)&&n.call(this,r,t[r])}else n.call(this,t,i);return this}},bind:function(n,t,i,r){if(arguments.length===2)return function(){return n.apply(t,arguments)};var f=n,u=Array.prototype.slice;return function(){var n=i||arguments;return r===!0?(n=u.call(arguments,0),n=n.concat(i)):typeof r=="number"&&(n=u.call(arguments,0),Ext.Array.insert(n,r,i)),f.apply(t||Ext.global,n)}},bindCallback:function(n,t,i,r,u){return function(){var f=Ext.Array.slice(arguments);return Ext.callback(n,t,i?i.concat(f):f,r,u)}},pass:function(n,t,i){return Ext.isArray(t)||(t=Ext.isIterable(t)?Ext.Array.clone(t):t!==undefined?[t]:[]),function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(i||this,r)}},alias:function(n,t){return function(){return n[t].apply(n,arguments)}},clone:function(n){return function(){return n.apply(this,arguments)}},createInterceptor:function(n,t,i,r){return Ext.isFunction(t)?(r=Ext.isDefined(r)?r:null,function(){var u=this,f=arguments;return t.target=u,t.method=n,t.apply(i||u||Ext.global,f)!==!1?n.apply(u||Ext.global,f):r}):n},createDelayed:function(n,t,i,r,u){return(i||r)&&(n=Ext.Function.bind(n,i,r,u)),function(){var i=this,r=Array.prototype.slice.call(arguments);setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(n,i,r):n.apply(i,r)},t)}},defer:function(n,t,i,r,u){return(n=Ext.Function.bind(n,i,r,u),t>0)?setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(n):n()},t):(n(),0)},interval:function(n,t,i,r,u){return n=Ext.Function.bind(n,i,r,u),setInterval(function(){Ext.elevateFunction?Ext.elevateFunction(n):n()},t)},createSequence:function(n,t,i){return t?function(){var r=n.apply(this,arguments);return t.apply(i||this,arguments),r}:n},createBuffered:function(n,t,i,r){var u;return function(){var f=r||Array.prototype.slice.call(arguments,0),e=i||this;u&&clearTimeout(u);u=setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(n,e,f):n.apply(e,f)},t)}},createAnimationFrame:function(t,i,r,u){var f;return u=u||3,function(){var e=r||Array.prototype.slice.call(arguments,0);i=i||this;u===3&&f&&n.cancelAnimationFrame(f);(u&1||!f)&&(f=n.requestAnimationFrame(function(){f=null;t.apply(i,e)}))}},requestAnimationFrame:function(){var n=++s,i=Array.prototype.slice.call(arguments,0);return i[3]=n,r[n]=1,t.push(i),u||(u=h(Ext.elevateFunction?c:e)),n},cancelAnimationFrame:function(n){delete r[n]},createThrottled:function(n,t,i){var e=0,u,f,r,o=function(){Ext.elevateFunction?Ext.elevateFunction(n,i,f):n.apply(i,f);e=Ext.now();r=null};return function(){i||(i=this);u=Ext.now()-e;f=arguments;u>=t?(clearTimeout(r),o()):r||(r=Ext.defer(o,t-u))}},createBarrier:function(n,t,i){return function(){--n||t.apply(i,arguments)}},interceptBefore:function(n,t,i,r){var u=n[t]||Ext.emptyFn;return n[t]=function(){var n=i.apply(r||this,arguments);return u.apply(this,arguments),n}},interceptAfter:function(n,t,i,r){var u=n[t]||Ext.emptyFn;return n[t]=function(){return u.apply(this,arguments),i.apply(r||this,arguments)}},makeCallback:function(n,t){return function(){return t[n].apply(t,arguments)}}};return Ext.defer=n.defer,Ext.interval=n.interval,Ext.pass=n.pass,Ext.bind=n.bind,Ext.deferCallback=n.requestAnimationFrame,n}();Ext.Number=new function(){var t=this,r=.9.toFixed()!=="1",i=Math,n={count:!1,inclusive:!1,wrap:!0};Ext.apply(t,{Clip:{DEFAULT:n,COUNT:Ext.applyIf({count:!0},n),INCLUSIVE:Ext.applyIf({inclusive:!0},n),NOWRAP:Ext.applyIf({wrap:!1},n)},clipIndices:function(t,i,r){r=r||n;var o=0,s=r.wrap,e,u,f;for(i=i||[],f=0;f<2;++f)e=u,u=i[f],u==null?u=o:f&&r.count?(u+=e,u=u>t?t:u):(s&&(u=u<0?t+u:u),f&&r.inclusive&&++u,u=u<0?0:u>t?t:u),o=t;return i[0]=e,i[1]=u<e?e:u,i},constrain:function(n,t,i){var r=parseFloat(n);return t===null&&(t=n),i===null&&(i=n),r<t?t:r>i?i:r},snap:function(n,i,r,u){var f;return n===undefined||n<r?r||0:(i&&(f=n%i,f!==0&&(n-=f,f*2>=i?n+=i:f*2<-i&&(n-=i))),t.constrain(n,r,u))},snapInRange:function(n,i,r,u){var f;return(r=r||0,n===undefined||n<r)?r:(i&&(f=(n-r)%i)&&(n-=f,f*=2,f>=i&&(n+=i)),u!==undefined&&n>(u=t.snapInRange(u,i,r))&&(n=u),n)},sign:function(n){return(n=+n,n===0||isNaN(n))?n:n>0?1:-1},toFixed:r?function(n,t){t=t||0;var r=i.pow(10,t);return(i.round(n*r)/r).toFixed(t)}:function(n,t){return n.toFixed(t)},from:function(n,t){return isFinite(n)&&(n=parseFloat(n)),isNaN(n)?t:n},randomInt:function(n,t){return i.floor(i.random()*(t-n+1)+n)},correctFloat:function(n){return parseFloat(n.toPrecision(14))}});Ext.num=function(){return t.from.apply(this,arguments)}},function(){var t=function(){},n=Ext.Object={chain:Object.create||function(n){t.prototype=n;var i=new t;return t.prototype=null,i},clear:function(n){for(var t in n)delete n[t];return n},freeze:Object.freeze?function(t,i){if(t&&typeof t=="object"&&!Object.isFrozen(t)&&(Object.freeze(t),i))for(var r in t)n.freeze(t[r],i);return t}:Ext.identityFn,toQueryObjects:function(t,i,r){var e=n.toQueryObjects,f=[],u,o;if(Ext.isArray(i))for(u=0,o=i.length;u<o;u++)r?f=f.concat(e(t+"["+u+"]",i[u],!0)):f.push({name:t,value:i[u]});else if(Ext.isObject(i))for(u in i)i.hasOwnProperty(u)&&(r?f=f.concat(e(t+"["+u+"]",i[u],!0)):f.push({name:t,value:i[u]}));else f.push({name:t,value:i});return f},toQueryString:function(t,i){var u=[],s=[],f,e,h,o,r;for(f in t)t.hasOwnProperty(f)&&(u=u.concat(n.toQueryObjects(f,t[f],i)));for(e=0,h=u.length;e<h;e++)o=u[e],r=o.value,Ext.isEmpty(r)?r="":Ext.isDate(r)&&(r=Ext.Date.toString(r)),s.push(encodeURIComponent(o.name)+"="+encodeURIComponent(String(r)));return s.join("&")},fromQueryString:function(n,t){for(var p=n.replace(/^\?/,"").split("&"),f={},e,c,r,o,v,u,h,a,b,s,i,y,l=0,w=p.length;l<w;l++)if(v=p[l],v.length>0)if(c=v.split("="),r=decodeURIComponent(c[0]),o=c[1]!==undefined?decodeURIComponent(c[1]):"",t){if(a=r.match(/(\[):?([^\]]*)\]/g),b=r.match(/^([^\[]+)/),r=b[0],s=[],a===null){f[r]=o;continue}for(u=0,h=a.length;u<h;u++)i=a[u],i=i.length===2?"":i.substring(1,i.length-1),s.push(i);for(s.unshift(r),e=f,u=0,h=s.length;u<h;u++)i=s[u],u===h-1?Ext.isArray(e)&&i===""?e.push(o):e[i]=o:((e[i]===undefined||typeof e[i]=="string")&&(y=s[u+1],e[i]=Ext.isNumeric(y)||y===""?[]:{}),e=e[i])}else f.hasOwnProperty(r)?(Ext.isArray(f[r])||(f[r]=[f[r]]),f[r].push(o)):f[r]=o;return f},each:function(n,t,i){var u=Ext.enumerables,f,r;i=i||n;for(r in n)if(n.hasOwnProperty(r)&&t.call(i,r,n[r],n)===!1)return;if(u)for(f=u.length;f--;)if(n.hasOwnProperty(r=u[f])&&t.call(i,r,n[r],n)===!1)return},eachValue:function(n,t,i){var u=Ext.enumerables,f,r;i=i||n;for(r in n)if(n.hasOwnProperty(r)&&t.call(i,n[r])===!1)return;if(u)for(f=u.length;f--;)if(n.hasOwnProperty(r=u[f])&&t.call(i,n[r])===!1)return},merge:function(t){for(var f=1,o=arguments.length,s=n.merge,h=Ext.clone,e,r,i,u;f<o;f++){e=arguments[f];for(r in e)i=e[r],i&&i.constructor===Object?(u=t[r],u&&u.constructor===Object?s(u,i):t[r]=h(i)):t[r]=i}return t},mergeIf:function(n){for(var r=1,f=arguments.length,e=Ext.clone,u,i,t;r<f;r++){u=arguments[r];for(i in u)i in n||(t=u[i],n[i]=t&&t.constructor===Object?e(t):t)}return n},getAllKeys:function(n){var t=[];for(var i in n)t.push(i);return t},getKey:function(n,t){for(var i in n)if(n.hasOwnProperty(i)&&n[i]===t)return i;return null},getValues:function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t},getKeys:typeof Object.keys=="function"?function(n){return n?Object.keys(n):[]}:function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t},getSize:function(n){var t=0;for(var i in n)n.hasOwnProperty(i)&&t++;return t},isEmpty:function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},equals:function(){var n=function(n,t){for(var i in n)if(n.hasOwnProperty(i)&&n[i]!==t[i])return!1;return!0};return function(t,i){return t===i?!0:t&&i?n(t,i)&&n(i,t):t||i?!1:t===i}}(),fork:function(t){var r,u,i;if(t&&t.constructor===Object){r=n.chain(t);for(u in t)i=t[u],i&&(i.constructor===Object?r[u]=n.fork(i):i instanceof Array&&(r[u]=Ext.Array.clone(i)))}else r=t;return r},defineProperty:"defineProperty"in Object?Object.defineProperty:function(n,t,i){Object.prototype.__defineGetter__&&(i.get&&n.__defineGetter__(t,i.get),i.set&&n.__defineSetter__(t,i.set))},classify:function(t){var o=t,u=[],f={},e=function(){for(var n=0,i=u.length,t;n<i;n++)t=u[n],this[t]=new f[t]},i,r;for(i in t)t.hasOwnProperty(i)&&(r=t[i],r&&r.constructor===Object&&(u.push(i),f[i]=n.classify(r)));return e.prototype=o,e}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}();Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:function(){var n=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,i=/^(\d)/g,r=function(n,t){return"\\"+t},u=function(n,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(f){return n.test(f)?f:f.replace(t,r).replace(i,u)}}(),callback:function(n,t,i,r,u,f){var e,o;if(n)return e=t in Ext._namedScopes,n.charAt?((!t||e)&&u&&(t=u.resolveListenerScope(e?t:f)),n=t[n]):e?t=f||u:t||(t=u),n&&Ext.isFunction(n)&&(t=t||Ext.global,r?Ext.defer(n,r,t,i):o=Ext.elevateFunction?Ext.elevateFunction(n,t,i):i?n.apply(t,i):n.call(t)),o},coerce:function(n,t){var u=Ext.typeOf(n),r=Ext.typeOf(t),i=typeof n=="string";if(u!==r)switch(r){case"string":return String(n);case"number":return Number(n);case"boolean":return i&&(!n||n==="false")?!1:Boolean(n);case"null":return i&&(!n||n==="null")?null:n;case"undefined":return i&&(!n||n==="undefined")?undefined:n;case"date":return i&&isNaN(n)?Ext.Date.parse(n,Ext.Date.defaultFormat):Date(Number(n))}return n},copyTo:function(n,t,i,r){typeof i=="string"&&(i=i.split(Ext.propertyNameSplitRe));for(var u,f=0,e=i?i.length:0;f<e;f++)u=i[f],(r||t.hasOwnProperty(u))&&(n[u]=t[u]);return n},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(n,t,i){typeof i=="string"&&(i=i.split(Ext.propertyNameSplitRe));for(var r,u=0,f=i?i.length:0;u<f;u++)r=i[u],n[r]===undefined&&(n[r]=t[r]);return n},extend:function(){var n=Object.prototype.constructor,t=function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])};return function(i,r,u){Ext.isObject(r)&&(u=r,r=i,i=u.constructor!==n?u.constructor:function(){r.apply(this,arguments)});var o=function(){},f,e=r.prototype;return o.prototype=e,f=i.prototype=new o,f.constructor=i,i.superclass=e,e.constructor===n&&(e.constructor=r),i.override=function(n){Ext.override(i,n)},f.override=t,f.proto=f,i.override(u),i.extend=function(n){return Ext.extend(i,n)},i}}(),iterate:function(n,t,i){Ext.isEmpty(n)||(i===undefined&&(i=n),Ext.isIterable(n)?Ext.Array.each.call(Ext.Array,n,t,i):Ext.Object.each.call(Ext.Object,n,t,i))},urlEncode:function(){var n=Ext.Array.from(arguments),t="";return Ext.isString(n[1])&&(t=n[1]+"&",n[1]=!1),t+Ext.Object.toQueryString.apply(Ext.Object,n)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(n){var i=Ext._scrollbarSize,r,t;return(n||!i)&&(r=document.body,t=document.createElement("div"),t.style.width=t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",r.appendChild(t),Ext._scrollbarSize=i={width:t.offsetWidth-t.clientWidth,height:t.offsetHeight-t.clientHeight},r.removeChild(t)),i},typeOf:function(){var n=/\S/,t=Object.prototype.toString,i={number:1,string:1,boolean:1,undefined:1},r={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(u){if(u===null)return"null";var f=typeof u,e,o;return i[f]?f:(e=r[o=t.call(u)],e)?e:f==="function"?"function":f==="object"?u.nodeType!==undefined?u.nodeType===3?n.test(u.nodeValue)?"textnode":"whitespace":"element":"object":o}}(),factory:function(n,t,i,r){var f=Ext.ClassManager,u;if(!n||n.isInstance)return i&&i!==n&&i.destroy(),n;if(r){if(typeof n=="string")return f.instantiateByAlias(r+"."+n);if(Ext.isObject(n)&&"type"in n)return f.instantiateByAlias(r+"."+n.type,n)}return n===!0?i||Ext.create(t):("xtype"in n?u=f.instantiateByAlias("widget."+n.xtype,n):"xclass"in n&&(u=Ext.create(n.xclass,n)),u)?(i&&i.destroy(),u):i?i.setConfig(n):Ext.create(t,n)},log:function(){var n=function(){};return n.info=n.warn=n.error=Ext.emptyFn,n}()}),function(){var t=[""],i=/([^\d\.])/,r=/[^\d]/g,u=/[\-+]/g,f=/\s/g,e=/_/g,n;Ext.Version=n=function(t,f){var o=this,y=o.padModes,p,a,s,h,l,v,c;for(t.isVersion&&(t=t.version),o.version=c=String(t).toLowerCase().replace(e,".").replace(u,""),p=c.charAt(0),(p in y)?(c=c.substring(1),s=y[p]):s=f?y[f]:0,o.pad=s,v=c.search(i),o.shortVersion=c,v!==-1&&(o.release=l=c.substr(v,t.length),o.shortVersion=c.substr(0,v),l=n.releaseValueMap[l]||l),o.releaseValue=l||s,o.shortVersion=o.shortVersion.replace(r,""),o.parts=h=c.split("."),a=h.length;a--;)h[a]=parseInt(h[a],10);return s===Infinity&&h.push(s),o.major=h[0]||s,o.minor=h[1]||s,o.patch=h[2]||s,o.build=h[3]||s,o};n.prototype={isVersion:!0,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(t){for(var f=this,l=f.pad,o=f.parts,s=o.length,e=t.isVersion?t:new n(t),a=e.pad,h=e.parts,c=h.length,v=Math.max(s,c),r,u,i=0;i<v;i++){if(r=i<s?o[i]:l,u=i<c?h[i]:a,r<u)return-1;if(r>u)return 1}return(r=f.releaseValue,u=e.releaseValue,r<u)?-1:r>u?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(n){return this.compareTo(n)>0},isGreaterThanOrEqual:function(n){return this.compareTo(n)>=0},isLessThan:function(n){return this.compareTo(n)<0},isLessThanOrEqual:function(n){return this.compareTo(n)<=0},equals:function(n){return this.compareTo(n)===0},match:function(n){return n=String(n),this.version.substr(0,n.length)===n},toArray:function(){var n=this;return[n.getMajor(),n.getMinor(),n.getPatch(),n.getBuild(),n.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(n){return this.compareTo(n)>0},lt:function(n){return this.compareTo(n)<0},gtEq:function(n){return this.compareTo(n)>=0},ltEq:function(n){return this.compareTo(n)<=0}};Ext.apply(n,{aliases:{from:{extjs:"ext",core:"sencha-core"},to:{ext:["extjs"],"sencha-core":["core"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(n){return n?isNaN(n)?this.releaseValueMap[n]||n:parseInt(n,10):0},compare:function(t,i){var r=t.isVersion?t:new n(t);return r.compareTo(i)},set:function(t,i,r){var u=n.aliases.to[i],f=r.isVersion?r:new n(r),e;if(t[i]=f,u)for(e=u.length;e-->0;)t[u[e]]=f;return f}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(t){var i=Ext.compatVersions,r;return r=t?i[n.aliases.from[t]||t]:i.ext||i.touch||i.core,r||Ext.getVersion(t)},setCompatVersion:function(t,i){n.set(Ext.compatVersions,t,i)},setVersion:function(t,i){return Ext.lastRegisteredVersion=n.set(Ext.versions,t,i),this},getVersion:function(t){var i=Ext.versions;return t?i[n.aliases.from[t]||t]:i.ext||i.touch||i.core},checkVersion:function(i,r){var p=Ext.isArray(i),b=n.aliases.from,w=p?i:t,k=w.length,v=Ext.versions,d=v.ext||v.touch,l,u,s,h,c,y,e,o,a;for(p||(t[0]=i),l=0;l<k;++l){if(Ext.isString(e=w[l])){if(e.indexOf(" ")>=0&&(e=e.replace(f,"")),u=e.indexOf("@"),u<0)o=e,a=d;else{if(y=e.substring(0,u),!(a=v[b[y]||y])){if(r)return!1;continue}o=e.substring(u+1)}u=o.indexOf("-");u<0?o.charAt(u=o.length-1)==="+"?(h=o.substring(0,u),c=null):h=c=o:u>0?(h=o.substring(0,u),c=o.substring(u+1)):(h=null,c=o.substring(u+1));s=!0;h&&(h=new n(h,"~"),s=h.ltEq(a));s&&c&&(c=new n(c,"~"),s=c.gtEq(a))}else s=Ext.checkVersion(e.and||e.or,!e.or),e.not&&(s=!s);if(s){if(!r)return!0}else if(r)return!1}return!!r},deprecate:function(t,i,r,u){n.compare(Ext.getVersion(t),i)<1&&r.call(u)}})}(),function(n){var r=n&&n.packages||{},i=n&&n.compatibility,t,u;for(t in r)u=r[t],Ext.setVersion(t,u.version);if(i)if(Ext.isString(i))Ext.setCompatVersion("core",i);else for(t in i)Ext.setCompatVersion(t,i[t]);r.ext||r.touch||(Ext.setVersion("ext","5.1.1.354"),Ext.setVersion("sencha-core","5.1.1.354"))}(Ext.manifest);Ext.Config=function(n){var i=this,t=n.charAt(0).toUpperCase()+n.substr(1);i.name=n;i.names={internal:"_"+n,initializing:"is"+t+"Initializing",apply:"apply"+t,update:"update"+t,get:"get"+t,set:"set"+t,initGet:"initGet"+t,doSet:"doSet"+t,changeEvent:n.toLowerCase()+"change"};i.root=i};Ext.Config.map={};Ext.Config.get=function(n){var t=Ext.Config.map;return t[n]||(t[n]=new Ext.Config(n))};Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getInternalName:function(n){return n.$configPrefixed?this.names.internal:this.name},mergeNew:function(n,t,i,r){var u,f;if(t)if(n){u=Ext.Object.chain(t);for(f in n)r&&f in u||(u[f]=n[f])}else u=t;else u=n;return u},mergeSets:function(n,t,i){var r=t?Ext.Object.chain(t):{},u,f;if(n instanceof Array)for(u=n.length;u--;)f=n[u],i&&f in r||(r[f]=!0);else if(n)if(n.constructor===Object)for(u in n)f=n[u],i&&u in r||(r[u]=f);else i&&n in r||(r[n]=!0);return r},makeGetter:function(){var n=this.name,t=this.names.internal;return function(){var i=this.$configPrefixed?t:n;return this[i]}},makeInitGetter:function(){var r=this.name,n=this.names,u=n.set,t=n.get,i=n.initializing;return function(){var n=this;return n[i]=!0,delete n[t],n[u](n.config[r]),delete n[i],n[t].apply(n,arguments)}},makeSetter:function(){var u=this.name,n=this.names,f=n.internal,e=n.get,i=n.apply,r=n.update,t;return t=function(n){var t=this,o=t.$configPrefixed?f:u,s=t[o];return delete t[e],t[i]&&(n=t[i](n,s))===undefined||n!==(s=t[o])&&(t[o]=n,t[r]&&t[r](n,s)),t},t.$isDefault=!0,t}},function(){var t=Ext.Config,i=t.map,n=Ext.Object;Ext.Configurator=function(t){var i=this,u=t.prototype,r=t.superclass?t.superclass.self.$config:null;i.cls=t;r?(i.configs=n.chain(r.configs),i.cachedConfigs=n.chain(r.cachedConfigs),i.initMap=n.chain(r.initMap),i.values=n.chain(r.values)):(i.configs={},i.cachedConfigs={},i.initMap={},i.values={});u.config=u.defaultConfig=i.values;t.$config=i};Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(i,r){var c=this,v=c.cls,l=c.configs,nt=c.cachedConfigs,p=c.initMap,s=v.prototype,k=r&&r.$config.configs,d=c.values,w,o,g,h,u,a,f,b,y,e;for(f in i){if(e=i[f],w=e&&e.constructor===Object,o=w&&"$value"in e?e:null,o&&(g=!!o.cached,e=o.$value),h=o&&o.merge,u=l[f],u){if(r){if(h=u.merge,!h)continue;o=null}else h=h||u.merge;a=d[f];h?e=h.call(u,e,a,v,r):w&&a&&a.constructor===Object&&(e=n.merge({},a,e))}else k?(u=k[f],o=null):u=t.get(f),l[f]=u,(u.cached||g)&&(nt[f]=!0),b=u.names,s[y=b.get]||(s[y]=u.getGetter()),s[y=b.set]||(s[y]=u.getSetter());o&&(u.owner!==v&&(l[f]=u=Ext.Object.chain(u),u.owner=v),Ext.apply(u,o),delete u.$value);e!==null?p[f]=!0:(s.$configPrefixed?s[l[f].names.internal]=null:s[l[f].name]=null,f in p&&(p[f]=!1));d[f]=e}},configure:function(t,i){var h=this,w=h.configs,nt=h.initMap,b=h.initListMap,v=h.initList,s=h.cls.prototype,c=n.fork(h.values),k=0,tt=!v,y,r,a,it,u,p,l,e,f,o,d,g;if(tt){h.initList=v=[];h.initListMap=b={};t.isFirstInstance=!0;for(f in nt)it=nt[f],r=w[f],d=r.cached,it?(e=r.names,o=c[f],!s[e.set].$isDefault||s[e.apply]||s[e.update]||typeof o=="object"?(d?(y||(y=[])).push(r):(v.push(r),b[f]=!0),t[e.get]=r.initGetter||r.getInitGetter()):s[r.getInternalName(s)]=o):d&&(s[r.getInternalName(s)]=undefined)}if(l=y&&y.length,l){for(u=0;u<l;++u)p=y[u].getInternalName(s),t[p]=null;for(u=0;u<l;++u)e=(r=y[u]).names,a=e.get,t.hasOwnProperty(a)&&(t[e.set](c[r.name]),delete t[a]);for(u=0;u<l;++u)p=y[u].getInternalName(s),s[p]=t[p],delete t[p]}for(i&&i.platformConfig&&(i=h.resolvePlatformConfig(t,i)),tt&&t.afterCachedConfig&&!t.afterCachedConfig.$nullFn&&t.afterCachedConfig(i),t.isConfiguring=!0,t.config=c,u=0,l=v.length;u<l;++u)r=v[u],t[r.names.get]=r.initGetter||r.getInitGetter();if(t.transformInstanceConfig&&(i=t.transformInstanceConfig(i)),i)for(f in i)o=i[f],r=w[f],r?(r.lazy||++k,b[f]||(t[r.names.get]=r.initGetter||r.getInitGetter()),r.merge?o=r.merge(o,c[f],t):o&&o.constructor===Object&&(g=c[f],o=g&&g.constructor===Object?n.merge(c[f],o):Ext.clone(o))):t[f]=o,c[f]=o;if(!t.beforeInitConfig||t.beforeInitConfig.$nullFn||t.beforeInitConfig(i)!==!1){if(i)for(f in i){if(!k)break;r=w[f];r&&!r.lazy&&(--k,e=r.names,a=e.get,t.hasOwnProperty(a)&&(t[e.set](c[f]),delete t[e.get]))}for(u=0,l=v.length;u<l;++u)r=v[u],e=r.names,a=e.get,!r.lazy&&t.hasOwnProperty(a)&&(t[e.set](c[r.name]),delete t[a]);delete t.isConfiguring}},getCurrentConfig:function(n){var u=n.defaultConfig,t={};for(var r in u)t[r]=n[i[r].names.get]();return t},merge:function(n,t,i){var o=this.configs,u,r,f,e;for(u in i)r=i[u],e=o[u],e&&(e.merge?r=e.merge(r,t[u],n):r&&r.constructor===Object&&(f=t[u],r=f&&f.constructor===Object?Ext.Object.merge(f,r):Ext.clone(r))),t[u]=r;return t},reconfigure:function(n,t,r){var a=n.config,s=[],v=n.$configStrict,c=this.configs,y=r&&r.defaults,p=r&&r.strict===!1,f,h,o,l,u,e;for(u in t)if(!y||!n.hasOwnProperty(u)){if(a[u]=t[u],f=c[u],f)n[f.names.get]=f.initGetter||f.getInitGetter();else if(v)continue;s.push(u)}for(o=0,l=s.length;o<l;o++)u=s[o],f=c[u],f?(e=f.names,h=e.get,n.hasOwnProperty(h)&&(n[e.set](t[u]),delete n[h])):(f=i[u]||Ext.Config.get(u),e=f.names,n[e.set]?n[e.set](t[u]):p&&(n[u]=t[u]))},resolvePlatformConfig:function(n,t){var e=t&&t.platformConfig,i=t,r,u,f;if(e&&(u=Ext.getPlatformConfigKeys(e),f=u.length,f))for(i=Ext.merge({},i),r=0,f=u.length;r<f;++r)this.merge(n,i,e[u[r]]);return i}}}();Ext.Base=function(n){var i=[],u,o=[],s=function(n,t){var i=this,r,f,u;return n?(f=Ext.Config.map[n],u=f.names.get,r=t&&i.hasOwnProperty(u)?i.config[n]:i[u]()):r=i.getCurrentConfig(),r},h=function(n){return function(){return this[n].apply(this,arguments)}},c=Ext.Version,l=/^\d/,f={},e={},t=function(){},r=t.prototype;Ext.apply(t,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(n){var y=this,o=[],k=Ext.getCompatVersion(n.name),r,s,p,d,u,a,w,f,v,i,t,b,e;for(s in n)l.test(s)&&(e=new Ext.Version(s),e.deprecations=n[s],o.push(e));for(o.sort(c.compare),p=o.length;p--;){if(r=(e=o[p]).deprecations,u=y.prototype,b=r.statics,a=k&&k.lt(e),!a)break;while(r){if(v=r.methods,v)for(i in v)t=v[i],f=null,t&&(Ext.isString(t)?a&&(f=h(t)):(d="",(t.message||t.fn)&&(t=t.fn),w=u.hasOwnProperty(i)&&u[i],a&&t&&(t.$owner=y,t.$name=i,w&&(t.$previous=w),f=t))),f&&(u[i]=f);r=b;b=null;u=y}}},extend:function(n){var i=this,o=n.prototype,u,t,s,f,e;if(u=i.prototype=Ext.Object.chain(o),u.self=i,i.superclass=u.superclass=o,!n.$isClass)for(t in r)t in u&&(u[t]=r[t]);if(e=o.$inheritableStatics,e)for(t=0,s=e.length;t<s;t++)f=e[t],i.hasOwnProperty(f)||(i[f]=n[f]);n.$onExtended&&(i.$onExtended=n.$onExtended.slice());i.getConfigurator()},$onExtended:[],triggerExtended:function(){var i=this.$onExtended,r=i.length,n,t;if(r>0)for(n=0;n<r;n++)t=i[n],t.fn.apply(t.scope||this,arguments)},onExtended:function(n,t){return this.$onExtended.push({fn:n,scope:t}),this},addStatics:function(n){return this.addMembers(n,!0),this},addInheritableStatics:function(n){var i,r,u=this.prototype,t,f;i=u.$inheritableStatics;r=u.$hasInheritableStatics;i||(i=u.$inheritableStatics=[],r=u.$hasInheritableStatics={});for(t in n)n.hasOwnProperty(t)&&(f=n[t],this[t]=f,r[t]||(r[t]=!0,i.push(t)));return this},addMembers:function(n,t){var f=this,l=Ext.Function.clone,u=t?f:f.prototype,a=!t&&u.defaultConfig,h=Ext.enumerables,e=n.privates,o,s,v,i,r,y,c;e&&(delete n.privates,t||(c=e.statics,delete e.statics),f.addMembers(e,t,y),c&&f.addMembers(c,!0,y));for(r in n)if(n.hasOwnProperty(r)){if(i=n[r],typeof i!="function"||i.$isClass||i.$nullFn){if(a&&r in a&&!u.config.hasOwnProperty(r)){(o||(o={}))[r]=i;continue}}else i.$owner&&(i=l(i)),u.hasOwnProperty(r)&&(i.$previous=u[r]),i.$owner=f,i.$name=r;u[r]=i}if(o&&f.addConfig(o),h)for(s=0,v=h.length;s<v;++s)n.hasOwnProperty(r=h[s])&&(i=n[r],i&&!i.$nullFn&&(i.$owner&&(i=l(i)),i.$owner=f,i.$name=r,u.hasOwnProperty(r)&&(i.$previous=u[r])),u[r]=i);return this},addMember:function(n,t){return f[n]=t,this.addMembers(f),delete f[n],this},borrow:function(n,t){var e=n.prototype,u={},i,f,r;for(t=Ext.Array.from(t),i=0,f=t.length;i<f;i++)r=t[i],u[r]=e[r];return this.addMembers(u)},override:function(n){var t=this,i=n.statics,r=n.inheritableStatics,u=n.config,f=n.mixins,e=n.cachedConfig;return(i||r||u)&&(n=Ext.apply({},n)),i&&(t.addMembers(i,!0),delete n.statics),r&&(t.addInheritableStatics(r),delete n.inheritableStatics),u&&(t.addConfig(u),delete n.config),e&&(t.addCachedConfig(e),delete n.cachedConfig),delete n.mixins,t.addMembers(n),f&&t.mixin(f),t},callParent:function(n){var t;return(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,n||i)},callSuper:function(n){var t;return(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,n||i)},mixin:function(n,t){var r=this,i,u,e,s,f,h,c,l,o,a;if(typeof n!="string"){if(o=n,o instanceof Array)for(f=0,h=o.length;f<h;f++)i=o[f],r.mixin(i.prototype.mixinId||i.$className,i);else for(a in o)r.mixin(a,o[a]);return}i=t.prototype;u=r.prototype;i.onClassMixedIn&&i.onClassMixedIn.call(t,r);u.hasOwnProperty("mixins")||(u.mixins="mixins"in u?Ext.Object.chain(u.mixins):{});for(e in i)l=i[e],e==="mixins"?Ext.applyIf(u.mixins,l):e==="mixinId"||e==="config"||u[e]!==undefined||(u[e]=l);if(s=i.$inheritableStatics,s)for(f=0,h=s.length;f<h;f++)c=s[f],r.hasOwnProperty(c)||(r[c]=t[c]);return"config"in i&&r.addConfig(i.config,t),u.mixins[n]=i,i.afterClassMixedIn&&i.afterClassMixedIn.call(t,r),r},addConfig:function(n,t){var i=this.$config||this.getConfigurator();i.add(n,t)},addCachedConfig:function(n,t){var i={};for(var r in n)i[r]={cached:!0,$value:n[r]};this.addConfig(i,t)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:n(function(n,t){e[n]=function(){return this[t].apply(this,arguments)};this.override(e);delete e[n]})});for(u in t)t.hasOwnProperty(u)&&o.push(u);return t.$staticMembers=o,t.getConfigurator(),t.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,statics:function(){var n=this.statics.caller,t=this.self;return n?n.$owner:t},callParent:function(n){var t,r=(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]);return r.apply(this,n||i)},callSuper:function(n){var t,r=(t=this.callSuper.caller)&&(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name];return r.apply(this,n||i)},self:t,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(n){var t=this,i=t.getConfigurator();return t.initConfig=Ext.emptyFn,t.initialConfig=n||{},i.configure(t,n),t},beforeInitConfig:Ext.emptyFn,getConfig:s,setConfig:function(n,t,i){var u=this,r;return n&&(typeof n=="string"?(r={},r[n]=t):r=n,u.getConfigurator().reconfigure(u,r,i)),u},getCurrentConfig:function(){var n=this.getConfigurator();return n.getCurrentConfig(this)},hasConfig:function(n){return n in this.defaultConfig},getInitialConfig:function(n){var t=this.config;return n?t[n]:t},$links:null,link:function(n,t){var i=this,r=i.$links||(i.$links={});return r[n]=!0,i[n]=t,t},unlink:function(n){for(var r=this,u,t,i=0,f=n.length;i<f;i++)u=n[i],t=r[u],t&&(t.isInstance&&!t.isDestroyed?t.destroy():t.parentNode&&"nodeType"in t&&t.parentNode.removeChild(t)),r[u]=null;return r},destroy:function(){var n=this,t=n.$links;n.destroy=Ext.emptyFn;n.isDestroyed=!0;t&&(n.$links=null,n.unlink(Ext.Object.getKeys(t)))}}),r.callOverridden=r.callParent,t}(Ext.Function.flexSetter),function(n,t){(Ext.util||(Ext.util={})).Cache=n=function(n){var i=this,t;n&&Ext.apply(i,n);i.head=t={key:null,value:null};i.map={};t.next=t.prev=t};n.prototype=t={maxSize:100,count:0,clear:function(){var i=this,n=i.head,t=n.next;if(n.next=n.prev=n,!i.evict.$nullFn)for(;t!==n;t=t.next)i.evict(t.key,t.value);i.count=0},each:function(n,t){t=t||this;for(var r=this.head,i=r.next;i!==r;i=i.next)if(n.call(t,i.key,i.value))break},get:function(n){var t=this,r=t.head,u=t.map,i=u[n];if(i)i.prev!==r&&(t.unlinkEntry(i),t.linkEntry(i));else for(u[n]=i={key:n,value:t.miss.apply(t,arguments)},t.linkEntry(i),++t.count;t.count>t.maxSize;)t.unlinkEntry(r.prev,!0),--t.count;return i.value},evict:Ext.emptyFn,linkEntry:function(n){var t=this.head,i=t.next;n.next=i;n.prev=t;t.next=n;i.prev=n},unlinkEntry:function(n,t){var i=n.next,r=n.prev;r.next=i;i.prev=r;t&&this.evict(n.key,n.value)}};t.destroy=t.clear}(),function(){function u(){function n(){return this.constructor.apply(this,arguments)||null}return n}var n,t=Ext.Base,i=t.$staticMembers,r=function(n,t){return n.length-t.length||(n<t?-1:n>t?1:0)};Ext.Class=n=function(t,i,r){return typeof t!="function"&&(r=i,i=t,t=null),i||(i={}),t=n.create(t,i),n.process(t,i,r),t};Ext.apply(n,{makeCtor:u,onBeforeCreated:function(n,t,i){n.addMembers(t);i.onCreated.call(n,n)},create:function(n){var f=i.length,r;for(n||(n=u());f--;)r=i[f],n[r]=t[r];return n},process:function(t,i,r){var c=i.preprocessors||n.defaultPreprocessors,y=this.preprocessors,e={onBeforeCreated:this.onBeforeCreated},o=[],u,f,s,l,h,a,v;for(delete i.preprocessors,t._classHooks=e,s=0,l=c.length;s<l;s++)if(u=c[s],typeof u=="string"){if(u=y[u],f=u.properties,f===!0)o.push(u.fn);else if(f)for(h=0,a=f.length;h<a;h++)if(v=f[h],i.hasOwnProperty(v)){o.push(u.fn);break}}else o.push(u);e.onCreated=r?r:Ext.emptyFn;e.preprocessors=o;this.doProcess(t,i,e)},doProcess:function(n,t,i){for(var r=this,f=i.preprocessors,u=f.shift(),e=r.doProcess;u;u=f.shift())if(u.call(r,n,t,i,e)===!1)return;i.onBeforeCreated.apply(r,arguments)},preprocessors:{},registerPreprocessor:function(n,t,i,r,u){return r||(r="last"),i||(i=[n]),this.preprocessors[n]={name:n,properties:i||!1,fn:t},this.setDefaultPreprocessorPosition(n,r,u),this},getPreprocessor:function(n){return this.preprocessors[n]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(n){return this.defaultPreprocessors=Ext.Array.from(n),this},setDefaultPreprocessorPosition:function(n,t,i){var r=this.defaultPreprocessors,u;if(typeof t=="string"){if(t==="first")return r.unshift(n),this;if(t==="last")return r.push(n),this;t=t==="after"?1:-1}return u=Ext.Array.indexOf(r,i),u!==-1&&Ext.Array.splice(r,Math.max(0,u+t),0,n),this}});n.registerPreprocessor("extend",function(n,t){var e=Ext.Base,o=e.prototype,u=t.extend,i,f,r;if(delete t.extend,i=u&&u!==Object?u:e,f=i.prototype,!i.$isClass)for(r in o)f[r]||(f[r]=o[r]);if(n.extend(i),n.triggerExtended.apply(n,arguments),t.onClassExtended){n.onExtended(t.onClassExtended,n);delete t.onClassExtended}},!0);n.registerPreprocessor("privates",function(n,t){var i=t.privates,r=i.statics,u=i.privacy||!0;delete t.privates;delete i.statics;n.addMembers(i,!1,u);r&&n.addMembers(r,!0,u)});n.registerPreprocessor("statics",function(n,t){n.addStatics(t.statics);delete t.statics});n.registerPreprocessor("inheritableStatics",function(n,t){n.addInheritableStatics(t.inheritableStatics);delete t.inheritableStatics});Ext.createRuleFn=function(n){return new Function("$c","with($c) { return ("+n+"); }")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=r;Ext.getPlatformConfigKeys=function(n){var t=[],i,u;for(i in n)u=Ext.expressionCache.get(i),u(Ext.platformTags)&&t.push(i);return t.sort(r),t};n.registerPreprocessor("platformConfig",function(n,t){var o=t.platformConfig,r=t.config,f,k,v,h,s,y,i,c,p,w,e,u,l,a,b,d;if(delete t.platformConfig,o instanceof Array){for(r=r||{},d=(Ext.theme||(Ext.theme={name:"Default"})).name,u=0,l=o.length;u<l;u++)if(e=o[u],p=e.platform,delete e.platform,w=[].concat(e.theme),b=w.length,delete e.theme,p&&Ext.filterPlatform(p)&&Ext.merge(r,e),b)for(a=0;a<b;a++)d===w[a]&&Ext.merge(r,e)}else for(h=n.getConfigurator(),k=h.configs,y=Ext.getPlatformConfigKeys(o),u=0,l=y.length;u<l;++u){v=o[y[u]];s=f=null;for(i in v)c=v[i],r&&i in r?((f||(f={}))[i]=c,(s||(s={}))[i]=r[i],delete r[i]):i in k?(f||(f={}))[i]=c:t[i]=c;s&&h.add(s);f&&h.add(f)}});n.registerPreprocessor("config",function(n,t){t.hasOwnProperty("$configPrefixed")&&(n.prototype.$configPrefixed=t.$configPrefixed);n.addConfig(t.config);delete t.config});n.registerPreprocessor("cachedConfig",function(n,t){t.hasOwnProperty("$configPrefixed")&&(n.prototype.$configPrefixed=t.$configPrefixed);n.addCachedConfig(t.cachedConfig);delete t.cachedConfig});n.registerPreprocessor("mixins",function(n,t,i){var r=t.mixins,u=i.onCreated;delete t.mixins;i.onCreated=function(){return i.onCreated=u,n.mixin(r),i.onCreated.apply(this,arguments)}});Ext.extend=function(t,i,r){arguments.length===2&&Ext.isObject(i)&&(r=i,i=t,t=null);var u;if(!i)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return r.extend=i,r.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"],t?(u=new n(t,r),u.prototype.constructor=t):u=new n(r),u.prototype.override=function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])},u}}();Ext.Inventory=function(){var n=this;n.names=[];n.paths={};n.alternateToName={};n.aliasToName={};n.nameToAliases={};n.nameToAlternates={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(n,t){return this.addMapping(n,t,this.aliasToName,this.nameToAliases)},addAlternate:function(n,t){return this.addMapping(n,t,this.alternateToName,this.nameToAlternates)},addMapping:function(n,t,i,r){var h=n.$className||n,e=h,c=this._array1,o,u,f,s,l,a;Ext.isString(h)&&(e={},e[h]=t);for(f in e)for(u=e[f],Ext.isString(u)&&(c[0]=u,u=c),l=u.length,a=r[f]||(r[f]=[]),s=0;s<l;++s)(o=u[s])&&i[o]!==f&&(i[o]=f,a.push(o))},getAliasesByName:function(n){return this.nameToAliases[n]||null},getAlternatesByName:function(n){return this.nameToAlternates[n]||null},getNameByAlias:function(n){return this.aliasToName[n]||""},getNameByAlternate:function(n){return this.alternateToName[n]||""},getNamesByExpression:function(n,t,i){for(var o=this,p=o.aliasToName,w=o.alternateToName,v=o.nameToAliases,b=o.nameToAlternates,h=i?t:{},a=[],y=Ext.isString(n)?[n]:n,k=y.length,d=o.wildcardRe,s,f,u,e,r,l,c=0;c<k;++c)if((s=y[c]).indexOf("*")<0)(r=p[s])||(r=w[s])||(r=s),r in h||t&&r in t||(h[r]=1,a.push(r));else{l=new RegExp("^"+s.replace(d,"(.*?)")+"$");for(r in v)if(!(r in h)&&!(t&&r in t)){if(!(u=l.test(r))){for(e=(f=v[r]).length;!u&&e-->0;)u=l.test(f[e]);if(f=b[r],f&&!u)for(e=f.length;!u&&e-->0;)u=l.test(f[e])}u&&(h[r]=1,a.push(r))}}return a},getPath:function(n){var r=this,u=r.paths,t="",i;return n in u?t=u[n]:(i=r.getPrefix(n),i&&(n=n.substring(i.length+1),t=u[i],t&&(t+="/")),t+=n.replace(r.dotRe,"/")+".js"),t},getPrefix:function(n){if(n in this.paths)return n;for(var r=this.getPrefixes(),u=r.length,t,i;u-->0;)if(t=(i=r[u]).length,t<n.length&&n.charAt(t)==="."&&i===n.substring(0,t))return i;return""},getPrefixes:function(){var n=this,t=n.prefixes;return t||(n.prefixes=t=n.names.slice(0),t.sort(n._compareNames)),t},removeName:function(n){var i=this,s=i.aliasToName,h=i.alternateToName,e=i.nameToAliases,o=i.nameToAlternates,u=e[n],f=o[n],t,r;if(delete e[n],delete o[n],u)for(t=u.length;t--;)n===(r=u[t])&&delete s[r];if(f)for(t=f.length;t--;)n===(r=f[t])&&delete h[r]},resolveName:function(n){var t=this,i;return n in t.nameToAliases||(i=t.aliasToName[n])||(i=t.alternateToName[n]),i||n},select:function(n,t){var r=this,i={},u={excludes:i,exclude:function(){return r.getNamesByExpression(arguments,i,!0),this}};for(var f in n)u[f]=r.selectMethod(i,n[f],t||n);return u},selectMethod:function(n,t,i){var r=this;return function(u){var f=Ext.Array.slice(arguments,1);return f.unshift(r.getNamesByExpression(u,n)),t.apply(i,f)}},setPath:Ext.Function.flexSetter(function(n,t){var i=this;return i.paths[n]=t,i.names.push(n),i.prefixes=null,i}),_compareNames:function(n,t){var i=n.length-t.length;return i||(i=n<t?-1:1),i}};Ext.ClassManager=function(n,t,i,r,u){var p=Ext.Class.makeCtor,f=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(n){var r,o,i,t,e;if(f.classes[n]||f.existCache[n])return!0;for(t=u,e=f.parseNamespace(n),r=0,o=e.length;r<o;r++)if(i=e[r],typeof i!="string")t=i;else{if(!t||!t[i])return!1;t=t[i]}return f.triggerCreated(n),!0},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(n,t){f.existCache[n]=t||1;f.classState[n]+=40;f.notify(n,f.createdListeners,f.nameCreatedListeners)},onCreated:function(n,t,i){f.addListener(n,t,i,f.createdListeners,f.nameCreatedListeners)},notify:function(n,t,i){for(var c=f.getAlternatesByName(n),e=[n],s,l,u,h,r=0,o=t.length;r<o;r++)u=t[r],u.fn.call(u.scope,n);while(e){for(r=0,o=e.length;r<o;r++)if(h=e[r],t=i[h],t){for(s=0,l=t.length;s<l;s++)u=t[s],u.fn.call(u.scope,h);delete i[h]}e=c;c=null}},addListener:function(n,t,i,r,u){if(Ext.isArray(i)){for(n=Ext.Function.createBarrier(i.length,n,t),f=0;f<i.length;f++)this.addListener(n,null,i[f],r,u);return}var f,e={fn:n,scope:t};if(i){if(this.isCreated(i)){n.call(t,i);return}u[i]||(u[i]=[]);u[i].push(e)}else r.push(e)},parseNamespace:function(n){var o=this.namespaceParseCache,t,s,h,i,c,r,f,e,l;if(this.enableNamespaceParseCache&&o.hasOwnProperty(n))return o[n];for(t=[],s=this.namespaceRewrites,h=u,i=n,e=0,l=s.length;e<l;e++)if(c=s[e],r=c.from,f=c.to,i===r||i.substring(0,r.length)===r){i=i.substring(r.length);typeof f!="string"?h=f:t=t.concat(f.split("."));break}return t.push(h),t=t.concat(i.split(".")),this.enableNamespaceParseCache&&(o[n]=t),t},setNamespace:function(n,t){for(var i=u,e=this.parseNamespace(n),o=e.length-1,s=e[o],r,f=0;f<o;f++)r=e[f],typeof r!="string"?i=r:(i[r]||(i[r]={}),i=i[r]);return i[s]=t,i[s]},createNamespaces:function(){for(var n=u,f,t,r,o,i=0,e=arguments.length;i<e;i++)for(f=this.parseNamespace(arguments[i]),r=0,o=f.length;r<o;r++)t=f[r],typeof t!="string"?n=t:(n[t]||(n[t]={}),n=n[t]);return n},set:function(n,t){var i=this,r=i.getName(t);return i.classes[n]=i.setNamespace(n,t),r&&r!==n&&i.addAlternate(r,n),this},get:function(n){var e=this.classes,t,f,i,r,o;if(e[n])return e[n];for(t=u,f=this.parseNamespace(n),r=0,o=f.length;r<o;r++)if(i=f[r],typeof i!="string")t=i;else{if(!t||!t[i])return null;t=t[i]}return t},addNameAliasMappings:function(n){this.addAlias(n)},addNameAlternateMappings:function(n){this.addAlternate(n)},getByAlias:function(n){return this.get(this.getNameByAlias(n))},getName:function(n){return n&&n.$className||""},getClass:function(n){return n&&n.self||null},create:function(t,i,r){var u=p(t);return typeof i=="function"&&(i=i(u)),i.$className=t,new n(u,i,function(){var h=i.postprocessors||f.defaultPostprocessors,v=f.postprocessors,e=[],n,o,c,s,l,u,a;for(delete i.postprocessors,o=0,c=h.length;o<c;o++)if(n=h[o],typeof n=="string"){if(n=v[n],u=n.properties,u===!0)e.push(n.fn);else if(u)for(s=0,l=u.length;s<l;s++)if(a=u[s],i.hasOwnProperty(a)){e.push(n.fn);break}}else e.push(n);i.postprocessors=e;i.createdFn=r;f.processCreate(t,this,i)})},processCreate:function(n,t,i){var r=this,u=i.postprocessors.shift(),f=i.createdFn;if(!u){n&&r.set(n,t);delete t._classHooks;f&&f.call(t,t);n&&r.triggerCreated(n);return}u.call(r,n,t,i,r.processCreate)!==!1&&r.processCreate(n,t,i)},createOverride:function(n,t,i){var u=this,e=t.override,o=t.requires,s=t.uses,r=t.mixins,h,c=t.compatibility,l,a=function(){var f,v,c,y,p;if(!l){if(v=o?o.slice(0):[],r)if(h=r instanceof Array)for(c=0,p=r.length;c<p;++c)Ext.isString(f=r[c])&&v.push(f);else for(y in r)Ext.isString(f=r[y])&&v.push(f);if(l=!0,v.length){Ext.require(v,a);return}}if(h)for(c=0,p=r.length;c<p;++c)Ext.isString(f=r[c])&&(r[c]=Ext.ClassManager.get(f));else if(r)for(y in r)Ext.isString(f=r[y])&&(r[y]=Ext.ClassManager.get(f));f=u.get(e);delete t.override;delete t.compatibility;delete t.requires;delete t.uses;Ext.override(f,t);Ext.Loader.history.push(n);s&&Ext.Loader.addUsedClasses(s);i&&i.call(f,f)};if(f.overrideMap[n]=!0,!c||Ext.checkVersion(c))u.onCreated(a,u,e);return u.triggerCreated(n,2),u},instantiateByAlias:function(){var t=arguments[0],n=i.call(arguments),r=this.getNameByAlias(t);return n[0]=r,Ext.create.apply(Ext,n)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(n,t){return t=r(t,!0),t.unshift(n),Ext.create.apply(Ext,t)},getInstantiator:function(n){var u=this.instantiators,i,t,r;if(i=u[n],!i){for(t=n,r=[],t=0;t<n;t++)r.push("a["+t+"]");i=u[n]=new Function("c","a","return new c("+r.join(",")+")")}return i},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(n,t,i,r,u){return r||(r="last"),i||(i=[n]),this.postprocessors[n]={name:n,properties:i||!1,fn:t},this.setDefaultPostprocessorPosition(n,r,u),this},setDefaultPostprocessors:function(n){return this.defaultPostprocessors=r(n),this},setDefaultPostprocessorPosition:function(n,t,i){var r=this.defaultPostprocessors,u;if(typeof t=="string"){if(t==="first")return r.unshift(n),this;if(t==="last")return r.push(n),this;t=t==="after"?1:-1}return u=Ext.Array.indexOf(r,i),u!==-1&&Ext.Array.splice(r,Math.max(0,u+t),0,n),this}});if(f.registerPostprocessor("alias",function(n,i,r){for(var f=Ext.Array.from(r.alias),u=0,e=f.length;u<e;u++)t=f[u],this.addAlias(i,t)},["xtype","alias"]),f.registerPostprocessor("singleton",function(n,t,i,r){if(i.singleton)r.call(this,n,new t,i);else return!0;return!1}),f.registerPostprocessor("alternateClassName",function(n,t,i){var r=i.alternateClassName,u,f,e;for(r instanceof Array||(r=[r]),u=0,f=r.length;u<f;u++)e=r[u],this.set(e,t)}),f.registerPostprocessor("debugHooks",function(n,t){var i=t.isInstance?t.self:t;delete i.prototype.debugHooks}),f.registerPostprocessor("deprecated",function(n,t,i){var r=t.isInstance?t.self:t;r.addDeprecations(i.deprecated);delete r.prototype.deprecated}),Ext.apply(Ext,{create:function(){var n=arguments[0],u=typeof n,t=i.call(arguments,1),r;return u==="function"?r=n:(u!=="string"&&t.length===0&&(t=[n],(n=n.xclass)||(n=t[0].xtype,n&&(n="widget."+n))),n=f.resolveName(n),r=f.get(n)),r||(Ext.syncRequire(n),r=f.get(n)),f.getInstantiator(t.length)(r,t)},widget:function(n,t){var r=n,u,i,e;return(typeof r!="string"?(t=n,r=t.xtype,i=t.xclass):t=t||{},t.isComponent)?t:(i||(u="widget."+r,i=f.getNameByAlias(u)),i&&(e=f.get(i)),!e)?Ext.create(i||u,t):new e(t)},createByAlias:t(f,"instantiateByAlias"),define:function(n,t){return t.override?(f.classState[n]=20,f.createOverride.apply(f,arguments)):(f.classState[n]=10,f.create.apply(f,arguments))},undefine:function(n){var e=f.classes,t,r,i,u;for(delete f.namespaceParseCache[n],delete e[n],delete f.existCache[n],delete f.classState[n],f.removeName(n),t=f.parseNamespace(n),r=t.length-1,i=t[0],u=1;u<r;u++)if(i=i[t[u]],!i)return;try{delete i[t[r]]}catch(o){i[t[r]]=undefined}},getClassName:t(f,"getName"),getDisplayName:function(n){if(n){if(n.displayName)return n.displayName;if(n.$name&&n.$class)return Ext.getClassName(n.$class)+"#"+n.$name;if(n.$className)return n.$className}return"Anonymous"},getClass:t(f,"getClass"),namespace:t(f,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,n.registerPreprocessor("className",function(n,t){"$className"in t&&(n.$className=t.$className)},!0,"first"),n.registerPreprocessor("alias",function(n,t){for(var h=n.prototype,f=r(t.xtype),s=r(t.alias),c="widget.",v=c.length,l=Array.prototype.slice.call(h.xtypesChain||[]),o=Ext.merge({},h.xtypesMap||{}),a,u,i=0,e=s.length;i<e;i++)a=s[i],a.substring(0,v)===c&&(u=a.substring(v),Ext.Array.include(f,u));for(n.xtype=t.xtype=f[0],t.xtypes=f,i=0,e=f.length;i<e;i++)u=f[i],o[u]||(o[u]=!0,l.push(u));for(t.xtypesChain=l,t.xtypesMap=o,Ext.Function.interceptAfter(t,"onClassCreated",function(){var n=h.mixins,t,r;for(t in n)if(n.hasOwnProperty(t)&&(r=n[t],f=r.xtypes,f))for(i=0,e=f.length;i<e;i++)u=f[i],o[u]||(o[u]=!0,l.push(u))}),i=0,e=f.length;i<e;i++)u=f[i],Ext.Array.include(s,c+u);t.alias=s},["xtype","alias"]),Ext.manifest){var c=Ext.manifest,l=c.classes,e=c.paths,a={},v={},o,s,h,y;if(e){if(c.bootRelative){y=Ext.Boot.baseUrl;for(h in e)e.hasOwnProperty(h)&&(e[h]=y+e[h])}f.setPath(e)}if(l)for(o in l)v[o]=[],a[o]=[],s=l[o],s.alias&&(a[o]=s.alias),s.alternates&&(v[o]=s.alternates);f.addAlias(a);f.addAlternate(v)}return f}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);(Ext.env||(Ext.env={})).Browser=function(n,t){var e=this,k=e.browserPrefixes,d=e.enginePrefixes,v=n.match(new RegExp("((?:"+Ext.Object.getValues(k).join(")|(?:")+"))([\\w\\._]+)")),b=n.match(new RegExp("((?:"+Ext.Object.getValues(d).join(")|(?:")+"))([\\w\\._]+)")),c=e.browserNames,u=c.other,l=e.engineNames,o=l.other,s="",y="",i="",p=!1,f,w,r,h,g,a;if(e.userAgent=n,v&&(u=c[Ext.Object.getKey(k,v[1])],u==="Safari"&&/^Opera/.test(n)&&(u="Opera"),s=new Ext.Version(v[2])),b&&(o=l[Ext.Object.getKey(d,b[1])],y=new Ext.Version(b[2])),o==="Trident"&&u!=="IE"&&(u="IE",a=n.match(/.*rv:(\d+.\d+)/),a&&a.length&&(a=a[1],s=new Ext.Version(a))),n.match(/FB/)&&u==="Other"&&(u=c.safari,o=l.webkit),n.match(/Android.*Chrome/g)&&(u="ChromeMobile"),n.match(/OPR/)&&(u="Opera",v=n.match(/OPR\/(\d+.\d+)/),s=new Ext.Version(v[1])),Ext.apply(this,{engineName:o,engineVersion:y,name:u,version:s}),this.setFlag(u,!0,t),s){if(i=s.getMajor()||"",e.is.IE)for(i=parseInt(i,10),r=document.documentMode,r===7||i===7&&r!==8&&r!==9&&r!==10?i=7:r===8||i===8&&r!==8&&r!==9&&r!==10?i=8:r===9||i===9&&r!==7&&r!==8&&r!==10?i=9:r===10||i===10&&r!==7&&r!==8&&r!==9?i=10:(r===11||i===11&&r!==7&&r!==8&&r!==9&&r!==10)&&(i=11),g=Math.max(i,11),f=7;f<=g;++f)w="isIE"+f,i<=f&&(Ext[w+"m"]=!0),i===f&&(Ext[w]=!0),i>=f&&(Ext[w+"p"]=!0);e.is.Opera&&parseInt(i,10)<=12&&(Ext.isOpera12m=!0);Ext.chromeVersion=Ext.isChrome?i:0;Ext.firefoxVersion=Ext.isFirefox?i:0;Ext.ieVersion=Ext.isIE?i:0;Ext.operaVersion=Ext.isOpera?i:0;Ext.safariVersion=Ext.isSafari?i:0;Ext.webKitVersion=Ext.isWebKit?i:0;this.setFlag(u+i,!0,t);this.setFlag(u+s.getShortVersion())}for(f in c)c.hasOwnProperty(f)&&(h=c[f],this.setFlag(h,u===h));this.setFlag(h);y&&(this.setFlag(o+(y.getMajor()||"")),this.setFlag(o+y.getShortVersion()));for(f in l)l.hasOwnProperty(f)&&(h=l[f],this.setFlag(h,o===h,t));this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);window.PhoneGap!==undefined||window.Cordova!==undefined||window.cordova!==undefined?(p=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")):!window.isNK||(p=!0,this.setFlag("Sencha"));/(Glass)/i.test(n)&&this.setFlag("GoogleGlass");/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(n)&&(p=!0);this.setFlag("WebView",p);this.isStrict=Ext.isStrict=document.compatMode==="CSS1Compat";this.isSecure=Ext.isSecure;this.identity=u+i+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(n){return!!this.is[n]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(n,t,i){return t===undefined&&(t=!0),this.is[n]=t,this.is[n.toLowerCase()]=t,i&&(Ext["is"+n]=t),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(n){var t=this.propertyPrefixes[this.engineName];return t.length>0?t+Ext.String.capitalize(n):n},getPreferredTranslationMethod:function(n){return typeof n=="object"&&"translationMethod"in n&&n.translationMethod!=="auto"?n.translationMethod:"csstransform"}},function(n){Ext.browser=new Ext.env.Browser(n,!0);Ext.userAgent=n.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent);Ext.env.OS=function(n,t,i){var h=this,e=h.names,c=h.prefixes,r,f="",v=h.is,u,a,o,l,s;i=i||Ext.browser;for(u in c)if(c.hasOwnProperty(u)&&(a=c[u],o=n.match(new RegExp("(?:"+a+")([^\\s;]+)")),o)){r=e[u];s=o[1];f=s&&s==="HTC_"?new Ext.Version("2.3"):s&&s==="Silk/"?new Ext.Version("2.3"):new Ext.Version(o[o.length-1]);break}r||(r=e[(n.toLowerCase().match(/mac|win|linux/)||["other"])[0]],f=new Ext.Version(""));this.name=r;this.version=f;t&&this.setFlag(t.replace(/ simulator$/i,""));this.setFlag(r);f&&(this.setFlag(r+(f.getMajor()||"")),this.setFlag(r+f.getShortVersion()));for(u in e)e.hasOwnProperty(u)&&(l=e[u],v.hasOwnProperty(r)||this.setFlag(l,r===l));this.name==="iOS"&&window.screen.height===568&&this.setFlag("iPhone5");(i.is.Safari||i.is.Silk)&&((this.is.Android2||this.is.Android3||i.version.shortVersion===501)&&(i.setFlag("AndroidStock"),i.setFlag("AndroidStock2")),this.is.Android4&&(i.setFlag("AndroidStock"),i.setFlag("AndroidStock4")))};Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chrome:"CrOS "},is:function(n){return!!this[n]},name:null,version:null,setFlag:function(n,t){return t===undefined&&(t=!0),this.flags&&(this.flags[n]=t),this.is[n]=t,this.is[n.toLowerCase()]=t,this}},function(){var o=Ext.global.navigator,s=o.userAgent,r=Ext.env.OS,u=Ext.is||(Ext.is={}),n,f,t,i,e;r.prototype.flags=u;Ext.os=n=new r(s,o.platform);f=n.name;Ext["is"+f]=!0;Ext.isMac=u.Mac=u.MacOS;i=window.location.search.match(/deviceType=(Tablet|Phone)/);e=window.deviceType;i&&i[1]?t=i[1]:e==="iPhone"?t="Phone":e==="iPad"?t="Tablet":n.is.Android||n.is.iOS||n.is.WindowsPhone||!/Windows|Linux|MacOS/.test(f)?t=n.is.iPad||n.is.RIMTablet||n.is.Android3||Ext.browser.is.Silk||n.is.Android4&&s.search(/mobile/i)===-1?"Tablet":"Phone":(t="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple);n.setFlag(t,!0);n.deviceType=t;delete r.prototype.flags}();Ext.feature={has:function(n){return!!this.has[n]},testElements:{},getTestElement:function(n,t){if(n===undefined)n="div";else if(typeof n!="string")return n;return t?document.createElement(n):(this.testElements[n]||(this.testElements[n]=document.createElement(n)),this.testElements[n])},isStyleSupported:function(n,t){var i=this.getTestElement(t).style,r=Ext.String.capitalize(n);return typeof i[n]!="undefined"||typeof i[Ext.browser.getStylePrefix(n)+r]!="undefined"?!0:!1},isStyleSupportedWithoutPrefix:function(n,t){var i=this.getTestElement(t).style;return typeof i[n]!="undefined"?!0:!1},isEventSupported:function(n,t){t===undefined&&(t=window);var i=this.getTestElement(t),r="on"+n.toLowerCase(),u=r in i;return u||i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),u=typeof i[r]=="function",typeof i[r]!="undefined"&&(i[r]=undefined),i.removeAttribute(r)),u},getStyle:function(n,t){var i=n.ownerDocument.defaultView,r=i?i.getComputedStyle(n,null):n.currentStyle;return(r||n.style)[t]},getSupportedPropertyName:function(n,t){var i=Ext.browser.getVendorProperyName(t);return i in n?i:t in n?t:null},detect:function(n){var t=this,r=document,s=t.toRun||t.tests,e=s.length,u=r.createElement("div"),h=[],l=Ext.supports,a=t.has,o,i,c,f;for(Ext.theme||(Ext.theme={name:"Default"}),Ext.theme.is={},Ext.theme.is[Ext.theme.name]=!0,u.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"><\/div><\/div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><\/div><\/div><div style="position: absolute; left: 10%; top: 10%;"><\/div><div style="float:left; background-color:transparent;"><\/div>',n&&r.body.appendChild(u),c=t.preDetected[Ext.browser.identity]||[];e--;){if(i=s[e],f=c[e],o=i.name,f===undefined){if(!n&&i.ready){h.push(i);continue}f=i.fn.call(t,r,u)}l[o]=a[o]=f}n&&r.body.removeChild(u);t.toRun=h},report:function(){for(var t=[],i=this.tests.length,n=0;n<i;++n)t.push(this.has[this.tests[n].name]?1:0);Ext.log(Ext.browser.identity+": ["+t.join(",")+"]")},preDetected:{},tests:[{name:"CSSPointerEvents",fn:function(n){return"pointerEvents"in n.documentElement.style}},{name:"CSS3BoxShadow",fn:function(n){return"boxShadow"in n.documentElement.style||"WebkitBoxShadow"in n.documentElement.style||"MozBoxShadow"in n.documentElement.style}},{name:"ClassList",fn:function(n){return!!n.documentElement.classList}},{name:"Canvas",fn:function(){var n=this.getTestElement("canvas");return!!(n&&n.getContext&&n.getContext("2d"))}},{name:"Svg",fn:function(n){return!!(n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var n=this.getTestElement(),t=!1;return n.innerHTML="<!--[if vml]><br><![endif]-->",t=n.childNodes.length===1,n.innerHTML="",t}},{name:"touchScroll",fn:function(){var t=Ext.supports,n=0;return navigator.msMaxTouchPoints||Ext.isWebKit&&t.TouchEvents&&Ext.os.is.Desktop?n=1:t.Touch&&(n=2),n}},{name:"Touch",fn:function(){var n=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return Ext.supports.TouchEvents&&n!==1||n>1}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var n=!document.createRange?!1:document.createRange();return n&&!!n.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&!Ext.browser.is.AndroidStock2}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&window.localStorage!==null)return localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(n){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var n=new XMLHttpRequest;return n&&"upload"in n&&"onprogress"in n.upload}return!1}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"ProperHBoxStretching",ready:!0,fn:function(){var n=document.createElement("div"),t=n.appendChild(document.createElement("div")),r=t.appendChild(document.createElement("div")),i;return n.setAttribute("style","width: 100px; height: 100px; position: relative;"),t.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;"),r.setAttribute("style","width: 200px; height: 50px;"),document.body.appendChild(n),i=t.offsetWidth,document.body.removeChild(n),i>100}},{name:"matchesSelector",fn:function(){var n=document.documentElement,t="matches",i="webkitMatchesSelector",r="msMatchesSelector",u="mozMatchesSelector";return n[t]?t:n[i]?i:n[r]?r:n[u]?u:null}},{name:"RightMargin",ready:!0,fn:function(n,t){var i=n.defaultView;return!(i&&i.getComputedStyle(t.firstChild.firstChild,null).marginRight!=="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var n=Ext.webKitVersion;return 0<n&&n<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var n=Ext.webKitVersion;return 0<n&&n<534.24}},{name:"TransparentColor",ready:!0,fn:function(n,t,i){return i=n.defaultView,!(i&&i.getComputedStyle(t.lastChild,null).backgroundColor!=="transparent")}},{name:"ComputedStyle",ready:!0,fn:function(n,t,i){return i=n.defaultView,i&&i.getComputedStyle}},{name:"Float",fn:function(n){return"cssFloat"in n.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(n){for(var i=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],r=!1,t=0;t<i.length;t++)n.documentElement.style[i[t]]!==undefined&&(r=!0);return r&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(n,t){var i="background-image:",r="linear-gradient(left top, black, white)",u="-moz-"+r,f="-ms-"+r,e="-o-"+r,o=[i+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i+r,i+u,i+f,i+e];return t.style.cssText=o.join(";"),(""+t.style.backgroundImage).indexOf("gradient")!==-1&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(n){return"onmouseenter"in n.documentElement&&"onmouseleave"in n.documentElement}},{name:"MouseWheel",fn:function(n){return"onmousewheel"in n.documentElement}},{name:"Opacity",fn:function(n,t){return Ext.isIE8?!1:(t.firstChild.style.cssText="opacity:0.73",t.firstChild.style.opacity=="0.73")}},{name:"Placeholder",fn:function(n){return"placeholder"in n.createElement("input")}},{name:"Direct2DBug",fn:function(n){return Ext.isString(n.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(n){return"getBoundingClientRect"in n.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(n){var r=n.body,u=!1,i=this.getTestElement(),t=i.style;return i.getBoundingClientRect&&(t.WebkitTransform=t.MozTransform=t.msTransform=t.OTransform=t.transform="rotate(90deg)",t.width="100px",t.height="30px",r.appendChild(i),u=i.getBoundingClientRect().height!==100,r.removeChild(i)),u}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:!0,fn:function(){var n=this.getTestElement(),t;return n.innerHTML="<div>a<\/div>",t=n.firstChild,n.innerHTML="<div>b<\/div>",t.innerHTML!=="a"}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(n,t){return t.childNodes[1].firstChild.offsetWidth===210}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(n,t){return t.childNodes[1].firstChild.offsetHeight===210}},{name:"TextAreaMaxLength",fn:function(n){return"maxlength"in n.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(n,t){return Ext.feature.getStyle(t.childNodes[2],"left")==="10%"}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(n){var r=!1,i,t;return Ext.getScrollbarSize().height&&(t=this.getTestElement(),i=t.style,i.height="50px",i.width="50px",i.overflow="auto",i.position="absolute",t.innerHTML='<div style="display:table;height:100%;"><div style="width:51px;"><\/div><\/div>',n.body.appendChild(t),t.firstChild.offsetHeight===50&&(r=!0),n.body.removeChild(t)),r}},{name:"xOriginBug",ready:!0,fn:function(n,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"><\/div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"><\/div><\/div>';var i=document.getElementById("b1").getBoundingClientRect(),r=document.getElementById("b2").getBoundingClientRect(),u=document.getElementById("b3").getBoundingClientRect();return r.left!==i.left&&u.right!==i.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(n){var r=!1,t,i;return i=n.createElement("div"),t=i.style,t.height="50px",t.width="50px",t.padding="10px",t.overflow="hidden",t.position="absolute",i.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"><\/span>',n.body.appendChild(i),i.scrollWidth===70&&(r=!0),n.body.removeChild(i),r}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(n,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"><\/div><\/div>';var i=t.firstChild,r=i.firstChild;return r.offsetLeft+r.offsetWidth!==i.offsetLeft+i.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(n,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"><\/div><\/div>';var i=t.firstChild;return i.clientHeight===i.offsetHeight}},{identity:"defineProperty",fn:function(){return Ext.isIE8m?(Ext.Object.defineProperty=Ext.emptyFn,!1):!0}},{identify:"nativeXhr",fn:function(){return typeof XMLHttpRequest!="undefined"?!0:(XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(n){return null}},!1)}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera&&Ext.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var n=document.documentMode;return"onhashchange"in window&&(n===undefined||n>7)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var n=document.createElement("div"),t=document.createElement("div"),i;return n.setAttribute("style","display:table;table-layout:fixed;"),t.setAttribute("style","display:table-cell;min-width:50px;"),n.appendChild(t),document.body.appendChild(n),n.offsetWidth,n.style.width="25px",i=n.offsetWidth,document.body.removeChild(n),i===50}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var n=Ext.env.Ready,t=document;if(!n.bound)if(t.readyState==="complete")n.onReadyEvent({type:t.readyState||"body"});else n.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(n.bound=2,t.addEventListener("deviceready",n.onReadyEvent,!1)),t.addEventListener("DOMContentLoaded",n.onReadyEvent,!1),window.addEventListener("load",n.onReadyEvent,!1)},block:function(){++this.blocks;Ext.isReady=!1},fireReady:function(){var n=Ext.env.Ready;n.state||(Ext._readyTime=Ext.now(),Ext.isDomReady=!0,n.state=1,Ext.feature.detect(!0),n.delay?navigator.standalone?n.timer=Ext.defer(function(){n.timer=null;n.handleReadySoon()},1):n.handleReadySoon():n.handleReady())},handleReady:function(){var n=this;n.state===1&&(n.state=2,Ext._beforeReadyTime=Ext.now(),n.invokeAll(),Ext._afterReadytime=Ext.now())},handleReadySoon:function(n){var t=this;t.timer||(t.timer=Ext.defer(function(){t.timer=null;t.handleReady()},n||t.delay))},invoke:function(n){var t=n.delay;t?Ext.defer(n.fn,t,n.scope):Ext.elevateFunction?Ext.elevateFunction(n.fn,n.scope):n.fn.call(n.scope)},invokeAll:function(){Ext.elevateFunction?Ext.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var n=this,t=n.listeners,i;for(n.blocks||(Ext.isReady=!0),n.firing=!0;t.length;){if(n.sortGeneration!==n.generation&&(n.sortGeneration=n.generation,t.sort(n.sortFn)),i=t.pop(),n.blocks&&!i.dom){t.push(i);break}n.invoke(i)}n.firing=!1},makeListener:function(n,t,i){var r={fn:n,id:++this.nextId,scope:t,dom:!1,priority:0};return i&&Ext.apply(r,i),r.phase=r.dom?0:1,r},on:function(n,t,i){var r=Ext.env.Ready,u=r.makeListener(n,t,i);r.state!==2||r.firing||!u.dom&&r.blocks?(r.listeners.push(u),++r.generation,r.bound||r.bind()):r.invoke(u)},onReadyEvent:function(n){var t=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(t.doReadyEvent,t,arguments):t.doReadyEvent(n)},doReadyEvent:function(){var n=this;n.bound>0&&(n.unbind(),n.bound=-1);n.state||n.fireReady()},sortFn:function(n,t){return-(n.phase-t.phase||t.priority-n.priority||n.id-t.id)},unblock:function(){var n=this;n.blocks&&(--n.blocks||n.state!==2||n.firing||n.invokeAll())},unbind:function(){var n=this,t=document;n.bound>1&&t.removeEventListener("deviceready",n.onReadyEvent,!1);t.removeEventListener("DOMContentLoaded",n.onReadyEvent,!1);window.removeEventListener("load",n.onReadyEvent,!1)}},function(){var n=Ext.env.Ready;Ext.isIE9m&&Ext.apply(n,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(i){t=!1}if(t&&document.body)n.onReadyEvent({type:"doScroll"});else n.scrollTimer=Ext.defer(n.pollScroll,20);return t},bind:function(){if(!n.bound){var t=document,i;try{i=window.frameElement===undefined}catch(r){}if(i&&t.documentElement.doScroll){if(n.pollScroll())return}else n.pollScroll=Ext.emptyFn;if(t.readyState==="complete")n.onReadyEvent({type:"already "+(t.readyState||"body")});else t.attachEvent("onreadystatechange",n.onReadyStateChange),window.attachEvent("onload",n.onReadyEvent),n.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",n.onReadyStateChange);window.detachEvent("onload",n.onReadyEvent);Ext.isNumber(n.scrollTimer)&&(clearTimeout(n.scrollTimer),n.scrollTimer=null)},onReadyStateChange:function(){var t=document.readyState;if(n.readyStatesRe.test(t))n.onReadyEvent({type:t})}});Ext.onDocumentReady=function(t,i,r){var u={dom:!0};r&&Ext.apply(u,r);n.on(t,i,u)};Ext.onReady=function(t,i,r){n.on(t,i,r)};Ext.onInternalReady=function(t,i,r){n.on(t,i,Ext.apply({priority:1e3},r))};n.bind()}();Ext.Loader=new function(){var n=this,t=Ext.ClassManager,o=Ext.Boot,v=Ext.Class,i=Ext.env.Ready,h=Ext.Function.alias,s=["extend","mixins","requires"],c={},l=[],f=[],e=[],a={},r={},u={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:t.paths,preserveScripts:!0,scriptCharset:undefined},y={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(n,{isInHistory:c,isLoading:!1,history:l,config:u,readyListeners:f,optionalRequires:e,requiresMap:a,hasFileLoadError:!1,scriptsLoading:0,syncModeEnabled:!1,missingQueue:r,init:function(){var o=document.getElementsByTagName("script"),s=o[o.length-1].src,v=s.substring(0,s.lastIndexOf("/")+1),h=Ext._classPathMetadata,c=Ext.Microloader,f=Ext.manifest,r,l,a,u,e;if(t.getPath("Ext")||t.setPath("Ext",v+"src"),h&&(Ext._classPathMetadata=null,n.addClassPathMappings(h)),f&&(r=f.loadOrder,l=Ext.Boot.baseUrl,r&&f.bootRelative))for(a=r.length,u=0;u<a;u++)e=r[u],e.path=l+e.path;if(c){i.block();c.onMicroloaderReady(function(){i.unblock()})}},setConfig:Ext.Function.flexSetter(function(t,i){if(t==="paths")n.setPath(i);else{u[t]=i;var r=y[t];r&&o.setConfig(r===!0?t:r,i)}return n}),getConfig:function(n){return n?u[n]:u},setPath:function(){return t.setPath.apply(t,arguments),n},addClassPathMappings:function(i){return t.setPath(i),n},addBaseUrlClassPathMappings:function(n){for(var t in n)n[t]=o.baseUrl+n[t];Ext.Loader.addClassPathMappings(n)},getPath:function(n){return t.getPath(n)},require:function(i,r,u,f){if(f)return n.exclude(f).require(i,r,u);var e=t.getNamesByExpression(i);return n.load(e,r,u)},syncRequire:function(){var i=n.syncModeEnabled,t;return n.syncModeEnabled=!0,t=n.require.apply(n,arguments),n.syncModeEnabled=i,t},exclude:function(i){var r=t.select({require:function(t,i,r){return n.load(t,i,r)},syncRequire:function(t,i,r){var f=n.syncModeEnabled,u;return n.syncModeEnabled=!0,u=n.load(t,i,r),n.syncModeEnabled=f,u}});return r.exclude(i),r},load:function(i,f,e){f&&(f.length&&(f=n.makeLoadCallback(i,f)),f=f.bind(e||Ext.global));for(var s=[],a=i.length,o,c,l=[],v=t.classState,h=0;h<a;++h)o=t.resolveName(i[h]),t.isCreated(o)||(s.push(o),r[o]=n.getPath(o),v[o]||l.push(r[o]));if(c=s.length,c){n.missingCount+=c;t.onCreated(function(){f&&Ext.callback(f,e,arguments);n.checkReady()},n,s);u.enabled||Ext.Error.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(s.length>1?"es":"")+": "+s.join(", "));l.length?n.loadScripts({url:l,_classNames:s}):n.checkReady()}else f&&f.call(e),n.checkReady();return n.syncModeEnabled&&a===1?t.get(i[0]):n},makeLoadCallback:function(n,i){return function(){for(var u=[],r=n.length;r-->0;)u[r]=t.get(n[r]);return i.apply(this,u)}},onLoadFailure:function(){var t=this,i=t.onError;n.hasFileLoadError=!0;--n.scriptsLoading;i&&i.call(t.userScope,t);n.checkReady()},onLoadSuccess:function(){var t=this,i=t.onLoad;--n.scriptsLoading;i&&i.call(t.userScope,t);n.checkReady()},onReady:function(t,r,u,e){if(u)i.on(t,r,e);else{var o=i.makeListener(t,r,e);n.isLoading?f.push(o):i.invoke(o)}},addUsedClasses:function(t){var i,r,u;if(t)for(t=typeof t=="string"?[t]:t,r=0,u=t.length;r<u;r++)i=t[r],typeof i!="string"||Ext.Array.contains(e,i)||e.push(i);return n},triggerReady:function(){var t,r=e;if(n.isLoading&&r.length)e=[],n.require(r);else{for(n.isLoading=!1,f.sort(i.sortFn);f.length&&!n.isLoading;)t=f.pop(),i.invoke(t);i.unblock()}},historyPush:function(i){return!i||c[i]||t.overrideMap[i]||(c[i]=!0,l.push(i)),n},loadScripts:function(t){var r=Ext.manifest,f=r&&r.loadOrder,e=r&&r.loadOrderMap,i;++n.scriptsLoading;f&&!e&&(r.loadOrderMap=e=o.createLoadOrderMap(f));n.checkReady();i=Ext.apply({loadOrder:f,loadOrderMap:e,charset:u.scriptCharset,success:n.onLoadSuccess,failure:n.onLoadFailure,sync:n.syncModeEnabled,_classNames:[]},t);i.userScope=i.scope;i.scope=i;o.load(i)},loadScriptsSync:function(t){var i=n.syncModeEnabled;n.syncModeEnabled=!0;n.loadScripts({url:t});n.syncModeEnabled=i},loadScriptsSyncBasePrefix:function(t){var i=n.syncModeEnabled;n.syncModeEnabled=!0;n.loadScripts({url:t,prependBaseUrl:!0});n.syncModeEnabled=i},loadScript:function(t){var r=typeof t=="string",u=t instanceof Array,i=!u&&!r,f=i?t.url:t,e=i&&t.onError,o=i&&t.onLoad,s=i&&t.scope,h={url:f,scope:s,onLoad:o,onError:e,_classNames:[]};n.loadScripts(h)},flushMissingQueue:function(){var n,u,f=0,i=0;for(n in r)f++,u=r[n],t.isCreated(n)?delete r[n]:t.existCache[n]===2?delete r[n]:++i;this.missingCount=i},checkReady:function(){var r=n.isLoading,t;n.flushMissingQueue();t=n.missingCount+n.scriptsLoading;t&&!r?(i.block(),n.isLoading=!!t):!t&&r&&n.triggerReady()}});Ext.require=h(n,"require");Ext.syncRequire=h(n,"syncRequire");Ext.exclude=h(n,"exclude");v.registerPreprocessor("loader",function(i,r,u,f){for(var b=this,v=[],y=t.getName(i),o,w,h,c,e,l=0,p=s.length;l<p;l++)if(c=s[l],r.hasOwnProperty(c))if(e=r[c],typeof e=="string")v.push(e);else if(e instanceof Array)for(o=0,w=e.length;o<w;o++)h=e[o],typeof h=="string"&&v.push(h);else if(typeof e!="function")for(o in e)e.hasOwnProperty(o)&&(h=e[o],typeof h=="string"&&v.push(h));if(v.length!==0)return y&&(a[y]=v),(y?n.exclude(y):n).require(v,function(){for(l=0,p=s.length;l<p;l++)if(c=s[l],r.hasOwnProperty(c))if(e=r[c],typeof e=="string")r[c]=t.get(e);else if(e instanceof Array)for(o=0,w=e.length;o<w;o++)h=e[o],typeof h=="string"&&(r[c][o]=t.get(h));else if(typeof e!="function")for(var n in e)e.hasOwnProperty(n)&&(h=e[n],typeof h=="string"&&(r[c][n]=t.get(h)));f.call(b,i,r,u)}),!1},!0,"after","className");t.registerPostprocessor("uses",function(t,i,r){var e=Ext.manifest,o=e&&e.loadOrder,a=e&&e.classes,u,s,c,l,f,h;if(o&&(s=a[t],s&&!isNaN(f=s.idx))){for(c=o[f],u=c.uses,h={},l=u.length,f=0;f<l;f++)h[u[f]]=!0;u=Ext.Boot.getPathsFromIndexes(h,o,!0);u.length>0&&n.loadScripts({url:u,sequential:!0})}r.uses&&(u=r.uses,n.addUsedClasses(u))});t.onCreated(n.historyPush);n.init()};Ext._endTime=(new Date).getTime();Ext._beforereadyhandler&&Ext._beforereadyhandler();Ext.cmd.derive("Ext.Mixin",Ext.Base,function(n){return{statics:{addHook:function(n,t,i,r){var e=Ext.isFunction(n),u=function(){var t=arguments,i=e?n:r[n],u=this.callParent(t);return i.apply(this,t),u},f=t.hasOwnProperty(i)&&t[i];e&&(n.$previous=Ext.emptyFn);u.$name=i;u.$owner=t.self;f?(u.$previous=f.$previous,f.$previous=u):t[i]=u}},onClassExtended:function(t,i){var r=i.mixinConfig,u=i.xhooks,c=t.superclass,h=i.onClassMixedIn,s,f,e,o;u&&(delete i.xhooks,(r||(i.mixinConfig=r={})).on=u);r&&(s=c.mixinConfig,s&&(i.mixinConfig=r=Ext.merge({},s,r)),i.mixinId=r.id,f=r.before,e=r.after,u=r.on,o=r.extended);(f||e||u||o)&&(i.onClassMixedIn=function(t){var i=this.prototype,s=t.prototype,r;if(f&&Ext.Object.each(f,function(n,r){t.addMember(n,function(){if(i[r].apply(this,arguments)!==!1)return this.callParent(arguments)})}),e&&Ext.Object.each(e,function(n,r){t.addMember(n,function(){var n=this.callParent(arguments);return i[r].apply(this,arguments),n})}),u)for(r in u)n.addHook(u[r],s,r,i);if(o)t.onExtended(function(){var n=Ext.Array.slice(arguments,0);return n.unshift(t),o.apply(this,n)},this);h&&h.apply(this,arguments)})}}},0,0,0,0,0,0,[Ext,"Mixin"],0);Ext.util=Ext.util||{};Ext.util.DelayedTask=function(n,t,i,r,u){var f=this,e,o=function(){var r=Ext.GlobalEvents;clearInterval(f.id);f.id=null;n.apply(t,i||[]);u!==!1&&r.hasListeners.idle&&r.fireEvent("idle")};r=typeof r=="boolean"?r:!0;f.id=null;f.delay=function(u,s,h,c){r&&f.cancel();typeof u=="number"&&(e=u);n=s||n;t=h||t;i=c||i;f.id||(f.id=Ext.interval(o,e))};f.cancel=function(){f.id&&(clearInterval(f.id),f.id=null)}};Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var i=Array.prototype.slice,r=Ext.Array.insert,t=Ext.Array.toArray,n={};return{isEvent:!0,suspended:0,noOptions:{},constructor:function(n,t){this.name=t;this.observable=n;this.listeners=[]},addListener:function(n,t,i,u,f){var e=this,b=!1,y=e.observable,k=e.name,s,p,l,a,c,w,v,o,h,d;if(e.findListener(n,t)===-1){if(p=e.createListener(n,t,i,u,f),e.firing&&(e.listeners=e.listeners.slice(0)),s=e.listeners,o=v=s.length,l=i&&i.priority,c=e._highestNegativePriorityIndex,w=c!==undefined,l)if(a=l<0,!a||w){for(h=a?c:0;h<v;h++)if(d=s[h].o?s[h].o.priority||0:0,d<l){o=h;break}}else e._highestNegativePriorityIndex=o;else w&&(o=c);!a&&o<=c&&e._highestNegativePriorityIndex++;o===v?s[v]=p:r(s,o,[p]);y.isElement&&y._getPublisher(k).subscribe(y,k,i.delegated!==!1,i.capture);b=!0}return b},createListener:function(n,t,i,r,u){var s=this,c=Ext._namedScopes[t],f={fn:n,scope:t,ev:s,caller:r,manager:u,namedScope:c,defaultScope:c?t||s.observable:undefined,lateBound:typeof n=="string"},e=n,o=!1,h;return i&&(f.o=i,i.single&&(e=s.createSingle(e,f,i,t),o=!0),i.target&&(e=s.createTargeted(e,f,i,t,o),o=!0),i.delay&&(e=s.createDelayed(e,f,i,t,o),o=!0),i.buffer&&(e=s.createBuffered(e,f,i,t,o),o=!0),s.observable.isElement&&(h=i.type,h&&(f.type=h))),f.fireFn=e,f.wrapped=o,f},findListener:function(n,t){for(var u=this.listeners,r=u.length,i;r--;)if(i=u[r],i&&i.fn===n&&i.scope==t)return r;return-1},removeListener:function(n,t,i){var r=this,y=!1,c=r.observable,l=r.name,u,o,a,s,v,f,e,h;if(i=i||r.findListener(n,t),i!=-1){if(u=r.listeners[i],a=u.o,o=r._highestNegativePriorityIndex,r.firing&&(r.listeners=r.listeners.slice(0)),u.task&&(u.task.cancel(),delete u.task),s=u.tasks&&u.tasks.length,s){while(s--)u.tasks[s].cancel();delete u.tasks}if(r.listeners.splice(i,1),v=u.manager,v&&(f=v.managedListeners,f))for(h=f.length;h--;)e=f[h],e.item===r.observable&&e.ename===l&&e.fn===n&&e.scope===t&&f.splice(h,1);o&&(i<o?r._highestNegativePriorityIndex--:i===o&&i===r.listeners.length&&delete r._highestNegativePriorityIndex);c.isElement&&c._getPublisher(l).unsubscribe(c,l,a.delegated!==!1,a.capture);y=!0}return y},clearListeners:function(){for(var t=this.listeners,i=t.length,n;i--;)n=t[i],this.removeListener(n.fn,n.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return this.suspended>0},fire:function(){var u=this,p=u.listeners,w=p.length,h=u.observable.isElement,t,c,l,e,r,o,b,s,a,v,f,y,n;if(!u.suspended&&w>0)for(u.firing=!0,r=arguments.length?i.call(arguments,0):[],b=r.length,h&&(n=r[0]),e=0;e<w;e++){if(o=p[e],t=o.o,h&&(a&&n.setCurrentTarget(a),v=o.type,v&&(f=n,n=r[0]=f.chain({type:v})),Ext.EventObject=n),y=r,t){if(h){if(c=t.delegate,c)if(s=n.getTarget("#"+n.currentTarget.id+" "+c),s)r[1]=s,a=n.currentTarget,n.setCurrentTarget(s);else continue;t.preventDefault&&n.preventDefault();t.stopPropagation&&n.stopPropagation();t.stopEvent&&n.stopEvent()}r[b]=t;t.args&&(y=t.args.concat(r))}if(l=u.getFireInfo(o),l.fn.apply(l.scope,y)===!1)return u.firing=!1;f&&(n=r[0]=f,f=null)}return u.firing=!1,!0},getFireInfo:function(t,i){var e=this.observable,o=t.fireFn,r=t.scope,u=t.namedScope,f;return!i&&t.wrapped?(n.fn=o,n):(f=i?t.fn:o,t.lateBound?((!r||u)&&(r=(t.caller||e).resolveListenerScope(t.defaultScope)),f=r[f]):u&&u.isController?r=(t.caller||e).resolveListenerScope(t.defaultScope):(!r||u)&&(r=e),n.fn=f,n.scope=r,n)},createTargeted:function(n,t,i,r,u){return function(){if(i.target===arguments[0]){var f;return u||(f=t.ev.getFireInfo(t,!0),n=f.fn,r=f.scope),n.apply(r,arguments)}}},createBuffered:function(n,i,r,u,f){return i.task=new Ext.util.DelayedTask,function(){var e;f||(e=i.ev.getFireInfo(i,!0),n=e.fn,u=e.scope);i.task.delay(r.buffer,n,u,t(arguments))}},createDelayed:function(n,i,r,u,f){return function(){var o=new Ext.util.DelayedTask,e;f||(e=i.ev.getFireInfo(i,!0),n=e.fn,u=e.scope);i.tasks||(i.tasks=[]);i.tasks.push(o);o.delay(r.delay||10,n,u,t(arguments))}},createSingle:function(n,t,i,r,u){return function(){var i=t.ev,f;return i.removeListener(t.fn,r)&&i.observable&&i.observable.hasListeners[i.name]--,u||(f=i.getFireInfo(t,!0),n=f.fn,r=f.scope),n.apply(r,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0);Ext.cmd.derive("Ext.mixin.Identifiable",Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var i=this.id,r,t,f,u,n;return i||i===0||(r=this.self.prototype,t=this.defaultIdSeparator,u=Ext.mixin.Identifiable.uniqueIds,r.hasOwnProperty("identifiablePrefix")||(f=this.xtype,n=f?this.defaultIdPrefix+f.replace(this.idCleanRegex,t)+t:(n=r.$className)?n.replace(this.idCleanRegex,t).toLowerCase()+t:this.defaultIdPrefix+"anonymous"+t,r.identifiablePrefix=n),n=this.identifiablePrefix,u.hasOwnProperty(n)||(u[n]=0),i=this.id=n+ ++u[n]),this.getUniqueId=this.getOptimizedId,i},setId:function(n){this.id=n},getId:function(){var n=this.id;return n||(n=this.getUniqueId()),this.getId=this.getOptimizedId,n}},0,0,0,0,0,0,[Ext.mixin,"Identifiable"],0);Ext.cmd.derive("Ext.mixin.Observable",Ext.Mixin,function(n){var r=Ext.emptyFn,u=[],f=Array.prototype,i=f.slice,t=function(n){if(n instanceof t)return n;this.observable=n;arguments[1].isObservable&&(this.managedListeners=!0);this.args=i.call(arguments,1)};return t.prototype.destroy=function(){this.destroy=Ext.emptyFn;var n=this.observable;n[this.managedListeners?"mun":"un"].apply(n,this.args)},{mixinConfig:{id:"observable",after:{destroy:"clearListeners"}},statics:{releaseCapture:function(n){n.fireEventArgs=this.prototype.fireEventArgs},capture:function(n,t,i){var r=function(n,r){return t.apply(i,[n].concat(r))};this.captureArgs(n,r,i)},captureArgs:function(n,t,i){n.fireEventArgs=Ext.Function.createInterceptor(n.fireEventArgs,t,i)},observe:function(n,t){if(n&&(n.isObservable||(Ext.applyIf(n,new this),this.captureArgs(n.prototype,n.fireEventArgs,n)),Ext.isObject(t)))n.on(t);return n},prepareClass:function(t,i,r){var s=t.listeners=[],h=r||t.prototype,u=h.listeners,c=i?i.listeners:t.superclass.self.listeners,f,e,o,l;c&&s.push(c);u&&(f=u.scope,f?(e=Ext._namedScopes[f],e&&e.isController&&(u.scope="self.controller")):u.scope="self",s.push(u),h.listeners=null);t.HasListeners||(o=function(){},l=t.superclass.HasListeners||i&&i.HasListeners||n.HasListeners,t.prototype.HasListeners=t.HasListeners=o,o.prototype=t.hasListeners=new l)}},isObservable:!0,eventsSuspended:0,constructor:function(n){var t=this,e=t.self,u,i,f,o,r;if(t.hasListeners=new t.HasListeners,t.events=t.events||{},u=e.listeners,u&&!t._addDeclaredListeners(u)&&(e.listeners=null),i=n&&n.listeners||t.listeners,i)if(i instanceof Array)for(r=0,o=i.length;r<o;++r)t.addListener(i[r]);else t.addListener(i);f=n&&n.bubbleEvents||t.bubbleEvents;f&&t.enableBubble(f);t.$applyConfigs?Ext.apply(t,n):t.initConfig(n);i&&(t.listeners=null)},onClassExtended:function(t,i){t.HasListeners||n.prepareClass(t,t.prototype.$observableMixedIn?undefined:i)},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(n){var t=this;return n instanceof Array?Ext.each(n,t._addDeclaredListeners,t):(t._addedDeclaredListeners=!0,t.addListener(n)),t._addedDeclaredListeners},addManagedListener:function(n,i,u,f,e,o){var s=this,l=s.managedListeners=s.managedListeners||[],h,c;if(typeof i!="string"){c=arguments.length>4?e:i;e=i;for(i in e)e.hasOwnProperty(i)&&(h=e[i],n.$eventOptions[i]||s.addManagedListener(n,i,h.fn||h,h.scope||e.scope||f,h.fn?h:c,!0));if(e&&e.destroyable)return new t(s,n,e)}else if(u!==r&&(n.doAddListener(i,u,f,e,null,s,s),!o&&e&&e.destroyable))return new t(s,n,i,u,f)},removeManagedListener:function(n,t,i,r){var f=this,u,e,s,h,o;if(typeof t!="string"){u=t;for(t in u)u.hasOwnProperty(t)&&(e=u[t],n.$eventOptions[t]||f.removeManagedListener(n,t,e.fn||e,e.scope||u.scope||r))}else for(s=f.managedListeners?f.managedListeners.slice():[],t=Ext.canonicalEventName(t),o=0,h=s.length;o<h;o++)f.removeManagedListenerItem(!1,s[o],n,t,i,r)},fireEvent:function(n){return this.fireEventArgs(n,i.call(arguments,1))},resolveListenerScope:function(n){var t=Ext._namedScopes[n];return t&&(t.isSelf||t.isThis)&&(n=null),n||this},fireEventArgs:function(n,t){n=Ext.canonicalEventName(n);var i=this,r=i.events,f=r&&r[n],e=!0;return i.hasListeners[n]&&(e=i.doFireEvent(n,t||u,f?f.bubble:!1)),e},fireAction:function(n,t,i,r,u,f){u=u?Ext.Object.chain(u):{};u.single=!0;u.priority=f==="after"?-99.5:99.5;this.doAddListener(n,i,r,u);this.fireEventArgs(n,t)},doFireEvent:function(n,t,i){var r=this,e,u,f=!0;do{if(r.eventsSuspended)return(e=r.eventQueue)&&e.push([n,t]),f;if(u=r.events&&r.events[n],u&&u!==!0&&(f=u.fire.apply(u,t))===!1)break}while(i&&(r=r.getBubbleParent()));return f},getBubbleParent:function(){var t=this,n=t.getBubbleTarget&&t.getBubbleTarget();return n&&n.isObservable?n:null},addListener:function(n,i,r,u,f,e){var o=this,l=Ext._namedScopes,s,h,a,c,v;if(typeof n!="string"){u=n;r=u.scope;h=r&&l[r];a=h&&h.isSelf;v=(o.isComponent||o.isWidget)&&u.element?o.$elementEventOptions:o.$eventOptions;for(n in u)s=u[n],v[n]||(c=s.scope,c&&a&&(h=l[c],h&&h.isController&&(c="self.controller")),o.doAddListener(n,s.fn||s,c||r,s.fn?s:u,f,e));if(u&&u.destroyable)return new t(o,u)}else if(o.doAddListener(n,i,r,u,f,e),u&&u.destroyable)return new t(o,n,i,r,u);return o},removeListener:function(n,t,i,r){var u=this,e,f;if(typeof n!="string"){f=n;r=r||u.$eventOptions;for(n in f)f.hasOwnProperty(n)&&(e=f[n],u.$eventOptions[n]||u.doRemoveListener(n,e.fn||e,e.scope||f.scope))}else u.doRemoveListener(n,t,i);return u},clearListeners:function(){var i=this,n=i.events,u=i.hasListeners,r,t;if(n)for(t in n)n.hasOwnProperty(t)&&(r=n[t],r.isEvent&&(delete u[t],r.clearListeners()));i.clearManagedListeners()},clearManagedListeners:function(){for(var n=this,i=n.managedListeners?n.managedListeners.slice():[],t=0,r=i.length;t<r;t++)n.removeManagedListenerItem(!0,i[t]);n.managedListeners=[]},removeManagedListenerItem:function(n,t,i,r,u,f){!n&&(t.item!==i||t.ename!==r||u&&t.fn!==u||f&&t.scope!==f)||(t.item.doRemoveListener(t.ename,t.fn,t.scope,t.options),n||Ext.Array.remove(this.managedListeners,t))},hasListener:function(n){return n=Ext.canonicalEventName(n),!!this.hasListeners[n]},isSuspended:function(n){var t=this.eventsSuspended>0,i=this.events;return!t&&n&&i&&(n=i[n],n&&n.isEvent)?n.isSuspended():t},suspendEvents:function(n){++this.eventsSuspended;n&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){for(var r=this,u=r.events,f=arguments.length,n,t,i=0;i<f;i++)t=arguments[i],t=Ext.canonicalEventName(t),n=u[t],n&&n.isEvent||(n=r._initEvent(t)),n.suspend()},resumeEvent:function(){for(var i=this.events||0,r=i&&arguments.length,t,n=0;n<r;n++)t=i[arguments[n]],t&&t.resume&&t.resume()},resumeEvents:function(n){var t=this,r=t.eventQueue,u,i;if(t.eventsSuspended&&!--t.eventsSuspended&&(delete t.eventQueue,!n&&r))for(u=r.length,i=0;i<u;i++)t.fireEventArgs.apply(t,r[i])},relayEvents:function(n,i,r){for(var f=this,s=i.length,e=0,u,o={};e<s;e++)u=i[e],o[u]=f.createRelayer(r?r+u:u);return f.mon(n,o,null,null,undefined),new t(f,n,o)},createRelayer:function(n,t){var r=this;return function(){return r.fireEventArgs.call(r,n,t?i.apply(arguments,t):arguments)}},enableBubble:function(n){if(n)for(var u=this,f=typeof n=="string"?arguments:n,e=u.events,o=e&&f.length,t,i,r=0;r<o;++r)t=f[r],t=Ext.canonicalEventName(t),i=e[t],i&&i.isEvent||(i=u._initEvent(t)),u.hasListeners._incr_(t),i.bubble=!0},destroy:function(){this.clearListeners();this.callParent()},privates:{doAddListener:function(n,t,i,u,f,e,o){var s=this,h,c,l;f=f||u&&u.order;f&&(l=u&&u.priority,l||(u=u?Ext.Object.chain(u):{},u.priority=s.$orderToPriority[f]));n=Ext.canonicalEventName(n);!o&&i&&i.isObservable&&i!==s&&(o=i);o&&(c=o.managedListeners=o.managedListeners||[],c.push({item:s,ename:n,fn:t,scope:i,options:u}));h=(s.events||(s.events={}))[n];h&&h.isEvent||(h=s._initEvent(n));t!==r&&h.addListener(t,i,u,e,o)&&s.hasListeners._incr_(n)},doRemoveListener:function(n,t,i){var u=this,f=u.events,r;n=Ext.canonicalEventName(n);r=f&&f[n];r&&r.isEvent&&r.removeListener(t,i)&&u.hasListeners._decr_(n)},_initEvent:function(n){return this.events[n]=new Ext.util.Event(this,n)}},deprecated:{"5.0":{methods:{addEvents:null}},"5.1":{methods:{addBeforeListener:function(n,t,i,r){return this.addListener(n,t,i,r,"before")},addAfterListener:function(n,t,i,r){return this.addListener(n,t,i,r,"after")},removeBeforeListener:function(n,t,i,r){return this.removeListener(n,t,i,r,"before")},removeAfterListener:function(n,t,i,r){return this.removeListener(n,t,i,r,"after")},onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,"Observable"],function(){function u(n){var t=(this.methodEvents=this.methodEvents||{})[n],r,i,u,e=this,f;return t||(this.methodEvents[n]=t={},t.originalFn=this[n],t.methodName=n,t.before=[],t.after=[],f=function(n,t,f){(i=n.apply(t||e,f))!==undefined&&(typeof i=="object"?(r=i.returnValue!==undefined?i.returnValue:i,u=!!i.cancel):i===!1?u=!0:r=i)},this[n]=function(){var h=Array.prototype.slice.call(arguments,0),o,n,s;for(r=i=undefined,u=!1,n=0,s=t.before.length;n<s;n++)if(o=t.before[n],f(o.fn,o.scope,h),u)return r;for((i=t.originalFn.apply(e,h))!==undefined&&(r=i),n=0,s=t.after.length;n<s;n++)if(o=t.after[n],f(o.fn,o.scope,h),u)return r;return r}),t}var n=this,t=n.prototype,r=function(){},i=function(t){if(!t.HasListeners){var r=t.prototype;r.$observableMixedIn=1;n.prepareClass(t,this);t.onExtended(function(t,i){n.prepareClass(t,null,i)});r.onClassMixedIn?Ext.override(t,{onClassMixedIn:function(n){i.call(this,n);this.callParent(arguments)}}):r.onClassMixedIn=function(n){i.call(this,n)}}f.call(this,t)},f=t.onClassMixedIn;r.prototype={_decr_:function(n){--this[n]||delete this[n]},_incr_:function(n){this.hasOwnProperty(n)?++this[n]:this[n]=1}};t.HasListeners=n.HasListeners=r;n.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});n.observeClass=n.observe;Ext.apply(t,{onClassMixedIn:i,beforeMethod:function(n,t,i){u.call(this,n).before.push({fn:t,scope:i})},afterMethod:function(n,t,i){u.call(this,n).after.push({fn:t,scope:i})},removeMethodListener:function(n,t,i){for(var u=this.getMethodEvent(n),r=0,f=u.before.length;r<f;r++)if(u.before[r].fn==t&&u.before[r].scope==i){Ext.Array.erase(u.before,r,1);return}for(r=0,f=u.after.length;r<f;r++)if(u.after[r].fn==t&&u.after[r].scope==i){Ext.Array.erase(u.after,r,1);return}},toggleEventLogging:function(n){Ext.util.Observable[n?"capture":"releaseCapture"](this,function(n){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(n,arguments)})}})});Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,config:{keyFn:null},constructor:function(n){var t=this,i;t.mixins.observable.constructor.call(t,n);t.clear(!0);i=t.getKeyFn();i&&(t.getKey=i)},getCount:function(){return this.length},getData:function(n,t){return t===undefined&&(t=n,n=this.getKey(t)),[n,t]},getKey:function(n){return n.id},add:function(n,t){var i=this;return(arguments.length===1&&(t=n,n=i.getKey(t)),i.containsKey(n))?i.replace(n,t):(i.map[n]=t,++i.length,i.generation++,i.hasListeners.add&&i.fireEvent("add",i,n,t),t)},replace:function(n,t){var i=this,r=i.map,u;return arguments.length===1&&(t=n,n=i.getKey(t)),i.containsKey(n)||i.add(n,t),u=r[n],r[n]=t,i.generation++,i.hasListeners.replace&&i.fireEvent("replace",i,n,t,u),t},remove:function(n){var t=this.findKey(n);return t!==undefined?this.removeAtKey(t):!1},removeAtKey:function(n){var t=this,i;return t.containsKey(n)?(i=t.map[n],delete t.map[n],--t.length,t.generation++,t.hasListeners.remove&&t.fireEvent("remove",t,n,i),!0):!1},get:function(n){var t=this.map;return t.hasOwnProperty(n)?t[n]:undefined},clear:function(n){var t=this;return(n||t.generation)&&(t.map={},t.length=0,t.generation=n?0:t.generation+1),n!==!0&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(n){var t=this.map;return t.hasOwnProperty(n)&&t[n]!==undefined},contains:function(n){return this.containsKey(this.findKey(n))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(n){var r=[],t,i=this.map;for(t in i)i.hasOwnProperty(t)&&r.push(n?t:i[t]);return r},each:function(n,t){var r=Ext.apply({},this.map),i,u=this.length;t=t||this;for(i in r)if(r.hasOwnProperty(i)&&n.call(t,i,r[i],u)===!1)break;return this},clone:function(){var n=new this.self(this.initialConfig),i=this.map,t;n.suspendEvents();for(t in i)i.hasOwnProperty(t)&&n.add(t,i[t]);return n.resumeEvents(),n},findKey:function(n){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t]===n)return t;return undefined}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"HashMap"],0);Ext.cmd.derive("Ext.AbstractManager",Ext.Base,{typeName:"type",constructor:function(n){Ext.apply(this,n||{});this.all=new Ext.util.HashMap;this.types={}},get:function(n){return this.all.get(n)},register:function(n){this.all.add(n)},unregister:function(n){this.all.remove(n)},registerType:function(n,t){this.types[n]=t;t[this.typeName]=n},isRegistered:function(n){return this.types[n]!==undefined},create:function(n,t){var i=n[this.typeName]||n.type||t,r=this.types[i];return new r(n)},onAvailable:function(n,t,i){var r=this.all,u,f;if(r.containsKey(n))u=r.get(n),t.call(i||u,u);else{f=function(u,e,o){e==n&&(t.call(i||o,o),r.un("add",f))};r.on("add",f)}},each:function(n,t){this.all.each(n,t||this)},getCount:function(){return this.all.getCount()}},1,0,0,0,0,0,[Ext,"AbstractManager"],0);Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(n,t,i){var r;if(r=this.liveConnections[Number(n)],r)r.onFlashStateChange(t,i)},registerConnection:function(n){var t=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[t]=n,t},injectFlashPlugin:function(){var t=this,i,n;t.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});i=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");n="/plugins/flash/FlashPlugin.swf";Ext.flashPluginPath&&(n=Ext.flashPluginPath);Ext.Loader.loadScript({url:i,onLoad:function(){var t={},i;t.quality="high";t.bgcolor="#ffffff";t.allowscriptaccess="sameDomain";t.allowfullscreen="true";i={};i.id="ext-flash-polyfill";i.name="polyfill";i.align="middle";swfobject.embedSWF(n,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},t,i)},onError:function(){},scope:t});Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(n){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();var t=this;Ext.apply(t,n);t.requestHeaders={}},abort:function(){var n=this;if(n.readyState!=4){if(n.aborted=!0,!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",n.onFlashReady,n);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(n.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[n.javascriptId]}},getAllResponseHeaders:function(){var n=[];return Ext.Object.each(this.responseHeaders,function(t,i){n.push(t+": "+i)}),n.join("\r\n")},getResponseHeader:function(n){var t=this.responseHeaders;return t&&t[n]||null},open:function(n,t,i,r,u){var f=this;f.method=n;f.url=t;f.async=i!==!1;f.user=r;f.password=u},overrideMimeType:function(n){this.mimeType=n},send:function(n){var t=this;t.body=n;Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.GlobalEvents.addListener("flashready",t.onFlashReady,t)},onFlashReady:function(){var n=this,t,i;n.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(n);t={method:n.method,url:n.url,user:n.user,password:n.password,mimeType:n.mimeType,requestHeaders:n.requestHeaders,body:n.body,javascriptId:n.javascriptId};i=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(t)},setReadyState:function(n){var t=this;t.readyState!=n&&(t.readyState=n,t.onreadystatechange())},setRequestHeader:function(n,t){this.requestHeaders[n]=t},onreadystatechange:Ext.emptyFn,parseData:function(n){var t=this;this.status=n.status||0;t.responseHeaders={};t.mimeType&&(t.responseHeaders["content-type"]=t.mimeType);n.reason=="complete"?(this.responseBytes=n.data,t.responseHeaders["content-length"]=n.data.length):(n.reason=="error"||n.reason=="securityError")&&(this.statusText=n.text,t.responseHeaders["content-length"]=0)},onFlashStateChange:function(n,t){var i=this;n==4&&(i.parseData(t),delete Ext.data.flash.BinaryXhr.liveConnections[i.javascriptId]);i.setReadyState(n)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0);Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},constructor:function(n){this.mixins.observable.constructor.call(this,n);this.requests={}},request:function(n){n=n||{};var t=this,s=n.scope||window,h=n.username||t.getUsername(),c=n.password||t.getPassword()||"",f,r,i,o,e,u;return t.fireEvent("beforerequest",t,n)!==!1?(r=t.setOptions(n,s),t.isFormUpload(n))?(t.upload(n.form,r.url,r.data,n),null):((n.autoAbort||t.getAutoAbort())&&t.abort(),f=n.async!==!1?n.async||t.getAsync():!1,u=t.openRequest(n,r,f,h,c),e=t.getIsXdr(),e||(o=t.setupHeaders(u,n,r.data,r.params)),i={id:++Ext.data.Connection.requestId,xhr:u,headers:o,options:n,async:f,binary:n.binary||t.getBinary(),timeout:Ext.defer(function(){i.timedout=!0;t.abort(i)},n.timeout||t.getTimeout())},t.requests[i.id]=i,t.latestId=i.id,f&&(e||(u.onreadystatechange=Ext.Function.bind(t.onStateChange,t,[i]))),e&&t.processXdrRequest(i,u),u.send(r.data),!f)?t.onComplete(i):i:(Ext.callback(n.callback,n.scope,[n,undefined,undefined]),null)},processXdrRequest:function(n,t){var i=this;delete n.headers;n.contentType=n.options.contentType||i.getDefaultXdrContentType();t.onload=Ext.Function.bind(i.onStateChange,i,[n,!0]);t.onerror=t.ontimeout=Ext.Function.bind(i.onStateChange,i,[n,!1])},processXdrResponse:function(n,t){n.getAllResponseHeaders=function(){return[]};n.getResponseHeader=function(){return""};n.contentType=t.contentType||this.getDefaultXdrContentType()},upload:function(n,t,i,r){n=Ext.getDom(n);r=r||{};var u=Ext.id(),o=document.createElement("iframe"),a=[],v="multipart/form-data",y={target:n.target,method:n.method,encoding:n.encoding,enctype:n.enctype,action:n.action},p=function(t,i){s=document.createElement("input");Ext.fly(s).set({type:"hidden",value:i,name:t});n.appendChild(s);a.push(s)},s,h,f,e,w,c,b,l;if(Ext.fly(o).set({id:u,name:u,cls:"x-hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1}),document.body.appendChild(o),document.frames&&(document.frames[u].name=u),Ext.fly(n).set({target:u,method:"POST",enctype:v,encoding:v,action:t||y.action}),i){h=Ext.Object.fromQueryString(i)||{};for(e in h)if(h.hasOwnProperty(e))if(f=h[e],Ext.isArray(f))for(w=f.length,c=0;c<w;c++)p(e,f[c]);else p(e,f)}Ext.get(o).on({load:Ext.Function.bind(this.onUploadComplete,this,[o,r]),single:!Ext.isOpera});for(n.submit(),Ext.fly(n).set(y),b=a.length,l=0;l<b;l++)Ext.removeNode(a[l])},onUploadComplete:function(n,t){var o=this,r={responseText:"",responseXML:null},e,f,i,u;try{if(i=n&&(n.contentWindow.document||n.contentDocument)||(window.frames[n.id]||{}).document,i){if(Ext.isOpera&&i.location==Ext.SSL_SECURE_URL)return;i.body&&(r.responseText=(u=i.body.firstChild)&&/pre/i.test(u.tagName)?u.textContent||u.innerText:(u=i.getElementsByTagName("textarea")[0])?u.value:i.body.textContent||i.body.innerText);r.responseXML=i.XMLDocument||i;e=t.success;f=!0}else Ext.Error.raise("Could not acquire a suitable connection for the file upload service.")}catch(s){r.responseText='{success:false,message:"'+Ext.String.trim(s.message||s.description)+'"}';e=t.failure;f=!1}o.fireEvent(f?"requestcomplete":"requestexception",o,r,t);Ext.callback(e,t.scope,[r,t]);Ext.callback(t.callback,t.scope,[t,f,r]);Ext.defer(Ext.removeNode,100,Ext,[n])},isFormUpload:function(n){var t=this.getForm(n);return t?n.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")):!1},getForm:function(n){var t=n.form||null;return t&&(t=Ext.getDom(t)),t},setOptions:function(n,t){var f=this,i=n.params||{},o=f.getExtraParams(),e=n.urlParams,r=n.url||f.getUrl(),h=n.jsonData,s,c,u;return Ext.isFunction(i)&&(i=i.call(t,n)),Ext.isFunction(r)&&(r=r.call(t,n)),r=this.setupUrl(n,r),u=n.rawData||n.binaryData||n.xmlData||h||null,h&&!Ext.isPrimitive(h)&&(u=Ext.encode(u)),n.binaryData&&f.nativeBinaryPostSupport()&&(u=new Uint8Array(n.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(u=u.buffer)),Ext.isObject(i)&&(i=Ext.Object.toQueryString(i)),Ext.isObject(o)&&(o=Ext.Object.toQueryString(o)),i=i+(o?(i?"&":"")+o:""),e=Ext.isObject(e)?Ext.Object.toQueryString(e):e,i=this.setupParams(n,i),s=(n.method||f.getMethod()||(i||u?"POST":"GET")).toUpperCase(),this.setupMethod(n,s),c=n.disableCaching!==!1?n.disableCaching||f.getDisableCaching():!1,s==="GET"&&c&&(r=Ext.urlAppend(r,(n.disableCachingParam||f.getDisableCachingParam())+"="+(new Date).getTime())),(s=="GET"||u)&&i&&(r=Ext.urlAppend(r,i),i=null),e&&(r=Ext.urlAppend(r,e)),{url:r,method:s,data:u||i||null}},setupUrl:function(n,t){var i=this.getForm(n);return i&&(t=t||i.action),t},setupParams:function(n,t){var r=this.getForm(n),i;return r&&!this.isFormUpload(n)&&(i=Ext.Element.serializeForm(r),t=t?t+"&"+i:i),t},setupMethod:function(n,t){return this.isFormUpload(n)?"POST":t},setupHeaders:function(n,t,i,r){var f=this,u=Ext.apply({},t.headers||{},f.getDefaultHeaders()||{}),s=f.getDefaultPostHeader(),c=t.jsonData,l=t.xmlData,e="Content-Type",a=Ext.isDefined(t.useDefaultXhrHeader)?t.useDefaultXhrHeader:f.getUseDefaultXhrHeader(),o,h;!u.hasOwnProperty(e)&&(i||r)&&(i&&(t.rawData?s="text/plain":l&&Ext.isDefined(l)?s="text/xml":c&&Ext.isDefined(c)&&(s="application/json")),u[e]=s);a&&!u["X-Requested-With"]&&(u["X-Requested-With"]=f.getDefaultXhrHeader());(u[e]===undefined||u[e]===null)&&delete u[e];try{for(o in u)u.hasOwnProperty(o)&&(h=u[o],n.setRequestHeader(o,h))}catch(v){f.fireEvent("exception",o,h)}return u},newRequest:function(n){var t=this,i;return n.binaryData?i=t.nativeBinaryPostSupport()?t.getXhrInstance():new Ext.data.flash.BinaryXhr:(n.cors||t.getCors())&&Ext.isIE&&Ext.ieVersion<=9?(i=t.getXdrInstance(),t.setIsXdr(!0)):i=t.getXhrInstance(),i},openRequest:function(n,t,i,r,u){var e=this,f=e.newRequest(n);return r?f.open(t.method,t.url,i,r,u):e.getIsXdr()?f.open(t.method,t.url):f.open(t.method,t.url,i),(n.binary||e.getBinary())&&(window.Uint8Array?f.responseType="arraybuffer":f.overrideMimeType&&f.overrideMimeType("text/plain; charset=x-user-defined")),(n.withCredentials||e.getWithCredentials())&&(f.withCredentials=!0),f},getXdrInstance:function(){var n;return Ext.ieVersion>=8?n=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),n},getXhrInstance:function(){for(var i=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,r=i.length,t;n<r;++n)try{t=i[n];t();break}catch(u){}return t}(),isLoading:function(n){if(n||(n=this.getLatest()),!(n&&n.xhr))return!1;var t=n.xhr.readyState,i=Ext.data.flash&&Ext.data.flash.BinaryXhr;return n.xhr instanceof i&&t!=4||!(t===0||t==4)},abort:function(n){var t=this,i;if(n||(n=t.getLatest()),n&&t.isLoading(n)){i=n.xhr;try{i.onreadystatechange=null}catch(r){i.onreadystatechange=Ext.emptyFn}i.abort();t.clearTimeout(n);n.timedout||(n.aborted=!0);t.onComplete(n);t.cleanup(n)}},abortAll:function(){var n=this.requests;for(var t in n)n.hasOwnProperty(t)&&this.abort(n[t])},getLatest:function(){var n=this.latestId,t;return n&&(t=this.requests[n]),t||null},onStateChange:function(n,t){var i=this,r=Ext.GlobalEvents;if(n.xhr&&n.xhr.readyState==4||i.isXdr){i.clearTimeout(n);i.onComplete(n,t);i.cleanup(n);r.hasListeners.idle&&r.fireEvent("idle")}},clearTimeout:function(n){clearTimeout(n.timeout);delete n.timeout},cleanup:function(n){n.xhr=null;delete n.xhr},onComplete:function(n,t){var r=this,i=n.options,e,f,o,u;try{e=n.xhr;f=r.parseStatus(e.status);f.success&&(f.success=e.readyState===4)}catch(s){f={success:!1,isException:!1}}return o=r.isXdr?t:f.success,o?(u=r.createResponse(n),r.fireEvent("requestcomplete",r,u,i),Ext.callback(i.success,i.scope,[u,i])):(u=f.isException||n.aborted||n.timedout?r.createException(n):r.createResponse(n),r.fireEvent("requestexception",r,u,i),Ext.callback(i.failure,i.scope,[u,i])),Ext.callback(i.callback,i.scope,[i,o,u]),delete r.requests[n.id],u},parseStatus:function(n){n=n==1223?204:n;var t=n>=200&&n<300||n==304,i=!1;if(!t)switch(n){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:i=!0}return{success:t,isException:i}},createResponse:function(n){for(var f=this,t=n.xhr,o=f.getIsXdr(),e={},s=o?[]:t.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),h=s.length,u,i,c,r;h--;)u=s[h],i=u.indexOf(":"),i>=0&&(c=u.substr(0,i).toLowerCase(),u.charAt(i+1)==" "&&++i,e[c]=u.substr(i+1));return n.xhr=null,delete n.xhr,r={request:n,requestId:n.id,status:t.status,statusText:t.statusText,getResponseHeader:function(n){return e[n.toLowerCase()]},getAllResponseHeaders:function(){return e}},o&&f.processXdrResponse(r,t),n.binary?r.responseBytes=f.getByteArray(t):(r.responseText=t.responseText,r.responseXML=t.responseXML),t=null,r},createException:function(n){return{request:n,requestId:n.id,status:n.aborted?-1:0,statusText:n.aborted?"transaction aborted":"communication failure",aborted:n.aborted,timedout:n.timedout}},getByteArray:function(n){var u=n.response,e=n.responseBody,o=Ext.data.flash&&Ext.data.flash.BinaryXhr,t,r,f,i;if(n instanceof o)t=n.responseBytes;else if(window.Uint8Array)t=u?new Uint8Array(u):[];else if(Ext.isIE9p)try{t=new VBArray(e).toArray()}catch(s){t=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(n.responseBody,t=[]);else for(t=[],r=n.responseText,f=r.length,i=0;i<f;i++)t.push(r.charCodeAt(i)&255);return t},injectVBScript:function(){var n=document.createElement("script");n.type="text/vbscript";n.text="Function getIEByteArray(byteArray, out)\nDim len, i\nlen = LenB(byteArray)\nFor i = 1 to len\nout.push(AscB(MidB(byteArray, i, 1)))\nNext\nEnd Function";Ext.getHead().dom.appendChild(n);this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Connection"],0);Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,"Ajax"],0);Ext.cmd.derive("Ext.AnimationQueue",Ext.Base,{singleton:!0,constructor:function(){this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=!1;this.isIdle=!0;this.run=Ext.Function.bind(this.run,this);Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},start:function(){this.queue.push(arguments);this.isRunning||(this.hasOwnProperty("idleTimer")&&(clearTimeout(this.idleTimer),delete this.idleTimer),this.hasOwnProperty("idleQueueTimer")&&(clearTimeout(this.idleQueueTimer),delete this.idleQueueTimer),this.isIdle=!1,this.isRunning=!0,this.doStart())},watch:function(){this.isRunning&&Ext.now()-this.lastRunTime>=500&&this.run()},run:function(){if(this.isRunning){var n=this.runningQueue,t,i;for(this.lastRunTime=Ext.now(),this.frameStartTime=Ext.now(),n.push.apply(n,this.queue),t=0,i=n.length;t<i;t++)this.invoke(n[t]);n.length=0;this.doIterate()}},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(n,t,i){if(this.isRunning){for(var f=this.queue,e=f.length,u,r=0;r<e;r++)u=f[r],u[0]===n&&u[1]===t&&u[2]===i&&(f.splice(r,1),r--,e--);e===0&&(this.doStop(),this.isRunning=!1,this.idleTimer=Ext.defer(this.whenIdle,100,this))}},onIdle:function(n,t,i){for(var f=this.idleQueue,u,r=0,e=f.length;r<e;r++)if(u=f[r],n===u[0]&&t===u[1]&&i===u[2])return;f.push(arguments);this.isIdle&&this.processIdleQueue()},unIdle:function(n,t,i){for(var f=this.idleQueue,u,r=0,e=f.length;r<e;r++)if(u=f[r],n===u[0]&&t===u[1]&&i===u[2])return f.splice(r,1),!0;return!1},queueTask:function(){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(n,t,i){for(var f=this.taskQueue,u,r=0,e=f.length;r<e;r++)u=f[r],n===u[0]&&t===u[1]&&i===u[2]&&(f.splice(r,1),r--,e--)},invoke:function(n){var t=n[0],i=n[1],r=n[2];t=typeof t=="string"?i[t]:t;Ext.isArray(r)?t.apply(i,r):t.call(i,r)},whenIdle:function(){this.isIdle=!0;this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){if(delete this.idleQueueTimer,this.isIdle){var n=this.idleQueue,t;n.length>0&&(t=n.shift(),this.invoke(t),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){delete this.taskQueueTimer;var n=this.taskQueue,t;n.length>0&&(t=n.shift(),this.invoke(t),this.processTaskQueue())},showFps:function(){Ext.onInternalReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]);Ext.AnimationQueue.resetFps()})},resetFps:function(){var u=Ext.getCmp("__currentFps"),f=Ext.getCmp("__averageFps"),e=Ext.getCmp("__minFps"),o=Ext.getCmp("__maxFps"),n=1e3,t=0,i=0,r=0;Ext.AnimationQueue.onFpsChanged=function(s){i++;i%10||(n=1e3,t=0);r+=s;n=Math.min(n,s);t=Math.max(t,s);u.setHtml(Math.round(s));f.setHtml(Math.round(r/i));e.setHtml(Math.round(n));o.setHtml(Math.round(t))}}},1,0,0,0,0,0,[Ext,"AnimationQueue"],function(){});Ext.cmd.derive("Ext.ComponentManager",Ext.Base,{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(n){var t=this;Ext.apply(t,n||{});t.all={};t.references={};t.onAvailableCallbacks={}},create:function(n,t){return typeof n=="string"?Ext.widget(n):n.isComponent?n:"xclass"in n?Ext.create(n.xclass,n):Ext.widget(n.xtype||t,n)},get:function(n){return this.all[n]},register:function(n){var t=this,u=t.all,r=n.getId(),i=t.onAvailableCallbacks;if(u[r]=n,n.reference&&(t.references[r]=n),++t.count,!t.hasFocusListener){Ext.on("focus",t.onGlobalFocus,t);t.hasFocusListener=!0}i=i&&i[r];i&&i.length&&t.notifyAvailable(n)},unregister:function(n){var t=n.getId();n.reference&&delete this.references[t];delete this.all[t];this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var n=this,t=n.references,i;if(n.referencesDirty){for(i in t)t.hasOwnProperty(i)&&t[i].fixReference();n.referencesDirty=!1}},onAvailable:function(n,t,i){var f=this,r=f.onAvailableCallbacks,e=f.all,u;n in e?(u=e[n],t.call(i||u,u)):n&&(Ext.isArray(r[n])||(r[n]=[]),r[n].push(function(n){t.call(i||n,n)}))},notifyAvailable:function(n){for(var t=this.onAvailableCallbacks[n&&n.getId()]||[];t.length;)t.shift()(n)},each:function(n,t){return Ext.Object.each(this.all,n,t)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(n){var s=this,f=n.toElement,e=n.fromElement,u=Ext.Component.fromElement(f),i=Ext.Component.fromElement(e),o=s.getCommonAncestor(i,u),r,t;if(i&&!(i.isDestroyed||i.destroying)){if(i.focusable&&e===i.getFocusEl().dom){r=new Ext.event.Event(n.event);r.type="blur";r.target=e;r.relatedTarget=f;i.onBlur(r)}for(t=i;t&&t!==o;t=t.getRefOwner())if(!(t.isDestroyed||t.destroying))t.onFocusLeave({event:n.event,type:"focusleave",target:e,relatedTarget:f,fromComponent:i,toComponent:u})}if(u&&!u.isDestroyed){if(u.focusable&&f===u.getFocusEl().dom){r=new Ext.event.Event(n.event);r.type="focus";r.relatedTarget=e;r.target=f;u.onFocus(r)}for(t=u;t&&t!==o;t=t.getRefOwner())t.onFocusEnter({event:n.event,type:"focusenter",relatedTarget:e,target:f,fromComponent:i,toComponent:u})}},getCommonAncestor:function(n,t){if(n===t)return n;while(n&&!(n.isAncestor(t)||n===t))n=n.getRefOwner();return n},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(n){return Ext.ComponentManager.get(n)}});Ext.ns("Ext.util").Operators={"=":function(n,t){return n==t},"!=":function(n,t){return n!=t},"^=":function(n,t){return n&&n.substr(0,t.length)==t},"$=":function(n,t){return n&&n.substr(n.length-t.length)==t},"*=":function(n,t){return n&&n.indexOf(t)!==-1},"%=":function(n,t){return n%t==0},"|=":function(n,t){return n&&(n==t||n.substr(0,t.length+1)==t+"-")},"~=":function(n,t){return n&&(" "+n+" ").indexOf(" "+t+" ")!=-1}};Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{config:{maxSize:null},add:function(n,t){var i=this,r,u;return i.removeAtKey(n),u=i.last,r={prev:u,next:null,key:n,value:t},u?u.next=r:i.first=r,i.last=r,Ext.util.HashMap.prototype.add.call(this,n,r),i.prune(),t},insertBefore:function(n,t,i){var u=this,f,r;return(i=this.map[this.findKey(i)])?(f=u.findKey(t),f?u.unlinkEntry(r=u.map[f]):r={prev:i.prev,next:i,key:n,value:t},i.prev?r.prev.next=r:u.first=r,r.next=i,i.prev=r,u.prune(),t):u.add(n,t)},get:function(n){var t=this.map[n];if(t)return t.next&&this.moveToEnd(t),t.value},removeAtKey:function(n){return this.unlinkEntry(this.map[n]),Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(){return this.first=this.last=null,Ext.util.HashMap.prototype.clear.apply(this,arguments)},unlinkEntry:function(n){n&&(n.next?n.next.prev=n.prev:this.last=n.prev,n.prev?n.prev.next=n.next:this.first=n.next,n.prev=n.next=null)},moveToEnd:function(n){this.unlinkEntry(n);(n.prev=this.last)?this.last.next=n:this.first=n;this.last=n},getArray:function(n){for(var i=[],t=this.first;t;)i.push(n?t.key:t.value),t=t.next;return i},each:function(n,t,i){var u=this,r=i?u.last:u.first,f=u.length;for(t=t||u;r;){if(n.call(t,r.key,r.value,f)===!1)break;r=i?r.prev:r.next}return u},findKey:function(n){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t].value===n)return t;return undefined},clone:function(){var n=new this.self(this.initialConfig),i=this.map,t;n.suspendEvents();for(t in i)i.hasOwnProperty(t)&&n.add(t,i[t].value);return n.resumeEvents(),n},prune:function(){var n=this,i=n.getMaxSize(),t=i?n.length-i:0;if(t>0)for(;n.first&&t;t--)n.removeAtKey(n.first.key)}},0,0,0,0,0,0,[Ext.util,"LruCache"],0);Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var n=this,f=Ext.util.Operators,l=/(\d*)n\+?(\d*)/,a=/\D/,i=/^(\s)+/,t=/\\(.)/g,e=new Ext.util.LruCache({maxSize:100}),v="var r = [],i = 0,it = items,l = it.length,c;for (; i < l; i++) {c = it[i];if (c.{0}) {r.push(c);}}return r;",r=function(n,t){return t.method.apply(this,[n].concat(t.args))},u=function(n,t){for(var i=[],r=0,f=n.length,u,e=t!==">";r<f;r++)u=n[r],u.getRefItems&&(i=i.concat(u.getRefItems(e)));return i},o=function(n){for(var r=[],i=0,u=n.length,t;i<u;i++)for(t=n[i];!!(t=t.getRefOwner());)r.push(t);return r},s=function(n,t,i){if(t==="*")return n.slice();for(var f=[],r=0,e=n.length,u;r<e;r++)u=n[r],u.isXType(t,i)&&f.push(u);return f},y=function(n,t,i,r){var o=[],h=0,y=n.length,c,a,e,u,s,v,l;for(t.charAt(0)==="@"&&(c=!0,t=t.substr(1)),t.charAt(0)==="?"&&(c=!0,a=!0,t=t.substr(1));h<y;h++){if(e=n[h],l=e.self.$config.configs[t],l)u=e[l.names.get]();else if(c&&!e.hasOwnProperty(t))continue;else u=e[t];if(a)o.push(e);else if(i==="~="){if(u)for(Ext.isArray(u)||(u=u.split(" ")),s=0,v=u.length;s<v;s++)if(f[i](Ext.coerce(u[s],r),r)){o.push(e);break}}else i==="/="?u!=null&&r.test(u)&&o.push(e):(r?f[i](Ext.coerce(u,r),r):!!e[t])&&o.push(e)}return o},h=function(n,t){for(var u=[],i=0,f=n.length,r;i<f;i++)r=n[i],r.getItemId()===t&&u.push(r);return u},p=function(t,i,r){return n.pseudos[i](t,r)},w=/^(\s?([>\^])\s?|\s|$)/,b=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,c=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:s,argTransform:function(n){return n[1]!==undefined&&(n[1]=n[1].replace(t,"$1")),n.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:y,argTransform:function(n){var o=n[0],f=n[1],u=n[2],i=n[4],r;return i!==undefined&&(i=i.replace(t,"$1")),u==="/="&&(r=e.get(i),i=r?r:e.add(i,new RegExp(i))),[f,u,i]}},{re:/^#((?:\\\.|[\w\-])+)/,method:h},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:p,argTransform:function(n){return n[2]!==undefined&&(n[2]=n[2].replace(t,"$1")),n.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:v}];n.Query=Ext.extend(Object,{constructor:function(n){n=n||{};Ext.apply(this,n)},execute:function(n){for(var r=this.operations,i=[],u,t=0,f=r.length;t<f;t++)u=r[t],i=i.concat(this._execute(n,u));return i},_execute:function(n,t){var e=0,s=t.length,f,i;for(n?Ext.isIterable(n)?i=n:n.isMixedCollection&&(i=n.items):i=Ext.ComponentManager.getAll();e<s;e++)if(f=t[e],i=f.mode==="^"?o(i||[n]):f.mode?u(i||[n],f.mode):r(i||u([n]),f),e===s-1)return i;return[]},is:function(n){var r=this.operations,i=!1,u=r.length,f,t;if(u===0)return!0;for(t=0;t<u;t++)if(f=r[t],i=this._is(n,f),i)return i;return!1},_is:function(n,t){for(var h=t.length,i=[n],c,e,s,l,a,f=h-1;f>=0;--f)if(c=t[f],s=c.mode,s){if(s==="^")i=u(i," ");else if(s===">"){for(l=[],e=0,h=i.length;e<h;++e)a=i[e].getRefOwner(),a&&l.push(a);i=l}else i=o(i);if(i.length===0)return!1}else if(i=r(i,c),i.length===0)return!1;return!0},getMatches:function(n,t){for(var u=t.length,i=0;i<u;++i)if(n=r(n,t[i]),n.length===0)break;return n},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(n,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(t,i){for(var r=0,e=t.length,f=[],o=-1,u;r<e;++r)u=t[r],n.is(u,i)||(f[++o]=u);return f},first:function(n){var t=[];return n.length>0&&t.push(n[0]),t},last:function(n){var t=n.length,i=[];return t>0&&i.push(n[t-1]),i},focusable:function(n){for(var u=n.length,r=[],i=0,t;i<u;i++)t=n[i],t.isFocusable&&t.isFocusable()&&r.push(t);return r},"nth-child":function(n,t){for(var r=[],o=l.exec(t==="even"&&"2n"||t==="odd"&&"2n+1"||!a.test(t)&&"n+"+t||t),s=(o[1]||1)-0,u=o[2]-0,f,e,i=0;f=n[i];i++)e=i+1,s===1?(u===0||e===u)&&r.push(f):(e+u)%s==0&&r.push(f);return r}},query:function(t,i){if(!t)return Ext.ComponentManager.all.getArray();var r=[],o=[],s={},u=n.cache.get(t),h,f,e;if(u||(u=n.cache.add(t,n.parse(t))),r=u.execute(i),u.isMultiMatch()){for(h=r.length,e=0;e<h;e++)f=r[e],s[f.id]||(o.push(f),s[f.id]=!0);r=o}return r},visitPreOrder:function(t,i,r,u,f){n._visit(!0,t,i,r,u,f)},visitPostOrder:function(t,i,r,u,f){n._visit(!1,t,i,r,u,f)},_visit:function(t,i,r,u,f,e){var s=n.cache.get(i),h=[r],c,a=0,o,l;if(s||(s=n.cache.add(i,n.parse(i))),l=s.is(r),r.getRefItems&&(c=r.getRefItems(),a=c.length),e&&Ext.Array.push(h,e),t&&l&&u.apply(f||r,h)===!1)return!1;for(o=0;o<a;o++)if(n._visit.call(n,t,i,c[o],u,f,e)===!1)return!1;if(!t&&l&&u.apply(f||r,h)===!1)return!1},is:function(t,i){if(!i)return!0;var r=n.cache.get(i);return r||(r=n.cache.add(i,n.parse(i))),r.is(t)},parse:function(t){var u=[],r,f,i,e;for(r=Ext.splitAndUnescape(t,","),i=0,e=r.length;i<e;i++)f=Ext.String.trim(r[i]),u.push(n._parse(f));return new n.Query({operations:u})},_parse:function(n){for(var e=[],nt=Ext.String.trim,y=c.length,p,r,a,k,o,u,v,l,f,d,g;n&&p!==n;){for(p=n,r=n.match(b),r&&(k=r[1],a=nt(r[2]).replace(t,"$1"),k==="#"?e.push({method:h,args:[a]}):e.push({method:s,args:[a,Boolean(r[3])]}),n=n.replace(r[0],"").replace(i,"$1"));!(o=n.match(w));)for(l=0;n&&l<y;l++){if(f=c[l],u=n.match(f.re),d=f.method,v=f.argTransform,u){g=v?v(u):u.slice(1);e.push({method:Ext.isString(f.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[d].concat(u.slice(1)))):f.method,args:g});n=n.replace(u[0],"").replace(i,"$1");break}l===y-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}o[1]&&(e.push({mode:o[2]||o[1]}),n=n.replace(o[0],"").replace(i,""))}return e}})});Ext.cmd.derive("Ext.Evented",Ext.Base,{alternateClassName:"Ext.EventedBase",statics:{generateSetter:function(n){var t=n.names,r=n.name,u=t.internal,f=t.apply,e=t.changeEvent,i=t.doSet;return function(n){var o=this,h=o.$configPrefixed?u:r,l=o.initialized,s,c=o[f];return c&&(n=c.call(o,n,o[h]),n===undefined)?o:(s=o[h],n!==s&&(l?o.fireAction(e,[o,n,s],o.doSet,o,{nameMap:t}):(o[h]=n,o[i]&&o[i](n,s))),this)}}},initialized:!1,constructor:function(n){this.mixins.observable.constructor.call(this,n);this.initialized=!0},doSet:function(n,t,i,r){var u=r.nameMap;n[u.internal]=t;n[u.doSet]&&n[u.doSet].call(this,t,i)},onClassExtended:function(n,t){if(t.hasOwnProperty("eventedConfig")){var f=t.config,r=t.eventedConfig,e="eventedSetter",u,i;f?Ext.applyIf(f,r):n.addConfig(r);for(u in r)r.hasOwnProperty(u)&&(i=Ext.Config.get(u),t[i.names.set]=i[e]||(i[e]=this.generateSetter(i)))}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,"Evented",Ext,"EventedBase"],0);Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(n,t){var i=this.getConstrainVector(t,n);return i&&(n[0]+=i[0],n[1]+=i[1]),n},alignTo:function(n,t,i,r){var u=this,f=u.el;return u.setXY(u.getAlignToXY(n,t,i),f.anim&&!!r?f.anim(r):!1)},calculateAnchorXY:function(n,t,i,r){var s=this,h=s.el,c=document,l=h.dom===c.body||h.dom===c,e=Math.round,u,f,o;n=(n||"tl").toLowerCase();r=r||{};f=r.width||(l?Ext.Element.getViewportWidth():s.getWidth());o=r.height||(l?Ext.Element.getViewportHeight():s.getHeight());switch(n){case"tl":u=[0,0];break;case"bl":u=[0,o];break;case"tr":u=[f,0];break;case"c":u=[e(f*.5),e(o*.5)];break;case"t":u=[e(f*.5),0];break;case"l":u=[0,e(o*.5)];break;case"r":u=[f,e(o*.5)];break;case"b":u=[e(f*.5),o];break;case"tc":u=[e(f*.5),0];break;case"bc":u=[e(f*.5),o];break;case"br":u=[f,o]}return[u[0]+t,u[1]+i]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(n,t,i){var u=this,s,r,v,w,b,h,c,f,y,p,tt,l,a,k,d,g,nt,e,o;return n=Ext.get(n.el||n),!n||!n.dom,i=i||[0,0],t=(!t||t==="?"?"tl-bl?":!/-/.test(t)&&t!==""?"tl-"+t:t||"tl-bl").toLowerCase(),t=u.convertPositionSpec(t),v=t.match(u._alignRe),l=v[1],a=v[2],tt=!!v[3],w=u.getAnchorXY(l,!0),b=u.getAnchorToXY(n,a,!1),e=b[0]-w[0]+i[0],o=b[1]-w[1]+i[1],tt&&(s=u.constrainTo||u.container||u.el.parent(),s=Ext.get(s.el||s),r=s.getViewRegion(),r.right=r.left+s.el.dom.clientWidth,h=u.getWidth(),c=u.getHeight(),f=n.getRegion(),k=l.charAt(0),d=l.charAt(l.length-1),g=a.charAt(0),nt=a.charAt(a.length-1),y=e<f.right&&e+h>=f.left&&(k=="t"&&g=="b"||k=="b"&&g=="t"),p=o<f.bottom&&o+c>=f.top&&(d=="r"&&nt=="l"||d=="l"&&nt=="r"),e+h>r.right&&(p?(e=f.left-h,p=!1):e=r.right-h),e<r.left&&(e=p?f.right:r.left),o+c>r.bottom&&(y?(o=f.top-c,y=!1):o=r.bottom-c),o<r.top&&(o=y?f.bottom:r.top)),[e,o]},getAnchorXY:function(n,t,i){var r=this,f=r.getXY(),u=r.el,e=document,o=u.dom==e.body||u.dom==e,s=u.getScroll(),h=o?s.left:t?0:f[0],c=o?s.top:t?0:f[1];return r.calculateAnchorXY(n,h,c,i)},getBox:function(n,t){var i=this,c=t?i.getLocalXY():i.getXY(),r=c[0],u=c[1],e=i.getWidth(),o=i.getHeight(),f,s,h;return n&&(f=i.getBorderPadding(),s=f.beforeX,h=f.beforeY,r+=s,u+=h,e-=s+f.afterX,o-=h+f.afterY),{x:r,left:r,0:r,y:u,top:u,1:u,width:e,height:o,right:r+e,bottom:u+o}},calculateConstrainedPosition:function(n,t,i,r){var u=this,e,s=u.floatParent,h=s?s.getTargetEl():null,f,c,l,o=!1;return i&&s?(f=h.getXY(),c=h.getBorderPadding(),f[0]+=c.beforeX,f[1]+=c.beforeY,t&&(l=[t[0]+f[0],t[1]+f[1]])):l=t,n=n||u.constrainTo||h||u.container||u.el.parent(),e=u.getConstrainVector(n,l,r,i),o=t||u.getPosition(i),e&&(o[0]+=e[0],o[1]+=e[1]),o},getConstrainVector:function(n,t,i,r){var o=this,f=o.getRegion(r),e=[0,0],s=o.shadow&&o.constrainShadow&&!o.shadowDisabled?o.shadow.getShadowSize():undefined,h=!1,u=o.constraintInsets,l,a,v,y,p,w,b,k,c;return n instanceof Ext.util.Region||(n=Ext.get(n.el||n),c=n.getViewSize(),r?(n=new Ext.util.Region(0,c.width,c.height,0),n.top=n.left=0):(n=n.getViewRegion(),n.right=n.left+c.width,n.bottom=n.top+c.height)),u&&(u=Ext.isObject(u)?u:Ext.Element.parseBox(u),n.adjust(u.top,u.right,u.bottom,u.length)),t&&f.translateBy(t[0]-f.x,t[1]-f.y),l=f.top,a=f.right,v=f.bottom,y=f.left,p=n.top,w=n.right,b=n.bottom,k=n.left,i&&(a=y+i[0],v=l+i[1]),s&&n.adjust(s[0],-s[1],-s[2],s[3]),a>w&&(h=!0,e[0]=w-a),y+e[0]<k&&(h=!0,e[0]=k-y),v>b&&(h=!0,e[1]=b-v),l+e[1]<p&&(h=!0,e[1]=p-l),h?e:!1},getOffsetsTo:function(n){var t=this.getXY(),i=Ext.fly(n.el||n).getXY();return[t[0]-i[0],t[1]-i[1]]},getRegion:function(n){var t=this.getBox(null,n);return new Ext.util.Region(t.top,t.right,t.bottom,t.left)},getViewRegion:function(){var n=this,s=n.el,h=s.dom.nodeName==="BODY",r,u,f,t,i,e,o;return h?(u=s.getScroll(),i=u.left,t=u.top,e=Ext.Element.getViewportWidth(),o=Ext.Element.getViewportHeight()):(r=n.getBorderPadding(),f=n.getXY(),i=f[0]+r.beforeX,t=f[1]+r.beforeY,e=n.getWidth(!0),o=n.getHeight(!0)),new Ext.util.Region(t,i+e,t+o,i)},move:function(n,t,i){var o=this,s=o.getXY(),r=s[0],u=s[1],h=[r-t,u],c=[r+t,u],f=[r,u-t],e=[r,u+t],l={l:h,left:h,r:c,right:c,t:f,top:f,up:f,b:e,bottom:e,down:e};n=n.toLowerCase();o.setXY([l[n][0],l[n][1]],i)},setBox:function(n){var t=this,i,r;return n.isRegion&&(n={x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}),t.constrainBox(n),i=n.x,r=n.y,t.setXY([i,r]),t.setSize(n.width,n.height),t.afterSetPosition(i,r),t},constrainBox:function(n){var i=this,t,r,u;(i.constrain||i.constrainHeader)&&(r="x"in n?n.x:n.left,u="y"in n?n.y:n.top,t=i.calculateConstrainedPosition(null,[r,u],!1,[n.width,n.height]),t&&(n.x=t[0],n.y=t[1]))},translatePoints:function(n,t){var i=this.translateXY(n,t);return{left:i.x,top:i.y}},translateXY:function(n,t){var u=this,f=u.el,e=f.getStyle(u._positionTopLeft),o=e.position==="relative",i=parseFloat(e.left),r=parseFloat(e.top),s=u.getXY();return Ext.isArray(n)&&(t=n[1],n=n[0]),isNaN(i)&&(i=o?0:f.dom.offsetLeft),isNaN(r)&&(r=o?0:f.dom.offsetTop),i=typeof n=="number"?n-s[0]+i:undefined,r=typeof t=="number"?t-s[1]+r:undefined,{x:i,y:r}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0);Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(n,t,i,r,u,f){var e=this,s=!Ext.isEmpty(u),o=function(){e.alignTo(n,t,i,r);Ext.callback(f,e)},h=e.getAnchor();e.removeAnchor();Ext.apply(h,{fn:o,scroll:s});Ext.on("resize",o,null);if(s)Ext.getWin().on("scroll",o,null,{buffer:isNaN(u)?50:u});return o(),e},getAnchor:function(){var i=this.el,t,n;if(i.dom)return t=i.getData(),n=t._anchor,n||(n=t._anchor={}),n},removeAnchor:function(){var n=this.getAnchor();if(n&&n.fn){if(Ext.un("resize",n.fn),n.scroll)Ext.getWin().on("scroll",n.fn);delete n.fn}return this},setBox:function(n,t){var i=this;return n.isRegion&&(n={x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}),t?(i.constrainBox(n),i.animate(Ext.applyIf({to:n,listeners:{afteranimate:Ext.Function.bind(i.afterSetPosition,i,[n.x,n.y])}},t))):arguments.callee.$previous.call(this,n),i}});Ext.cmd.derive("Ext.dom.UnderlayPool",Ext.Base,{constructor:function(n){this.elementConfig=n;this.cache=[]},checkOut:function(){var n=this.cache.shift();return n||(n=Ext.Element.create(this.elementConfig),n.setVisibilityMode(2)),n},checkIn:function(n){this.cache.push(n)},reset:function(){for(var n=this.cache,t=n.length;t--;)n[t].destroy();this.cache=[]}},1,0,0,0,0,0,[Ext.dom,"UnderlayPool"],0);Ext.cmd.derive("Ext.dom.Underlay",Ext.Base,{constructor:function(n){Ext.apply(this,n)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var n=this,t=n.el;t&&(t.hide(),n.getPool().checkIn(t),n.el=null,n.hidden=!0)},realign:function(n,t,i,r){var e=this,o=e.el,f=e.target,u=e.offsets,s=Math.max;o&&(n==null&&(n=f.getX()),t==null&&(t=f.getY()),i==null&&(i=f.getWidth()),r==null&&(r=f.getHeight()),u&&(n=n+u.x,t=t+u.y,i=s(i+u.w,0),r=s(r+u.h,0)),o.setXY([n,t]),o.setSize(i,r))},setZIndex:function(n){this.zIndex=n;this.el&&this.el.setStyle("z-index",n)},show:function(){var n=this,u=n.target,i=n.zIndex,t=n.el,f=n.getInsertionTarget().dom,r;t||(t=n.el=n.getPool().checkOut());n.beforeShow();i==null&&(i=parseInt(u.getStyle("z-index"),10));i&&t.setStyle("z-index",i);t.setStyle("position",n.fixed?"fixed":"");r=t.dom;r.nextSibling!==f&&u.dom.parentNode.insertBefore(r,f);t.show();n.realign();n.hidden=!1}},1,0,0,0,0,0,[Ext.dom,"Underlay"],0);Ext.cmd.derive("Ext.dom.Shadow",Ext.dom.Underlay,{alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:"x-"+(Ext.supports.CSS3BoxShadow?"css":"ie")+"-shadow",constructor:function(n){var r=this,u,f,t,i;Ext.dom.Underlay.prototype.constructor.call(this,n);r.elementConfig={cls:r.cls,role:"presentation"};t=r.offset;i=Math.floor(t/2);r.opacity=50;switch(r.mode.toLowerCase()){case"drop":u={x:0,y:0,w:t,h:t};f=Ext.supports.CSS3BoxShadow?{x:t,y:t,h:-t,w:-t}:{x:-i,y:-i,h:-i,w:-i};break;case"sides":u={x:-t,y:0,w:t*2,h:t};f=Ext.supports.CSS3BoxShadow?{x:0,y:t,h:-t,w:0}:{x:1+i-2*t,y:-(1+i),h:-1,w:i-1};break;case"frame":u={x:-t,y:-t,w:t*2,h:t*2};f=Ext.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+i-2*t,y:1+i-2*t,h:t-i-1,w:t-i-1};break;case"bottom":u={x:-t,y:0,w:t*2,h:t};f=Ext.supports.CSS3BoxShadow?{x:0,y:t,h:-t,w:0}:{x:0,y:t,h:0,w:0}}r.offsets=f;r.outerOffsets=u},getShadowSize:function(){var n=this,t=n.el?n.offset:0,i=[t,t,t,t],r=n.mode.toLowerCase();return n.el&&r!=="frame"&&(i[0]=0,r=="drop"&&(i[3]=0)),i},boxShadowProperty:function(){var n="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?n="WebkitBoxShadow":"MozBoxShadow"in t&&(n="MozBoxShadow")),n}(),beforeShow:function(){var n=this,t=n.el.dom.style,i=n.shim;Ext.supports.CSS3BoxShadow?t[n.boxShadowProperty]="0 0 "+(n.offset+2)+"px #888":t.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+n.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+n.offset+")";i&&i.realign()},setOpacity:function(n){var t=this.el;t&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(n=Math.floor(n*50)/100),this.opacity=n,t.setOpacity(n))}},1,0,0,0,0,0,[Ext.dom,"Shadow",Ext,"Shadow"],0);Ext.cmd.derive("Ext.dom.Shim",Ext.dom.Underlay,{cls:"x-shim",constructor:function(n){Ext.dom.Underlay.prototype.constructor.call(this,n);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var n=this.shadow;return n&&n.el||this.target}},1,0,0,0,0,0,[Ext.dom,"Shim"],0);Ext.cmd.derive("Ext.dom.ElementEvent",Ext.util.Event,{addListener:function(n,t,i,r,u){var f=this,e=!1,o=f.name,s,h,c;return i=i||{},i.delegated===!1||Ext.event.publisher.Dom.instance.directEvents[o]?i.capture?(c=f.directCaptures||(f.directCaptures=new Ext.util.Event(f.observable,o)),e=c.addListener(n,t,i,r,u)):(h=f.directs||(f.directs=new Ext.util.Event(f.observable,o)),e=h.addListener(n,t,i,r,u)):i.capture?(s=f.captures||(f.captures=new Ext.util.Event(f.observable,o)),e=s.addListener(n,t,i,r,u)):e=Ext.util.Event.prototype.addListener.call(this,n,t,i,r,u),e},removeListener:function(n,t){var u=this,f=u.captures,e=u.directs,o=u.directCaptures,r=!1,i=u.findListener(n,t);return i!==-1?r=Ext.util.Event.prototype.removeListener.call(this,n,t,i):(e&&(i=e.findListener(n,t)),i!==-1?r=e.removeListener(n,t,i):(f&&(i=f.findListener(n,t)),i!==-1?r=f.removeListener(n,t,i):o&&(i=o.findListener(n,t),i!==-1&&(r=o.removeListener(n,t,i))))),r},clearListeners:function(){var n=this,t=n.directCaptures,i=n.directs,r=n.captures;t&&t.clearListeners();i&&i.clearListeners();r&&r.clearListeners();Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var n=this,t=n.directCaptures,i=n.directs,r=n.captures;t&&t.suspend();i&&i.suspend();r&&r.suspend();Ext.util.Event.prototype.suspend.call(this)},resume:function(){var n=this,t=n.directCaptures,i=n.directs,r=n.captures;t&&t.resume();i&&i.resume();r&&r.resume();Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,"ElementEvent"],0);Ext.cmd.derive("Ext.event.publisher.Publisher",Ext.Base,{handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var n=this,t=n.type;n.handles={};n.registerEvents();Ext.event.publisher.Publisher.publishers[t]=n},registerEvents:function(n){for(var i=this,f=Ext.event.publisher.Publisher.publishersByEvent,u=n||i.handledEvents,e=u.length,r,t=0;t<e;t++)r=u[t],i.handles[r]=1,f[r]=i},fire:function(n,t,i){var r;n.hasListeners[t]&&(r=n.events[t],r&&r.fire.apply(r,i))},destroy:Ext.emptyFn},1,0,0,0,0,0,[Ext.event.publisher,"Publisher"],0);Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(n){return new this(n.x,n.y)}},constructor:function(n,t){return this.x=n!=null&&!isNaN(n)?n:0,this.y=t!=null&&!isNaN(t)?t:0,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(n){this.x=n.x;this.y=n.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(n){return this.x==n.x&&this.y==n.y},round:function(n){if(isNaN(n))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,n);this.x=Math.round(this.x*t)/t;this.y=Math.round(this.y*t)/t}},isZero:function(){return this.x==0&&this.y==0}},3,0,0,0,0,0,[Ext.util,"Offset"],0);Ext.cmd.derive("Ext.util.Region",Ext.Base,{isRegion:!0,statics:{getRegion:function(n){return Ext.fly(n).getRegion()},from:function(n){return new this(n.top,n.right,n.bottom,n.left)}},constructor:function(n,t,i,r){var u=this;u.y=u.top=u[1]=n;u.right=t;u.bottom=i;u.x=u.left=u[0]=r},contains:function(n){var t=this;return n.x>=t.x&&n.right<=t.right&&n.y>=t.y&&n.bottom<=t.bottom},intersect:function(n){var t=this,i=Math.max(t.y,n.y),r=Math.min(t.right,n.right),u=Math.min(t.bottom,n.bottom),f=Math.max(t.x,n.x);return u>i&&r>f?new this.self(i,r,u,f):!1},union:function(n){var t=this,i=Math.min(t.y,n.y),r=Math.max(t.right,n.right),u=Math.max(t.bottom,n.bottom),f=Math.min(t.x,n.x);return new this.self(i,r,u,f)},constrainTo:function(n){var t=this,i=Ext.Number.constrain;return t.top=t.y=i(t.top,n.y,n.bottom),t.bottom=i(t.bottom,n.y,n.bottom),t.left=t.x=i(t.left,n.x,n.right),t.right=i(t.right,n.x,n.right),t},adjust:function(n,t,i,r){var u=this;return u.top=u.y+=n,u.left=u.x+=r,u.right+=t,u.bottom+=i,u},getOutOfBoundOffset:function(n,t){if(Ext.isObject(n)){t=n;var i=new Ext.util.Offset;return i.x=this.getOutOfBoundOffsetX(t.x),i.y=this.getOutOfBoundOffsetY(t.y),i}return n=="x"?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(n){return n<=this.x?this.x-n:n>=this.right?this.right-n:0},getOutOfBoundOffsetY:function(n){return n<=this.y?this.y-n:n>=this.bottom?this.bottom-n:0},isOutOfBound:function(n,t){return Ext.isObject(n)?(t=n,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):n=="x"?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(n){return n<this.x||n>this.right},isOutOfBoundY:function(n){return n<this.y||n>this.bottom},restrict:function(n,t,i){if(Ext.isObject(n)){var r;return i=t,t=n,r=t.copy?t.copy():{x:t.x,y:t.y},r.x=this.restrictX(t.x,i),r.y=this.restrictY(t.y,i),r}return n=="x"?this.restrictX(t,i):this.restrictY(t,i)},restrictX:function(n,t){return t||(t=1),n<=this.x?n-=(n-this.x)*t:n>=this.right&&(n-=(n-this.right)*t),n},restrictY:function(n,t){return t||(t=1),n<=this.y?n-=(n-this.y)*t:n>=this.bottom&&(n-=(n-this.bottom)*t),n},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(n){var t=this;return t.top=t.y=t[1]=n.y,t.right=n.right,t.bottom=n.bottom,t.left=t.x=t[0]=n.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(n,t){arguments.length==1&&(t=n.y,n=n.x);var i=this;return i.top=i.y+=t,i.right+=n,i.bottom+=t,i.left=i.x+=n,i},round:function(){var n=this;return n.top=n.y=Math.round(n.y),n.right=Math.round(n.right),n.bottom=Math.round(n.bottom),n.left=n.x=Math.round(n.x),n},equals:function(n){return this.top===n.top&&this.right===n.right&&this.bottom===n.bottom&&this.left===n.left}},3,0,0,0,0,0,[Ext.util,"Region"],0);Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(n){var t=n.changedTouches,i=t&&t.length>0?t[0]:n;return this.fromTouch(i)},fromTouch:function(n){return new this(n.pageX,n.pageY)},from:function(n){return n?(n instanceof this)?n:new this(n.x,n.y):new this(0,0)}},constructor:function(n,t){n==null&&(n=0);t==null&&(t=0);Ext.util.Region.prototype.constructor.call(this,t,n,t,n)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(n){return this.x=n.x,this.y=n.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},isCloseTo:function(n,t){if(typeof t=="number")return this.getDistanceTo(n)<=t;var i=n.x,r=n.y,u=t.x,f=t.y;return this.x<=i+u&&this.x>=i-u&&this.y<=r+f&&this.y>=r-f},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(n){return n instanceof Ext.util.Region||(n=Ext.get(n.el||n).getRegion()),n.contains(this)},roundedEquals:function(n){return n&&typeof n=="object"||(n=this.origin),Math.round(this.x)===Math.round(n.x)&&Math.round(this.y)===Math.round(n.y)},getDistanceTo:function(n){n&&typeof n=="object"||(n=this.origin);var t=this.x-n.x,i=this.y-n.y;return Math.sqrt(t*t+i*i)},getAngleTo:function(n){n&&typeof n=="object"||(n=this.origin);var t=this.x-n.x,i=this.y-n.y;return Math.atan2(i,t)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=this.prototype.translateBy});Ext.cmd.derive("Ext.event.Event",Ext.Base,{alternateClassName:"Ext.EventObjectImpl",isStopped:!1,isEvent:!0,statics:{resolveTextNode:function(n){return n&&n.nodeType===3?n.parentNode:n},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(n){var t=this,i=t.self,e=t.self.resolveTextNode,o=n.changedTouches,s=o?o[0]:n,r=n.type,u,f;t.pageX=s.pageX;t.pageY=s.pageY;t.target=t.delegatedTarget=e(n.target);f=n.relatedTarget;f&&(t.relatedTarget=e(f));t.browserEvent=t.event=n;t.type=r;t.button=n.button||0;t.shiftKey=n.shiftKey;t.ctrlKey=n.ctrlKey||n.metaKey||!1;t.altKey=n.altKey;t.charCode=n.charCode;t.keyCode=n.keyCode;t.buttons=n.buttons;t.button===0&&t.buttons===0&&(t.buttons=1);i.forwardTab!==undefined&&i.focusEvents[r]&&(t.forwardTab=i.forwardTab);i.mouseEvents[r]||i.clickEvents[r]?u="mouse":i.pointerEvents[r]?u=i.pointerTypes[n.pointerType]:i.touchEvents[r]&&(u="touch");u&&(t.pointerType=u);t.timeStamp=t.time=+(n.timeStamp||new Date)},chain:function(n){var t=Ext.Object.chain(this);return t.parentEvent=this,Ext.apply(t,n)},correctWheelDelta:function(n){var i=this.WHEEL_SCALE,t=Math.round(n/i);return!t&&n&&(t=n<0?-1:1),t},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var n=this.getXY();return new Ext.util.Point(n[0],n[1])},getRelatedTarget:function(n,t,i){var r=this.relatedTarget,u=null;return r&&(u=n?Ext.fly(r).findParent(n,t,i):i?Ext.get(r):r),u},getTarget:function(n,t,i){return n?Ext.fly(this.target).findParent(n,t,i):i?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){var n=this.getWheelDeltas();return n.y},getWheelDeltas:function(){var i=this,n=i.browserEvent,r=0,t=0;return Ext.isDefined(n.wheelDeltaX)?(r=n.wheelDeltaX,t=n.wheelDeltaY):n.wheelDelta?t=n.wheelDelta:n.detail&&(t=-n.detail,t>100?t=3:t<-100&&(t=-3),Ext.isDefined(n.axis)&&n.axis===n.HORIZONTAL_AXIS&&(r=t,t=0)),{x:i.correctWheelDelta(r),y:i.correctWheelDelta(t)}},getX:function(){return this.getXY()[0]},getXY:function(){var r=this,i=r.xy,u,f,e,n,t;return i||(i=r.xy=[r.pageX,r.pageY],u=i[0],u||u===0||(f=r.browserEvent,e=document,n=e.documentElement,t=e.body,i[0]=f.clientX+(n&&n.scrollLeft||t&&t.scrollLeft||0)-(n&&n.clientLeft||t&&t.clientLeft||0),i[1]=f.clientY+(n&&n.scrollTop||t&&t.scrollTop||0)-(n&&n.clientTop||t&&t.clientTop||0))),i},getY:function(){return this.getXY()[1]},hasModifier:function(){var n=this;return!!(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)},isNavKeyPress:function(n){var i=this,t=i.keyCode;return t>=33&&t<=40||!n&&(t===i.RETURN||t===i.TAB||t===i.ESC)},isSpecialKey:function(){var n=this.keyCode;return this.type==="keypress"&&this.ctrlKey||this.isNavKeyPress()||n===this.BACKSPACE||n>=16&&n<=20||n>=44&&n<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){return this.browserEvent.preventDefault(),this},setCurrentTarget:function(n){this.currentTarget=this.delegatedTarget=n},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var n=this,t=n.browserEvent,i=n.parentEvent;return(n.isStopped=!0,i&&(i.isStopped=!0),!t.stopPropagation)?(t.cancelBubble=!0,n):(t.stopPropagation(),n)},within:function(n,t,i){var r;return n&&(r=t?this.getRelatedTarget():this.getTarget()),r?Ext.fly(n).contains(r)||!!(i&&r===Ext.getDom(n)):!1},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},1,0,0,0,0,0,[Ext.event,"Event",Ext,"EventObjectImpl"],function(n){var t=n.prototype,i={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){return Ext.isGecko?3:Ext.isMac?(Ext.isSafari&&Ext.webKitVersion>=532?120:12)*3:120}()};Ext.apply(n,i);Ext.apply(t,i);t.getTrueXY=t.getXY});Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){function r(t,i){var r=t!=="mousemove";return function(u,f){var e=f.getXY(),o=n.createMouseEvent(u.ownerDocument,t,!0,r,i,e[0],e[1],f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget);n.fireEvent(u,t,o)}}function u(){}var n,t={},i;return!Ext.isIE9m&&document.createEvent?n={createHtmlEvent:function(n,t,i,r){var u=n.createEvent("HTMLEvents");return u.initEvent(t,i,r),u},createMouseEvent:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=n.createEvent("MouseEvents"),y=n.defaultView||window;return v.initMouseEvent?v.initMouseEvent(t,i,r,y,u,f,e,f,e,o,s,h,c,l,a):(v=n.createEvent("UIEvents"),v.initEvent(t,i,r),v.view=y,v.detail=u,v.screenX=f,v.screenY=e,v.clientX=f,v.clientY=e,v.ctrlKey=o,v.altKey=s,v.metaKey=c,v.shiftKey=h,v.button=l,v.relatedTarget=a),v},createUIEvent:function(n,t,i,r,u){var f=n.createEvent("UIEvents"),e=n.defaultView||window;return f.initUIEvent(t,i,r,e,u),f},fireEvent:function(n,t,i){n.dispatchEvent(i)}}:document.createEventObject&&(i={0:1,1:4,2:2},n={createHtmlEvent:function(n,t,i,r){var u=n.createEventObject();return u.bubbles=i,u.cancelable=r,u},createMouseEvent:function(n,t,r,u,f,e,o,s,h,c,l,a,v){var y=n.createEventObject();return y.bubbles=r,y.cancelable=u,y.detail=f,y.screenX=e,y.screenY=o,y.clientX=e,y.clientY=o,y.ctrlKey=s,y.altKey=h,y.shiftKey=c,y.metaKey=l,y.button=i[a]||a,y.relatedTarget=v,y},createUIEvent:function(n,t,i,r){var u=n.createEventObject();return u.bubbles=i,u.cancelable=r,u},fireEvent:function(n,t,i){n.fireEvent("on"+t,i)}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(i,r){var u=r[0],f=r[1];t[i]=function(t){var r=n.createHtmlEvent(i,u,f);n.fireEvent(t,i,r)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(n){t[n]=r(n,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(i,r){var u=r[0],f=r[1];t[i]=function(t){var r=n.createUIEvent(t.ownerDocument,i,u,f,1);n.fireEvent(t,i,r)}}),n||(t={},n={}),function(n){var i=this,r=t[i.type]||u,f=n?n.dom||n:i.getTarget();r(f,i)}}(),preventDefault:function(){var r=this,n=r.browserEvent,i,t;return typeof n.type!="unknown"&&(n.preventDefault?n.preventDefault():(n.type==="mousedown"&&(t=n.target,i=t.getAttribute("unselectable"),i!=="on"&&(t.setAttribute("unselectable","on"),Ext.defer(function(){t.setAttribute("unselectable",i)},1))),n.returnValue=!1,(n.ctrlKey||n.keyCode>111&&n.keyCode<124)&&(n.keyCode=-1))),r},stopPropagation:function(){var n=this,t=n.browserEvent;return typeof t.type!="unknown"&&(n.mousedownEvents[n.type]&&Ext.GlobalEvents.fireMouseDown(n),arguments.callee.$previous.call(this)),n},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var n=this,r,t=function(t){t.keyCode===9&&(n.forwardTab=!t.shiftKey)},i=function(t){t.keyCode===9&&delete n.forwardTab};Ext.isIE9m?(r={0:0,1:0,4:1,2:2},n.override({statics:{enableIEAsync:function(n){var t,i={};for(t in n)i[t]=n[t];return i}},constructor:function(n,t,i,u){var f=this;f.callParent([n,t,i,u]);f.button=r[n.button];n.type==="contextmenu"&&(f.button=2);f.toElement=n.toElement;f.fromElement=n.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(n){this.browserEvent=this.self.enableIEAsync(n)},getRelatedTarget:function(n,t,i){var r=this,f,u;return r.relatedTarget||(f=r.type,r.mouseLeaveRe.test(f)?u=r.toElement:r.mouseEnterRe.test(f)&&(u=r.fromElement),u&&(r.relatedTarget=r.self.resolveTextNode(u))),r.callParent([n,t,i])}}),document.attachEvent("onkeydown",t),document.attachEvent("onkeyup",i),window.attachEvent("onunload",function(){document.detachEvent("onkeydown",t);document.detachEvent("onkeyup",i)})):document.addEventListener&&(document.addEventListener("keydown",t,!0),document.addEventListener("keyup",i,!0))});Ext.cmd.derive("Ext.event.publisher.Dom",Ext.event.publisher.Publisher,{type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var n=this;n.bubbleSubscribers={};n.captureSubscribers={};n.directSubscribers={};n.directCaptureSubscribers={};n.delegatedListeners={};n.initHandlers();Ext.onInternalReady(n.onReady,n);Ext.event.publisher.Publisher.prototype.constructor.call(this)},registerEvents:function(){for(var n=this,u=Ext.event.publisher.Publisher.publishersByEvent,r=n.handledDomEvents,f=r.length,t=0,i;t<f;t++)i=r[t],n.handles[i]=1,u[i]=n;Ext.event.publisher.Publisher.prototype.registerEvents.call(this)},onReady:function(){var n=this,i=n.handledDomEvents,r,t;if(i)for(t=0,r=i.length;t<r;t++)n.addDelegatedListener(i[t]);Ext.getWin().on("unload",n.destroy,n)},initHandlers:function(){var n=this;n.onDelegatedEvent=Ext.bind(n.onDelegatedEvent,n);n.onDirectEvent=Ext.bind(n.onDirectEvent,n);n.onDirectCaptureEvent=Ext.bind(n.onDirectCaptureEvent,n)},addDelegatedListener:function(n){this.delegatedListeners[n]=1;this.target.addEventListener(n,this.onDelegatedEvent,!!this.captureEvents[n])},removeDelegatedListener:function(n){delete this.delegatedListeners[n];this.target.removeEventListener(n,this.onDelegatedEvent,!!this.captureEvents[n])},addDirectListener:function(n,t,i){t.dom.addEventListener(n,i?this.onDirectCaptureEvent:this.onDirectEvent,i)},removeDirectListener:function(n,t,i){t.dom.removeEventListener(n,i?this.onDirectCaptureEvent:this.onDirectEvent,i)},subscribe:function(n,t,i,r){var f=this,u,e;i&&!f.directEvents[t]?(u=r?f.captureSubscribers:f.bubbleSubscribers,f.handles[t]||f.delegatedListeners[t]||f.addDelegatedListener(t),u[t]?++u[t]:u[t]=1):(u=r?f.directCaptureSubscribers:f.directSubscribers,e=n.id,u=u[t]||(u[t]={}),u[e]?++u[e]:(u[e]=1,f.addDirectListener(t,n,r)))},unsubscribe:function(n,t,i,r){var f=this,o,s,u,e;i&&!f.directEvents[t]?(o=f.captureSubscribers,s=f.bubbleSubscribers,u=r?o:s,u[t]&&--u[t],f.handles[t]||s[t]||o[t]||this.removeDelegatedListener(t)):(u=r?f.directCaptureSubscribers:f.directSubscribers,e=n.id,u=u[t],u[e]&&--u[e],u[e]||(delete u[e],f.removeDirectListener(t,n,r)))},getPropagatingTargets:function(n){for(var t=n,r=[],i;t;)r.push(t),i=t.parentNode,i||(i=t.defaultView),t=i;return r},publish:function(n,t,i){var f=this,e,r,u,o;if(Ext.isArray(t)?e=t:f.captureEvents[n]?(r=Ext.cache[t.id],e=r?[r]:[]):e=f.getPropagatingTargets(t),o=e.length,f.captureSubscribers[n])for(u=o;u--;)if(r=Ext.cache[e[u].id],r&&(f.fire(r,n,i,!1,!0),i.isStopped))break;if(!i.isStopped&&f.bubbleSubscribers[n])for(u=0;u<o;u++)if(r=Ext.cache[e[u].id],r&&(f.fire(r,n,i,!1,!1),i.isStopped))break},fire:function(n,t,i,r,u){var f;n.hasListeners[t]&&(f=n.events[t],f&&(u&&r?f=f.directCaptures:u?f=f.captures:r&&(f=f.directs),f&&(i.setCurrentTarget(n.dom),f.fire(i,i.target))))},onDelegatedEvent:function(n){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[n]):this.doDelegatedEvent(n)},doDelegatedEvent:function(n,t){var i=this,r=n.timeStamp;return(n=new Ext.event.Event(n),i.isEventBlocked(n))?!1:(i.beforeEvent(n),Ext.frameStartTime=r,i.reEnterCount++,i.publish(n.type,n.target,n),i.reEnterCount--,t!==!1&&i.afterEvent(n),n)},onDirectEvent:function(n){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[n,!1]):this.doDirectEvent(n,!1)},onDirectCaptureEvent:function(n){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[n,!0]):this.doDirectEvent(n,!0)},doDirectEvent:function(n,t){var i=this,r=n.currentTarget,u=n.timeStamp;(n=new Ext.event.Event(n),i.isEventBlocked(n))||(i.beforeEvent(n),Ext.frameStartTime=u,i.reEnterCount++,i.fire(Ext.cache[r.id],n.type,n,!0,t),i.reEnterCount--,i.afterEvent(n))},beforeEvent:function(n){var r=n.browserEvent,u=Ext.event.publisher.Dom,t,i;r.type==="touchstart"&&(t=r.touches,t.length===1&&(i=t[0],u.lastTouchStartX=i.pageX,u.lastTouchStartY=i.pageY))},afterEvent:function(n){var u=n.browserEvent,t=u.type,r=Ext.event.publisher.Dom,i=Ext.GlobalEvents;n.self.pointerEvents[t]&&n.pointerType!=="mouse"&&(r.lastScreenPointerEventTime=Ext.now());t==="touchend"&&(r.lastTouchEndTime=Ext.now());this.reEnterCount||!i.hasListeners.idle||i.idleEventMask[t]||i.fireEvent("idle")},isEventBlocked:function(n){var i=this,r=n.type,t=Ext.event.publisher.Dom,u=Ext.now();return i.blockedPointerEvents[r]&&n.pointerType!=="mouse"||i.blockedCompatibilityMouseEvents[r]&&u-t.lastScreenPointerEventTime<1e3||Ext.supports.TouchEvents&&n.self.mouseEvents[n.type]&&Math.abs(n.pageX-t.lastTouchStartX)<15&&Math.abs(n.pageY-t.lastTouchStartY)<15&&Ext.now()-t.lastTouchEndTime<1e3},destroy:function(){for(var n in this.delegatedListeners)this.removeDelegatedListener(n)},reset:function(){var n=Ext.event.publisher.Dom;n.lastScreenPointerEventTime=n.lastTouchEndTime=n.lastTouchStartX=n.lastTouchStartY=undefined}},1,0,0,0,0,0,[Ext.event.publisher,"Dom"],function(n){var i=document,t=i.defaultView,r=n.prototype;r.target=Ext.os.is.iOS&&Ext.os.version.getMajor()<5||Ext.browser.is.AndroidStock||!(t&&t.addEventListener)?i:t;n.instance=new n});Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(n){if(Ext.isIE9m){var i=document.body,t=n.prototype,r,u;t.target=document;t.directBoundListeners={};r=function(n,t,i){if(n.target=n.srcElement||window,n.currentTarget=this,i)t.onDirectCaptureEvent(n);else t.onDirectEvent(n)};u=function(n,t){n.target=n.srcElement||window;n.currentTarget=this;t.onDirectCaptureEvent(n)};n.override({addDelegatedListener:function(n){this.delegatedListeners[n]=1;this.target.attachEvent("on"+n,this.onDelegatedEvent)},removeDelegatedListener:function(n){delete this.delegatedListeners[n];this.target.detachEvent("on"+n,this.onDelegatedEvent)},addDirectListener:function(n,t,i){var f=this,u=t.dom,e=Ext.Function.bind(r,u,[f,i],!0),o=f.directBoundListeners,s=o[n]||(o[n]={});s[u.id]=e;u.attachEvent?u.attachEvent("on"+n,e):f.callParent(arguments)},removeDirectListener:function(n,t){var i=t.dom;i.detachEvent?i.detachEvent("on"+n,this.directBoundListeners[n][i.id]):this.callParent(arguments)},doDelegatedEvent:function(n,t){return n.target=n.srcElement||window,n.type==="focusin"?n.relatedTarget=n.fromElement===i?null:n.fromElement:n.type==="focusout"&&(n.relatedTarget=n.toElement===i?null:n.toElement),this.callParent([n,t])}});Ext.apply(t.directEvents,t.captureEvents);t.captureEvents={}}});Ext.cmd.derive("Ext.event.publisher.Gesture",Ext.event.publisher.Dom,{type:"gesture",config:{async:!0},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(n){var t=this,u=t.handledDomEvents,h=Ext.supports,c=h.TouchEvents,l=Ext.Function,f=t.onTouchStart,e=t.onTouchMove,i=t.onTouchEnd,o=l.createAnimationFrame(t.onTouchStart,t,null,1),s=l.createAnimationFrame(t.onTouchMove,t),r=l.createAnimationFrame(t.onTouchEnd,t,null,1);return t._handlers={touchstart:f,touchmove:e,touchend:i,touchcancel:i,pointerdown:f,pointermove:e,pointerup:i,pointercancel:i,MSPointerDown:f,MSPointerMove:e,MSPointerUp:i,MSPointerCancel:i,mousedown:f,mousemove:e,mouseup:i},t._asyncHandlers={touchstart:o,touchmove:s,touchend:r,touchcancel:r,pointerdown:o,pointermove:s,pointerup:r,pointercancel:r,MSPointerDown:o,MSPointerMove:s,MSPointerUp:r,MSPointerCancel:r,mousedown:o,mousemove:s,mouseup:r},t.activeTouchesMap={},t.activeTouches=[],t.changedTouches=[],t.recognizers=[],c&&(t.onTargetTouchMove=t.onTargetTouchMove.bind(t),t.onTargetTouchEnd=t.onTargetTouchEnd.bind(t)),h.PointerEvents?(u.push("pointerdown","pointermove","pointerup","pointercancel"),t.mousePointerType="mouse"):h.MSPointerEvents?(u.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"),t.mousePointerType=4):c&&u.push("touchstart","touchmove","touchend","touchcancel"),(!u.length||c&&Ext.isWebKit&&Ext.os.is.Desktop)&&u.push("mousedown","mousemove","mouseup"),t.initConfig(n),Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(n,t){var i=n.priority,r=t.priority;return i>r?1:i<r?-1:0})},registerRecognizer:function(n){var t=this,r=n.handledEvents,u=r.length,i;for(n.setOnRecognized(t.onRecognized),n.setCallbackScope(t),i=0;i<u;i++)t.handledEvents.push(r[i]);t.registerEvents(r);t.recognizers.push(n)},onRecognized:function(n,t,i){var o=this,r=t.changedTouches,s=r.length,f,e,u,h;if(i=i||{},i.type=n,i.target=r[0].target,i.isStopped=!1,t=t.chain(i),s>1){for(f=[],u=0;u<s;u++)h=r[u],f.push(h.targets);e=o.getCommonTargets(f)}else e=r[0].targets;o.publish(n,e,t)},getCommonTargets:function(n){var f=n[0],o=n.length,t,i,r,e,u;if(o===1)return f;for(t=[],i=1;;){if(r=f[f.length-i],!r)return t;for(u=1;u<o;u++)if(e=n[u],e[e.length-i]!==r)return t;t.unshift(r);i++}return t},invokeRecognizers:function(n,t){var u=this.recognizers,f=u.length,i,r;if(n==="onStart")for(i=0;i<f;i++)u[i].isActive=!0;for(i=0;i<f;i++)r=u[i],r.isActive&&r[n].call(r,t)===!1&&(r.isActive=!1)},updateTouches:function(n,t){for(var e=this,a=n.browserEvent,v=a.changedTouches||[a],o=e.activeTouches,s=e.activeTouchesMap,y=[],r,u,i,h,c,l,f=0,p=v.length;f<p;f++)r=v[f],u="identifier"in r?r.identifier:"pointerId"in r?r.pointerId:1,i=s[u],i||(h=Ext.event.Event.resolveTextNode(r.target),i=s[u]={identifier:u,target:h,targets:e.getPropagatingTargets(h)},o.push(i)),t&&(delete s[u],Ext.Array.remove(o,i)),c=r.pageX,l=r.pageY,i.pageX=c,i.pageY=l,i.point=new Ext.util.Point(c,l),y.push(i);n.touches=Ext.Array.clone(o);n.changedTouches=y},doDelegatedEvent:function(n){var t=this;n=Ext.event.publisher.Dom.prototype.doDelegatedEvent.call(this,n,!1);n&&((!n.button||n.button<1)&&t.handlers[n.type].call(t,n),t.afterEvent(n))},onTouchStart:function(n){var t=this,i=n.target;n.browserEvent.type==="touchstart"&&(i.addEventListener("touchmove",t.onTargetTouchMove),i.addEventListener("touchend",t.onTargetTouchEnd),i.addEventListener("touchcancel",t.onTargetTouchEnd));t.updateTouches(n);t.isStarted||(t.isStarted=!0,t.invokeRecognizers("onStart",n),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause());t.invokeRecognizers("onTouchStart",n)},onTouchMove:function(n){var t=this,i=t.mousePointerType;if(t.isStarted){if(i&&n.browserEvent.pointerType===i&&n.buttons===0){n.type=Ext.dom.Element.prototype.eventMap.touchend;n.button=0;t.onTouchEnd(n);return}t.updateTouches(n);n.changedTouches.length>0&&t.invokeRecognizers("onTouchMove",n)}},onTouchEnd:function(n){var t=this;t.isStarted&&(t.updateTouches(n,!0),t.invokeRecognizers(t.isCancelEvent[n.type]?"onTouchCancel":"onTouchEnd",n),t.activeTouches.length||(t.isStarted=!1,t.invokeRecognizers("onEnd",n),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()))},onTargetTouchMove:function(n){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,this,[n]):this.doTargetTouchMove(n)},doTargetTouchMove:function(n){if(!Ext.getBody().contains(n.target))this.onTouchMove(new Ext.event.Event(n))},onTargetTouchEnd:function(n){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchEnd,this,[n]):this.doTargetTouchEnd(n)},doTargetTouchEnd:function(n){var t=this,i=n.target;if(i.removeEventListener("touchmove",t.onTargetTouchMove),i.removeEventListener("touchend",t.onTargetTouchEnd),i.removeEventListener("touchcancel",t.onTargetTouchEnd),!Ext.getBody().contains(i))t.onTouchEnd(new Ext.event.Event(n))},updateAsync:function(n){this.handlers=n?this._asyncHandlers:this._handlers},reset:function(){var n=this,r=n.recognizers,u=r.length,t,i;for(n.activeTouchesMap={},n.activeTouches=[],n.changedTouches=[],n.isStarted=!1,t=0;t<u;t++)i=r[t],i.reset(),i.isActive=!1;Ext.event.publisher.Dom.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.publisher,"Gesture"],function(n){n.instance=new n});Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(n,t){var i=n.browserEvent,r=n.getXY();i.pageX=r[0];i.pageY=r[1];this.callParent([n,t])},doDelegatedEvent:function(n){this.callParent([Ext.event.Event.enableIEAsync(n)])}})});Ext.cmd.derive("Ext.event.publisher.Focus",Ext.event.publisher.Dom,{type:"focus",handledEvents:["focusenter","focusleave"],handledDomEvents:["focusin","focusout"],doDelegatedEvent:function(n,t){var r=this,i;n=Ext.event.publisher.Dom.prototype.doDelegatedEvent.call(this,n,!1);n&&(n.type==="focusout"?n.relatedTarget==null&&r.processFocusIn(n,n.target,document.body,t):(i=n.relatedTarget,r.processFocusIn(n,i==null||!i.tagName?document.body:i,n.target,t)))},processFocusIn:function(n,t,i,r){for(var o=this,s=Ext.Element.getCommonAncestor(i,t,!0),e=[],f,u=t;u&&u!==s;u=u.parentNode)e.push(u);if(!e.length||(f=o.createSyntheticEvent("focusleave",n,t,i),o.publish("focusleave",e,f),e.length=0,!f.isStopped)){for(u=i;u!==s;u=u.parentNode)e.push(u);(f=o.createSyntheticEvent("focusenter",n,i,t),o.publish("focusenter",e,f),f.isStopped)||(r&&o.afterEvent(n),Ext.GlobalEvents.fireEvent("focus",{event:f,toElement:i,fromElement:t}))}},createSyntheticEvent:function(n,t,i,r){var u=new Ext.event.Event(t);return u.type=n,u.relatedTarget=r,u.target=i,u}},0,0,0,0,0,0,[Ext.event.publisher,"Focus"],function(n){var t;Ext.supports.FocusinFocusoutEvents||this.override({handledDomEvents:["focus","blur"],doDelegatedEvent:function(i,r){var u=this,f;i=u.callSuper([i,!1]);i&&(clearTimeout(t),t=0,i.type==="blur"?(f=i.target===window?document.body:i.target,t=setTimeout(function(){t=0;u.processFocusIn(i,f,document.body,r);n.previousActiveElement=null},0),n.previousActiveElement=i.target===window||i.target===document?null:i.target):u.processFocusIn(i,n.previousActiveElement||document.body,i.target===window?document.body:i.target,r))}});n.instance=new n});Ext.cmd.derive("Ext.mixin.Templatable",Ext.Mixin,{mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var n=document.createDocumentFragment();return n.appendChild(Ext.Element.create(this.getElementConfig(),!0)),n},initElement:function(){var n=this.self.prototype;n.elementTemplate=this.getElementTemplate();n.initElement=n.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(n,t){this.link(n,t)},doInitElement:function(){var r=this.referenceAttributeName,u,i,n,f,t,e;for(u=this.elementTemplate.cloneNode(!0),i=u.querySelectorAll(this.referenceSelector),n=0,f=i.length;n<f;n++)t=i[n],e=t.getAttribute(r),t.removeAttribute(r),this.linkElement(e,t)}},0,0,0,0,0,0,[Ext.mixin,"Templatable"],0);Ext.cmd.derive("Ext.TaskQueue",Ext.Base,{singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},requestRead:function(){this.request(!0);this.readQueue.push(arguments)},requestWrite:function(){this.request(!1);this.writeQueue.push(arguments)},request:function(n){this.pending||(this.pendingTime=Date.now(),this.pending=!0,this.mode=n,n?Ext.defer(this.run,1,this):Ext.Function.requestAnimationFrame(this.run))},watch:function(){this.pending&&Date.now()-this.pendingTime>=500&&this.run()},run:function(){var u,f,h,t,n,e;this.pending=!1;var o=this.readQueue,s=this.writeQueue,i=null,r;for(this.mode?(r=o,s.length>0&&(i=!1)):(r=s,o.length>0&&(i=!0)),u=r.slice(),r.length=0,f=0,h=u.length;f<h;f++)t=u[f],n=t[0],e=t[1],typeof n=="string"&&(n=e[n]),t.length>2?n.apply(e,t[2]):n.call(e);u.length=0;i!==null&&this.request(i)}},1,0,0,0,0,0,[Ext,"TaskQueue"],0);Ext.cmd.derive("Ext.util.sizemonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(n){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(n);this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(n){if(n)return Ext.get(n)},updateElement:function(n){n.append(this.detectorsContainer);n.addCls("x-size-monitored")},applyArgs:function(n){return n.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var t=this.getElement();if(!t||t.isDestroyed)return!1;var f=t.getWidth(),e=t.getHeight(),i=this.getContentWidth(),r=this.getContentHeight(),s=this.contentWidth,h=this.contentHeight,n=this.info,o=!1,u;return this.width=f,this.height=e,this.contentWidth=i,this.contentHeight=r,u=(s!==i?1:0)+(h!==r?2:0),u>0&&(n.width=f,n.height=e,n.contentWidth=i,n.contentHeight=r,n.flag=u,o=!0,this.getCallback().apply(this.getScope(),this.getArgs())),o},refresh:function(n){(this.refreshSize()||n)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var n=this.getElement();this.bindListeners(!1);n&&!n.isDestroyed&&n.removeCls("x-size-monitored");delete this._element;this.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,"Abstract"],0);Ext.cmd.derive("Ext.util.sizemonitor.Default",Ext.util.sizemonitor.Abstract,{updateElement:function(){},bindListeners:function(n){var t=this.getElement().dom;t&&(n?t.onresize=this.refresh:delete t.onresize)},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}},0,0,0,0,0,0,[Ext.util.sizemonitor,"Default"],0);Ext.cmd.derive("Ext.util.sizemonitor.Scroll",Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(){this.onScroll=Ext.Function.bind(this.onScroll,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(n){var t=n?"addEventListener":"removeEventListener";this.expandMonitor[t]("scroll",this.onScroll,!0);this.shrinkMonitor[t]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var n=this.expandMonitor,t=this.shrinkMonitor,i=1e6;n&&!n.isDestroyed&&(n.scrollLeft=i,n.scrollTop=i);t&&!t.isDestroyed&&(t.scrollLeft=i,t.scrollTop=i)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"Scroll"],0);Ext.cmd.derive("Ext.util.sizemonitor.OverflowChange",Ext.util.sizemonitor.Abstract,{constructor:function(){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(n){var t=n?"addEventListener":"removeEventListener";this.expandMonitor[t](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0);this.shrinkMonitor[t](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(n){Ext.browser.is.Webkit&&n.horizontalOverflow&&n.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(n){(!Ext.browser.is.Webkit||n.horizontalOverflow||n.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(!this.isDestroyed){var t=this.expandHelper,i=this.shrinkHelper,r=this.getContentBounds(),u=r.width,f=r.height,n;t&&!t.isDestroyed&&(n=t.style,n.width=u+1+"px",n.height=f+1+"px");i&&!i.isDestroyed&&(n=i.style,n.width=u+"px",n.height=f+"px");Ext.TaskQueue.requestRead("refresh",this)}}},1,0,0,0,0,0,[Ext.util.sizemonitor,"OverflowChange"],0);Ext.cmd.derive("Ext.util.SizeMonitor",Ext.Base,{constructor:function(n){var t=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new t.OverflowChange(n):Ext.browser.is.WebKit?!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq("535")?new t.OverflowChange(n):new t.Scroll(n):Ext.browser.is.IE11?new t.Scroll(n):new t.Default(n)}},1,0,0,0,0,0,[Ext.util,"SizeMonitor"],0);Ext.cmd.derive("Ext.event.publisher.ElementSize",Ext.event.publisher.Publisher,{type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(n){var t=n.id,i=this.subscribers,r=this.monitors;i[t]?++i[t]:(i[t]=1,r[t]=new Ext.util.SizeMonitor({element:n,callback:this.onElementResize,scope:this,args:[n]}));n.on("painted","forceRefresh",r[t]);return!0},unsubscribe:function(n){var t=n.id,i=this.subscribers,u=this.monitors,r;i[t]&&!--i[t]&&(delete i[t],r=u[t],n.un("painted","forceRefresh",r),r.destroy(),delete u[t])},onElementResize:function(n,t){Ext.TaskQueue.requestRead("fire",this,[n,"resize",[n,t]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementSize"],function(n){n.instance=new n});Ext.cmd.derive("Ext.util.paintmonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(n){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(n)},bindListeners:function(n){this.monitorElement[n?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(n){if(n)return Ext.get(n)},updateElement:function(n){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},!0);n.appendChild(this.monitorElement);n.addCls("x-paint-monitored");this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var t=this.monitorElement,i=t.parentNode,n=this.getElement();this.bindListeners(!1);delete this.monitorElement;n&&!n.isDestroyed&&(n.removeCls("x-paint-monitored"),delete this._element);i&&i.removeChild(t);this.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,"Abstract"],0);Ext.cmd.derive("Ext.util.paintmonitor.CssAnimation",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(n){n.animationName==="x-paint-monitor-helper"&&this.getCallback().apply(this.getScope(),this.getArgs())}},0,0,0,0,0,0,[Ext.util.paintmonitor,"CssAnimation"],0);Ext.cmd.derive("Ext.util.paintmonitor.OverflowChange",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(){this.getCallback().apply(this.getScope(),this.getArgs())}},0,0,0,0,0,0,[Ext.util.paintmonitor,"OverflowChange"],0);Ext.cmd.derive("Ext.util.PaintMonitor",Ext.Base,{constructor:function(n){return Ext.browser.is.Firefox||Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq("536")&&!Ext.os.is.Blackberry?new Ext.util.paintmonitor.OverflowChange(n):new Ext.util.paintmonitor.CssAnimation(n)}},1,0,0,0,0,0,[Ext.util,"PaintMonitor"],0);Ext.cmd.derive("Ext.event.publisher.ElementPaint",Ext.event.publisher.Publisher,{type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(n){var t=n.id,i=this.subscribers;i[t]?++i[t]:(i[t]=1,this.monitors[t]=new Ext.util.PaintMonitor({element:n,callback:this.onElementPainted,scope:this,args:[n]}))},unsubscribe:function(n){var t=n.id,i=this.subscribers,r=this.monitors;i[t]&&!--i[t]&&(delete i[t],r[t].destroy(),delete r[t])},onElementPainted:function(n){Ext.TaskQueue.requestRead("fire",this,[n,"painted",[n]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementPaint"],function(n){n.instance=new n});Ext.cmd.derive("Ext.dom.Element",Ext.Base,function(n){var o=window,t=document,nt="ext-window",tt="ext-document",w="width",it="height",ot="min-width",st="min-height",ht="max-width",ct="max-height",lt="top",at="right",vt="bottom",yt="left",pt="visibility",wt="hidden",bt="display",kt="none",dt="z-index",b="position",gt="relative",ni="static",s="-",ti=/\w/g,h=/\s+/,ii=/[\s]+/,ri=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,ui=/table-row|table-.*-group/,fi=/top/i,u={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},f={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},k={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},ei=[f.l,f.r,f.t,f.b],oi=[u.l,u.r,u.t,u.b],si=/\d+$/,rt=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,ut="px",hi=/(-[a-z])/gi,ft=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,c=/^\d+(?:\.\d*)?px$/i,et={},ci=function(n,t){return t.charAt(1).toUpperCase()},d="x-hidden-visibility",l="x-hidden-display",g="x-hidden-offsets",a="x-sized",v="x-unsized",y="x-stretched",li="x-no-touch-scroll",e={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},p,i,r;return{alternateClassName:["Ext.Element"],observableType:"element",isElement:!0,skipGarbageCollection:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(n){var i=this,r;if(typeof n=="string"&&(n=t.getElementById(n)),!n)return null;i.dom=n;r=n.id;r?i.id=r:r=n.id=i.getUniqueId();i.el=i;Ext.cache[r]=i;i.mixins.observable.constructor.call(i)},inheritableStatics:{cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:rt,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},addUnits:function(n,t){return typeof n=="number"?n+(t||ut):n===""||n==="auto"||n==null?n||"":si.test(n)?n+(t||ut):rt.test(n)?n:n||""},create:function(n,i){var c=this,a=e.hidden,u,v,s,r,o,f,y,h;if(n||(n={}),n.isElement)return i?n.dom:n;if("nodeType"in n)return i?n:Ext.get(n);if(typeof n=="string")return t.createTextNode(n);s=n.tag;s||(s="div");u=n.namespace?t.createElementNS(n.namespace,s):t.createElement(s);v=u.style;n[a]&&(h=n.className,h=h==null?"":h+" ",n.className=h+l,delete n[a]);for(o in n)if(o!=="tag"){r=n[o];switch(o){case e.style:if(typeof r=="string")u.setAttribute(o,r);else for(f in r)r.hasOwnProperty(f)&&(v[f]=r[f]);break;case e.className:case e.cls:u.className=r;break;case e.classList:u.className=r.join(" ");break;case e.text:u.textContent=r;break;case e.html:u.innerHTML=r;break;case e.children:for(f=0,y=r.length;f<y;f++)u.appendChild(c.create(r[f],!0));break;default:r!=null&&u.setAttribute(o,r)}}return i?u:c.get(u)},detach:function(){var n=this.dom;return n&&n.parentNode&&n.tagName!=="BODY"&&n.parentNode.removeChild(n),this},fly:function(n,t){return Ext.fly(n,t)},fromPoint:function(n,i){return Ext.get(t.elementFromPoint(n,i))},get:function(i){var c=this,f=Ext.cache,e,s,u,r,l,h,a;if(!i)return null;if(i.isFly&&(i=i.dom),typeof i=="string"){if(u=i,f.hasOwnProperty(u)){if(r=f[u],r.skipGarbageCollection||!Ext.isGarbage(r.dom))return r;r.destroy()}if(u===nt)return n.get(o);if(u===tt)return n.get(t);if(s=Ext.getElementById?Ext.getElementById(u):t.getElementById(u),s)return new n(s)}if(e=i.nodeType,e?(l=e===9,a=c.validNodeTypes[e]):h=i.window==i,a||h){if(u=i.id,f.hasOwnProperty(u)){if(r=f[u],r.skipGarbageCollection||i===r.dom||!Ext.isGarbage(r.dom))return r;r.destroy()}return i===t&&(i.id=tt),i==o&&(i.id=nt),i=new n(i),(h||l)&&(i.skipGarbageCollection=!0),i}return i.isElement?i:i.isComposite?i:Ext.isIterable(i)?c.select(i):null},getActiveElement:function(){var n=t.activeElement;return n&&n.focus||(n=t.body),n},getDocumentHeight:function(){return Math.max(Ext.isStrict?t.documentElement.scrollHeight:t.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?t.documentElement.scrollWidth:t.body.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?o.orientation==0?"portrait":"landscape":o.innerHeight>o.innerWidth?"portrait":"landscape"},getViewportHeight:function(){return o.innerHeight},getViewportWidth:function(){return o.innerWidth},getViewSize:function(){return{width:n.getViewportWidth(),height:n.getViewportHeight()}},normalize:function(n){return et[n]||(et[n]=n.replace(hi,ci))},parseBox:function(n){n=n||0;var r=typeof n,t,i;return r==="number"?{top:n,right:n,bottom:n,left:n}:r!=="string"?n:(t=n.split(" "),i=t.length,i===1?t[1]=t[2]=t[3]=t[0]:i===2?(t[2]=t[0],t[3]=t[1]):i===3&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},parseStyles:function(n){var i={},t;if(n)for(ft.lastIndex=0;t=ft.exec(n);)i[t[1]]=t[2]||"";return i},select:function(n,i,r){return Ext.fly(r||t).select(n,i)},query:function(n,i,r){return Ext.fly(r||t).query(n,i)},unitizeBox:function(n,t){var i=this;return n=i.parseBox(n),i.addUnits(n.top,t)+" "+i.addUnits(n.right,t)+" "+i.addUnits(n.bottom,t)+" "+i.addUnits(n.left,t)},serializeForm:function(n){for(var l=n.elements||(t.forms[n]||Ext.getDom(n)).elements,a=!1,f=encodeURIComponent,e="",p=l.length,i,o,r,c,v,h,y,u,s=0;s<p;s++)if(i=l[s],o=i.name,r=i.type,c=i.options,!i.disabled&&o)if(/select-(one|multiple)/i.test(r))for(y=c.length,h=0;h<y;h++)u=c[h],u.selected&&(v=u.hasAttribute("value"),e+=Ext.String.format("{0}={1}&",f(o),f(v?u.value:u.text)));else/file|undefined|reset|button/i.test(r)||/radio|checkbox/i.test(r)&&!i.checked||r=="submit"&&a||(e+=f(o)+"="+f(i.value)+"&",a=/submit/i.test(r));return e.substr(0,e.length-1)},getCommonAncestor:function(n,t,i){for(r=r||new Ext.dom.Fly,r.attach(Ext.getDom(n));!r.isAncestor(t);)if(r.dom.parentNode)r.attach(r.dom.parentNode);else{r.attach(document.body);break}return i?r.dom:Ext.get(r)}},addCls:function(n,t,i){var u=this,e=u.getData(),l,a,o,c,f,v,r;if(!n)return u;for(e.isSynchronized||u.synchronize(),a=u.dom,o=e.classMap,c=e.classList,t=t?t+s:"",i=i?s+i:"",typeof n=="string"&&(n=n.split(h)),f=0,v=n.length;f<v;f++)r=n[f],r&&(r=t+r+i,o[r]||(o[r]=!0,c.push(r),l=!0));return l&&(a.className=c.join(" ")),u},addStyles:function(n,t){var o=0,r=(n||"").match(ti),i,u=r.length,f,e=[];if(u===1)o=Math.abs(parseFloat(this.getStyle(t[r[0]]))||0);else if(u){for(i=0;i<u;i++)f=r[i],e.push(t[f]);for(e=this.getStyle(e),i=0;i<u;i++)f=r[i],o+=parseFloat(e[t[f]])||0}return o},addUnits:function(t,i){return n.addUnits(t,i)},adjustDirect2DDimension:function(n){var r=this,t=r.dom,i=r.getStyle("display"),e=t.style.display,o=t.style.position,s=n===w?0:1,u=t.currentStyle,f;return i==="inline"&&(t.style.display="inline-block"),t.style.position=i.match(ui)?"absolute":"static",f=(parseFloat(u[n])||parseFloat(u.msTransformOrigin.split(" ")[s])*2)%1,t.style.position=o,i==="inline"&&(t.style.display=e),f},animate:function(n){n=new Ext.fx.Animation(n);n.setElement(this);this._activeAnimation=n;n.on({animationend:this._onAnimationEnd});Ext.Animator.run(n)},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(n,t){var u=this,i,f,r;if(n.nodeType||n.dom||typeof n=="string")return n=Ext.getDom(n),u.dom.appendChild(n),t?n:Ext.get(n);if(n.length){for(i=Ext.fly(document.createDocumentFragment()),f=n.length,r=0;r<f;r++)i.appendChild(n[r],t);return u.dom.appendChild(i.dom),t?i.dom:i}return u.createChild(n,null,t)},appendTo:function(n){return Ext.getDom(n).appendChild(this.dom),this},applyStyles:function(t){return t&&(typeof t=="function"&&(t=t.call()),typeof t=="string"&&(t=n.parseStyles(t)),typeof t=="object"&&this.setStyle(t)),this},blur:function(){var n=this,i=n.dom;if(i!==t.body){try{i.blur()}catch(r){}return n}return n.focus(undefined,i)},cacheScrollValues:function(){var o=this,f=[],r=[],u,n,t,e;for(i=i||new Ext.dom.Fly,u=o.query("*"),t=0,e=u.length;t<e;t++)n=u[t],(n.scrollTop>0||n.scrollLeft!==0)&&(r.push(n),f.push(i.attach(n).getScroll()));return function(){for(var t,n=0,u=r.length;n<u;n++)t=f[n],i.attach(r[n]),i.setScrollLeft(t.left),i.setScrollTop(t.top)}},center:function(n){return this.alignTo(n||t,"c-c")},child:function(n,t){var i=this,r=Ext.get(i).id;return i.selectNode(Ext.makeIdSelector(r)+" > "+n,!!t)},constrainScrollLeft:function(n){var t=this.dom;return Math.max(Math.min(n,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(n){var t=this.dom;return Math.max(Math.min(n,t.scrollHeight-t.clientHeight),0)},createChild:function(n,t,i){return n=n||{tag:"div"},t?Ext.DomHelper.insertBefore(t,n,i!==!0):Ext.DomHelper.append(this.dom,n,i!==!0)},contains:function(n){if(!n)return!1;var t=this,i=Ext.getDom(n);return i===t.dom||t.isAncestor(i)},destroy:function(){var t=this,n=t.dom;n&&n.parentNode&&n.parentNode.removeChild(n);t.collect()},detach:function(){var n=this.dom;return n&&n.parentNode&&n.tagName!=="BODY"&&n.parentNode.removeChild(n),this},disableShadow:function(){var n=this.shadow;n&&(n.hide(),n.disabled=!0)},disableShim:function(){var n=this.shim;n&&(n.hide(),n.disabled=!0)},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(n){n.preventDefault()},destroyable:!0,delegated:!1})},disableTouchScroll:function(){this.addCls(li);this.on({touchmove:function(n){n.preventDefault()},translate:!1})},doReplaceWith:function(n){var t=this.dom;t.parentNode.replaceChild(Ext.getDom(n),t)},doScrollIntoView:function(n,t,r,u,f,e){i=i||new Ext.dom.Fly;var o=this,s=o.dom,h=i.attach(n)[f](),c=n.scrollTop,l=o.getScrollIntoViewXY(n,h,c),a=l.x,v=l.y;return u&&(r?r=Ext.apply({listeners:{afteranimate:function(){i.attach(s).highlight()}}},r):i.attach(s).highlight()),v!==c&&i.attach(n).scrollTo("top",v,r),t!==!1&&a!==h&&i.attach(n)[e]("left",a,r),o},down:function(n,t){return this.selectNode(n,!!t)},enableShadow:function(n,t){var r=this,i=r.shadow||(r.shadow=new Ext.dom.Shadow(Ext.apply({target:r},n))),u=r.shim;u&&(u.offsets=i.outerOffsets,u.shadow=i,i.shim=u);t===!0||t!==!1&&r.isVisible()?i.show():i.hide();i.disabled=!1},enableShim:function(n,t){var r=this,i=r.shim||(r.shim=new Ext.dom.Shim(Ext.apply({target:r},n))),u=r.shadow;u&&(i.offsets=u.outerOffsets,i.shadow=u,u.shim=i);t===!0||t!==!1&&r.isVisible()?i.show():i.hide();i.disabled=!1},findParent:function(n,i,r){var o=this,u=o.dom,f=t.documentElement,e=0;for(i||i===0?typeof i!="number"&&(f=Ext.getDom(i),i=Number.MAX_VALUE):i=50;u&&u.nodeType===1&&e<i&&u!==f;){if(Ext.fly(u).is(n))return r?Ext.get(u):u;e++;u=u.parentNode}return null},findParentNode:function(n,t,i){var r=Ext.fly(this.dom.parentNode);return r?r.findParent(n,t,i):null},first:function(n,t){return this.matchNode("nextSibling","firstChild",n,t)},focus:function(n,t){var i=this;t=t||i.dom;try{Number(n)?Ext.defer(i.focus,n,i,[null,t]):(Ext.GlobalEvents.fireEvent("beforefocus",t),t.focus())}catch(r){}return i},collect:function(){var n=this,t=n.dom,i=n.shadow,r=n.shim;n.isFly||(n.mixins.observable.destroy.call(n),delete Ext.cache[n.id],n.isDestroyed=!0);t&&(t._extData=n.dom=null);i&&(i.hide(),n.shadow=null);r&&(r.hide(),n.shim=null);n.el=null},getAnchorToXY:function(n,t,i,r){return n.getAnchorXY(t,i,r)},getAttribute:function(n,t){var i=this.dom;return t?i.getAttributeNS(t,n)||i.getAttribute(t+":"+n):i.getAttribute(n)||i[n]||null},getAttributes:function(){for(var i=this.dom.attributes,r={},t,n=0,u=i.length;n<u;n++)t=i[n],r[t.name]=t.value;return r},getBottom:function(n){return(n?this.getLocalY():this.getY())+this.getHeight()},getById:function(n,i){var r=t.getElementById(n)||this.dom.querySelector(Ext.makeIdSelector(n));return i?r:r?Ext.get(r):null},getBorderPadding:function(){var n=this.getStyle(ei),t=this.getStyle(oi);return{beforeX:(parseFloat(t[u.l])||0)+(parseFloat(n[f.l])||0),afterX:(parseFloat(t[u.r])||0)+(parseFloat(n[f.r])||0),beforeY:(parseFloat(t[u.t])||0)+(parseFloat(n[f.t])||0),afterY:(parseFloat(t[u.b])||0)+(parseFloat(n[f.b])||0)}},getBorderWidth:function(n){return this.addStyles(n,u)},getData:function(n){var i=this.dom,t;return i&&(t=i._extData,t||n||(i._extData=t={})),t},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(n,t){var r=this,f=r.isStyle("display","none"),i,u;return f?0:(i=r.dom.offsetHeight,Ext.supports.Direct2DBug&&(u=r.adjustDirect2DDimension(it),t?i+=u:u>0&&u<.5&&i++),n&&(i-=r.getBorderWidth("tb")+r.getPadding("tb")),i<0?0:i)},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(n){return n?this.getLocalX():this.getX()},getLocalX:function(){var t=this,i,n=t.getStyle("left");return n&&n!=="auto"?c.test(n)?n=parseFloat(n):(n=t.getX(),i=t.dom.offsetParent,i&&(n-=Ext.fly(i).getX())):n=0,n},getLocalXY:function(){var r=this,i,u=r.getStyle(["left","top"]),n=u.left,t=u.top;return n&&n!=="auto"?c.test(n)?n=parseFloat(n):(n=r.getX(),i=r.dom.offsetParent,i&&(n-=Ext.fly(i).getX())):n=0,t&&t!=="auto"?c.test(t)?t=parseFloat(t):(t=r.getY(),i=r.dom.offsetParent,i&&(t-=Ext.fly(i).getY())):t=0,[n,t]},getLocalY:function(){var t=this,i,n=t.getStyle("top");return n&&n!=="auto"?c.test(n)?n=parseFloat(n):(n=t.getY(),i=t.dom.offsetParent,i&&(n-=Ext.fly(i).getY())):n=0,n},getMargin:function(){var n={t:"top",l:"left",r:"right",b:"bottom"},t=["margin-top","margin-left","margin-right","margin-bottom"];return function(i){var e=this,u,f,r;if(i)r=e.addStyles(i,k);else if(u=e.getStyle(t),r={},u&&typeof u=="object"){r={};for(f in k)r[f]=r[n[f]]=parseFloat(u[k[f]])||0}return r}}(),getPadding:function(n){return this.addStyles(n,f)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(n){return(n?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var e=this,i=e.dom,f=t.documentElement,r,u,n=document.body;return i===t||i===n?(r=f.scrollLeft||(n?n.scrollLeft:0),u=f.scrollTop||(n?n.scrollTop:0)):(r=i.scrollLeft,u=i.scrollTop),{left:r,top:u}},getScrollIntoViewXY:function(n,t,i){var s=this.dom,r=Ext.getDom(n),h=this.getOffsetsTo(r),c=s.offsetWidth,l=s.offsetHeight,u=h[0]+t,f=h[1]+i,a=f+l,v=u+c,e=r.clientHeight,o=r.clientWidth,y=t,p=i,w=p+e,b=y+o;return l>e||f<p?i=f:a>w&&(i=a-e),c>o||u<y?t=u:v>b&&(t=v-o),{x:t,y:i}},getScrollLeft:function(){var n=this.dom;return n===t||n===document.body?this.getScroll().left:n.scrollLeft},getScrollTop:function(){var n=this.dom;return n===t||n===document.body?this.getScroll().top:n.scrollTop},getSize:function(n){return{width:this.getWidth(n),height:this.getHeight(n)}},getStyle:function(t,i){var h=this,u=h.dom,v=typeof t!="string",y=h.styleHooks,r=t,c=r,p=1,l,w,o,f,s,e,a;if(v&&(o={},r=c[0],a=0,!(p=c.length)))return o;if(!u||u.documentElement)return o||"";l=u.style;i?e=l:(e=u.ownerDocument.defaultView.getComputedStyle(u,null),e||(i=!0,e=l));do{if(f=y[r],f||(y[r]=f={name:n.normalize(r)}),f.get?s=f.get(u,h,i,e):(w=f.name,s=e[w]),!v)return s;o[r]=s;r=c[++a]}while(a<p);return o},getStyleValue:function(n){return this.dom.style.getPropertyValue(n)},getTop:function(n){return n?this.getLocalY():this.getY()},getValue:function(n){var t=this.dom.value;return n?parseInt(t,10):t},getViewSize:function(){var i=this.dom;return i===t||i===t.body?{width:n.getViewportWidth(),height:n.getViewportHeight()}:{width:i.clientWidth,height:i.clientHeight}},getVisibilityMode:function(){var r=this,i=r.getData(),t=i.visibilityMode;return t===undefined&&(i.visibilityMode=t=n.DISPLAY),t},getWidth:function(n,t){var r=this,e=r.dom,o=r.isStyle("display","none"),u,i,f;return o?0:(Ext.supports.BoundingClientRect?(u=e.getBoundingClientRect(),i=r.vertical&&!Ext.supports.RotatedBoundingClientRect?u.bottom-u.top:u.right-u.left,i=t?i:Math.ceil(i)):i=e.offsetWidth,Ext.supports.Direct2DBug&&!r.vertical&&(f=r.adjustDirect2DDimension(w),t?i+=f:f>0&&f<.5&&i++),n&&(i-=r.getBorderWidth("lr")+r.getPadding("lr")),i<0?0:i)},getX:function(){return this.getXY()[0]},getXY:function(){var e=Math.round,i=this.dom,r=0,u=0,n,f;if(i!==t&&i!==t.body){try{n=i.getBoundingClientRect()}catch(o){n={left:0,top:0}}r=e(n.left);u=e(n.top);f=Ext.getDoc().getScroll();r+=f.left;u+=f.top}return[r,u]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(n){var t=this.getData();return t.isSynchronized||this.synchronize(),t.classMap.hasOwnProperty(n)},hide:function(){return this.setVisible(!1),this},insertAfter:function(n){return n=Ext.getDom(n),n.parentNode.insertBefore(this.dom,n.nextSibling),this},insertBefore:function(n){return n=Ext.getDom(n),n.parentNode.insertBefore(this.dom,n),this},insertFirst:function(n,t){return n=n||{},n.nodeType||n.dom||typeof n=="string"?(n=Ext.getDom(n),this.dom.insertBefore(n,this.dom.firstChild),t?n:Ext.get(n)):this.createChild(n,this.dom.firstChild,t)},insertHtml:function(n,t,i){var r=Ext.DomHelper.insertHtml(n,this.dom,t);return i?Ext.get(r):r},insertSibling:function(n,t,i){var u=this,h=Ext.DomHelper,e=(t||"before").toLowerCase()==="after",r,o,s,f;if(Ext.isIterable(n)){if(s=n.length,o=Ext.fly(document.createDocumentFragment()),Ext.isArray(n))for(f=0;f<s;f++)r=o.appendChild(n[f],i);else{for(f=0;f<s;f++)o.dom.appendChild(r=n[0]);i===!1&&(r=Ext.get(r))}return u.dom.parentNode.insertBefore(o.dom,e?u.dom.nextSibling:u.dom),r}return n=n||{},n.nodeType||n.dom?(r=u.dom.parentNode.insertBefore(Ext.getDom(n),e?u.dom.nextSibling:u.dom),i||(r=Ext.get(r))):r=e&&!u.dom.nextSibling?h.append(u.dom.parentNode,n,!i):h[e?"insertAfter":"insertBefore"](u.dom,n,!i),r},is:function(n){var t=this.dom;return n?t.tagName?Ext.isFunction(n)?n(t):t[Ext.supports.matchesSelector](n):!1:!0},isAncestor:function(n){var r=!1,t=this.dom,i=Ext.getDom(n);if(t&&i){if(t.contains)return t.contains(i);if(t.compareDocumentPosition)return!!(t.compareDocumentPosition(i)&16);while(i=i.parentNode)r=i===t||r}return r},isPainted:function(){return Ext.browser.is.IE?function(){var n=this.dom;return Boolean(n&&n.offsetHeight!==0&&n.offsetWidth!==0)}:function(){var n=this.dom;return Boolean(n&&n.offsetParent)}}(),isStyle:function(n,t){return this.getStyle(n)===t},isVisible:function(n){var t=this.dom,i;if(!t)return!1;for(p||(p=new Ext.dom.Fly),i=t.ownerDocument.documentElement;t!==i;t=t.parentNode){if(!t||t.nodeType===11||p.attach(t).isStyle(pt,wt)||p.isStyle(bt,kt))return!1;if(!n)break}return!0},last:function(n,t){return this.matchNode("previousSibling","lastChild",n,t)},matchNode:function(n,t,i,r){var f=this.dom,u;if(!f)return null;for(u=f[t];u;){if(u.nodeType===1&&(!i||Ext.fly(u,"_matchNode").is(i)))return r?u:Ext.get(u);u=u[n]}return null},next:function(n,t){return this.matchNode("nextSibling","nextSibling",n,t)},parent:function(n,t){return this.matchNode("parentNode","parentNode",n,t)},position:function(n,t,i,r){var u=this;u.dom.tagName!=="BODY"&&(!n&&u.isStyle(b,ni)?u.setStyle(b,gt):n&&u.setStyle(b,n),t&&u.setStyle(dt,t),(i||r)&&u.setXY([i||!1,r||!1]))},prev:function(n,t){return this.matchNode("previousSibling","previousSibling",n,t)},query:function(n,t,i){var e=this.dom,o,h,c,s,f,r,u;if(!e)return null;for(t=t!==!1,n=n.split(","),i||(o=[]),r=0,h=n.length;r<h;r++)if(typeof n[r]=="string"){if(i)return s=e.querySelector(n[r]),t?s:Ext.get(s);for(f=e.querySelectorAll(n[r]),u=0,c=f.length;u<c;u++)o.push(t?f[u]:Ext.get(f[u]))}return o},radioCls:function(n){var r=this.dom.parentNode.childNodes,t,i,u;for(n=Ext.isArray(n)?n:[n],i=0,u=r.length;i<u;i++)t=r[i],t&&t.nodeType===1&&Ext.fly(t).removeCls(n);return this.addCls(n)},redraw:function(){var n=this.dom,t=n.style;t.display="none";n.offsetHeight;t.display=""},remove:function(){this.destroy()},removeChild:function(n){return this.dom.removeChild(Ext.getDom(n)),this},removeCls:function(n,t,i){var u=this,e=u.getData(),l,a,o,c,f,v,r;if(!n)return u;for(e.isSynchronized||u.synchronize(),a=u.dom,o=e.classMap,c=e.classList,t=t?t+s:"",i=i?s+i:"",typeof n=="string"&&(n=n.split(h)),f=0,v=n.length;f<v;f++)r=n[f],r&&(r=t+r+i,o[r]&&(delete o[r],Ext.Array.remove(c,r),l=!0));return l&&(a.className=c.join(" ")),u},repaint:function(){var n=this;return n.addCls("x-repaint"),Ext.defer(function(){n.dom&&Ext.fly(n.dom).removeCls("x-repaint")},1),n},replace:function(n,t){n=Ext.getDom(n);var i=n.parentNode,r=n.id,u=this.dom;return t!==!1&&r&&Ext.cache[r]?(i.insertBefore(u,n),Ext.get(n).destroy()):i.replaceChild(u,n),this},replaceCls:function(n,t,i,r){var e=this,v,o,c,u,l,f,a=e.getData();if(!n&&!t)return e;for(n=n||[],t=t||[],a.isSynchronized||e.synchronize(),r||(r=""),v=e.dom,o=a.classMap,c=a.classList,i=i?i+s:"",r=r?s+r:"",typeof n=="string"&&(n=n.split(h)),typeof t=="string"&&(t=t.split(h)),u=0,l=n.length;u<l;u++)f=i+n[u]+r,o[f]&&(delete o[f],Ext.Array.remove(c,f));for(u=0,l=t.length;u<l;u++)f=i+t[u]+r,o[f]||(o[f]=!0,c.push(f));return v.className=c.join(" "),e},replaceWith:function(n){var t=this,i=t.dom,u=i.parentNode,f=Ext.cache,r;return t.clearListeners(),n.nodeType||n.dom||typeof n=="string"?(n=Ext.get(n),r=u.insertBefore(n.dom,i)):r=Ext.DomHelper.insertBefore(i,n),u.removeChild(i),t.dom=r,t.isFly||(delete f[t.id],f[t.id=Ext.id(r)]=t),t},resolveListenerScope:function(n){var t=this.component;return t?t.resolveListenerScope(n):this},scroll:function(n,t,i){if(!this.isScrollable())return!1;n=n.charAt(0);var f=this,e=f.dom,o=n==="r"||n==="l"?"left":"top",s=!1,r,u;return(n==="l"||n==="t"||n==="u")&&(t=-t),o==="left"?(r=e.scrollLeft,u=f.constrainScrollLeft(r+t)):(r=e.scrollTop,u=f.constrainScrollTop(r+t)),u!==r&&(this.scrollTo(o,u,i),s=!0),s},scrollBy:function(n,t,i){var r=this,u=r.dom;return n.length?(i=t,t=n[1],n=n[0]):typeof n!="number"&&(i=t,t=n.y,n=n.x),n&&r.scrollTo("left",r.constrainScrollLeft(u.scrollLeft+n),i),t&&r.scrollTo("top",r.constrainScrollTop(u.scrollTop+t),i),r},scrollChildIntoView:function(n,t){Ext.fly(n).scrollIntoView(this,t)},scrollIntoView:function(n,t,i,r){return n=Ext.getDom(n)||Ext.getBody().dom,this.doScrollIntoView(n,t,i,r,"getScrollLeft","scrollTo")},scrollTo:function(n,t,i){var e=fi.test(n),r=this,f=e?"scrollTop":"scrollLeft",o=r.dom,u;return i&&r.anim?(u={to:{}},u.to[f]=t,Ext.isObject(i)&&Ext.applyIf(u,i),r.animate(u)):o[f]=t,r},select:function(n,t){var r,i;return typeof n=="string"?i=this.query(n,!t):(i=n,r=!0),t?new Ext.CompositeElement(i,!r):new Ext.CompositeElementLite(i,!0)},selectNode:function(n,t){return this.query(n,t,!0)},set:function(n,t){var f=this,u=f.dom,i,r;for(i in n)n.hasOwnProperty(i)&&(r=n[i],i==="style"?f.applyStyles(r):i==="cls"?u.className=r:t!==!1?r===undefined?u.removeAttribute(i):u.setAttribute(i,r):u[i]=r);return f},setBottom:function(t){return this.dom.style[vt]=n.addUnits(t),this},setBorder:function(n){var i=this,t=i.dom.style;n||n===0?(n=i.self.unitizeBox(n===!0?1:n),t.setProperty("border-width",n,"important")):(t.removeProperty("border-top-width"),t.removeProperty("border-right-width"),t.removeProperty("border-bottom-width"),t.removeProperty("border-left-width"))},setCls:function(n){var i=this,r=i.getData(),t,e,u,f;for(r.isSynchronized||i.synchronize(),f=r.classMap,typeof n=="string"&&(n=n.split(h)),t=0,e=n.length;t<e;t++)u=n[t],f[u]||(f[u]=!0);r.classList=n.slice();i.dom.className=n.join(" ")},setHeight:function(t){var i=this;return i.dom.style[it]=n.addUnits(t),(i.shadow||i.shim)&&i.syncUnderlays(),i},setHtml:function(n){this.dom&&(this.dom.innerHTML=n)},setId:function(n){var t=this,i=t.id,r=Ext.cache;return i&&delete r[i],t.dom.id=n,t.id=n,r[n]=t,t},setLeft:function(t){var i=this;return i.dom.style[yt]=n.addUnits(t),(i.shadow||i.shim)&&i.syncUnderlays(),i},setLocalX:function(n){var t=this,i=t.dom.style;return i.right="auto",i.left=n===null?"auto":n+"px",(t.shadow||t.shim)&&t.syncUnderlays(),t},setLocalXY:function(n,t){var i=this,r=i.dom.style;return r.right="auto",n&&n.length&&(t=n[1],n=n[0]),n===null?r.left="auto":n!==undefined&&(r.left=n+"px"),t===null?r.top="auto":t!==undefined&&(r.top=t+"px"),(i.shadow||i.shim)&&i.syncUnderlays(),i},setLocalY:function(n){var t=this;return t.dom.style.top=n===null?"auto":n+"px",(t.shadow||t.shim)&&t.syncUnderlays(),t},setMargin:function(n){var i=this,t=i.dom.style;n||n===0?(n=i.self.unitizeBox(n===!0?5:n),t.setProperty("margin",n,"important")):(t.removeProperty("margin-top"),t.removeProperty("margin-right"),t.removeProperty("margin-bottom"),t.removeProperty("margin-left"))},setMaxHeight:function(t){return this.dom.style[ct]=n.addUnits(t),this},setMaxWidth:function(t){return this.dom.style[ht]=n.addUnits(t),this},setMinHeight:function(t){return this.dom.style[st]=n.addUnits(t),this},setMinWidth:function(t){return this.dom.style[ot]=n.addUnits(t),this},setPadding:function(n){var i=this,t=i.dom.style;n||n===0?(n=i.self.unitizeBox(n===!0?5:n),t.setProperty("padding",n,"important")):(t.removeProperty("padding-top"),t.removeProperty("padding-right"),t.removeProperty("padding-bottom"),t.removeProperty("padding-left"))},setRight:function(t){return this.dom.style[at]=n.addUnits(t),this},setScrollLeft:function(n){return this.dom.scrollLeft=n,this},setScrollTop:function(n){return this.dom.scrollTop=n,this},setSize:function(t,i){var r=this,u=r.dom.style;return Ext.isObject(t)&&(i=t.height,t=t.width),u.width=n.addUnits(t),u.height=n.addUnits(i),(r.shadow||r.shim)&&r.syncUnderlays(),r},setSizeState:function(n){var r=this,t,i;return n===!0?(t=a,i=[v,y]):n===!1?(t=v,i=[a,y]):n===null?(t=y,i=[a,v]):i=[a,v,y],t&&r.addCls(t),r.removeCls(i),r},setStyle:function(t,i){var f=this,e=f.dom,o=f.styleHooks,s=e.style,u=t,r;if(typeof u=="string")r=o[u],r||(o[u]=r={name:n.normalize(u)}),i=i==null?"":i,r.set?r.set(e,i,f):s[r.name]=i,r.afterSet&&r.afterSet(e,i,f);else for(u in t)t.hasOwnProperty(u)&&(r=o[u],r||(o[u]=r={name:n.normalize(u)}),i=t[u],i=i==null?"":i,r.set?r.set(e,i,f):s[r.name]=i,r.afterSet&&r.afterSet(e,i,f));return f},setText:function(n){this.dom.textContent=n},setTop:function(t){var i=this;return i.dom.style[lt]=n.addUnits(t),(i.shadow||i.shim)&&i.syncUnderlays(),i},setUnderlaysVisible:function(n){var t=this.shadow,i=this.shim;t&&!t.disabled&&(n?t.show():t.hide());i&&!i.disabled&&(n?i.show():i.hide())},setVisibility:function(n){var t=this.dom.style;n?t.removeProperty("visibility"):t.setProperty("visibility","hidden","important")},setVisibilityMode:function(n){return this.getData().visibilityMode=n,this},setVisible:function(t){var i=this,u=i.getVisibilityMode(),r=t?"removeCls":"addCls";switch(u){case n.DISPLAY:i.removeCls([d,g]);i[r](l);break;case n.VISIBILITY:i.removeCls([l,g]);i[r](d);break;case n.OFFSETS:i.removeCls([d,l]);i[r](g)}return(i.shadow||i.shim)&&i.setUnderlaysVisible(t),i},setWidth:function(t){var i=this;return i.dom.style[w]=n.addUnits(t),(i.shadow||i.shim)&&i.syncUnderlays(),i},setX:function(n){return this.setXY([n,!1])},setXY:function(n){var t=this,r=t.translatePoints(n),u=t.dom.style,i;t.position();u.right="auto";for(i in r)isNaN(r[i])||(u[i]=r[i]+"px");return(t.shadow||t.shim)&&t.syncUnderlays(),t},setY:function(n){return this.setXY([!1,n])},setZIndex:function(n){var t=this;return t.shadow&&t.shadow.setZIndex(n),t.shim&&t.shim.setZIndex(n),t.setStyle("z-index",n)},show:function(){return this.setVisible(!0),this},swapCls:function(n,t,i,r){i===undefined&&(i=!0);var u=this,f=i?n:t,e=i?t:n;return e&&u.removeCls(r?r+"-"+e:e),f&&u.addCls(r?r+"-"+f:f),u},synchronize:function(){var i=this,u=i.dom,f={},e=u.className,n,t,o,s,r=i.getData();if(e&&e.length>0)for(n=u.className.split(ii),t=0,o=n.length;t<o;t++)s=n[t],f[s]=!0;else n=[];return r.classList=n,r.classMap=f,r.isSynchronized=!0,i},syncUnderlays:function(){var n=this,t=n.shadow,i=n.shim,s=n.dom,r,u,f,e,o;n.isVisible()&&(r=n.getXY(),u=r[0],f=r[1],e=s.offsetWidth,o=s.offsetHeight,t&&!t.hidden&&t.realign(u,f,e,o),i&&!i.hidden&&i.realign(u,f,e,o))},toggleCls:function(n,t){return typeof t!="boolean"&&(t=!this.hasCls(n)),t?this.addCls(n):this.removeCls(n)},toggle:function(){return this.setVisible(!this.isVisible()),this},translate:function(){var n="webkitTransform"in t.createElement("div").style?"webkitTransform":"transform";return function(t,i,r){this.dom.style[n]="translate3d("+(t||0)+"px, "+(i||0)+"px, "+(r||0)+"px)"}}(),unwrap:function(){var i=this.dom,t=i.parentNode,n;return t?(n=t.parentNode,n.insertBefore(i,t),n.removeChild(t)):(n=document.createDocumentFragment(),n.appendChild(i)),this},up:function(n,t,i){return this.findParentNode(n,t,!i)},update:function(n){return this.setHtml(n)},wrap:function(n,t,i){var e=this,u=e.dom,r=Ext.DomHelper.insertBefore(u,n||{tag:"div"},!t),f=r;return i&&(f=r.selectNode(i,t)),f.appendChild(u),r},privates:{doAddListener:function(t,i,r,u,f,e,o){var s=this,h,c,l;t=Ext.canonicalEventName(t);s.blockedEvents[t]||(h=s.mixins.observable.doAddListener,u=u||{},s.longpressEvents[t]&&s.disableTouchContextMenu(),n.useDelegatedEvents===!1&&(u.delegated=u.delegated||!1),u.translate!==!1&&(c=s.additiveEvents[t],c&&(u.type=t,t=c,h.call(s,t,i,r,u,f,e,o)),l=s.eventMap[t],l&&(u.type=u.type||t,t=l)),h.call(s,t,i,r,u,f,e,o),delete u.type)},doRemoveListener:function(n,t,i){var r=this,u,f,e,o;r.blockedEvents[n]||(u=r.mixins.observable.doRemoveListener,r.longpressEvents[n]&&(o=this._contextMenuListenerRemover,o&&o.destroy()),e=r.additiveEvents[n],e&&(n=e,u.call(r,n,t,i)),f=r.eventMap[n],f&&u.call(r,f,t,i),u.call(r,n,t,i))},_initEvent:function(n){return this.events[n]=new Ext.dom.ElementEvent(this,n)},_getPublisher:function(n){var i=Ext.event.publisher.Publisher,t=i.publishersByEvent[n];return t&&(this.dom!==window||n!=="resize")||(t=i.publishers.dom),t}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(t){var u=this,r=u.dom,f=r.nodeName==="BODY",e=f?n.getViewportWidth():r.offsetWidth,o=f?n.getViewportHeight():r.offsetHeight,i=u.getXY(),s=i[1],h=i[0]+e,c=i[1]+o,l=i[0];return t?new Ext.util.Region(s,h,c,l):{left:l,top:s,width:e,height:o,right:h,bottom:c}},getScrollParent:null,isDescendent:null,isTransparent:function(n){var t=this.getStyle(n);return t?ri.test(t):!1},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,"Element",Ext,"Element"],function(n){var o=document,a=n.prototype,b=Ext.supports,v="pointerdown",y="pointermove",p="pointerup",w="pointercancel",k="MSPointerDown",d="MSPointerMove",g="MSPointerUp",ut="MSPointerCancel",u="mousedown",f="mousemove",i="mouseup",ft="mouseover",et="mouseout",s="touchstart",h="touchmove",c="touchend",l="touchcancel",nt="click",tt="dblclick",it="tap",rt="doubletap",t=a.eventMap={},r=a.additiveEvents={},ot=Ext.id,e;Ext.id=function(t,i){var u=Ext.getDom(t,!0),f,r;return u?(r=u.id)||(r=ot(null,i||n.prototype.identifiablePrefix),Ext.isSandboxed&&(f=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"),r=f+r),u.id=r):r=ot(t,i),r};b.PointerEvents?(t[u]=v,t[f]=y,t[i]=p,t[s]=v,t[h]=y,t[c]=p,t[l]=w,t[nt]=it,t[tt]=rt,t[ft]="pointerover",t[et]="pointerout",t["mouseenter"]="pointerenter",t["mouseleave"]="pointerleave"):b.MSPointerEvents?(t[v]=k,t[y]=d,t[p]=g,t[w]=ut,t[u]=k,t[f]=d,t[i]=g,t[s]=k,t[h]=d,t[c]=g,t[l]=ut,t[nt]=it,t[tt]=rt,t[ft]="MSPointerOver",t[et]="MSPointerOut"):b.TouchEvents?(t[v]=s,t[y]=h,t[p]=c,t[w]=l,t[u]=s,t[f]=h,t[i]=c,t[nt]=it,t[tt]=rt,Ext.isWebKit&&Ext.os.is.Desktop&&(t[s]=u,t[h]=f,t[c]=i,t[l]=i,r[u]=u,r[f]=f,r[i]=i,r[s]=s,r[h]=h,r[c]=c,r[l]=l,r[v]=u,r[y]=f,r[p]=i,r[w]=i)):(t[v]=u,t[y]=f,t[p]=i,t[w]=i,t[s]=u,t[h]=f,t[c]=i,t[l]=i);Ext.isWebKit&&(t.transitionend=Ext.browser.getVendorProperyName("transitionEnd"),t.animationstart=Ext.browser.getVendorProperyName("animationStart"),t.animationend=Ext.browser.getVendorProperyName("animationEnd"));Ext.supports.MouseWheel||Ext.isOpera||(t.mousewheel="DOMMouseScroll");e=a.$eventOptions=Ext.Object.chain(a.$eventOptions);e.translate=e.capture=e.delegate=e.delegated=e.stopEvent=e.preventDefault=e.stopPropagation=e.element=1;a.getTrueXY=a.getXY;Ext.select=n.select;Ext.query=n.query;Ext.apply(Ext,{get:function(t){return n.get(t)},getDom:function(n){return!n||!o?null:n.dom||(typeof n=="string"?Ext.getElementById(n):n)},getBody:function(){if(!Ext._bodyEl){if(!o.body)throw new Error("[Ext.getBody] document.body does not yet exist");Ext._bodyEl=Ext.get(o.body)}return Ext._bodyEl},getHead:function(){return Ext._headEl||(Ext._headEl=Ext.get(o.head||o.getElementsByTagName("head")[0])),Ext._headEl},getDoc:function(){return Ext._docEl||(Ext._docEl=Ext.get(o)),Ext._docEl},getWin:function(){return Ext._winEl||(Ext._winEl=Ext.get(window)),Ext._winEl},removeNode:function(n){n=n.dom||n;var r=n&&n.id,i=Ext.cache[r],t;i?i.destroy():n&&(n.nodeType===3||n.tagName.toUpperCase()!=="BODY")&&(t=n.parentNode,t&&t.removeChild(n))}});Ext.isGarbage=function(n){return n&&n.nodeType===1&&n.tagName!=="BODY"&&n.tagName!=="HTML"&&(!n.parentNode||!n.offsetParent&&(Ext.isIE8?o.all[n.id]:o.getElementById(n.id))!==n&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(n)))}});Ext.cmd.derive("Ext.util.Filter",Ext.Base,{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,disableOnEmpty:!1,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(n){return n?function(t){for(var f=n.isCollection?n.items:n,e=f.length,r=!0,u,i=0;r&&i<e;i++)u=f[i],u.getDisabled()||(r=u.filter(t));return r}:Ext.returnTrue},isInvalid:function(n){if(!n.filterFn){if(!n.property)return"A Filter requires either a property or a filterFn to be set";if(!n.hasOwnProperty("value")&&!n.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(n){this.initConfig(n)},preventConvert:{"in":1},filter:function(n){var t=this,u=t._filterFn||t.getFilterFn(),r=t.getConvert(),i=t._value;return t._filterValue=i,t.isDateValue=Ext.isDate(i),t.isDateValue&&(t.dateValue=i.getTime()),r&&!t.preventConvert[t.getOperator()]&&(t._filterValue=r.call(t.scope||t,i)),u.call(t.scope||t,n)},getId:function(){var n=this._id;return n||(n=this.getProperty(),n||(n=Ext.id(null,"ext-filter-")),this._id=n),n},getFilterFn:function(){var n=this,t=n._filterFn,i;return t||(i=n.getOperator(),t=i?n.operatorFns[i]:n.createRegexFilter(),n._filterFn=t),t},createRegexFilter:function(){var n=this,t=!!n.getAnyMatch(),r=!!n.getExactMatch(),u=n.getValue(),i=Ext.String.createRegex(u,!t,!t&&r,!n.getCaseSensitive());return function(t){var r=n.getPropertyValue(t);return i?i.test(r):r==null}},getPropertyValue:function(n){var t=this._root,i=t==null?n:n[t];return i[this._property]},getState:function(){var t=this.getInitialConfig(),n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return delete n.root,n.value=this.getValue(),n},getScope:function(){return this.scope},serialize:function(){var n=this.getState(),t=this.getSerializer();return delete n.id,delete n.serializer,t&&t.call(this,n),n},updateOperator:function(){this._filterFn=null},updateValue:function(n){this._filterFn=null;this.getDisableOnEmpty()&&this.setDisabled(Ext.isEmpty(n))},updateDisableOnEmpty:function(n){var t=!1;n&&(t=Ext.isEmpty(this.getValue()));this.setDisabled(t)},privates:{getCandidateValue:function(n,t,i){var u=this,f=u._convert,r=u.getPropertyValue(n);return f?r=f.call(u.scope||u,r):i||(r=Ext.coerce(r,t)),r}}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){var t=this.prototype,n=t.operatorFns={"<":function(n){var t=this._filterValue;return this.getCandidateValue(n,t)<t},"<=":function(n){var t=this._filterValue;return this.getCandidateValue(n,t)<=t},"=":function(n){var t=this,i=t._filterValue;return n=t.getCandidateValue(n,i),t.isDateValue&&n instanceof Date&&(n=n.getTime(),i=t.dateValue),n==i},"===":function(n){var t=this,i=t._filterValue;return n=t.getCandidateValue(n,i,!0),t.isDateValue&&n instanceof Date&&(n=n.getTime(),i=t.dateValue),n===i},">=":function(n){var t=this._filterValue;return this.getCandidateValue(n,t)>=t},">":function(n){var t=this._filterValue;return this.getCandidateValue(n,t)>t},"!=":function(n){var t=this,i=t._filterValue;return n=t.getCandidateValue(n,i),t.isDateValue&&n instanceof Date&&(n=n.getTime(),i=t.dateValue),n!=i},"!==":function(n){var t=this,i=t._filterValue;return n=t.getCandidateValue(n,i,!0),t.isDateValue&&n instanceof Date&&(n=n.getTime(),i=t.dateValue),n!==i},"in":function(n){var t=this._filterValue;return Ext.Array.contains(t,this.getCandidateValue(n,t))},like:function(n){var t=this._filterValue;return t&&this.getCandidateValue(n,t).toLowerCase().indexOf(t.toLowerCase())>-1}};n["=="]=n["="];n.gt=n[">"];n.ge=n[">="];n.lt=n["<"];n.le=n["<="];n.eq=n["="];n.ne=n["!="]});Ext.cmd.derive("Ext.util.Observable",Ext.mixin.Observable,{$applyConfigs:!0},0,0,0,0,0,0,[Ext.util,"Observable"],function(n){var t=Ext.mixin.Observable;n.releaseCapture=t.releaseCapture;n.capture=t.capture;n.captureArgs=t.captureArgs;n.observe=n.observeClass=t.observe});Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(n,t){var i=this;arguments.length===1&&Ext.isObject(n)?(i.initialConfig=n,Ext.apply(i,n)):(i.allowFunctions=n===!0,t&&(i.getKey=t),i.initialConfig={allowFunctions:i.allowFunctions,getKey:i.getKey});i.items=[];i.map={};i.keys=[];i.indexMap={};i.length=0;i.mixins.observable.constructor.call(i)},allowFunctions:!1,add:function(n,t){var i=this.length;return arguments.length===1?this.insert(i,n):this.insert(i,n,t)},getKey:function(n){return n.id},replace:function(n,t){var i=this,r,u;return(arguments.length==1&&(t=arguments[0],n=i.getKey(t)),r=i.map[n],typeof n=="undefined"||n===null||typeof r=="undefined")?i.add(n,t):(i.generation++,u=i.indexOfKey(n),i.items[u]=t,i.map[n]=t,i.hasListeners.replace&&i.fireEvent("replace",n,r,t),t)},updateKey:function(n,t){var i=this,r=i.map,u=i.indexOfKey(n),f=i.indexMap,e;u>-1&&(e=r[n],delete r[n],delete f[n],r[t]=e,f[t]=u,i.keys[u]=t,i.indexGeneration=++i.generation)},addAll:function(n){var i=this,t;if(arguments.length>1||Ext.isArray(n))i.insert(i.length,arguments.length>1?arguments:n);else for(t in n)n.hasOwnProperty(t)&&(i.allowFunctions||typeof n[t]!="function")&&i.add(t,n[t])},each:function(n,t){for(var u=Ext.Array.push([],this.items),i=0,f=u.length,r;i<f;i++)if(r=u[i],n.call(t||r,r,i,f)===!1)break},eachKey:function(n,t){for(var r=this.keys,f=this.items,i=0,u=r.length;i<u;i++)n.call(t||window,r[i],f[i],i,u)},findBy:function(n,t){for(var u=this.keys,r=this.items,i=0,f=r.length;i<f;i++)if(n.call(t||window,r[i],u[i]))return r[i];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(n,t,i){var r;return Ext.isIterable(t)?r=this.doInsert(n,t,i):(r=arguments.length>2?this.doInsert(n,[t],[i]):this.doInsert(n,[t]),r=r[0]),r},doInsert:function(n,t,i){var u=this,f,s,r,e=t.length,h=e,y=u.hasListeners.add,c,o={},l,a,v;if(i!=null)u.useLinearSearch=!0;else for(i=t,t=new Array(e),r=0;r<e;r++)t[r]=this.getKey(i[r]);for(u.suspendEvents(),r=0;r<e;r++)f=t[r],s=u.indexOfKey(f),s!==-1&&(s<n&&n--,u.removeAt(s)),f!=null&&(o[f]!=null&&(l=!0,h--),o[f]=r);if(u.resumeEvents(),l){a=t;v=i;t=new Array(h);i=new Array(h);r=0;for(f in o)t[r]=a[o[f]],i[r]=v[o[f]],r++;e=h}for(c=n===u.length&&u.indexGeneration===u.generation,Ext.Array.insert(u.items,n,i),Ext.Array.insert(u.keys,n,t),u.length+=e,u.generation++,c&&(u.indexGeneration=u.generation),r=0;r<e;r++,n++)f=t[r],f!=null&&(u.map[f]=i[r],c&&(u.indexMap[f]=n)),y&&u.fireEvent("add",n,i[r],f);return i},remove:function(n){var t=this,r,i;return i=!t.useLinearSearch&&(r=t.getKey(n))?t.indexOfKey(r):Ext.Array.indexOf(t.items,n),i===-1?!1:t.removeAt(i)},removeAll:function(n){var t=this,i;if(n||t.hasListeners.remove)if(n)for(i=n.length-1;i>=0;--i)t.remove(n[i]);else while(t.length)t.removeAt(0);else t.length=t.items.length=t.keys.length=0,t.map={},t.indexMap={},t.generation++,t.indexGeneration=t.generation},removeAt:function(n){var t=this,r,i;return n<t.length&&n>=0?(t.length--,r=t.items[n],Ext.Array.erase(t.items,n,1),i=t.keys[n],typeof i!="undefined"&&delete t.map[i],Ext.Array.erase(t.keys,n,1),t.hasListeners.remove&&t.fireEvent("remove",r,i),t.generation++,r):!1},removeRange:function(n,t){var i=this,s,u,r,f,e,o;if(n<i.length&&n>=0){for(t||(t=1),f=Math.min(n+t,i.length),t=f-n,o=f===i.length,e=o&&i.indexGeneration===i.generation,r=n;r<f;r++)u=i.keys[r],u!=null&&(delete i.map[u],e&&delete i.indexMap[u]);return s=i.items[r-1],i.length-=t,i.generation++,e&&(i.indexGeneration=i.generation),o?i.items.length=i.keys.length=i.length:(i.items.splice(n,t),i.keys.splice(n,t)),s}return!1},removeAtKey:function(n){var i=this,r=i.keys,t;if(n==null)for(t=r.length-1;t>=0;t--)r[t]==null&&i.removeAt(t);else return i.removeAt(i.indexOfKey(n))},getCount:function(){return this.length},indexOf:function(n){var t=this,i;return n!=null?!t.useLinearSearch&&(i=t.getKey(n))?this.indexOfKey(i):Ext.Array.indexOf(t.items,n):-1},indexOfKey:function(n){return this.map.hasOwnProperty(n)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[n]):-1},rebuildIndexMap:function(){for(var t=this,r=t.indexMap={},i=t.keys,u=i.length,n=0;n<u;n++)r[i[n]]=n;t.indexGeneration=t.generation},get:function(n){var t=this,i=t.map[n],r=i!==undefined?i:typeof n=="number"?t.items[n]:undefined;return typeof r!="function"||t.allowFunctions?r:null},getAt:function(n){return this.items[n]},getByKey:function(n){return this.map[n]},contains:function(n){var t=this,i;return n!=null?!t.useLinearSearch&&(i=t.getKey(n))?this.map[i]!=null:Ext.Array.indexOf(this.items,n)!==-1:!1},containsKey:function(n){return this.map.hasOwnProperty(n)},clear:function(){var n=this;n.generation&&(n.length=0,n.items=[],n.keys=[],n.map={},n.indexMap={},n.generation++,n.indexGeneration=n.generation);n.hasListeners.clear&&n.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(n,t,i,r){var f=this.extractValues(n,t),o=f.length,e=0,u;for(i=i||0,r=r||r===0?r:o-1,u=i;u<=r;u++)e+=f[u];return e},collect:function(n,t,i){for(var e=this.extractValues(n,t),h=e.length,o={},s=[],r,f,u=0;u<h;u++)r=e[u],f=String(r),!i&&Ext.isEmpty(r)||o[f]||(o[f]=!0,s.push(r));return s},extractValues:function(n,t){var i=this.items;return t&&(i=Ext.Array.pluck(i,t)),Ext.Array.pluck(i,n)},hasRange:function(n,t){return t<this.length},getRange:function(n,t){var o=this,u=o.items,i=[],r=u.length,f,e;return r<1?i:(n>t&&(e=!0,f=n,n=t,t=f),n<0&&(n=0),(t==null||t>=r)&&(t=r-1),i=u.slice(n,t+1),e&&i.length&&i.reverse(),i)},filter:function(n,t,i,r){var u=[];return Ext.isString(n)?u.push(new Ext.util.Filter({property:n,value:t,anyMatch:i,caseSensitive:r})):(Ext.isArray(n)||n instanceof Ext.util.Filter)&&(u=u.concat(n)),this.filterBy(Ext.util.Filter.createFilterFn(u))},filterBy:function(n,t){var i=this,u=new i.self(i.initialConfig),e=i.keys,f=i.items,o=f.length,r;for(u.getKey=i.getKey,r=0;r<o;r++)n.call(t||i,f[r],e[r])&&u.add(e[r],f[r]);return u.useLinearSearch=i.useLinearSearch,u},findIndex:function(n,t,i,r,u){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,r,u),this.findIndexBy(function(i){return i&&t.test(i[n])},null,i))},findIndexBy:function(n,t,i){for(var u=this,e=u.keys,f=u.items,r=i||0,o=f.length;r<o;r++)if(n.call(t||u,f[r],e[r]))return r;return-1},createValueMatcher:function(n,t,i,r){if(!n.exec){var u=Ext.String.escapeRegex;n=String(n);t===!0?n=u(n):(n="^"+u(n),r===!0&&(n+="$"));n=new RegExp(n,i?"":"i")}return n},clone:function(){var n=this,t=new n.self(n.initialConfig);return t.add(n.keys,n.items),t.useLinearSearch=n.useLinearSearch,t}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0);Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(n,t){return t=t||0,function(i,r){for(var e=n.isCollection?n.items:n,o=e.length,f,u=0;u<o;++u)if(f=e[u].sort(i,r),f)return f;return t&&t(i,r)}}},multiplier:1,constructor:function(n){this.initConfig(n)},getId:function(){var n=this._id;return n||(n=this.getProperty(),n||(n=Ext.id(null,"ext-sorter-")),this._id=n),n},sort:function(n,t){return this.multiplier*this.sortFn(n,t)},sortFn:function(n,t){var u=this,f=u._transform,e=u._root,o=u._property,i,r;return e&&(n=n[e],t=t[e]),i=n[o],r=t[o],f&&(i=f(i),r=f(r)),i>r?1:i<r?-1:0},applyDirection:function(n){return n?n:"ASC"},updateDirection:function(n){this.multiplier=n.toUpperCase()==="DESC"?-1:1},updateProperty:function(n){n&&delete this.sortFn},updateSorterFn:function(n){this.sortFn=n},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){return{root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0);Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(n){return n&&n.length?function(t,i){for(var r=n[0].sort(t,i),f=n.length,u=1;!r&&u<f;u++)r=n[u].sort.call(this,t,i);return r}:function(){return 0}}},applySorters:function(n){var t=this,i=t.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);return n&&i.addAll(t.decodeSorters(n)),i},sort:function(n,t,i,r){var u=this,e,o,f=u.getSorters();if(f||(u.setSorters(null),f=u.getSorters()),Ext.isArray(n)?(r=i,i=t):Ext.isObject(n)?(n=[n],r=i,i=t):Ext.isString(n)&&(e=f.get(n),e?t==null?e.toggle():e.setDirection(t):e={property:n,direction:t},n=[e]),n&&n.length){n=u.decodeSorters(n);switch(i){case"multi":f.insert(0,n[0]);o=f.getCount()-u.multiSortLimit;o>0&&f.removeRange(u.multiSortLimit,o);break;case"prepend":f.insert(0,n);break;case"append":f.addAll(n);break;case undefined:case null:case"replace":f.clear();f.addAll(n)}}if(r!==!1){u.fireEvent("beforesort",u,n);u.onBeforeSort(n);u.getSorterCount()&&u.doSort(u.generateComparator())}return n},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var n=this.getSorters().getRange();return n.length?this.createComparator(n):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(n){Ext.isArray(n)||(n=n===undefined?[]:[n]);for(var f=n.length,e=Ext.util.Sorter,u=this.getModel?this.getModel():this.model,r,t,i=0;i<f;i++)t=n[i],t instanceof e||(Ext.isString(t)&&(t={property:t}),Ext.applyIf(t,{root:this.sortRoot,direction:"ASC"}),t.fn&&(t.sorterFn=t.fn),typeof t=="function"&&(t={sorterFn:t}),u&&!t.transform&&(r=u.getField(t.property),t.transform=r&&r.sortType!==Ext.identityFn?r.sortType:undefined),n[i]=new Ext.util.Sorter(t));return n},getFirstSorter:function(){for(var i=this.getSorters().items,r=i.length,n=0,t;n<r;++n)if(t=i[n],!t.isGrouper)return t;return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator});Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(n){this.sortBy(n)},_sort:function(n,t,i){var u=this,r,e,c=String(t).toUpperCase()=="DESC"?-1:1,f=[],h=u.keys,s=u.items,o;for(i=i||function(n,t){return n-t},r=0,e=s.length;r<e;r++)f[f.length]={key:h[r],value:s[r],index:r};for(Ext.Array.sort(f,function(t,r){return i(t[n],r[n])*c||(t.index<r.index?-1:1)}),r=0,e=f.length;r<e;r++)o=f[r],s[r]=o.value,h[r]=o.key,u.indexMap[o.key]=r;u.generation++;u.indexGeneration=u.generation;u.fireEvent("sort",u)},sortBy:function(n){for(var i=this,r=i.items,f,e=i.keys,u,o=r.length,t=0;t<o;t++)r[t].$extCollectionIndex=t;for(Ext.Array.sort(r,function(t,i){return n(t,i)||(t.$extCollectionIndex<i.$extCollectionIndex?-1:1)}),t=0;t<o;t++)f=r[t],u=i.getKey(f),e[t]=u,i.indexMap[u]=t,delete r.$extCollectionIndex;i.generation++;i.indexGeneration=i.generation;i.fireEvent("sort",i,r,e)},findInsertionIndex:function(n,t){var e=this,o=e.items,i=0,u=o.length-1,r,f;for(t||(t=e.generateComparator());i<=u;)r=i+u>>1,f=t(n,o[r]),f>=0?i=r+1:f<0&&(u=r-1);return i},reorder:function(n){var i=this,u=i.items,t=0,e=u.length,r=[],o=[],f;i.suspendEvents();for(f in n)r[n[f]]=u[f];for(t=0;t<e;t++)n[t]==undefined&&o.push(u[t]);for(t=0;t<e;t++)r[t]==undefined&&(r[t]=o.shift());i.clear();i.addAll(r);i.resumeEvents();i.fireEvent("sort",i)},sortByKey:function(n,t){this._sort("key",n,t||function(n,t){var i=String(n).toUpperCase(),r=String(t).toUpperCase();return i>r?1:i<r?-1:0})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0);Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(n){var t=this;typeof n=="number"?t.interval=n:n&&Ext.apply(t,n);t.tasks=[];t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(n){var t=new Ext.util.TaskRunner.Task(n);return t.manager=this,t},start:function(n){var t=this,i=Ext.Date.now();return n.pending||(t.tasks.push(n),n.pending=!0),n.stopped=!1,n.taskStartTime=i,n.taskRunTime=n.fireOnStart!==!1?0:n.taskStartTime,n.taskRunCount=0,t.firing||(n.fireOnStart!==!1?t.startTimer(0,i):t.startTimer(n.interval,i)),n},stop:function(n){return n.stopped||(n.stopped=!0,n.onStop&&n.onStop.call(n.scope||n,n)),n},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var t=this,o=t.tasks,f=Ext.Date.now(),h=1e99,c=o.length,l=Ext.GlobalEvents,e,i,r,n,s,u,a;for(t.timerId=null,t.firing=!0,r=0;r<c||r<(c=o.length);++r){if(n=o[r],!(u=n.stopped)){if(e=n.taskRunTime+n.interval,e<=f){s=1;a=n.hasOwnProperty("fireIdleEvent")?n.fireIdleEvent:t.fireIdleEvent;try{s=n.run.apply(n.scope||n,n.args||[++n.taskRunCount])}catch(v){try{n.onError&&(s=n.onError.call(n.scope||n,n,v))}catch(y){}}n.taskRunTime=f;s===!1||n.taskRunCount===n.repeat?(t.stop(n),u=!0):(u=n.stopped,e=f+n.interval)}!u&&n.duration&&n.duration<=f-n.taskStartTime&&(t.stop(n),u=!0)}u?(n.pending=!1,i||(i=o.slice(0,r))):(i&&i.push(n),h>e&&(h=e))}i&&(t.tasks=i);t.firing=!1;t.tasks.length&&t.startTimer(h-f,Ext.Date.now());a!==!1&&l.hasListeners.idle&&l.fireEvent("idle")},startTimer:function(n,t){var i=this,u=t+n,r=i.timerId;r&&i.nextExpires-u>i.interval&&(clearTimeout(r),r=null);r||(n<i.interval&&(n=i.interval),i.timerId=Ext.defer(i.timerFn,n),i.nextExpires=u)}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var t=this,n=t.prototype;n.destroy=n.stopAll;t.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(n){Ext.apply(this,n)},restart:function(n){n!==undefined&&(this.interval=n);this.manager.start(this)},start:function(n){this.stopped&&this.restart(n)},stop:function(){this.manager.stop(this)}});n=t.Task.prototype;n.destroy=n.stop});Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:!0,constructor:function(n){this.target=n;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0);Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(n,t,i){return i===undefined&&(i=t==="x"?n.getX():t==="y"?n.getY():t==="scrollTop"?n.getScroll().top:t==="scrollLeft"?n.getScroll().left:t==="height"?n.getHeight():t==="width"?n.getWidth():n.getStyle(t)),i},getAttr:function(n,t){var i=this.target;return[[i,this.getElVal(i,n,t)]]},setAttr:function(n){for(var o=n.length,t,i,f,u,e,r=0;r<o;r++){t=n[r].attrs;for(i in t)if(t.hasOwnProperty(i))for(e=t[i].length,u=0;u<e;u++)f=t[i][u],this.setElVal(f[0],i,f[1])}},setElVal:function(n,t,i){t==="x"?n.setX(i):t==="y"?n.setY(i):t==="scrollTop"?n.scrollTo("top",i):t==="scrollLeft"?n.scrollTo("left",i):t==="width"?n.setWidth(i):t==="height"?n.setHeight(i):n.setStyle(t,i)}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0);Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(n,t){for(var f={attrs:[],duration:[],easing:[]},c=n.length,v=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},y={single:!0},l,i,e,o,s,r,h,a,u=0;u<c;u++){i=n[u];s=i.duration;o=i.easing;i=i.attrs;for(e in i)Ext.Array.indexOf(f.attrs,e)==-1&&(f.attrs.push(e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})),f.duration.push(s+"ms"),f.easing.push(o))}for(l=f.attrs.join(","),s=f.duration.join(","),o=f.easing.join(", "),u=0;u<c;u++){i=n[u].attrs;for(e in i)for(a=i[e].length,h=0;h<a;h++)if(r=i[e][h],r[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":l),r[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":s),r[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":o),r[0].setStyle(e,r[1]),t)r=r[0].dom.offsetWidth;else r[0].on(Ext.supports.CSS3TransitionEnd,v,r[0],y)}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0);Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:!0,constructor:function(n){n.id=n.id||Ext.id(null,"ext-composite-");Ext.fx.target.Element.prototype.constructor.call(this,n)},getAttr:function(n,t){for(var u=[],f=this.target,e=f.elements,o=e.length,i,r=0;r<o;r++)i=e[r],i&&(i=f.getElement(i),u.push([i,this.getElVal(i,n,t)]));return u},setAttr:function(n){for(var o=this.target,l=n.length,s=o.elements,a=s.length,h,u,t,i,r,e,c,f=0;f<l;f++){t=n[f].attrs;for(i in t)if(t.hasOwnProperty(i))for(c=t[i].length,e=0;e<c;e++)for(h=t[i][e][1],u=0;u<a;++u)r=s[u],r&&(r=o.getElement(r),this.setElVal(r,i,h))}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0);Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0);Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(n,t){var i;switch(t){case"rotate":case"rotation":return i=n.attr.rotation,{x:i.x||0,y:i.y||0,degrees:i.degrees||0};case"scale":case"scaling":return i=n.attr.scaling,{x:i.x||1,y:i.y||1,cx:i.cx||0,cy:i.cy||0};case"translate":case"translation":return i=n.attr.translation,{x:i.x||0,y:i.y||0};default:return n.attr[t]}},getAttr:function(n,t){return[[this.target,t!==undefined?t:this.getFromPrim(this.target,n)]]},setAttr:function(n){for(var l=n.length,e=[],a,t,h,i,v,c,o,s,u,f,y,r=0;r<l;r++){a=n[r].attrs;for(t in a)for(h=a[t],y=h.length,s=0;s<y;s++)v=h[s][0],i=h[s][1],t==="translate"||t==="translation"?o={x:i.x,y:i.y}:t==="rotate"||t==="rotation"?(u=i.x,isNaN(u)&&(u=null),f=i.y,isNaN(f)&&(f=null),o={degrees:i.degrees,x:u,y:f}):t==="scale"||t==="scaling"?(u=i.x,isNaN(u)&&(u=null),f=i.y,isNaN(f)&&(f=null),o={x:u,y:f,cx:i.cx,cy:i.cy}):o=t==="width"||t==="height"||t==="x"||t==="y"?parseFloat(i):i,c=Ext.Array.indexOf(e,v),c===-1&&(e.push([v,{}]),c=e.length-1),e[c][1][t]=o}for(l=e.length,r=0;r<l;r++)e[r][0].setAttributes(e[r][1]);this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0);Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(n,t){for(var u=[],f=[].concat(this.target.items),e=f.length,r,i=0;i<e;i++)r=f[i],u.push([r,t!==undefined?t:this.getFromPrim(r,n)]);return u}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0);Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(n,t){return[[this.target,t!==undefined?t:this.getPropMethod[n].call(this.target)]]},setAttr:function(n,t,i){for(var h=this,w=n.length,e,f,r,s,v,y,p,c,l,u={},a,o=0;o<w;o++){e=n[o].attrs;for(f in e)for(v=e[f].length,s=0;s<v;s++)r=e[f][s],a=u[h.setMethods[f]]||(u[h.setMethods[f]]={}),a.target=r[0],a[f]=r[1];if(u.setPosition&&(r=u.setPosition,y=r.left===undefined?undefined:parseFloat(r.left),p=r.top===undefined?undefined:parseFloat(r.top),r.target.setPosition(y,p)),u.setPagePosition&&(r=u.setPagePosition,r.target.setPagePosition(r.x,r.y)),u.setSize&&(r=u.setSize,c=r.width===undefined?r.target.getWidth():parseFloat(r.width),l=r.height===undefined?r.target.getHeight():parseFloat(r.height),r.target.el.setSize(c,l),i||h.dynamic))Ext.GlobalEvents.on({idle:Ext.Function.bind(r.target.setSize,r.target,[c,l]),single:!0});u.setOpacity&&(r=u.setOpacity,r.target.el.setStyle("opacity",r.opacity))}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0);Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(n){var t=this.targets.get(n);return t?t.fxDefaults:{}},setFxDefaults:function(n,t){var i=this.targets.get(n);i&&(i.fxDefaults=Ext.apply(i.fxDefaults||{},t))},stopAnimation:function(n){for(var r=this,i=r.getFxQueue(n),t=i.length;t;)i[t-1].end(),t--},getActiveAnimation:function(n){var t=this.getFxQueue(n);return t&&!!t.length?t[0]:!1},hasFxBlock:function(n){var t=this.getFxQueue(n);return t&&t[0]&&t[0].block},getFxQueue:function(n){if(!n)return!1;var t=this,r=t.fxQueue[n],i=t.targets.get(n);if(!i)return!1;if(!r&&(t.fxQueue[n]=[],i.type!=="element"))i.target.on("destroy",function(){t.fxQueue[n]=[]});return t.fxQueue[n]},queueFx:function(n){var r=this,i=n.target,t,u;if(i){if(t=r.getFxQueue(i.getId()),u=t.length,u)if(n.concurrent)n.paused=!1;else t[u-1].on("afteranimate",function(){n.paused=!1});else n.paused=!1;n.on("afteranimate",function(){if(Ext.Array.remove(t,n),t.length===0&&r.targets.remove(n.target),n.remove&&i.type==="element"){var u=Ext.get(i.id);u&&u.destroy()}},r,{single:!0});t.push(n)}}},1,0,0,0,0,0,[Ext.fx,"Queue"],0);Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:!0,constructor:function(){var n=this;n.items=new Ext.util.MixedCollection;n.targetArr={};n.mixins.queue.constructor.call(n);n.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(n){var r=this,i=!r.forceJS&&Ext.supports.Transitions,t;if(r.useCSS3=i,n){if(n.tagName||Ext.isString(n)||n.isFly)n=Ext.get(n),t=new Ext.fx.target["Element"+(i?"CSS":"")](n);else if(n.dom)t=new Ext.fx.target["Element"+(i?"CSS":"")](n);else if(n.isComposite)t=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](n);else if(n.isSprite)t=new Ext.fx.target.Sprite(n);else if(n.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(n);else if(n.isComponent)t=new Ext.fx.target.Component(n);else return n.isAnimTarget?n:null;return r.targets.add(t),t}return null},addAnim:function(n){var t=this,r=t.items,i=t.task;r.add(n.id,n);!i&&r.length&&(i=t.task={run:t.runner,interval:t.interval,scope:t},t.taskRunner.start(i))},removeAnim:function(n){var t=this,i=t.items,r=t.task;i.removeAtKey(n.id);r&&!i.length&&(t.taskRunner.stop(r),delete t.task)},runner:function(){var t=this,r=t.items.getRange(),n=0,u=r.length,i;for(t.targetArr={},t.timestamp=new Date;n<u;n++)i=r[n],i.isReady()&&t.startAnim(i);for(n=0;n<u;n++)i=r[n],i.isRunning()&&t.runAnim(i);t.applyPendingAttrs()},startAnim:function(n){n.start(this.timestamp)},runAnim:function(n,t){if(n){var u=this,f=u.useCSS3&&n.target.type==="element",e=u.timestamp-n.startTime,o=e>=n.duration,i,r;if(t&&(e=n.duration,o=!0),i=this.collectTargetData(n,e,f,o),f){n.target.setAttr(i.anims[n.id].attributes,!0);u.collectTargetData(n,n.duration,f,o);n.paused=!0;i=n.target.target;n.target.isComposite&&(i=n.target.target.last());r={};r[Ext.supports.CSS3TransitionEnd]=n.lastFrame;r.scope=n;r.single=!0;i.on(r)}return i}},jumpToEnd:function(n){var t=this.runAnim(n,!0);this.applyAnimAttrs(t,t.anims[n.id])},collectTargetData:function(n,t,i,r){var f=n.target.getId(),u=this.targetArr[f];return u||(u=this.targetArr[f]={id:f,el:n.target,anims:{}}),u.anims[n.id]={id:n.id,anim:n,elapsed:t,isLastFrame:r,attributes:[{duration:n.duration,easing:i&&n.reverse?n.easingFn.reverse().toCSS3():n.easing,attrs:n.runAnim(t)}]},u},applyAnimAttrs:function(n,t){var i=t.anim;t.attributes&&i.isRunning()&&(n.el.setAttr(t.attributes,!1,t.isLastFrame),t.isLastFrame&&i.lastFrame())},applyPendingAttrs:function(){var i=this.targetArr,t,r,n,u,f;for(r in i)if(i.hasOwnProperty(r)){t=i[r];for(f in t.anims)t.anims.hasOwnProperty(f)&&(n=t.anims[f],u=n.anim,n.attributes&&u.isRunning()&&(t.el.setAttr(n.attributes,!1,n.isLastFrame),n.isLastFrame&&u.lastFrame()))}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0);Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(n){var t=this;n=Ext.apply(t,n||{});t.config=n;t.id=Ext.id(null,"ext-animator-");t.mixins.observable.constructor.call(t,n);t.timeline=[];t.createTimeline(t.keyframes);t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(n,t){return n.pct-t.pct},createTimeline:function(n){var u=this,i=[],c=u.to||{},e=u.duration,o,s,r,h,t,f;for(t in n)n.hasOwnProperty(t)&&u.animKeyFramesRE.test(t)&&(f={attrs:Ext.apply(n[t],c)},t==="from"?t=0:t==="to"&&(t=100),f.pct=parseInt(t,10),i.push(f));for(Ext.Array.sort(i,u.sorter),h=i.length,r=0;r<h;r++)o=i[r-1]?e*(i[r-1].pct/100):0,s=e*(i[r].pct/100),u.timeline.push({duration:s-o,attrs:i[r].attrs})},applyAnimator:function(n){var i=this,f=[],o=i.timeline,e=o.length,t,s,h,u,r;if(i.fireEvent("beforeanimate",i)!==!1){for(r=0;r<e;r++)t=o[r],u=t.attrs,s=u.easing||i.easing,h=u.damper||i.damper,delete u.easing,delete u.damper,t=new Ext.fx.Anim({target:n,easing:s,damper:h,duration:t.duration,paused:!0,to:u}),f.push(t);for(i.animations=f,i.target=t.target,r=0;r<e-1;r++){t=f[r];t.nextAnim=f[r+1];t.on("afteranimate",function(){this.nextAnim.paused=!1});t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},i)}f[e-1].on("afteranimate",function(){this.lastFrame()},i)}},start:function(n){var t=this,i=t.delay,r=t.delayStart,u;if(i)if(r){if(u=n-r,u<i)return;n=new Date(r.getTime()+i)}else{t.delayStart=n;return}t.fireEvent("beforeanimate",t)!==!1&&(t.startTime=n,t.running=!0,t.animations[t.keyframeStep].paused=!1)},lastFrame:function(){var n=this,i=n.iterations,t=n.currentIteration;t++;t<i?(n.startTime=new Date,n.currentIteration=t,n.keyframeStep=0,n.applyAnimator(n.target),n.animations[n.keyframeStep].paused=!1):(n.currentIteration=0,n.end())},end:function(){var n=this;n.fireEvent("afteranimate",n,n.startTime,new Date-n.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0);Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:!0,cubicBezierAtTime:function(n,t,i,r,u,f){function l(n){return((h*n+o)*n+e)*n}function v(n,t){var i=y(n,t);return((a*i+c)*i+s)*i}function y(n,t){for(var r,u,f,s,i=n,c=0;c<8;c++){if(f=l(i)-n,Math.abs(f)<t)return i;if(s=(3*h*i+2*o)*i+e,Math.abs(s)<1e-6)break;i=i-f/s}if(r=0,u=1,i=n,i<r)return r;if(i>u)return u;while(r<u){if(f=l(i),Math.abs(f-n)<t)return i;n>f?r=i:u=i;i=(u-r)/2+r}return i}var e=3*t,o=3*(r-t)-e,h=1-e-o,s=3*i,c=3*(u-i)-s,a=1-s-c;return v(n,1/(200*f))},cubicBezier:function(n,t,i,r){var u=function(u){return Ext.fx.CubicBezier.cubicBezierAtTime(u,n,t,i,r,1)};return u.toCSS3=function(){return"cubic-bezier("+[n,t,i,r].join(",")+")"},u.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-i,1-r,1-n,1-t)},u}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0);Ext.cmd.derive("Ext.fx.Easing",Ext.Base,function(){var t=Math,f=t.PI,n=t.pow,e=t.sin,u=t.sqrt,i=t.abs,r=1.70158;return{singleton:!0,linear:Ext.identityFn,ease:function(t){var f=.07813-t/2,e=u(.0066+f*f),o=e-f,h=n(i(o),1/3)*(o<0?-1:1),s=-e-f,c=n(i(s),1/3)*(s<0?-1:1),r=h+c+.25;return n(1-r,2)*3*r*.1+(1-r)*3*r*r+r*r*r},easeIn:function(t){return n(t,1.7)},easeOut:function(t){return n(t,.48)},easeInOut:function(t){var f=.48-t/1.04,e=u(.1734+f*f),o=e-f,h=n(i(o),1/3)*(o<0?-1:1),s=-e-f,c=n(i(s),1/3)*(s<0?-1:1),r=h+c+.5;return(1-r)*3*r*r+r*r*r},backIn:function(n){return n*n*((r+1)*n-r)},backOut:function(n){return n=n-1,n*n*((r+1)*n+r)+1},elasticIn:function(t){if(t===0||t===1)return t;var i=.3,r=i/4;return n(2,-10*t)*e((t-r)*2*f/i)+1},elasticOut:function(n){return 1-Ext.fx.Easing.elasticIn(1-n)},bounceIn:function(n){return 1-Ext.fx.Easing.bounceOut(1-n)},bounceOut:function(n){var r=7.5625,t=2.75,i;return n<1/t?i=r*n*n:n<2/t?(n-=1.5/t,i=r*n*n+.75):n<2.5/t?(n-=2.25/t,i=r*n*n+.9375):(n-=2.625/t,i=r*n*n+.984375),i}}},0,0,0,0,0,0,[Ext.fx,"Easing"],function(n){var i=n.self,t=i.prototype;i.addMembers({"back-in":t.backIn,"back-out":t.backOut,"ease-in":t.easeIn,"ease-out":t.easeOut,"elastic-in":t.elasticIn,"elastic-out":t.elasticOut,"bounce-in":t.bounceIn,"bounce-out":t.bounceOut,"ease-in-out":t.easeInOut})});Ext.cmd.derive("Ext.fx.DrawPath",Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(n,t){return t=String(t).toLowerCase(),t=="object"&&n===Object(n)||t=="undefined"&&typeof n==t||t=="null"&&n===null||t=="array"&&Array.isArray&&Array.isArray(n)||Object.prototype.toString.call(n).toLowerCase().slice(8,-1)==t},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(n){return n.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(n){if(!n)return null;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=[],i=this;return i.is(n,"array")&&i.is(n[0],"array")&&(t=i.pathClone(n)),t.length||String(n).replace(i.pathCommandRE,function(n,u,f){var e=[],o=u.toLowerCase();for(f.replace(i.pathValuesRE,function(n,t){t&&e.push(+t)}),o=="m"&&e.length>2&&(t.push([u].concat(Ext.Array.splice(e,0,2))),o="l",u=u=="m"?"l":"L");e.length>=r[o];)if(t.push([u].concat(Ext.Array.splice(e,0,r[o]))),!r[o])break}),t.toString=i.path2string,t},pathClone:function(n){var r=[],i,u,t,f;for(this.is(n,"array")&&this.is(n&&n[0],"array")||(n=this.parsePathString(n)),t=0,f=n.length;t<f;t++)for(r[t]=[],i=0,u=n[t].length;i<u;i++)r[t][i]=n[t][i];return r.toString=this.path2string,r},pathToAbsolute:function(n){this.is(n,"array")&&this.is(n&&n[0],"array")||(n=this.parsePathString(n));var s=[],u=0,f=0,h=0,c=0,o=0,l=n.length,i,t,r,e;for(l&&n[0][0]=="M"&&(u=+n[0][1],f=+n[0][2],h=u,c=f,o++,s[0]=["M",u,f]);o<l;o++){if(i=s[o]=[],t=n[o],t[0]!=t[0].toUpperCase()){i[0]=t[0].toUpperCase();switch(i[0]){case"A":i[1]=t[1];i[2]=t[2];i[3]=t[3];i[4]=t[4];i[5]=t[5];i[6]=+(t[6]+u);i[7]=+(t[7]+f);break;case"V":i[1]=+t[1]+f;break;case"H":i[1]=+t[1]+u;break;case"M":h=+t[1]+u;c=+t[2]+f;default:for(r=1,e=t.length;r<e;r++)i[r]=+t[r]+(r%2?u:f)}}else for(r=0,e=t.length;r<e;r++)s[o][r]=t[r];switch(i[0]){case"Z":u=h;f=c;break;case"H":u=i[1];break;case"V":f=i[1];break;case"M":t=s[o];e=t.length;h=t[e-2];c=t[e-1];default:t=s[o];e=t.length;u=t[e-2];f=t[e-1]}}return s.toString=this.path2string,s},interpolatePaths:function(n,t){for(var l=this,r=l.pathToAbsolute(n),u=l.pathToAbsolute(t),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},v=function(n,t){if(n[t].length>7){n[t].shift();for(var i=n[t];i.length;)Ext.Array.splice(n,t++,0,["C"].concat(Ext.Array.splice(i,0,6)));Ext.Array.erase(n,t,1);a=Math.max(r.length,u.length||0)}},y=function(n,t,i,f,e){n&&t&&n[e][0]=="M"&&t[e][0]!="M"&&(Ext.Array.splice(t,e,0,["M",f.x,f.y]),i.bx=0,i.by=0,i.x=n[e][1],i.y=n[e][2],a=Math.max(r.length,u.length||0))},o,s,h,c,i=0,a=Math.max(r.length,u.length||0);i<a;i++)r[i]=l.command2curve(r[i],f),v(r,i),u[i]=l.command2curve(u[i],e),v(u,i),y(r,u,f,e,i),y(u,r,e,f,i),o=r[i],s=u[i],h=o.length,c=s.length,f.x=o[h-2],f.y=o[h-1],f.bx=parseFloat(o[h-4])||f.x,f.by=parseFloat(o[h-3])||f.y,e.bx=parseFloat(s[c-4])||e.x,e.by=parseFloat(s[c-3])||e.y,e.x=s[c-2],e.y=s[c-1];return[r,u]},command2curve:function(n,t){var i=this;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];n[0]!="T"&&n[0]!="Q"&&(t.qx=t.qy=null);switch(n[0]){case"M":t.X=n[1];t.Y=n[2];break;case"A":n=["C"].concat(i.arc2curve.apply(i,[t.x,t.y].concat(n.slice(1))));break;case"S":n=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(n.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x));t.qy=t.y+(t.y-(t.qy||t.y));n=["C"].concat(i.quadratic2curve(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1];t.qy=n[2];n=["C"].concat(i.quadratic2curve(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"].concat(t.x,t.y,n[1],n[2],n[1],n[2]);break;case"H":n=["C"].concat(t.x,t.y,n[1],t.y,n[1],t.y);break;case"V":n=["C"].concat(t.x,t.y,t.x,n[1],t.x,n[1]);break;case"Z":n=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return n},quadratic2curve:function(n,t,i,r,u,f){var e=1/3,o=2/3;return[e*n+o*i,e*t+o*r,e*u+o*i,e*f+o*r,u,f]},rotate:function(n,t,i){var r=Math.cos(i),u=Math.sin(i),f=n*r-t*u,e=n*u+t*r;return{x:f,y:e}},arc2curve:function(n,t,i,r,u,f,e,o,s,h){var k=this,w=Math.PI,si=k.radian,bt=w*120/180,rt=si*(+u||0),a=[],d=Math,ot=d.cos,st=d.sin,kt=d.sqrt,dt=d.abs,gt=d.asin,g,y,p,nt,ut,ft,ht,tt,it,l,c,et,ni,ti,ii,ri,ct,lt,at,vt,b,yt,pt,wt,v,ui,fi,ei,oi;if(h?(l=h[0],c=h[1],tt=h[2],it=h[3]):(g=k.rotate(n,t,-rt),n=g.x,t=g.y,g=k.rotate(o,s,-rt),o=g.x,s=g.y,y=(n-o)/2,p=(t-s)/2,nt=y*y/(i*i)+p*p/(r*r),nt>1&&(nt=kt(nt),i=nt*i,r=nt*r),ut=i*i,ft=r*r,ht=(f==e?-1:1)*kt(dt((ut*ft-ut*p*p-ft*y*y)/(ut*p*p+ft*y*y))),tt=ht*i*p/r+(n+o)/2,it=ht*-r*y/i+(t+s)/2,l=gt(((t-it)/r).toFixed(7)),c=gt(((s-it)/r).toFixed(7)),l=n<tt?w-l:l,c=o<tt?w-c:c,l<0&&(l=w*2+l),c<0&&(c=w*2+c),e&&l>c&&(l=l-w*2),!e&&c>l&&(c=c-w*2)),et=c-l,dt(et)>bt&&(fi=c,ei=o,oi=s,c=l+bt*(e&&c>l?1:-1),o=tt+i*ot(c),s=it+r*st(c),a=k.arc2curve(o,s,i,r,u,0,e,ei,oi,[c,fi,tt,it])),et=c-l,ni=ot(l),ti=st(l),ii=ot(c),ri=st(c),ct=d.tan(et/4),lt=4/3*i*ct,at=4/3*r*ct,vt=[n,t],b=[n+lt*ti,t-at*ni],yt=[o+lt*ri,s-at*ii],pt=[o,s],b[0]=2*vt[0]-b[0],b[1]=2*vt[1]-b[1],h)return[b,yt,pt].concat(a);for(a=[b,yt,pt].concat(a).join().split(","),wt=[],ui=a.length,v=0;v<ui;v++)wt[v]=v%2?k.rotate(a[v-1],a[v],rt).y:k.rotate(a[v],a[v+1],rt).x;return wt}},0,0,0,0,0,0,[Ext.fx,"DrawPath"],0);Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(n,t,i,r,u){i=typeof i=="number"?i:1;var o=this.unitRE,f=o.exec(n),s,e;return f&&(n=f[1],e=f[2],this.scrollRE.test(u)||e||!this.pixelDefaultsRE.test(u)||(e="px")),n=+n||0,f=o.exec(t),f&&(t=f[1],e=f[2]||e),t=+t||0,s=r!=null?r:n,{from:n,delta:(t-s)*i,units:e}},get:function(n,t,i,r,u){for(var l=n.length,o=[],s,h,e,c,f=0;f<l;f++)if(r&&(s=r[f][1].from),Ext.isArray(n[f][1])&&Ext.isArray(t)){for(h=[],e=0,c=n[f][1].length;e<c;e++)h.push(this.computeDelta(n[f][1][e],t[e],i,s,u));o.push([n[f][0],h])}else o.push([n[f][0],this.computeDelta(n[f][1],t,i,s,u)]);return o},set:function(n,t){for(var s=n.length,f=[],i,e,o,u,r=0;r<s;r++)if(i=n[r][1],Ext.isArray(i)){for(e=[],u=0,o=i.length;u<o;u++)e.push(i[u].from+i[u].delta*t+(i[u].units||0));f.push([n[r][0],e])}else f.push([n[r][0],i.from+i.delta*t+(i.units||0)]);return f}},stringHandler:{computeDelta:function(n,t){return{from:n,delta:t}},get:function(n,t,i,r,u){for(var o=n.length,e=[],s,f=0;f<o;f++)e.push([n[f][0],this.computeDelta(n[f][1],t,i,s,u)]);return e},set:function(n){for(var u=n.length,i=[],r,t=0;t<u;t++)r=n[t][1],i.push([n[t][0],r.delta]);return i}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(n,t){t=typeof t=="number"?t:1;for(var f=!1,e=[this.hexRE,this.rgbRE,this.hex3RE],s=e.length,i,u,o,r=0;r<s;r++)if(o=e[r],u=r%2==0?16:10,i=o.exec(n),i&&i.length===4){r===2&&(i[1]+=i[1],i[2]+=i[2],i[3]+=i[3]);f={red:parseInt(i[1],u),green:parseInt(i[2],u),blue:parseInt(i[3],u)};break}return f||n},computeDelta:function(n,t,i,r){n=this.parseColor(n);t=this.parseColor(t,i);var u=r?r:n,f=typeof u,e=typeof t;return f==="string"||f==="undefined"||e==="string"||e==="undefined"?t||u:{from:n,delta:{red:Math.round((t.red-u.red)*i),green:Math.round((t.green-u.green)*i),blue:Math.round((t.blue-u.blue)*i)}}},get:function(n,t,i,r){for(var o=n.length,f=[],e,u=0;u<o;u++)r&&(e=r[u][1].from),f.push([n[u][0],this.computeDelta(n[u][1],t,i,e)]);return f},set:function(n,t){for(var s=n.length,e=[],i,o,u,f,r=0;r<s;r++)if(i=n[r][1],i){if(u=i.from,f=i.delta,i=typeof i=="object"&&"red"in i?"rgb("+i.red+", "+i.green+", "+i.blue+")":i,i=typeof i=="object"&&i.length?i[0]:i,typeof i=="undefined")return[];o=typeof i=="string"?i:"rgb("+[(u.red+Math.round(f.red*t))%256,(u.green+Math.round(f.green*t))%256,(u.blue+Math.round(f.blue*t))%256].join(",")+")";e.push([n[r][0],o])}return e}},object:{interpolate:function(n,t){t=typeof t=="number"?t:1;var i={};for(var r in n)i[r]=parseFloat(n[r])*t;return i},computeDelta:function(n,t,i,r){n=this.interpolate(n);t=this.interpolate(t,i);var e=r?r:n,f={};for(var u in t)f[u]=t[u]-e[u];return{from:n,delta:f}},get:function(n,t,i,r){for(var o=n.length,f=[],e,u=0;u<o;u++)r&&(e=r[u][1].from),f.push([n[u][0],this.computeDelta(n[u][1],t,i,e)]);return f},set:function(n,t){for(var h=n.length,e=[],o={},u,s,f,r,i=0;i<h;i++){f=n[i][1];u=f.from;s=f.delta;for(r in u)o[r]=u[r]+s[r]*t;e.push([n[i][0],o])}return e}},path:{computeDelta:function(n,t,i,r){i=typeof i=="number"?i:1;var u;return n=+n||0,t=+t||0,u=r!=null?r:n,{from:n,delta:(t-u)*i}},forcePath:function(n){return Ext.isArray(n)||Ext.isArray(n[0])||(n=Ext.fx.DrawPath.parsePathString(n)),n},get:function(n,t,i,r){for(var h=this.forcePath(t),l=[],p=n.length,a,v,e,y,u,o,c,f,s=0;s<p;s++){for(f=this.forcePath(n[s][1]),e=Ext.fx.DrawPath.interpolatePaths(f,h),f=e[0],h=e[1],a=f.length,c=[],u=0;u<a;u++){for(e=[f[u][0]],v=f[u].length,o=1;o<v;o++)y=r&&r[0][1][u][o].from,e.push(this.computeDelta(f[u][o],h[u][o],i,y));c.push(e)}l.push([n[s][0],c])}return l},set:function(n,t){for(var l=n.length,s=[],i,f,e,o,r,h,c,u=0;u<l;u++){for(r=n[u][1],e=[],h=r.length,i=0;i<h;i++){for(o=[r[i][0]],c=r[i].length,f=1;f<c;f++)o.push(r[i][f].from+r[i][f].delta*t);e.push(o.join(","))}s.push([n[u][0],e.join(",")])}return s}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){for(var t=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],r=t.length,n=0,i;n<r;n++)i=t[n],this[i]=this.color;for(t=["cursor"],r=t.length,n=0;n<r;n++)i=t[n],this[i]=this.stringHandler});Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(n){var t=this,i;if(n=n||{},n.keyframes)return new Ext.fx.Animator(n);Ext.apply(t,n);t.from===undefined&&(t.from={});t.propHandlers={};t.config=n;t.target=Ext.fx.Manager.createTarget(t.target);t.easingFn=Ext.fx.Easing[t.easing];t.target.dynamic=t.dynamic;t.easingFn||(t.easingFn=String(t.easing).match(t.bezierRE),t.easingFn&&t.easingFn.length===5&&(i=t.easingFn,t.easingFn=Ext.fx.CubicBezier.cubicBezier(+i[1],+i[2],+i[3],+i[4])));t.id=Ext.id(null,"ext-anim-");t.mixins.observable.constructor.call(t);Ext.fx.Manager.addAnim(t);n.autoEnd&&(t.running=!0,t.jumpToEnd())},setAttr:function(n,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,n,t)},initAttrs:function(){var t=this,o=t.from,i=t.to,s=t.initialFrom||{},u={},f,r,e;for(var n in i)i.hasOwnProperty(n)&&(f=t.target.getAttr(n,o[n]),r=i[n],e=Ext.fx.PropertyHandler[n]?t.propHandlers[n]=Ext.fx.PropertyHandler[n]:Ext.isObject(r)?t.propHandlers[n]=Ext.fx.PropertyHandler.object:t.propHandlers[n]=Ext.fx.PropertyHandler.defaultHandler,u[n]=e.get(f,r,t.damper,s[n],n));t.currentAttrs=u},start:function(n){var t=this,i=t.delay,r=t.delayStart,u;if(i)if(r){if(u=n-r,u<i)return;n=new Date(r.getTime()+i)}else{t.delayStart=n;return}t.fireEvent("beforeanimate",t)!==!1&&(t.startTime=n,t.paused||t.currentAttrs||t.initAttrs(),t.running=!0,t.frameCount=0)},jumpToEnd:function(){var n=this;n.endWasCalled||(n.currentAttrs||n.initAttrs(),Ext.fx.Manager.jumpToEnd(n),n.end())},runAnim:function(n){var t=this,u=t.currentAttrs,r=t.duration,h=t.easingFn,c=t.propHandlers,f={},e,o,i,s;n>=r&&(n=r,s=!0);t.reverse&&(n=r-n);for(i in u)u.hasOwnProperty(i)&&(o=u[i],e=s?1:h(n/r),f[i]=c[i].set(o,e));return t.frameCount++,f},lastFrame:function(){var n=this,i=n.iterations,t=n.currentIteration;t++;t<i?(n.alternate&&(n.reverse=!n.reverse),n.startTime=new Date,n.currentIteration=t,n.paused=!1):(n.currentIteration=0,n.end(),n.fireEvent("lastframe",n,n.startTime))},endWasCalled:0,end:function(){var n=this;n.endWasCalled++||(n.startTime=0,n.paused=!1,n.running=!1,Ext.fx.Manager.removeAnim(n),n.fireEvent("afteranimate",n,n.startTime),Ext.callback(n.callback,n.scope,[n,n.startTime]),n.remove&&n.target.destroy())},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0);Ext.enableFx=!0;Ext.cmd.derive("Ext.util.Animate",Ext.Base,{mixinId:"animate",isAnimate:!0,animate:function(n){var t=this;return Ext.fx.Manager.hasFxBlock(t.id)?t:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(n))),this)},anim:function(n){if(!Ext.isObject(n))return n?{}:!1;var t=this;return n.stopAnimation&&t.stopAnimation(),Ext.applyIf(n,Ext.fx.Manager.getFxDefaults(t.id)),Ext.apply({target:t,paused:!0},n)},getAnimationProps:function(){var t=this,n=t.layout;return n&&n.animate?n.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],0);Ext.cmd.derive("Ext.dom.Fly",Ext.dom.Element,{alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(n){this.dom=n;this.el=this},attach:function(n){var t=this;return n?(t.dom=n,Ext.cache[n.id]||(t.getData().isSynchronized=!1),t):t.detach()},detach:function(){this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,"Fly",Ext.dom.Element,"Fly"],function(n){var t={};n.cache=t;Ext.fly=function(i,r){var u=null,o=Ext.fly,f,e;return r=r||o.caller&&o.caller.$name||"_global",i=Ext.getDom(i),i&&(f=i.nodeType,(n.prototype.validNodeTypes[f]||!f&&i.window==i)&&(u=Ext.cache[i.id],u&&u.dom===i||(u=t[r]||(t[r]=new n),u.dom=i,e=u.getData(!0),e&&(e.isSynchronized=!1)))),u}});Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:["Ext.CompositeElementLite"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var t=Ext.dom.Element,n=this.prototype;Ext.Object.each(t.prototype,function(t,i){typeof i!="function"||n[t]||(n[t]=function(){return this.invoke(t,arguments)})})}},constructor:function(n,t){t?this.elements=n||[]:(this.elements=[],this.add(n))},getElement:function(n){var t=this._fly||(this._fly=new Ext.dom.Fly);return t.attach(n)},transformElement:function(n){return Ext.getDom(n)},getCount:function(){return this.elements.length},add:function(n,t){var u=this.elements,i,r;if(!n)return this;for(typeof n=="string"?n=Ext.fly(t||document).query(n):n.isComposite?n=n.elements:Ext.isIterable(n)||(n=[n]),i=0,r=n.length;i<r;++i)u.push(this.transformElement(n[i]));return this},invoke:function(n,t){var r=this,f=r.elements,o=f.length,e,u,i;if(i!==0)for(e=(r.isLite?Ext.dom.Fly:Ext.dom.Element).prototype,i=0;i<o;i++)u=f[i],u&&e[n].apply(r.getElement(u),t);return r},item:function(n){var t=this.elements[n],i=null;return t&&(i=this.getElement(t)),i},slice:function(n,t){return Ext.Array.slice(this.elements,n,t)},each:function(n,t){for(var u=this,f=u.elements,e=f.length,i,r=0;r<e;r++)if(i=f[r],i&&(i=this.getElement(i),n.call(t||i,i,u,r)===!1))break;return u},fill:function(n){var t=this;return t.elements=[],t.add(n),t},insert:function(n,t){Ext.Array.insert(this.elements,n,t)},filter:function(n){for(var i=this,f=i.elements,o=f.length,e=[],r=0,s=typeof n=="function",u,t;r<o;r++)t=f[r],u=!1,t&&(t=i.getElement(t),u=s?n.call(t,t,i,r)!==!1:t.is(n),u&&e.push(i.transformElement(t)));return i.elements=e,i},indexOf:function(n){return Ext.Array.indexOf(this.elements,this.transformElement(n))},replaceElement:function(n,t,i){var u=isNaN(n)?this.indexOf(n):n,r;return u>-1&&(t=Ext.getDom(t),i&&(r=this.elements[u],r.parentNode.insertBefore(t,r),Ext.removeNode(r)),Ext.Array.splice(this.elements,u,1,t)),this},clear:function(n){var r=this,i=r.elements,t=i.length-1;if(n)for(;t>=0;t--)Ext.removeNode(i[t]);this.elements=[]},addElements:function(n,t){if(!n)return this;typeof n=="string"&&(n=Ext.dom.Element.selectorFunction(n,t));for(var r=this.elements,u=n.length,i=0;i<u;i++)r.push(Ext.get(n[i]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(n){return this.indexOf(n)!=-1},removeElement:function(n,t){n=[].concat(n);for(var f=this,e=f.elements,o=n.length,i,r,u=0;u<o;u++)i=n[u],(r=e[i]||e[i=f.indexOf(i)])&&(t&&(r.dom?r.destroy():Ext.removeNode(r)),Ext.Array.erase(e,i,1));return f},destroy:function(){return this.invoke("destroy",arguments)}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(n){var t=n.prototype;n.importElementMethods();t.on=t.addListener});Ext.define("Ext.overrides.dom.Element",function(){var n,i=window,t=document,u="hidden",f="isClipped",e="overflow",o="overflow-x",s="overflow-y",v="originalClip",nt="height",tt="width",y="visibility",r="display",h="none",it="offsets",a="originalDisplay",p="visibilityMode",rt="isVisible",ut="x-hidden-offsets",ft='<div class="{0}-tl" role="presentation"><div class="{0}-tr" role="presentation"><div class="{0}-tc" role="presentation"><\/div><\/div><\/div><div class="{0}-ml" role="presentation"><div class="{0}-mr" role="presentation"><div class="{0}-mc" role="presentation"><\/div><\/div><\/div><div class="{0}-bl" role="presentation"><div class="{0}-br" role="presentation"><div class="{0}-bc" role="presentation"><\/div><\/div><\/div>',et=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,ot=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,st=/\ssrc=([\'\"])(.*?)\1/i,ht=/\S/,ct=/\stype=([\'\"])(.*?)\1/i,lt=/^-ms-/,at=/(-[a-z])/gi,vt=function(n,t){return t.charAt(1).toUpperCase()},w="x-masked",b="x-masked-relative",k="x-mask-msg",yt=/^body/i,d={},g=function(n){var i=n.getData(),t=i[a];return t===undefined&&(i[a]=t=""),t},pt=function(t){var r=t.getData(),i=r[p];return i===undefined&&(r[p]=i=n.VISIBILITY),i},c,l=t.createRange?t.createRange():null,wt={INPUT:!0,TEXTAREA:!0};return{override:"Ext.dom.Element",mixins:["Ext.util.Animate"],skipGarbageCollection:!1,_init:function(t){n=t},statics:{selectableCls:"x-selectable",unselectableCls:"x-unselectable",tabIndexAttributeName:Ext.isIE8?"tabIndex":"tabindex",tabbableSelector:'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:Ext.isIE?!0:!1},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:Ext.isIE8m?!0:!1},tabbableSavedFlagAttribute:"data-tabindexsaved",tabbableSavedAttribute:"data-savedtabindex",normalize:function(n){return n==="float"&&(n=Ext.supports.Float?"cssFloat":"styleFloat"),d[n]||(d[n]=n.replace(lt,"ms-").replace(at,vt))},getViewportHeight:function(){return Ext.isIE9m?t.documentElement.clientHeight:i.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?document.body.clientWidth:Ext.isIE9m?t.documentElement.clientWidth:i.innerWidth}},addClsOnClick:function(n,t,i){var r=this,u=r.dom,f=Ext.isFunction(t);r.on("mousedown",function(){if(f&&t.call(i||r,r)===!1)return!1;Ext.fly(u).addCls(n);var e=Ext.getDoc(),o=function(){Ext.fly(u).removeCls(n);e.removeListener("mouseup",o)};e.on("mouseup",o)});return r},addClsOnFocus:function(n,t,i){var r=this,u=r.dom,f=Ext.isFunction(t);r.on("focus",function(){if(f&&t.call(i||r,r)===!1)return!1;Ext.fly(u).addCls(n)});r.on("blur",function(){Ext.fly(u).removeCls(n)});return r},addClsOnOver:function(n,t,i){var r=this,u=r.dom,f=Ext.isFunction(t);return r.hover(function(){f&&t.call(i||r,r)===!1||Ext.fly(u).addCls(n)},function(){Ext.fly(u).removeCls(n)}),r},addKeyListener:function(n,t,i){var r;return r=typeof n!="object"||Ext.isArray(n)?{target:this,key:n,fn:t,scope:i}:{target:this,key:n.key,shift:n.shift,ctrl:n.ctrl,alt:n.alt,fn:t,scope:i},new Ext.util.KeyMap(r)},addKeyMap:function(n){return new Ext.util.KeyMap(Ext.apply({target:this},n))},afterAnimate:function(){var n=this.shadow;!n||n.disabled||n.animate||n.show()},anchorAnimX:function(n){var t=n==="l"?"right":"left";this.dom.style[t]="0px"},anim:function(n){if(!Ext.isObject(n))return n?{}:!1;var i=this,r=n.duration||Ext.fx.Anim.prototype.duration,u=n.easing||"ease",t;return n.stopAnimation&&i.stopAnimation(),Ext.applyIf(n,Ext.fx.Manager.getFxDefaults(i.id)),Ext.fx.Manager.setFxDefaults(i.id,{delay:0}),t={target:i.dom,remove:n.remove,alternate:n.alternate||!1,duration:r,easing:u,callback:n.callback,listeners:n.listeners,iterations:n.iterations||1,scope:n.scope,block:n.block,concurrent:n.concurrent,delay:n.delay||0,paused:!0,keyframes:n.keyframes,from:n.from||{},to:Ext.apply({},n)},Ext.apply(t.to,n.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},animate:function(n){var t=this,f=t.dom.id||Ext.id(t.dom),r,i,u;if(!Ext.fx.Manager.hasFxBlock(f)){n.listeners&&(r=n.listeners,delete n.listeners);n.internalListeners&&(n.listeners=n.internalListeners,delete n.internalListeners);u=n.autoEnd;delete n.autoEnd;i=new Ext.fx.Anim(t.anim(n));i.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:t,single:!0});if(r)i.on(r);Ext.fx.Manager.queueFx(i);u&&i.jumpToEnd()}return t},beforeAnimate:function(){var n=this.shadow;!n||n.disabled||n.animate||n.hide()},boxWrap:function(n){n=n||"x-box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+n+"' role='presentation'>"+Ext.String.format(ft,n)+"<\/div>"));return t.selectNode("."+n+"-mc").appendChild(this.dom),t},clean:function(n){var r=this,u=r.dom,f=r.getData(),t=u.firstChild,e=-1,i;if(f.isCleaned&&n!==!0)return r;while(t)i=t.nextSibling,t.nodeType===3?ht.test(t.nodeValue)?i&&i.nodeType===3&&(t.appendData(Ext.String.trim(i.data)),u.removeChild(i),i=t.nextSibling,t.nodeIndex=++e):u.removeChild(t):(Ext.fly(t,"_clean").clean(),t.nodeIndex=++e),t=i;return f.isCleaned=!0,r},empty:l?function(){var n=this.dom;n.firstChild&&(l.setStartBefore(n.firstChild),l.setEndAfter(n.lastChild),l.deleteContents())}:function(){for(var n=this.dom;n.lastChild;)n.removeChild(n.lastChild)},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(n){return n=n||"",this.setStyle({left:n,right:n,top:n,bottom:n,"z-index":"",position:"static"})},createProxy:function(t,i,r){t=typeof t=="object"?t:{tag:"div",role:"presentation",cls:t};var u=this,f=i?Ext.DomHelper.append(i,t,!0):Ext.DomHelper.insertBefore(u.dom,t,!0);return f.setVisibilityMode(n.DISPLAY),f.hide(),r&&u.setBox&&u.getBox&&f.setBox(u.getBox()),f},clearOpacity:function(){return this.setOpacity("")},clip:function(){var n=this,i=n.getData(),t;return i[f]||(i[f]=!0,t=n.getStyle([e,o,s]),i[v]={o:t[e],x:t[o],y:t[s]},n.setStyle(e,u),n.setStyle(o,u),n.setStyle(s,u)),n},destroy:function(){var i=this,n=i.dom,r=i.getData(),u,f;n&&i.isAnimate&&i.stopAnimation();arguments.callee.$previous.call(this);n&&Ext.isIE8&&n.window!=n&&n.nodeType!==9&&n.tagName!=="BODY"&&n.tagName!=="HTML"&&(c=c||t.createElement("div"),c.appendChild(n),c.innerHTML="");r&&(u=r.maskEl,f=r.maskMsg,u&&u.destroy(),f&&f.destroy())},enableDisplayMode:function(t){var i=this;return i.setVisibilityMode(n.DISPLAY),t!==undefined&&(i.getData()[a]=t),i},fadeIn:function(n){var t=this,i=t.dom;return t.animate(Ext.apply({},n,{opacity:1,internalListeners:{beforeanimate:function(){var n=Ext.fly(i,"_anim");n.isStyle("display","none")?n.setDisplayed(""):n.show()}}})),this},fadeOut:function(n){var t=this,i=t.dom;return n=Ext.apply({opacity:0,internalListeners:{afteranimate:function(t){if(i&&t.to.opacity===0){var r=Ext.fly(i,"_anim");n.useDisplay?r.setDisplayed(!1):r.hide()}}}},n),t.animate(n),t},fixDisplay:function(){var n=this;n.isStyle(r,h)&&(n.setStyle(y,u),n.setStyle(r,g(n)),n.isStyle(r,h)&&n.setStyle(r,"block"))},frame:function(n,t,i){var r=this,f=r.dom,u;return n=n||"#C3DAF9",t=t||1,i=i||{},u=function(){var u=Ext.fly(f,"_anim"),s=this,r,e,o;u.show();r=u.getBox();e=Ext.getBody().createChild({role:"presentation",id:u.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+n}});o=new Ext.fx.Anim({target:e,duration:i.duration||1e3,iterations:t,from:{top:r.y,left:r.x,borderWidth:0,opacity:1,height:r.height,width:r.width},to:{top:r.y-20,left:r.x-20,borderWidth:10,opacity:0,height:r.height+40,width:r.width+40}});o.on("afteranimate",function(){e.destroy();s.end()})},r.animate({duration:Math.max(i.duration,500)*2||2e3,listeners:{beforeanimate:{fn:u}},callback:i.callback,scope:i.scope}),r},getColor:function(n,t,i){var r=this.getStyle(n),u=i||i===""?i:"#",f,o,e=0;if(!r||/transparent|inherit/.test(r))return t;if(/^r/.test(r))for(r=r.slice(4,r.length-1).split(","),o=r.length;e<o;e++)f=parseInt(r[e],10),u+=(f<16?"0":"")+f.toString(16);else r=r.replace("#",""),u+=r.length===3?r.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):r;return u.length>5?u.toLowerCase():t},getLoader:function(){var t=this,i=t.getData(),n=i.loader;return n||(i.loader=n=new Ext.ElementLoader({target:t})),n},getPositioning:function(n){var t=this.getStyle(["left","top","position","z-index"]),i=this.dom;return n&&(t.left==="auto"&&(t.left=i.offsetLeft+"px"),t.top==="auto"&&(t.top=i.offsetTop+"px")),t},ghost:function(n,t){var i=this,r=i.dom,u;return n=n||"b",u=function(){var e=Ext.fly(r,"_anim"),u=e.getWidth(),f=e.getHeight(),i=e.getXY(),o=e.getPositioning(),t={opacity:0};switch(n){case"t":t.y=i[1]-f;break;case"l":t.x=i[0]-u;break;case"r":t.x=i[0]+u;break;case"b":t.y=i[1]+f;break;case"tl":t.x=i[0]-u;t.y=i[1]-f;break;case"bl":t.x=i[0]-u;t.y=i[1]+f;break;case"br":t.x=i[0]+u;t.y=i[1]+f;break;case"tr":t.x=i[0]+u;t.y=i[1]-f}this.to=t;this.on("afteranimate",function(){var n=Ext.fly(r,"_anim");n&&(n.hide(),n.clearOpacity(),n.setPositioning(o))})},i.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:u}})),i},hide:function(n){return typeof n=="string"?(this.setVisible(!1,n),this):(this.setVisible(!1,this.anim(n)),this)},highlight:function(n,t){var e=this,o=e.dom,c={},l,s,u,f,r,h;return t=t||{},f=t.listeners||{},u=t.attr||"backgroundColor",c[u]=n||"ffff9c",t.to?s=t.to:(s={},s[u]=t.endColor||e.getColor(u,"ffffff","")),t.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){l=o.style[u];var n=Ext.fly(o,"_anim");return n.clearOpacity(),n.show(),r=f.beforeanimate,r?(h=r.fn||r,h.apply(r.scope||f.scope||i,arguments)):void 0},afteranimate:function(){o&&(o.style[u]=l);r=f.afteranimate;r&&(h=r.fn||r,h.apply(r.scope||f.scope||i,arguments))}}),e.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:c,to:s})),e},hover:function(n,t,i,r){var u=this;u.on("mouseenter",n,i||u.dom,r);u.on("mouseleave",t,i||u.dom,r);return u},initDD:function(n,t,i){var r=new Ext.dd.DD(Ext.id(this.dom),n,t);return Ext.apply(r,i)},initDDProxy:function(n,t,i){var r=new Ext.dd.DDProxy(Ext.id(this.dom),n,t);return Ext.apply(r,i)},initDDTarget:function(n,t,i){var r=new Ext.dd.DDTarget(Ext.id(this.dom),n,t);return Ext.apply(r,i)},isFocusable:function(){var n=this.dom,t=!1,i;return n&&!n.disabled&&(i=n.nodeName,t=!!Ext.Element.naturallyFocusableTags[i]||(i==="A"||i==="LINK")&&!!n.href||n.getAttribute("tabindex")!=null||n.contentEditable==="true",Ext.isIE8&&i==="INPUT"&&n.type==="hidden"&&(t=!1),t=t&&this.isVisible(!0)),t},isInputField:function(){var n=this.dom,t=n.contentEditable;return wt[n.tagName]&&n.type!=="button"||t===""||t==="true"?!0:!1},isTabbable:function(){var n=this.dom,i=!1,u,r,t;return n&&!n.disabled&&(u=n.nodeName,t=n.getAttribute("tabindex"),r=t!=null,t-=0,u==="A"||u==="LINK"?i=n.href?r&&t<0?!1:!0:n.contentEditable==="true"?!r||r&&t>=0?!0:!1:r&&t>=0?!0:!1:n.contentEditable==="true"||Ext.Element.naturallyTabbableTags[u]?i=r&&t<0?!1:!0:r&&t>=0&&(i=!0),Ext.isIE8&&u==="INPUT"&&n.type==="hidden"&&(i=!1),i=i&&(!this.component||this.component.isVisible(!0))&&this.isVisible(!0)),i},isMasked:function(n){var t=this,r=t.getData(),u=r.maskEl,f=r.maskMsg,e=!1,i;if(u&&u.isVisible())f&&f.center(t),e=!0;else if(n&&(i=t.findParentNode(),i))return Ext.fly(i).isMasked(n);return e},isScrollable:function(){var n=this.dom;return n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth},load:function(n){return this.getLoader().load(n),this},mask:function(n,i,r){var u=this,e=u.dom,s=u.getData(),f=s.maskEl,o;return yt.test(e.tagName)&&u.getStyle("position")==="static"||u.addCls(b),f&&f.destroy(),f=Ext.DomHelper.append(e,{role:"presentation",cls:"x-mask x-border-box",children:{role:"presentation",cls:i?k+" "+i:k,cn:{tag:"div",role:"presentation",cls:"x-mask-msg-inner",cn:{tag:"div",role:"presentation",cls:"x-mask-msg-text",html:n||""}}}},!0),o=Ext.get(f.dom.firstChild),s.maskEl=f,u.addCls(w),f.setDisplayed(!0),typeof n=="string"?(o.setDisplayed(!0),o.center(u)):o.setDisplayed(!1),e===t.body?f.addCls("x-mask-fixed"):u.saveTabbableState(),u.saveChildrenTabbableState(),Ext.isIE9m&&e!==t.body&&u.isStyle("height","auto")&&f.setSize(undefined,r||u.getHeight()),f},monitorMouseLeave:function(n,t,i){var r=this,u,f={mouseleave:function(f){Ext.isIE9m&&f.enableIEAsync();u=Ext.defer(t,n,i||r,[f])},mouseenter:function(){clearTimeout(u)}};r.on(f);return f},puff:function(n){var i=this,r=i.dom,u,t=i.getBox(),f=i.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],!0);return n=Ext.applyIf(n||{},{easing:"ease-out",duration:500,useDisplay:!1}),u=function(){var i=Ext.fly(r,"_anim");i.clearOpacity();i.show();this.to={width:t.width*2,height:t.height*2,x:t.x-t.width/2,y:t.y-t.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var t=Ext.fly(r,"_anim");t&&(n.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(f),Ext.callback(n.callback,n.scope))})},i.animate({duration:n.duration,easing:n.easing,listeners:{beforeanimate:{fn:u}}}),i},selectable:function(){var t=this;return t.dom.unselectable="",t.removeCls(n.unselectableCls),t.addCls(n.selectableCls),t},setCapture:function(){var n=this.dom;Ext.isIE9m&&n.setCapture&&n.setCapture()},setDisplayed:function(n){var t=this;return typeof n=="boolean"&&(n=n?g(t):h),t.setStyle(r,n),(t.shadow||t.shim)&&t.setUnderlaysVisible(n!==h),t},setHeight:function(n,t){var i=this;return t&&i.anim?(Ext.isObject(t)||(t={}),i.animate(Ext.applyIf({to:{height:n}},t))):arguments.callee.$previous.apply(this,arguments),i},setHorizontal:function(){var n=this,t=n.verticalCls;delete n.vertical;t&&(delete n.verticalCls,n.removeCls(t));delete n.setWidth;delete n.setHeight;Ext.isIE8||(delete n.getWidth,delete n.getHeight);delete n.styleHooks},updateText:function(n){var u=this,r,i;r&&(i=r.firstChild,(!i||i.nodeType!==3||i.nextSibling)&&(i=t.createTextNode(),u.empty(),r.appendChild(i)),n&&(i.data=n))},setHtml:function(n,r,u){var f=this,e,o,s;return f.dom?(n=n||"",o=f.dom,r!==!0)?(o.innerHTML=n,Ext.callback(u,f),f):(e=Ext.id(),n+='<span id="'+e+'" role="presentation"><\/span>',s=Ext.interval(function(){var a,r,o,h,c,v,l;if(!(v=t.getElementById(e)))return!1;for(clearInterval(s),Ext.removeNode(v),a=Ext.getHead().dom;r=et.exec(n);)o=r[1],h=o?o.match(st):!1,h&&h[2]?(l=t.createElement("script"),l.src=h[2],c=o.match(ct),c&&c[2]&&(l.type=c[2]),a.appendChild(l)):r[2]&&r[2].length>0&&(i.execScript||i.eval)(r[2]);Ext.callback(u,f)},20),o.innerHTML=n.replace(ot,""),f):f},setOpacity:function(n,t){var i=this;return i.dom?(t&&i.anim?(typeof t!="object"&&(t={duration:350,easing:"ease-in"}),i.animate(Ext.applyIf({to:{opacity:n}},t))):i.setStyle("opacity",n),i):i},setPositioning:function(n){return this.setStyle(n)},setVertical:function(t,i){var r=this,u=n.prototype;r.vertical=!0;i&&r.addCls(r.verticalCls=i);r.setWidth=u.setHeight;r.setHeight=u.setWidth;Ext.isIE8||(r.getWidth=u.getHeight,r.getHeight=u.getWidth);r.styleHooks=t===270?u.verticalStyleHooks270:u.verticalStyleHooks90},setSize:function(t,i,r){var u=this;return Ext.isObject(t)&&(r=i,i=t.height,t=t.width),r&&u.anim?(r===!0&&(r={}),u.animate(Ext.applyIf({to:{width:t,height:i}},r))):(u.dom.style.width=n.addUnits(t),u.dom.style.height=n.addUnits(i),(u.shadow||u.shim)&&u.syncUnderlays()),u},setVisible:function(t,i){var f=this,o=f.dom,e=pt(f);if(typeof i=="string"){switch(i){case r:e=n.DISPLAY;break;case y:e=n.VISIBILITY;break;case it:e=n.OFFSETS}f.setVisibilityMode(e);i=!1}if(i&&f.anim)t&&(f.setOpacity(.01),f.setVisible(!0)),Ext.isObject(i)||(i={duration:350,easing:"ease-in"}),f.animate(Ext.applyIf({callback:function(){t||Ext.fly(o).setVisible(!1).setOpacity(1)},to:{opacity:t?1:0}},i));else{if(e===n.DISPLAY)return f.setDisplayed(t);e===n.OFFSETS?f[t?"removeCls":"addCls"](ut):e===n.VISIBILITY&&(f.fixDisplay(),o.style.visibility=t?"":u)}return f.getData()[rt]=t,(f.shadow||f.shim)&&f.setUnderlaysVisible(t),f},setWidth:function(n,t){var i=this;return t&&i.anim?(Ext.isObject(t)||(t={}),i.animate(Ext.applyIf({to:{width:n}},t))):arguments.callee.$previous.apply(this,arguments),i},setX:function(n,t){return this.setXY([n,this.getY()],t)},setXY:function(n,t){var i=this;return t&&i.anim?(Ext.isObject(t)||(t={}),i.animate(Ext.applyIf({to:{x:n[0],y:n[1]}},t))):arguments.callee.$previous.call(this,n),this},setY:function(n,t){return this.setXY([this.getX(),n],t)},show:function(n){return typeof n=="string"?(this.setVisible(!0,n),this):(this.setVisible(!0,this.anim(n)),this)},slideIn:function(n,t,i){var r=this,f=r.dom,o=f.style,s,u,e,h;return n=n||"t",t=t||{},s=function(){var p=this,v=t.listeners,a=Ext.fly(f,"_anim"),s,y,l,c;i||a.fixDisplay();s=a.getBox();(n=="t"||n=="b")&&s.height===0?s.height=f.scrollHeight:(n=="l"||n=="r")&&s.width===0&&(s.width=f.scrollWidth);y=a.getStyle(["width","height","left","right","top","bottom","position","z-index"],!0);a.setSize(s.width,s.height);t.preserveScroll&&(e=a.cacheScrollValues());c=a.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+a.dom.id,style:{visibility:i?"visible":"hidden"}});h=c.dom.parentNode;c.setPositioning(a.getPositioning());c.isStyle("position","static")&&c.position("relative");a.clearPositioning("auto");c.clip();e&&e();a.setStyle({visibility:"",position:"absolute"});i&&c.setSize(s.width,s.height);switch(n){case"t":l={from:{width:s.width+"px",height:"0px"},to:{width:s.width+"px",height:s.height+"px"}};o.bottom="0px";break;case"l":l={from:{width:"0px",height:s.height+"px"},to:{width:s.width+"px",height:s.height+"px"}};r.anchorAnimX(n);break;case"r":l={from:{x:s.x+s.width,width:"0px",height:s.height+"px"},to:{x:s.x,width:s.width+"px",height:s.height+"px"}};r.anchorAnimX(n);break;case"b":l={from:{y:s.y+s.height,width:s.width+"px",height:"0px"},to:{y:s.y,width:s.width+"px",height:s.height+"px"}};break;case"tl":l={from:{x:s.x,y:s.y,width:"0px",height:"0px"},to:{width:s.width+"px",height:s.height+"px"}};o.bottom="0px";r.anchorAnimX("l");break;case"bl":l={from:{y:s.y+s.height,width:"0px",height:"0px"},to:{y:s.y,width:s.width+"px",height:s.height+"px"}};r.anchorAnimX("l");break;case"br":l={from:{x:s.x+s.width,y:s.y+s.height,width:"0px",height:"0px"},to:{x:s.x,y:s.y,width:s.width+"px",height:s.height+"px"}};r.anchorAnimX("r");break;case"tr":l={from:{x:s.x+s.width,width:"0px",height:"0px"},to:{x:s.x,width:s.width+"px",height:s.height+"px"}};o.bottom="0px";r.anchorAnimX("r")}c.show();u=Ext.apply({},t);delete u.listeners;u=new Ext.fx.Anim(Ext.applyIf(u,{target:c,duration:500,easing:"ease-out",from:i?l.to:l.from,to:i?l.from:l.to}));u.on("afteranimate",function(){var n=Ext.fly(f,"_anim");n.setStyle(y);i&&(t.useDisplay?n.setDisplayed(!1):n.hide());c.dom&&(c.dom.parentNode?c.dom.parentNode.insertBefore(n.dom,c.dom):h.appendChild(n.dom),c.destroy());e&&e();p.end()});if(v)u.on(v)},r.animate({duration:t.duration?Math.max(t.duration,500)*2:1e3,listeners:{beforeanimate:s}}),r},slideOut:function(n,t){return this.slideIn(n,t,!0)},swallowEvent:function(n,t){var i=this,r,u,f=function(n){n.stopPropagation();t&&n.preventDefault()};if(Ext.isArray(n)){for(u=n.length,r=0;r<u;r++)i.on(n[r],f);return i}i.on(n,f);return i},switchOff:function(n){var t=this,i=t.dom,r;return n=Ext.applyIf(n||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),r=function(){var t=Ext.fly(i,"_anim"),o=this,r=t.getSize(),u=t.getXY(),f,e;t.clearOpacity();t.clip();e=t.getPositioning();f=new Ext.fx.Animator({target:i,duration:n.duration,easing:n.easing,keyframes:{33:{opacity:.3},66:{height:1,y:u[1]+r.height/2},100:{width:1,x:u[0]+r.width/2}}});f.on("afteranimate",function(){var t=Ext.fly(i,"_anim");n.useDisplay?t.setDisplayed(!1):t.hide();t.clearOpacity();t.setPositioning(e);t.setSize(r);o.end()})},t.animate({duration:Math.max(n.duration,500)*2,listeners:{beforeanimate:{fn:r}},callback:n.callback,scope:n.scope}),t},syncContent:function(n){n=Ext.getDom(n);var s=n.childNodes,h=s.length,u=this.dom,c=u.childNodes,v=c.length,t,r,i,f,e,l,o,a=u._extData;if(Ext.isIE9m&&u.mergeAttributes)u.mergeAttributes(n,!0),u.src=n.src;else for(e=n.attributes,l=e.length,t=0;t<l;t++)o=e[t].name,o!=="id"&&u.setAttribute(o,e[t].value);if(a&&(a.isSynchronized=!1),h!==v){u.innerHTML=n.innerHTML;return}for(t=0;t<h;t++){if(i=s[t],r=c[t],f=i.nodeType,f!==r.nodeType||f===1&&i.tagName!==r.tagName){u.innerHTML=n.innerHTML;return}f===3?r.data=i.data:(i.id&&r.id!==i.id&&(r.id=i.id),r.style.cssText=i.style.cssText,r.className=i.className,Ext.fly(r,"_syncContent").syncContent(i))}},toggle:function(n){var t=this;return t.setVisible(!t.isVisible(),t.anim(n)),t},unmask:function(){var n=this,u=n.getData(),i=u.maskEl,r;i&&(r=i.dom.style,r.clearExpression&&(r.clearExpression("width"),r.clearExpression("height")),i&&(i.destroy(),delete u.maskEl),n.removeCls([w,b]));n.restoreChildrenTabbableState();n.dom!==t.body&&n.restoreTabbableState()},unclip:function(){var t=this,i=t.getData(),n;return i[f]&&(i[f]=!1,n=i[v],n.o&&t.setStyle(e,n.o),n.x&&t.setStyle(o,n.x),n.y&&t.setStyle(s,n.y)),t},translate:function(n,t){Ext.supports.CssTransforms&&!Ext.isIE9m?arguments.callee.$previous.apply(this,arguments):(n!=null&&(this.dom.style.left=n+"px"),t!=null&&(this.dom.style.top=t+"px"))},unselectable:function(){var t=this;return Ext.isOpera&&(t.dom.unselectable="on"),t.removeCls(n.selectableCls),t.addCls(n.unselectableCls),t},privates:{needsTabIndex:function(){var n=this.dom,t,i;if(n)return t=n.nodeName,i=!!Ext.Element.naturallyFocusableTags[t]||(t==="A"||t==="LINK")&&!!n.href||n.getAttribute("tabindex")!=null||n.contentEditable==="true",!i},findTabbableElements:function(n,t,i,r){n=n!=undefined?n:!0;var u=this,f;return f=u.selectTabbableElements(n,t,i,r),u.isTabbable()&&f.unshift(n?u.dom:u),f},selectTabbableElements:function(n,t,i,r){var f=[],c,e,l,u,s,h,o,a;if(n=n!=undefined?n:!0,c=this.dom.querySelectorAll(t||Ext.Element.tabbableSelector),s=c.length,!s)return f;for(r?(u=s-1,h=0,o=-1):(u=0,h=s-1,o=1);;u+=o){if(o>0&&u>h||o<0&&u<h)break;if(e=c[u],a=e.getAttribute("tabindex")-0,a<0||(l=n?Ext.fly(e):Ext.get(e),l.isTabbable()&&f.push(n?e:l)),f.length>=i)return f}return f},selectFirstTabbableElement:function(n,t){var i=this.selectTabbableElements(n,t,1,!1);return i[0]},selectLastTabbableElement:function(n,t){var i=this.selectTabbableElements(!0,t,1,!0)[0];return n!==!1?i:Ext.get(i)},saveTabbableState:function(n){var i=Ext.Element.tabbableSavedFlagAttribute,t=this.dom;if(!t.hasAttribute(i))return n=n||Ext.Element.tabbableSavedAttribute,t.hasAttribute("tabindex")?t.setAttribute(n,t.getAttribute("tabindex")):t.setAttribute(n,"none"),t.setAttribute("tabindex",-1),t.setAttribute(i,!0),this},restoreTabbableState:function(n){var r=Ext.Element.tabbableSavedFlagAttribute,t=this.dom,i;if(n=n||Ext.Element.tabbableSavedAttribute,t.hasAttribute(r)&&t.hasAttribute(n))return i=t.getAttribute(n),i==="none"?t.removeAttribute("tabindex"):t.setAttribute("tabindex",i),t.removeAttribute(n),t.removeAttribute(r),this},saveChildrenTabbableState:function(n){var t,r,i,u;if(this.dom)for(t=this.selectTabbableElements(),i=0,u=t.length;i<u;i++)r=Ext.fly(t[i]),r.saveTabbableState(n);return t},restoreChildrenTabbableState:function(n,t){var r,i,u;if(this.dom)for(n=n||Ext.Element.tabbableSavedAttribute,t=t||this.dom.querySelectorAll("["+n+"]"),i=0,u=t.length;i<u;i++)r=Ext.fly(t[i]),r.restoreTabbableState(n);return t}},deprecated:{"4.0":{methods:{pause:function(n){var t=this;return Ext.fx.Manager.setFxDefaults(t.id,{delay:n}),t},scale:function(n,t,i){return this.animate(Ext.apply({},i,{width:n,height:t})),this},shift:function(n){return this.animate(n),this}}},"4.2":{methods:{moveTo:function(n,t,i){return this.setXY([n,t],i)},setBounds:function(n,t,i,r,u){return this.setBox({x:n,y:t,width:i,height:r},u)},setLeftTop:function(t,i){var r=this,u=r.dom.style;return u.left=n.addUnits(t),u.top=n.addUnits(i),(r.shadow||r.shim)&&r.syncUnderlays(),r},setLocation:function(n,t,i){return this.setXY([n,t],i)}}},"5.0":{methods:{getAttributeNS:function(n,t){return this.getAttribute(t,n)},getCenterXY:function(){return this.getAlignToXY(t,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(nt))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(tt))||0},getStyleSize:function(){var r=this,u=this.dom,o=u===t||u===t.body,i,f,e;return o?{width:n.getViewportWidth(),height:n.getViewportHeight()}:(i=r.getStyle(["height","width"],!0),i.width&&i.width!=="auto"&&(f=parseFloat(i.width)),i.height&&i.height!=="auto"&&(e=parseFloat(i.height)),{width:f||r.getWidth(!0),height:e||r.getHeight(!0)})},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),function(){var e=Ext.dom.Element,n=e.prototype,k=!Ext.isIE8,f=document,y=f.defaultView,p=/alpha\(opacity=(.*)\)/i,d=/^\s+|\s+$/g,t=n.styleHooks,u=Ext.supports,w,o,i,r,c,l,s,a,b;if(n._init(e),delete n._init,Ext.plainTableCls="x-table-plain",Ext.plainListCls="x-list-plain",Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods(),t.opacity={name:"opacity",afterSet:function(n,t,i){var r=i.shadow;r&&r.setOpacity(t)}},!u.Opacity&&Ext.isIE&&Ext.apply(t.opacity,{get:function(n){var r=n.style.filter,i,t;return r.match&&(i=r.match(p),i&&(t=parseFloat(i[1]),!isNaN(t)))?t?t/100:0:1},set:function(n,t){var i=n.style,r=i.filter.replace(p,"").replace(d,"");i.zoom=1;typeof t=="number"&&t>=0&&t<1?(t*=100,i.filter=r+(r.length?" ":"")+"alpha(opacity="+t+")"):i.filter=r}}),!u.matchesSelector){var g=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,nt=/\-/g,h,tt=function(n,t){var i=new RegExp("(?:^|\\s+)"+t.replace(nt,"\\-")+"(?:\\s+|$)");return n&&n!=="*"?(n=n.toUpperCase(),function(t){return t.tagName===n&&i.test(t.className)}):function(n){return i.test(n.className)}},it=function(n){return n=n.toUpperCase(),function(t){return t.tagName===n}},v={};n.matcherCache=v;n.is=function(n){if(!n)return!0;var t=this.dom,r,u,e,i,s,c,o;if(t.nodeType!==1)return!1;if(!(e=Ext.isFunction(n)?n:v[n])){if(!(u=n.match(g)))return i=t.parentNode,i||(s=!0,i=h||(h=f.createDocumentFragment()),h.appendChild(t)),c=Ext.Array.indexOf(Ext.fly(i,"_is").query(n),t)!==-1,s&&h.removeChild(t),c;o=u[1];r=u[2];v[n]=e=r?tt(o,r):it(o)}return e(t)}}if(y&&y.getComputedStyle||(n.getStyle=function(n,t){var h=this,f=h.dom,v=typeof n!="string",i=n,c=i,y=1,p=t,w=h.styleHooks,b,l,o,r,s,u,a;if(v&&(o={},i=c[0],a=0,!(y=c.length)))return o;if(!f||f.documentElement)return o||"";l=f.style;t?u=l:(u=f.currentStyle,u||(p=!0,u=l));do{if(r=w[i],r||(w[i]=r={name:e.normalize(i)}),r.get?s=r.get(f,h,p,u):(b=r.name,s=u[b]),!v)return s;o[i]=s;i=c[++a]}while(a<y);return o}),Ext.isIE8)for(b=function(n,t,i,r){return r[this.styleName]==="none"?"0px":r[this.name]},c=["Top","Right","Bottom","Left"],l=c.length;l--;)s=c[l],a="border"+s+"Width",t["border-"+s.toLowerCase()+"-width"]=t[a]={name:a,styleName:"border"+s+"Style",get:b};Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,useShims:!1,getDetachedBody:function(){var n=Ext.detachedBodyEl;return n||(n=f.createElement("div"),Ext.detachedBodyEl=n=new Ext.dom.Fly(n),n.isDetachedBody=!0),n},getElementById:function(n){var t=f.getElementById(n),i;return!t&&(i=Ext.detachedBodyEl)&&(t=i.dom.querySelector(Ext.makeIdSelector(n))),t},addBehaviors:function(n){if(Ext.isReady){var i={},r,u,t;for(u in n)if((r=u.split("@"))[1]){t=r[0];i[t]||(i[t]=Ext.fly(document).select(t,!0));i[t].on(r[1],n[u])}i=null}else Ext.onInternalReady(function(){Ext.addBehaviors(n)})}});Ext.isIE8&&(w=Ext.removeNode,Ext.removeNode=function(n){n=n.dom||n;w(n);o=o||f.createElement("div");o.appendChild(n);o.innerHTML=""});Ext.isIE9m?(Ext.getElementById=function(n){var t=f.getElementById(n),i;return!t&&(i=Ext.detachedBodyEl)&&(t=i.dom.all[n]),t},n.getById=function(n,t){var e=this.dom,r=null,i,u;return e&&(u=k&&f.getElementById(n)||e.all[n],u&&(t?r=u:(i=Ext.cache[n],i&&(i.skipGarbageCollection||!Ext.isGarbage(i.dom)?r=i:i.destroy()),r=r||new Ext.Element(u)))),r}):f.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(n){return f.getElementById(n)},n.getById=function(n,t){var i=f.getElementById(n);return t?i:i?Ext.get(i):null});!Ext.isIE||Ext.isIE9p&&f.documentMode>=9||(n.getAttribute=function(n,t){var i=this.dom,r;return t?(r=typeof i[t+":"+n],r!=="undefined"&&r!=="unknown")?i[t+":"+n]||null:null:(n==="for"&&(n="htmlFor"),i[n]||null)});Ext.onInternalReady(function(){function b(n,t,i,r){var u=r[this.name]||"";return v.test(u)?"transparent":u}function k(n,t,i){return function(){n.selectionStart=t;n.selectionEnd=i}}function d(n){var o=u.DisplayChangeInputSelectionBug,s=u.DisplayChangeTextAreaSelectionBug,t,i,r,f;return(o||s)&&(t=e.getActiveElement(),i=t&&t.tagName,(s&&i==="TEXTAREA"||o&&i==="INPUT"&&t.type==="text")&&Ext.fly(n).isAncestor(t)&&(r=t.selectionStart,f=t.selectionEnd,Ext.isNumber(r)&&Ext.isNumber(f)))?k(t,r,f):Ext.emptyFn}function g(n,t,i,r){var f=r.marginRight,u,e;return f!=="0px"&&(u=n.style,e=u.display,u.display="inline-block",f=(i?r:n.ownerDocument.defaultView.getComputedStyle(n,null)).marginRight,u.display=e),f}function nt(n,t,i,r){var f=r.marginRight,u,e,o;return f!=="0px"&&(u=n.style,e=d(n),o=u.display,u.display="inline-block",f=(i?r:n.ownerDocument.defaultView.getComputedStyle(n,"")).marginRight,u.display=o,e()),f}var v=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,o=[],y=n.setWidth,p=n.setHeight,a=n.setSize,w=/^\d+(?:\.\d*)?px$/i,s,h,c,l;u.FixedTableWidthBug&&(t.width={name:"width",set:function(n,t,i){var r=n.style,u=i._needsTableWidthFix,f=r.display;u&&(r.display="none");r.width=t;u&&(n.scrollWidth,r.display=f)}},n.setWidth=function(n,t){var i=this,u=i.dom,r=u.style,f=i._needsTableWidthFix,e=r.display;return f&&!t&&(r.display="none"),y.call(i,n,t),f&&!t&&(u.scrollWidth,r.display=e),i},n.setSize=function(n,t,i){var r=this,f=r.dom,u=f.style,e=r._needsTableWidthFix,o=u.display;return e&&!i&&(u.display="none"),a.call(r,n,t,i),e&&!i&&(f.scrollWidth,u.display=o),r});Ext.isIE8&&(t.height={name:"height",set:function(n,t,i){var r=i.component,u,f;r&&r._syncFrameHeight&&this===r.el&&(f=r.frameBody.dom.style,w.test(t)?(u=r.getFrameInfo(),u&&(f.height=parseInt(t,10)-u.height+"px")):t&&t!=="auto"||(f.height=""));n.style.height=t}},n.setHeight=function(n,t){var i=this.component,r,u;return i&&i._syncFrameHeight&&this===i.el&&(u=i.frameBody.dom.style,n&&n!=="auto"?(r=i.getFrameInfo(),r&&(u.height=n-r.height+"px")):u.height=""),p.call(this,n,t)},n.setSize=function(n,t,i){var r=this.component,u,f;return r&&r._syncFrameHeight&&this===r.el&&(f=r.frameBody.dom.style,t&&t!=="auto"?(u=r.getFrameInfo(),u&&(f.height=t-u.height+"px")):f.height=""),a.call(this,n,t,i)});Ext.getDoc().on("selectstart",function(n,t){var u=e.selectableCls,o=e.unselectableCls,i=t&&t.tagName,r;if(i=i&&i.toLowerCase(),i!=="input"&&i!=="textarea")while(t&&t.nodeType===1&&t!==f.documentElement){if(r=Ext.fly(t),r.hasCls(u))return;if(r.hasCls(o)){n.stopEvent();return}t=t.parentNode}});if(u.RightMargin||(t.marginRight=t["margin-right"]={name:"marginRight",get:u.DisplayChangeInputSelectionBug||u.DisplayChangeTextAreaSelectionBug?nt:g}),!u.TransparentColor)for(s=["background-color","border-color","color","outline-color"],h=s.length;h--;)c=s[h],l=e.normalize(c),t[c]=t[l]={name:l,get:b};n.verticalStyleHooks90=i=Ext.Object.chain(t);n.verticalStyleHooks270=r=Ext.Object.chain(t);i.width=t.height||{name:"height"};i.height=t.width||{name:"width"};i["margin-top"]={name:"marginLeft"};i["margin-right"]={name:"marginTop"};i["margin-bottom"]={name:"marginRight"};i["margin-left"]={name:"marginBottom"};i["padding-top"]={name:"paddingLeft"};i["padding-right"]={name:"paddingTop"};i["padding-bottom"]={name:"paddingRight"};i["padding-left"]={name:"paddingBottom"};i["border-top"]={name:"borderLeft"};i["border-right"]={name:"borderTop"};i["border-bottom"]={name:"borderRight"};i["border-left"]={name:"borderBottom"};r.width=t.height||{name:"height"};r.height=t.width||{name:"width"};r["margin-top"]={name:"marginRight"};r["margin-right"]={name:"marginBottom"};r["margin-bottom"]={name:"marginLeft"};r["margin-left"]={name:"marginTop"};r["padding-top"]={name:"paddingRight"};r["padding-right"]={name:"paddingBottom"};r["padding-bottom"]={name:"paddingLeft"};r["padding-left"]={name:"paddingTop"};r["border-top"]={name:"borderRight"};r["border-right"]={name:"borderBottom"};r["border-bottom"]={name:"borderLeft"};r["border-left"]={name:"borderTop"};Ext.scopeCss||o.push("x-body");u.Touch&&o.push("x-touch");Ext.isIE&&Ext.isIE9m&&(o.push("x-ie","x-ie9m"),o.push("x-ie8p"),Ext.isIE8?o.push("x-ie8"):o.push("x-ie9","x-ie9p"),Ext.isIE8m&&o.push("x-ie8m"));Ext.isIE10&&o.push("x-ie10");Ext.isIE11&&o.push("x-ie11");Ext.isGecko&&o.push("x-gecko");Ext.isOpera&&o.push("x-opera");Ext.isOpera12m&&o.push("x-opera12m");Ext.isWebKit&&o.push("x-webkit");Ext.isSafari&&o.push("x-safari");Ext.isChrome&&o.push("x-chrome");Ext.isMac&&o.push("x-mac");Ext.isLinux&&o.push("x-linux");u.CSS3BorderRadius||o.push("x-nbr");u.CSS3LinearGradient||o.push("x-nlg");u.Touch&&o.push("x-touch");Ext.getBody().addCls(o)},null,{priority:1500})});Ext.cmd.derive("Ext.GlobalEvents",Ext.mixin.Observable,{alternateClassName:"Ext.globalEvents",observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var n=this;n.callParent();Ext.onInternalReady(function(){n.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var n=this,r=Ext.Element,t=r.getViewportWidth(),i=r.getViewportHeight();(n.curHeight!==i||n.curWidth!==t)&&(n.curHeight=i,n.curWidth=t,n.fireEvent("resize",t,i))}},1,0,0,0,0,0,[Ext,"GlobalEvents",Ext,"globalEvents"],function(n){Ext.on=function(){return n.addListener.apply(n,arguments)};Ext.un=function(){return n.removeListener.apply(n,arguments)}});Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",attachListeners:function(){this.callParent();Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(n){this.fireEvent("mousedown",n)},deprecated:{5:{methods:{addListener:function(n,t,i,r,u,f,e){var s,o;if(n==="ready")o=t;else if(typeof n!="string")for(s in n)s==="ready"&&(o=n[s]);if(o)Ext.onReady(o);this.callParent([n,t,i,r,u,f,e])}}}}});Ext.USE_NATIVE_JSON=!1;Ext.JSON=new function(){var n=this,i=window.JSON&&JSON.toString()==="[object JSON]",r=!!{}.hasOwnProperty,t=function(n){return n<10?"0"+n:n},u=function(json){return eval("("+json+")")},f=function(t,i){return t===null||t===undefined?"null":Ext.isDate(t)?n.encodeDate(t):Ext.isString(t)?Ext.isMSDate(t)?n.encodeMSDate(t):n.encodeString(t):typeof t=="number"?isFinite(t)?String(t):"null":Ext.isBoolean(t)?String(t):t.toJSON?t.toJSON():Ext.isArray(t)?a(t,i):Ext.isObject(t)?v(t,i):typeof t=="function"?"null":"undefined"},e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},o=/[\\\"\x00-\x1f\x7f-\uffff]/g,s=function(n){return'"'+n.replace(o,function(n){var t=e[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"'},h=function(n){return'"'+n+'"'},c=function(t,i){for(var e=t.length,f=i+"   ",o=","+f,r=["[",f],u=0;u<e;u+=1)r.push(n.encodeValue(t[u],f),o);return r[r.length-1]=i+"]",r.join("")},l=function(t,i){var o=i+"   ",s=","+o,u=["{",o],f,e;for(f in t)if(e=t[f],!r||t.hasOwnProperty(f)){if(typeof e=="function"||e===undefined)continue;u.push(n.encodeValue(f)+": "+n.encodeValue(e,o),s)}return u[u.length-1]=i+"}",u.join("")},a=function(t,i){if(i)return c(t,i);for(var r=["[",""],f=t.length,u=0;u<f;u+=1)r.push(n.encodeValue(t[u]),",");return r[r.length-1]="]",r.join("")},v=function(t,i){if(i)return l(t,i);var u=["{",""],f,e;for(f in t)if(e=t[f],!r||t.hasOwnProperty(f)){if(typeof e=="function"||e===undefined)continue;u.push(n.encodeValue(f),":",n.encodeValue(e),",")}return u[u.length-1]="}",u.join("")};n.encodeString=s;n.encodeValue=f;n.encodeDate=function(n){return'"'+n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+'"'};n.encode=function(t){return i&&Ext.USE_NATIVE_JSON?JSON.stringify(t):n.encodeValue(t)};n.decode=function(n,t){try{return i&&Ext.USE_NATIVE_JSON?JSON.parse(n):u(n)}catch(r){if(t)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+n})}};n.encodeMSDate=h;Ext.util||(Ext.util={});Ext.util.JSON=n;Ext.encode=n.encode;Ext.decode=n.decode};Ext.cmd.derive("Ext.util.Format",Ext.Base,function(){var n;return{singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){n=this},undef:function(n){return n!==undefined?n:""},defaultValue:function(n,t){return n!==undefined&&n!==""?n:t},substr:"ab".substr(-1)!="b"?function(n,t,i){var r=String(n);return t<0?r.substr(Math.max(r.length+t,0),i):r.substr(t,i)}:function(n,t,i){return String(n).substr(t,i)},lowercase:function(n){return String(n).toLowerCase()},uppercase:function(n){return String(n).toUpperCase()},usMoney:function(t){return n.currency(t,"$",2)},currency:function(t,i,r,u){var f="",e=",0",o=0;for(t=+t,t<0&&(t=-t,f="-"),r=Ext.isDefined(r)?r:n.currencyPrecision,e+=r>0?".":"";o<r;o++)e+="0";return t=n.number(t,e),(u||n.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",f,t,i||n.currencySign):Ext.String.format("{0}{1}{2}",f,i||n.currencySign,t)},date:function(n,t){return n?(Ext.isDate(n)||(n=new Date(Date.parse(n))),Ext.Date.dateFormat(n,t||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(i){return n.date(i,t)}},hex:function(n,t){var i=parseInt(n||0,10).toString(16);if(t)for(t<0&&(t=-t,i.length>t&&(i=i.substring(i.length-t)));i.length<t;)i="0"+i;return i},or:function(n,t){return n||t},pick:function(n,t,i){if(Ext.isNumber(n)){var r=arguments[n+1];if(r)return r}return n?i:t},stripTags:function(t){return t?String(t).replace(n.stripTagsRe,""):t},stripScripts:function(t){return t?String(t).replace(n.stripScriptsRe,""):t},fileSize:function(){var n=1024,t=1048576,i=1073741824;return function(r){return r<n?r===1?"1 byte":r+" bytes":r<t?Math.round(r*10/n)/10+" KB":r<i?Math.round(r*10/t)/10+" MB":Math.round(r*10/i)/10+" GB"}}(),math:function(){var n={};return function(t,i){return n[i]||(n[i]=Ext.functionFactory("v","return v "+i+";")),n[i](t)}}(),round:function(n,t){var i=Number(n);return typeof t=="number"?(t=Math.pow(10,t),i=Math.round(n*t)/t):t===undefined&&(i=Math.round(i)),i},number:function(t,i){var e;if(!i)return t;if(isNaN(t))return"";if(e=n.formatFns[i],!e){var v=i,y=n.thousandSeparator,o=n.decimalSeparator,u=0,l="",s,f,c,h,r,a;i.substr(i.length-2)==="/i"?(n.I18NFormatCleanRe&&n.lastDecimalSeparator===o||(n.I18NFormatCleanRe=new RegExp("[^\\d\\"+o+"]","g"),n.lastDecimalSeparator=o),i=i.substr(0,i.length-2),s=i.indexOf(y)!==-1,f=i.replace(n.I18NFormatCleanRe,"").split(o)):(s=i.indexOf(",")!==-1,f=i.replace(n.formatCleanRe,"").split("."));c=i.replace(n.formatPattern,"");f.length>2||f.length===2&&(u=f[1].length,h=f[1].match(n.hashRe),h&&(a=h[0].length,l='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+a+'}$")'));r=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(s?",thousandSeparator,thousands=[],j,n,i":"")+(c?',formatString="'+i+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+u+");",l,";"];s?(u&&(r[r.length]='parts=fnum.split(".");',r[r.length]="fnum=parts[0];"),r[r.length]="if(absVal>=1000) {",r[r.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",u&&(r[r.length]="fnum += utilFormat.decimalSeparator+parts[1];")):u&&(r[r.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}');r[r.length]='if(neg&&fnum!=="'+(u?"0."+Ext.String.repeat("0",u):"0")+'") { fnum="-"+fnum; }';h&&(r[r.length]='fnum=fnum.replace(trailingZeroes,"");');r[r.length]="return ";r[r.length]=c?"formatString.replace(formatPattern, fnum);":"fnum;";r[r.length]="};";e=n.formatFns[v]=Ext.functionFactory("Ext",r.join(""))(Ext)}return e(t)},numberRenderer:function(t){return function(i){return n.number(i,t)}},percent:function(t,i){return n.number(t*100,i||"0")+n.percentSign},attributes:function(n){if(typeof n=="object"){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(t,'="',t==="style"?Ext.DomHelper.generateStyles(n[t],null,!0):Ext.htmlEncode(n[t]),'" ');n=i.join("")}return n||""},plural:function(n,t,i){return n+" "+(n===1?t:i?i:t+"s")},nl2br:function(t){return Ext.isEmpty(t)?"":t.replace(n.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(n){if(n=n||0,typeof n=="number")return{top:n,right:n,bottom:n,left:n};var t=n.split(" "),i=t.length;return i===1?t[1]=t[2]=t[3]=t[0]:i===2?(t[2]=t[0],t[3]=t[1]):i===3&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}}}},1,0,0,0,0,0,[Ext.util,"Format"],0);Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(n,t){return n=Ext.getDom(n),new this(n.value||n.innerHTML,t||"")}},useEval:Ext.isGecko,constructor:function(n){var i=this,r=arguments,e=[],u,f=r.length,t;if(i.initialConfig={},f===1&&Ext.isArray(n)&&(r=n,f=r.length),f>1)for(u=0;u<f;u++)t=r[u],typeof t=="object"?(Ext.apply(i.initialConfig,t),Ext.apply(i,t)):e.push(t);else e.push(n);i.html=e.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(n){var t=this;return t.compiled?(t.fn||t.compile(),t.fn(n).join("")):t.evaluate(n)},evaluate:function(n){function f(t,f,e,o,s){return(e==null||e==="")&&(e=f),o&&u?(s=s?[n[e]].concat(Ext.functionFactory("return ["+s+"];")()):[n[e]],o.substr(0,5)==="this."?r[o.substr(5)].apply(r,s):i[o]?i[o].apply(i,s):t):n[e]!==undefined?n[e]:""}var t=this,u=!t.disableFormats,i=Ext.util.Format,r=t;return t.html.replace(t.tokenRe,f)},applyOut:function(n,t){var i=this;return i.compiled?(i.fn||i.compile(),t.push.apply(t,i.fn(n))):t.push(i.apply(n)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(n,t){var i=this;return i.html=n,i.compiled=!!t,i.fn=null,i},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var n=this,t;return t=n.html.replace(n.compileARe,"\\\\").replace(n.compileBRe,"\\n").replace(n.compileCRe,"\\'").replace(n.tokenRe,n.regexReplaceFn.bind(n)),t=(this.disableFormats!==!0?"var fm=Ext.util.Format;":"")+(n.useEval?"$=":"return")+" function(v){return ['"+t+"'];};",n.fn=n.useEval?n.evalCompiled(t):new Function("Ext",t)(Ext),n.compiled=!0,n},evalCompiled:function($){return eval($),$},regexReplaceFn:function(n,t,i,r,u){if(t==null||t===""?t='"'+i+'"':this.stringFormat&&(t=parseInt(t)+1),r&&this.disableFormats!==!0){if(u=u?","+u:"",r.substr(0,5)==="this.")r=r+"(";else if(Ext.util.Format[r])r="fm."+r+"(";else return n;return"',"+r+"v["+t+"]"+u+"),'"}return"',v["+t+"] == undefined ? '' : v["+t+"],'"},insertFirst:function(n,t,i){return this.doInsert("afterBegin",n,t,i)},insertBefore:function(n,t,i){return this.doInsert("beforeBegin",n,t,i)},insertAfter:function(n,t,i){return this.doInsert("afterEnd",n,t,i)},append:function(n,t,i){return this.doInsert("beforeEnd",n,t,i)},doInsert:function(n,t,i,r){var u=Ext.DomHelper.insertHtml(n,Ext.getDom(t),this.apply(i));return r?Ext.get(u):u},overwrite:function(n,t,i){var r=Ext.DomHelper.overwrite(Ext.getDom(n),this.apply(t));return i?Ext.get(r):r}},1,0,0,0,0,0,[Ext,"Template"],function(n){var i=/\{\d+\}/,r=function(t){return i.test(t)?(t=new n(t,u),function(){return t.apply(arguments)}):function(){return t}},u={useFormat:!1,compiled:!0,stringFormat:!0},t={};Ext.String.format=Ext.util.Format.format=function(n){var i=t[n]||(t[n]=r(n));return i.apply(this,arguments)}});Ext.cmd.derive("Ext.mixin.Inheritable",Ext.Mixin,{mixinConfig:{id:"inheritable"},getInherited:function(n){var t=this,i=n&&t.inheritedStateInner||t.inheritedState,u=t.ownerCt||t.initOwnerCt,f=t.isContainer,r,e,o;return(!i||i.invalid)&&(r=t.getRefOwner(),u&&(o=t.ownerLayout===u.layout),t.inheritedState=i=Ext.Object.chain(r?r.getInherited(o):Ext.rootInheritedState),f&&(t.inheritedStateInner=e=Ext.Object.chain(i)),t.initInheritedState(i,e),i=f&&n?t.inheritedStateInner:t.inheritedState),i},getInheritedConfig:function(n,t){var i=this.inheritedState,u,r;return(!i||i.invalid)&&(i=this.getInherited()),r=i[n],t&&i.hasOwnProperty(n)&&(u=r,delete i[n],r=i[n],i[n]=u),r},fixReference:function(){var n=this,t;n.reference&&(t=n.lookupReferenceHolder(),t&&t.attachReference(n))},resolveListenerScope:function(n,t){var i=this,f=typeof t=="boolean",r=Ext._namedScopes[n],u;return r?r.isController?u=i.getInheritedConfig("controller",f?t:!r.isSelf):r.isSelf?u=i.getInheritedConfig("defaultListenerScope",f&&t)||i:r.isThis&&(u=i):u=i.getInheritedConfig("defaultListenerScope",f?t:!0)||n||i,u||null},resolveSatelliteListenerScope:function(n,t){var r=this,u=Ext._namedScopes[t],i;return u?u.isController?i=r.getInheritedConfig("controller"):u.isSelf?i=r.getInheritedConfig("defaultListenerScope")||n:u.isThis&&(i=n):i=r.getInheritedConfig("defaultListenerScope")||t||r,i||null},lookupReferenceHolder:function(n){return this.getInheritedConfig("referenceHolder",n!==!1)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.ownerCmp||this.floatParent},invalidateInheritedState:function(){var n=this.inheritedState;n&&(n.invalid=!0,delete this.inheritedState)}},0,0,0,0,0,0,[Ext.mixin,"Inheritable"],function(){Ext.rootInheritedState={}});Ext.cmd.derive("Ext.mixin.Bindable",Ext.Base,{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(n,t){return this.mergeSets(n,t)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(n,t){return this.mergeSets(n,t)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(n){var t=this,f=t.getReference(),i=t.getController(),r=t.getConfig("viewModel",!0),u=t.getConfig("session",!0),e=t.getDefaultListenerScope();i&&(n.controller=i);e?n.defaultListenerScope=t:i&&(n.defaultListenerScope=i);r&&(r.isViewModel||(r=t),n.viewModel=r);u&&(u.isSession||(u=t),n.session=u);f&&(t.referenceKey=(n.referencePath||"")+f,t.viewModelKey=(n.viewModelPath||"")+f)},lookupController:function(n){return this.getInheritedConfig("controller",n)||null},lookupSession:function(n){var t=n?null:this.getSession();return t||(t=this.getInheritedConfig("session",n),t&&!t.isSession&&(t=t.getInherited().session=t.getSession())),t||null},lookupViewModel:function(n){var t=n?null:this.getViewModel();return t||(t=this.getInheritedConfig("viewModel",n),t&&!t.isViewModel&&(t=t.getInherited().viewModel=t.getViewModel())),t||null},publishState:function(n,t){var i=this,f=i.viewModelKey,r=i.publishedState,s=i.getBind(),u=s&&n&&s[n],h=0,e,o,c;if((!u||u.syncing||u.isReadOnly()||u.calls===0&&(t==null||t===i.getInitialConfig()[n])||u.setValue(t),f&&(o=i.getPublishes()))&&(c=i.lookupViewModel())){if(n&&r){if(!o[n])return;if(!(t&&t.constructor===Object)&&!(t instanceof Array)&&r[n]===t)return;f+=".";f+=n}else{r=r||(i.publishedState={});for(e in o)++h,r[e]=e===n?t:i[e];if(!h)return;t=r}c.set(f,t)}},privates:{addBindableUpdater:function(n){var i=this,u=i.self.$config.configs,t=u[n],r;t&&!i.hasOwnProperty(r=t.names.update)&&(i[r]=t.bindableUpdater||(t.root.bindableUpdater=i.makeBindableUpdater(t)))},applyBind:function(n,t){var r=this,o=r.lookupViewModel(),e=r.getTwoWayBindable(),s=r._getBindTemplateScope,i,u,f;t&&typeof t!="string"||(t={});Ext.isString(n)&&(i=n,n={},n[r.defaultBindProperty]=i);for(u in n)f=n[u],i=t[u],i&&typeof i!="string"&&(i.destroy(),i=null),f&&(i=o.bind(f,r.onBindNotify,r),i._config=Ext.Config.get(u),i.getTemplateScope=s),t[u]=i,e&&e[u]&&!i.isReadOnly()&&r.addBindableUpdater(u);return t},applyController:function(n){return n&&(n=Ext.Factory.controller(n),n.setView(this)),n},applyPublishes:function(n){if(this.lookupViewModel())for(var t in n)this.addBindableUpdater(t);return n},applySession:function(n){if(!n)return null;if(!n.isSession){var t=this.lookupSession(!0),i=n===!0?{}:n;n=t?t.spawn(i):new Ext.data.Session(i)}return n},applyViewModel:function(n){var i=this,t,r;return n&&n.isViewModel||(t={parent:i.lookupViewModel(!0)},t.session=i.getSession(),r||t.parent||(t.session=i.lookupSession()),n&&(n.constructor===Object?Ext.apply(t,n):typeof n=="string"&&(t.type=n)),n=Ext.Factory.viewModel(t)),n},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(n){var t=n.names.update;return function(i,r){var u=this,f=u.self.prototype[t];f&&f.call(u,i,r);u.publishState(n.name,i)}},onBindNotify:function(n,t,i){i.syncing=i.syncing+1||1;this[i._config.names.set](n);--i.syncing},removeBindings:function(){var n=this.bind,i,t;if(n&&typeof n!="string")for(i in n)t=n[i],t.destroy(),t._config=t.getTemplateScope=null;this.bind=null},updateSession:function(n){var t=this.getInherited();n?t.session=n:delete t.session},updateViewModel:function(n){var t=this.getInherited(),i=this.getController();n?(t.viewModel=n,n.setView(this),i&&i.initViewModel(n)):delete t.viewModel}}},0,0,0,0,0,0,[Ext.mixin,"Bindable"],0);Ext.cmd.derive("Ext.Widget",Ext.Evented,{isWidget:!0,element:{reference:"element"},observableType:"component",eventedConfig:{width:null,height:null},template:[],constructor:function(n){var t=this;t.initId(n);t.initElement();t.mixins.observable.constructor.call(t,n);Ext.ComponentManager.register(t)},afterCachedConfig:function(){var t=this,s=t.self.prototype,f=t.referenceList,h=t.renderElement.dom,r,e,n,i,o,u;for(s.renderTemplate=r=document.createDocumentFragment(),r.appendChild(h.cloneNode(!0)),u=r.querySelectorAll("[id]"),n=0,i=u.length;n<i;n++)e=u[n],e.removeAttribute("id");for(n=0,i=f.length;n<i;n++)o=f[n],t[o].dom.removeAttribute("reference")},applyWidth:function(n){return this.filterLengthValue(n)},applyHeight:function(n){return this.filterLengthValue(n)},destroy:function(){for(var n=this,r=n.referenceList,i,t=0,u=r.length;t<u;t++)i=r[t],n.hasOwnProperty(i)&&(n[i].destroy(),n[i]=null);Ext.Evented.prototype.destroy.call(this);Ext.ComponentManager.unregister(n)},doSetWidth:function(n){this.element.setWidth(n)},doSetHeight:function(n){this.element.setHeight(n)},getElementConfig:function(){var t=this,n=t.element;return"children"in n||(n=Ext.apply({children:t.getTemplate()},n)),n},getItemId:function(){return this.itemId||this.id},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var n=this,s=n.self.prototype,l=n.getId(),a=n.referenceList=[],h=!0,i,r,e,o,f,c,t,u;for(s.hasOwnProperty("renderTemplate")?(i=n.renderTemplate.cloneNode(!0),r=i.firstChild):(h=!1,i=document.createDocumentFragment(),r=Ext.Element.create(n.processElementConfig.call(s),!0),i.appendChild(r)),o=i.querySelectorAll("[reference]"),f=0,c=o.length;f<c;f++)t=o[f],u=t.getAttribute("reference"),h&&t.removeAttribute("reference"),u==="element"?(t.id=l,e=n.el=n.addElementReference(u,t)):n.addElementReferenceOnDemand(u,t),a.push(u);r===e.dom?n.renderElement=e:n.addElementReferenceOnDemand("renderElement",r)},is:function(n){return Ext.ComponentQuery.is(this,n)},isXType:function(n,t){return t?Ext.Array.indexOf(this.xtypes,n)!==-1:!!this.xtypesMap[n]},resolveListenerScope:function(n){return this.mixins.inheritable.resolveListenerScope.call(this,n)},setSize:function(n,t){n!==undefined&&this.setWidth(n);t!==undefined&&this.setHeight(t)},privates:{addElementReferenceOnDemand:function(n,t){this._elementListeners[n]?this.addElementReference(n,t):Ext.Object.defineProperty(this,n,{get:function(){return delete this[n],this.addElementReference(n,t)},configurable:!0})},addElementReference:function(n,t){var r=this,u=r[n]=Ext.get(t),i=r._elementListeners[n],e,f;if(u.skipGarbageCollection=!0,u.component=r,i){i=Ext.clone(i);i.scope=r;for(e in i)f=i[e],typeof f=="object"&&(f.scope=r);u.on(i)}return u},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=!0},doAddListener:function(n,t,i,r,u,f,e){r&&"element"in r&&this[r.element].doAddListener(n,t,i||this,r,u);Ext.Evented.prototype.doAddListener.call(this,n,t,i,r,u,f,e)},filterLengthValue:function(n){return n==="auto"||!n&&n!==0?null:n},getFocusEl:function(){return this.element},initElementListeners:function(n){var t=this,c=t.self.superclass,r=c._elementListeners,f=n.reference,e=n.children,s,i,o,h,u;if(s=t.hasOwnProperty("_elementListeners")?t._elementListeners:t._elementListeners=r?Ext.Object.chain(r):{},f&&(i=n.listeners,i&&(r&&(o=r[f],o&&(i=Ext.Object.chain(o),Ext.apply(i,n.listeners))),s[f]=i,n.listeners=null)),e)for(u=0,h=e.length;u<h;u++)t.initElementListeners(e[u])},initId:function(n){var t=this,r=t.config,i=n&&n.id||r&&r.id;i?(t.setId(i),t.id=i):t.getId()},processElementConfig:function(){var n=this,i=n.self.superclass,t;return n.hasOwnProperty("_elementConfig")?t=n._elementConfig:(t=n._elementConfig=n.getElementConfig(),i.isWidget&&n.processElementConfig.call(i),n.initElementListeners(t)),t},reattachToBody:function(){this.isDetached=!1}}},1,["widget"],["widget"],{widget:!0},["widget.widget"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable]],[Ext,"Widget"],function(n){(n.prototype.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1});Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,config:{renderTo:null},cachedConfig:{baseCls:"x-widget"},constructor:function(n){var t=this,i;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,n);t.getComponentLayout();i=t.getRenderTo();i&&t.render(i)},addCls:function(n){this.el.addCls(n)},addClsWithUI:function(n){this.el.addCls(n)},afterComponentLayout:Ext.emptyFn,finishRender:function(){this.rendering=!1;this.initBindable()},getComponentLayout:function(){var t=this,n=t.componentLayout;return n||(n=t.componentLayout=new Ext.layout.component.Auto,n.setOwner(t)),n},getTdCls:function(){return"x-"+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(n,t,i){var r=this,u=r.inheritedState;r.ownerCt=n;u&&i&&r.invalidateInheritedState();r.reference&&r.fixReference()},onRemoved:function(n){var t=this,i;t.reference&&(i=t.lookupReferenceHolder(),i&&i.clearReference(t));n||t.removeBindings();t.inheritedState&&!n&&t.invalidateInheritedState();t.ownerCt=t.ownerLayout=null},parseBox:function(n){return Ext.Element.parseBox(n)},removeCls:function(n){this.el.removeCls(n)},removeClsWithUI:function(n){this.el.removeCls(n)},render:function(n,t){var r=this,i=r.element,f=Ext.Component.prototype,u;if((!r.ownerCt||r.floating)&&(Ext.scopeCss&&i.addCls(f.rootCls),i.addCls(f.borderBoxCls)),t&&(u=n.childNodes[t],u)){Ext.fly(n).insertBefore(i,u);return}Ext.fly(n).appendChild(i)},setPosition:function(n,t){this.el.setLocalXY(n,t)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)}},function(n){var t=n.prototype;Ext.isIE8&&(t.addElementReferenceOnDemand=t.addElementReference)});Ext.cmd.derive("Ext.util.XTemplateParser",Ext.Base,{constructor:function(n){Ext.apply(this,n)},doTpl:Ext.emptyFn,parse:function(n){var i=this,w=n.length,b={elseif:"elif"},y=i.topRe,k=i.actionsRe,s,f,u,r,e,a,l,v,h,o,t,c,p;for(i.level=0,i.stack=f=[],s=0;s<w;s=o){if(y.lastIndex=s,r=y.exec(n),!r){i.doText(n.substring(s,w));break}if(h=r.index,o=y.lastIndex,s<h&&(u=n.substring(s,h),p&&Ext.String.trim(u)===""||i.doText(u)),p=!1,r[1])o=n.indexOf("%}",h+2),i.doEval(n.substring(h+2,o)),o+=2;else if(r[2])o=n.indexOf("]}",h+2),i.doExpr(n.substring(h+2,o)),o+=2;else if(r[3])i.doTag(r[3]);else if(r[4]){for(t=null;(v=k.exec(r[4]))!==null;)u=v[2]||v[3],u&&(u=Ext.String.htmlDecode(u),e=v[1],e=b[e]||e,t=t||{},a=t[e],typeof a=="string"?t[e]=[a,u]:a?t[e].push(u):t[e]=u);t?t["if"]?(i.doIf(t["if"],t),f.push({type:"if"})):t["switch"]?(i.doSwitch(t["switch"],t),f.push({type:"switch"}),p=!0):t["case"]?i.doCase(t["case"],t):t.elif?i.doElseIf(t.elif,t):t["for"]?(++i.level,(c=i.propRe.exec(r[4]))&&(t.propName=c[1]||c[2]),i.doFor(t["for"],t),f.push({type:"for",actions:t})):t.foreach?(++i.level,(c=i.propRe.exec(r[4]))&&(t.propName=c[1]||c[2]),i.doForEach(t.foreach,t),f.push({type:"foreach",actions:t})):t.exec&&(i.doExec(t.exec,t),f.push({type:"exec",actions:t})):i.elseRe.test(r[4])?i.doElse():i.defaultRe.test(r[4])?i.doDefault():(i.doTpl(),f.push({type:"tpl"}))}else r[0].length===5?f.push({type:"tpl"}):(l=f.pop(),i.doEnd(l.type,l.actions),(l.type=="for"||l.type=="foreach")&&--i.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,"XTemplateParser"],0);Ext.cmd.derive("Ext.util.XTemplateCompiler",Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(n){var t=this,i=t.generate(n);return t.useEval?t.evalTpl(i):new Function("Ext",i)(Ext)},generate:function(n){var t=this,i="var fm=Ext.util.Format,ts=Object.prototype.toString;",r;return t.maxLevel=0,t.body=["var c0=values, a0="+t.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],t.definitions?typeof t.definitions=="string"?t.definitions=[t.definitions,i]:t.definitions.push(i):t.definitions=[i],t.switches=[],t.parse(n),t.definitions.push((t.useEval?"$=":"return")+" function ("+t.fnArgs+") {",t.body.join(""),"}"),r=t.definitions.join("\n"),t.definitions.length=t.body.length=t.switches.length=0,delete t.definitions,delete t.body,delete t.switches,r},doText:function(n){var t=this,i=t.body;n=n.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n");t.useIndex?i.push("out[out.length]='",n,"'\n"):i.push("out.push('",n,"')\n")},doExpr:function(n){var t=this.body;t.push("if ((v="+n+") != null) out");this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(n){var t=this.parseTag(n);t?this.doExpr(t):this.doText("{"+n+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(n){this.body.push(n,"\n")},doIf:function(n,t){var i=this;n==="."?i.body.push("if (values) {\n"):i.propNameRe.test(n)?i.body.push("if (",i.parseTag(n),") {\n"):i.body.push("if (",i.addFn(n),i.callFn,") {\n");t.exec&&i.doExec(t.exec)},doElseIf:function(n,t){var i=this;n==="."?i.body.push("else if (values) {\n"):i.propNameRe.test(n)?i.body.push("} else if (",i.parseTag(n),") {\n"):i.body.push("} else if (",i.addFn(n),i.callFn,") {\n");t.exec&&i.doExec(t.exec)},doSwitch:function(n){var t=this,i;n==="."||n==="#"?(i=n==="."?"values":"xindex",t.body.push("switch (",i,") {\n")):t.propNameRe.test(n)?t.body.push("switch (",t.parseTag(n),") {\n"):t.body.push("switch (",t.addFn(n),t.callFn,") {\n");t.switches.push(0)},doCase:function(n){var t=this,r=Ext.isArray(n)?n:[n],u=t.switches.length-1,f,i;for(t.switches[u]?t.body.push("break;\n"):t.switches[u]++,i=0,u=r.length;i<u;++i)f=t.intRe.exec(r[i]),r[i]=f?f[1]:"'"+r[i].replace(t.aposRe,"\\'")+"'";t.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var n=this,t=n.switches.length-1;n.switches[t]?n.body.push("break;\n"):n.switches[t]++;n.body.push("default:\n")},doEnd:function(n,t){var i=this,r=i.level-1;n=="for"||n=="foreach"?(t.exec&&i.doExec(t.exec),i.body.push("}\n"),i.body.push("parent=p",r,";values=r",r+1,";xcount=n"+r+";xindex=i",r,"+1;xkey=k",r,";\n")):(n=="if"||n=="switch")&&i.body.push("}\n")},doFor:function(n,t){var r=this,f,i=r.level,u=i-1,e;f=n==="."?"values":r.propNameRe.test(n)?r.parseTag(n):r.addFn(n)+r.callFn;r.maxLevel<i&&(r.maxLevel=i,r.body.push("var "));e=n=="."?"c"+i:"a"+u+"?c"+u+"[i"+u+"]:c"+u;r.body.push("i",i,"=0,n",i,"=0,c",i,"=",f,",a",i,"=",r.createArrayTest(i),",r",i,"=values,p",i,",k",i,";\n","p",i,"=parent=",e,"\n","if (c",i,"){if(a",i,"){n",i,"=c",i,".length;}else if (c",i,".isMixedCollection){c",i,"=c",i,".items;n",i,"=c",i,".length;}else if(c",i,".isStore){c",i,"=c",i,".data.items;n",i,"=c",i,".length;}else{c",i,"=[c",i,"];n",i,"=1;}}\n","for (xcount=n",i,";i",i,"<n"+i+";++i",i,"){\n","values=c",i,"[i",i,"]");t.propName&&r.body.push(".",t.propName);r.body.push("\n","xindex=i",i,"+1\n");t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(n,t){var r=this,f,i=r.level,u=i-1,e;f=n==="."?"values":r.propNameRe.test(n)?r.parseTag(n):r.addFn(n)+r.callFn;r.maxLevel<i&&(r.maxLevel=i,r.body.push("var "));e=n=="."?"c"+i:"a"+u+"?c"+u+"[i"+u+"]:c"+u;r.body.push("i",i,"=-1,n",i,"=0,c",i,"=",f,",a",i,"=",r.createArrayTest(i),",r",i,"=values,p",i,",k",i,";\n","p",i,"=parent=",e,"\n","for(k",i," in c",i,"){\n","xindex=++i",i,"+1;\n","xkey=k",i,";\n","values=c",i,"[k",i,"];");t.propName&&r.body.push(".",t.propName);t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(n){return"Array.isArray(c"+n+")"}:function(n){return"ts.call(c"+n+')==="[object Array]"'},doExec:function(n){var t=this,i="f"+t.definitions.length,r=t.guards[t.strict?0:1];t.definitions.push("function "+i+"("+t.fnArgs+") {",r.doTry," var $v = values; with($v) {","  "+n," }",r.doCatch,"}");t.body.push(i+t.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(n){var t=this,i="f"+t.definitions.length,r=t.guards[t.strict?0:1];return n==="."?t.definitions.push("function "+i+"("+t.fnArgs+") {"," return values","}"):n===".."?t.definitions.push("function "+i+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+i+"("+t.fnArgs+") {",r.doTry," var $v = values; with($v) {","  return("+n+")"," }",r.doCatch,"}"),i},parseTag:function(n){var u=this,f=u.tagRe.exec(n),t,i,e,o,r;if(!f)return null;if(t=f[1],i=f[2],e=f[3],o=f[4],t=="."?(u.validTypes||(u.definitions.push("var validTypes={string:1,number:1,boolean:1};"),u.validTypes=!0),r='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):r=t=="#"?"xindex":t=="$"?"xkey":t.substr(0,7)=="parent."?t:isNaN(t)&&t.indexOf("-")==-1&&t.indexOf(".")!=-1?"values."+t:"values['"+t+"']",o&&(r="("+r+o+")"),i&&u.useFormat)e=e?","+e:"",i.substr(0,5)!="this."?i="fm."+i+"(":i+="(";else return r;return i+r+e+")"},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,"XTemplateCompiler"],function(){var n=this.prototype;n.fnArgs="out,values,parent,xindex,xcount,xkey";n.callFn=".call(this,"+n.fnArgs+")"});Ext.cmd.derive("Ext.XTemplate",Ext.Template,{emptyObj:{},fn:null,strict:!1,apply:function(n,t){return this.applyOut(n,[],t).join("")},applyOut:function(n,t,i){var r=this,u;if(r.fn||(u=new Ext.util.XTemplateCompiler({useFormat:r.disableFormats!==!0,definitions:r.definitions,strict:r.strict}),r.fn=u.compile(r.html)),r.strict)r.fn(t,n,i||r.emptyObj,1,1);else try{r.fn(t,n,i||r.emptyObj,1,1)}catch(f){}return t},compile:function(){return this},statics:{getTpl:function(n,t){var r=n[t],i;if(r&&!r.isTemplate){if(r=Ext.ClassManager.dynInstantiate("Ext.XTemplate",r),n.hasOwnProperty(t))i=n;else for(i=n.self.prototype;i&&!i.hasOwnProperty(t);i=i.superclass);i[t]=r;r.owner=i}return r||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0);Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var n=this;n.isInstance||(Ext.app.EventDomain.instances[n.type]=n);n.bus={};n.monitoredClasses=[]},dispatch:function(n,t,i){t=Ext.canonicalEventName(t);var o=this,v=o.bus,r=v[t],u,f,s,h,c,a,e,l;if(!r)return!0;for(u in r)if(r.hasOwnProperty(u)&&o.match(n,u,o.controller)){f=r[u];for(s in f)if(f.hasOwnProperty(s)&&(h=f[s],h.controller.isActive()))for(c=h.list,a=c.length,e=0;e<a;e++)if(l=c[e],l.fire.apply(l,i)===!1)return!1}return!0},listen:function(n,t){var o=this,v=o.bus,k=o.idProperty,y=o.monitoredClasses,d=y.length,p=t.getId(),w=o.type==="component",g=w?t.getRefMap():null,s,e,b,i,f,r,h,l,c,u,a;for(i in n)if(c=n[i],w&&(i=g[i]||i),c){k&&(i=i==="*"?i:i.substring(1));for(u in c){for(f=null,r=c[u],h=t,u=Ext.canonicalEventName(u),l=new Ext.util.Event(t,u),Ext.isObject(r)&&(f=r,r=f.fn,h=f.scope||t,delete f.fn,delete f.scope),typeof r=="string"&&(r=h[r]),l.addListener(r,h,f),s=0;s<d;++s)a=y[s].hasListeners,a&&a._incr_(u);e=v[u]||(v[u]={});e=e[i]||(e[i]={});b=e[p]||(e[p]={controller:t,list:[]});b.list.push(l)}}},match:function(n,t){var i=this.idProperty;return i?t==="*"||n[i]===t:!1},monitor:function(n){var t=this,i=n.isInstance?n:n.prototype,r=i.doFireEvent;t.monitoredClasses.push(n);i.doFireEvent=function(n,i){var u=r.apply(this,arguments);return u===!1||this.isSuspended(n)||(u=t.dispatch(this,n,i)),u}},unlisten:function(n){var f=this.bus,e=n,a=this.monitoredClasses,p=a.length,o,t,i,v,s,y,h,r,u,c,l;n.isController&&(e=n.getId());for(t in f)if(t=Ext.canonicalEventName(t),f.hasOwnProperty(t)&&(h=f[t]))for(y in h)if(o=h[y],c=o[e],c&&(i=c.list,i)){for(r=0,v=i.length;r<v;++r)for(s=i[r],s.clearListeners(),u=0;u<p;++u)l=a[u].hasListeners,l&&l._decr_(s.name);delete o[e]}},destroy:function(){this.monitoredClasses=this.bus=null}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0);Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:!0,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(n,t,i){for(var r=n.lookupController(!1),u,f;r;){if(u=r.compDomain,u&&u.dispatch(n,t,i)===!1)return!1;f=r.getView();r=f?f.lookupController(!0):null}return this.callParent(arguments)},match:function(n,t){return n.is(t)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0);Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var n=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(i){var r=this,f,u;i&&(Ext.apply(r,i),f=r.cls,u=r.style,delete r.cls);r.classList=f?n(f):[];r.classMap=f?t(r.classList):{};u&&(typeof u=="string"?r.style=Ext.Element.parseStyles(u):Ext.isFunction(u)?(r.styleFn=u,delete r.style):r.style=Ext.apply({},u))},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(t){if(!t)return this;for(var r=this,f=typeof t=="string"?n(t):t,s=f.length,h=r.classList,e=r.classMap,o=r.flushClassList,u=0,i;u<s;++u)i=f[u],e[i]||(e[i]=!0,h.push(i),o&&(o.push(i),delete r.removedClasses[i]));return r},hasCls:function(n){return n in this.classMap},removeCls:function(i){for(var u=this,e=u.classList,h=u.classList=[],c=t(n(i)),l=e.length,o=u.classMap,s=u.removedClasses,r,f=0;f<l;++f)r=e[f],c[r]?(s&&o[r]&&(s[r]=!0,Ext.Array.remove(u.flushClassList,r)),delete o[r]):h.push(r);return u},setStyle:function(n,t){var i=this,r=i.style||(i.style={});return typeof n=="string"?arguments.length===1?i.setStyle(Ext.Element.parseStyles(n)):r[n]=t:Ext.apply(r,n),i},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(n){var t=this,u=t.flushClassList||t.classList,r=t.removedClasses,i;return t.styleFn?(i=Ext.apply({},t.styleFn()),Ext.apply(i,t.style)):i=t.style,n[t.clsProp]=u.join(" "),i&&(n[t.styleProp]=t.styleIsText?Ext.DomHelper.generateStyles(i,null,!0):i),r&&(r=Ext.Object.getKeys(r),r.length&&(n[t.removedProp]=r.join(" "))),t.unselectableAttr&&(n.unselectable="on"),n}}},1,0,0,0,0,0,[Ext.util,"ProtoElement"],0);Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",isLite:!1,getElement:function(n){return n},transformElement:function(n){return Ext.get(n)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],0);Ext.Factory=function(n){var t=this;t.aliasPrefix=n+".";t.cache={};t.name=n.replace(t.fixNameRe,t.fixNameFn);t.type=n};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(n,t){var f=this,e=Ext.ClassManager,s=f.cache,o,u,i,r;if(n){if(n[f.instanceProp])return n;typeof n=="string"&&(r=n,n={},n[f.defaultProperty]=r);u=n.xclass;r=n.type}if(u){if(!(i=e.get(u)))return e.instantiate(u,n)}else if((r=r||t||f.defaultType)||(i=f.defaultClass),!i&&!(i=s[r])){if(o=f.aliasPrefix+r,u=e.getNameByAlias(o),!(i=u&&e.get(u)))return e.instantiateByAlias(o,n);s[r]=i}return i.isInstance?i:new i(n)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(n){return n.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(n,t){var r=Ext.Factory,f,i,u;return n.constructor===Object?Ext.Object.each(n,r.define,r):(i=new Ext.Factory(n),t&&(t.constructor===Object?(Ext.apply(i,t),typeof(f=i.xclass)=="string"&&(i.defaultClass=Ext.ClassManager.get(f))):i.defaultType=t),r[i.name]=u=i.create.bind(i),u.instance=i),u};Ext.cmd.derive("Ext.mixin.Factoryable",Ext.Base,{mixinId:"factoryable",onClassMixedIn:function(n){var r=n.prototype,f=r.factoryConfig,t=r.alias,i={},u,e;t=t&&t.length&&t[0];t&&(u=t.lastIndexOf("."))>0&&(i.type=t.substring(0,u),i.defaultType=t.substring(u+1));f&&(delete r.factoryConfig,Ext.apply(i,f));e=Ext.Factory.define(i.type,i);n.create===Ext.Base.create&&(n.create=e)}},0,0,0,0,0,0,[Ext.mixin,"Factoryable"],0);Ext.cmd.derive("Ext.scroll.Scroller",Ext.Evented,{factoryConfig:{defaultType:"dom"},isScroller:!0,config:{direction:undefined,directionLock:!1,disabled:null,element:undefined,indicators:null,maxPosition:null,maxUserPosition:null,minPosition:{x:0,y:0},minUserPosition:{x:0,y:0},momentumEasing:null,size:null,x:!0,y:!0},statics:{create:function(n){return Ext.Factory.scroller(n,Ext.supports.Touch?"touch":"dom")}},constructor:function(n){var t=this;Ext.Evented.prototype.constructor.call(this,n);t.onDomScrollEnd=Ext.Function.createBuffered(t.onDomScrollEnd,100,t)},addPartner:function(n,t){var i=this,r=i._partners||(i._partners={}),u=n._partners||(n._partners={});r[n.getId()]={scroller:n,axis:t};u[i.getId()]={scroller:i,axis:t}},applyElement:function(n){var t;return n&&(t=n.isElement?n:Ext.get(n)),t},updateDirectionLock:Ext.emptyFn,updateDisabled:Ext.emptyFn,updateIndicators:Ext.emptyFn,updateMaxPosition:Ext.emptyFn,updateMaxUserPosition:Ext.emptyFn,updateMinPosition:Ext.emptyFn,updateMinUserPosition:Ext.emptyFn,updateMomenumEasing:Ext.emptyFn,updateSize:Ext.emptyFn,updateX:Ext.emptyFn,updateY:Ext.emptyFn,updateElement:function(n){n.on("scroll","onDomScroll",this)},refresh:function(){return this.fireEvent("refresh",this),this},removePartner:function(n){var t=this._partners,i=n._partners;t&&delete t[n.getId()];i&&delete i[this.getId()]},scrollBy:function(n,t,i){var r=this.getPosition();return n&&(n.length?(i=t,t=n[1],n=n[0]):typeof n!="number"&&(i=t,t=n.y,n=n.x)),n=typeof n=="number"?n+r.x:null,t=typeof t=="number"?t+r.y:null,this.doScrollTo(n,t,i)},scrollIntoView:function(n,t,i,r){var u=this,f=u.getPosition(),e,o,s,h=u.getElement();if(n){if(e=Ext.fly(n).getScrollIntoViewXY(h,f.x,f.y),o=t===!1?f.x:e.x,s=e.y,r)u.on({scrollend:"doHighlight",scope:u,single:!0,args:[n,r]});u.doScrollTo(o,s,i)}},scrollTo:function(n,t,i){var r;n&&(n.length?(i=t,t=n[1],n=n[0]):typeof n!="number"&&(i=t,t=n.y,n=n.x));(n<0||t<0)&&(r=this.getMaxPosition(),n<0&&(n+=r.x),t<0&&(t+=r.y));this.doScrollTo(n,t,i)},updateDirection:function(n){var r=this,t,i;n?(n==="auto"?(t=!0,i=!0):n==="vertical"?(t=!1,i=!0):n==="horizontal"?(t=!0,i=!1):n==="both"&&(t="scroll",i="scroll"),r.setX(t),r.setY(i)):(t=r.getX(),i=r.getY(),t&&i?n=i==="scroll"&&t==="scroll"?"both":"auto":i?n="vertical":t&&(n="horizontal"),r._direction=n)},deprecated:{"5":{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(n){return this.scrollTo(0,0,n)},scrollToEnd:function(n){return this.scrollTo(Infinity,Infinity,n)}}}},privates:{convertX:function(n){return n},doHighlight:function(n,t){t!==!0?Ext.fly(n).highlight(t):Ext.fly(n).highlight()},fireScrollStart:function(n,t){var i=this,r=i.component;if(i.invokePartners("onPartnerScrollStart",n,t),i.hasListeners.scrollstart&&i.fireEvent("scrollstart",i,n,t),r&&r.onScrollStart)r.onScrollStart(n,t);Ext.GlobalEvents.fireEvent("scrollstart",i,n,t)},fireScroll:function(n,t){var i=this,r=i.component;if(i.invokePartners("onPartnerScroll",n,t),i.hasListeners.scroll&&i.fireEvent("scroll",i,n,t),r&&r.onScrollMove)r.onScrollMove(n,t);Ext.GlobalEvents.fireEvent("scroll",i,n,t)},fireScrollEnd:function(n,t){var i=this,r=i.component;if(i.invokePartners("onPartnerScrollEnd",n,t),i.hasListeners.scrollend&&i.fireEvent("scrollend",i,n,t),r&&r.onScrollEnd)r.onScrollEnd(n,t);Ext.GlobalEvents.fireEvent("scrollend",i,n,t)},invokePartners:function(n,t,i){var u=this._partners,r,f;if(!this.suspendSync)for(f in u)r=u[f],r.suspendSync||r.scroller[n](this,t,i)},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(){this.suspendSync&&this.suspendSync--},onDomScroll:function(){var n=this,t=n.getPosition(),i=t.x,r=t.y;n.isScrolling||(n.isScrolling=!0,n.fireScrollStart(i,r));n.fireScroll(i,r);n.onDomScrollEnd()},onDomScrollEnd:function(){var n=this,t=n.getPosition(),i=t.x,r=t.y;n.isScrolling=!1;n.trackingScrollLeft=i;n.trackingScrollTop=r;n.fireScrollEnd(i,r)},onPartnerScroll:function(n,t,i){var r=n._partners[this.getId()].axis;r&&(r==="x"?i=null:r==="y"&&(t=null));this.doScrollTo(t,i,null,!0)},restoreState:function(){var n=this,i=n.getElement(),t;i&&(t=i.dom,n.trackingScrollTop!==undefined&&(t.scrollTop=n.trackingScrollTop,t.scrollLeft=n.trackingScrollLeft))},onPartnerScrollEnd:Ext.privateFn,onPartnerScrollStart:Ext.privateFn}},1,0,0,0,["scroller.scroller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll,"Scroller"],0);Ext.cmd.derive("Ext.fx.easing.Abstract",Ext.Base,{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(n){return this.initConfig(n),this},applyStartTime:function(n){return n||(n=Ext.Date.now()),n},updateStartTime:function(){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,"Abstract"],0);Ext.cmd.derive("Ext.fx.easing.Momentum",Ext.fx.easing.Abstract,{config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(n){var t=Math.log(1-n/10);this.theta=t;this.alpha=t/this.getAcceleration()},updateStartVelocity:function(n){this.velocity=n*this.getAcceleration()},updateAcceleration:function(n){this.velocity=this.getStartVelocity()*n;this.alpha=this.theta/n},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var n=Ext.Date.now()-this.getStartTime();return Math.exp(n*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}},0,0,0,0,0,0,[Ext.fx.easing,"Momentum"],0);Ext.cmd.derive("Ext.fx.easing.Bounce",Ext.fx.easing.Abstract,{config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var t=Ext.Date.now()-this.getStartTime(),n=t/this.getAcceleration(),i=n*Math.pow(Math.E,-this.getSpringTension()*n);return this.getStartValue()+this.getStartVelocity()*i}},0,0,0,0,0,0,[Ext.fx.easing,"Bounce"],0);Ext.cmd.derive("Ext.fx.easing.BoundMomentum",Ext.fx.easing.Abstract,{config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(n,t){return Ext.factory(n,Ext.fx.easing.Momentum,t)},applyBounce:function(n,t){return Ext.factory(n,Ext.fx.easing.Bounce,t)},updateStartTime:function(n){this.getMomentum().setStartTime(n);Ext.fx.easing.Abstract.prototype.updateStartTime.apply(this,arguments)},updateStartVelocity:function(n){this.getMomentum().setStartVelocity(n)},updateStartValue:function(n){this.getMomentum().setStartValue(n)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,Ext.fx.easing.Abstract.prototype.reset.apply(this,arguments)},getValue:function(){var t=this.getMomentum(),f=this.getBounce(),e=t.getStartVelocity(),i=e>0?1:-1,o=this.getMinMomentumValue(),s=this.getMaxMomentumValue(),h=i==1?s:o,r=this.lastValue,n,u;if(e===0)return this.getStartValue();if(!this.isOutOfBound){if(n=t.getValue(),u=t.getVelocity(),Math.abs(u)<this.getMinVelocity()&&(this.isEnded=!0),n>=o&&n<=s)return n;this.isOutOfBound=!0;f.setStartTime(Ext.Date.now()).setStartVelocity(u).setStartValue(h)}return n=f.getValue(),this.isEnded||(this.isBouncingBack?Math.round(n)==h&&(this.isEnded=!0):r!==null&&(i==1&&n<r||i==-1&&n>r)&&(this.isBouncingBack=!0)),this.lastValue=n,n}},0,0,0,0,0,0,[Ext.fx.easing,"BoundMomentum"],0);Ext.cmd.derive("Ext.fx.easing.Linear",Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(n){this.distance=this.getEndValue()-n},updateEndValue:function(n){this.distance=n-this.getStartValue()},getValue:function(){var n=Ext.Date.now()-this.getStartTime(),t=this.getDuration();return n>t?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+n/t*this.distance}},0,0,0,0,["easing.linear"],0,[Ext.fx.easing,"Linear"],0);Ext.cmd.derive("Ext.fx.easing.EaseOut",Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var n=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),i=this.getStartValue(),r=this.getEndValue(),u=this.distance,f=n/t,e=1-f,o=1-Math.pow(e,this.getExponent()),s=i+o*u;return n>=t?(this.isEnded=!0,r):s}},0,0,0,0,["easing.ease-out"],0,[Ext.fx.easing,"EaseOut"],0);Ext.cmd.derive("Ext.util.translatable.Abstract",Ext.Evented,{config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(n){this.mixins.observable.constructor.call(this,n);this.position={x:0,y:0}},factoryEasing:function(n){return Ext.factory(n,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(n){this.getEasingX()||this.setEasingX(this.factoryEasing(n));this.getEasingY()||this.setEasingY(this.factoryEasing(n))},applyEasingX:function(n){return this.factoryEasing(n)},applyEasingY:function(n){return this.factoryEasing(n)},doTranslate:Ext.emptyFn,translate:function(n,t,i){if(i)return this.translateAnimated(n,t,i);this.isAnimating&&this.stopAnimation();isNaN(n)||typeof n!="number"||(this.x=n);isNaN(t)||typeof t!="number"||(this.y=t);this.doTranslate(n,t)},translateAxis:function(n,t,i){var r,u;return n=="x"?r=t:u=t,this.translate(r,u,i)},getPosition:function(){var n=this,t=n.position;return t.x=-n.x,t.y=-n.y,t},animate:function(n,t){return this.activeEasingX=n,this.activeEasingY=t,this.isAnimating=!0,this.lastX=null,this.lastY=null,Ext.AnimationQueue.start(this.doAnimationFrame,this),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(n,t,i){var r=this;Ext.isObject(i)||(i={});r.isAnimating&&r.stopAnimation();r.callback=i.callback;r.callbackScope=i.scope;var e=Ext.Date.now(),o=i.easing,u=typeof n=="number"?i.easingX||o||r.getEasingX()||!0:null,f=typeof t=="number"?i.easingY||o||r.getEasingY()||!0:null;return u&&(u=r.factoryEasing(u),u.setStartTime(e),u.setStartValue(r.x),u.setEndValue(n),"duration"in i&&u.setDuration(i.duration)),f&&(f=r.factoryEasing(f),f.setStartTime(e),f.setStartValue(r.y),f.setEndValue(t),"duration"in i&&f.setDuration(i.duration)),r.animate(u,f)},doAnimationFrame:function(){var n=this,r=n.activeEasingX,u=n.activeEasingY,f=Date.now(),t,i;if(n.isAnimating){if(n.lastRun=f,r===null&&u===null){n.stopAnimation();return}r!==null?(n.x=t=Math.round(r.getValue()),r.isEnded&&(n.activeEasingX=null,n.fireEvent("axisanimationend",n,"x",t))):t=n.x;u!==null?(n.y=i=Math.round(u.getValue()),u.isEnded&&(n.activeEasingY=null,n.fireEvent("axisanimationend",n,"y",i))):i=n.y;(n.lastX!==t||n.lastY!==i)&&(n.doTranslate(t,i),n.lastX=t,n.lastY=i);n.fireEvent("animationframe",n,t,i)}},stopAnimation:function(){var n=this;n.isAnimating&&(n.activeEasingX=null,n.activeEasingY=null,n.isAnimating=!1,Ext.AnimationQueue.stop(n.doAnimationFrame,n),n.fireEvent("animationend",n,n.x,n.y),n.callback&&(n.callback.call(n.callbackScope),n.callback=null))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){this.isAnimating&&this.stopAnimation();Ext.Evented.prototype.destroy.apply(this,arguments)}},1,0,0,0,0,0,[Ext.util.translatable,"Abstract"],0);Ext.cmd.derive("Ext.util.translatable.Dom",Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(n){if(n)return Ext.get(n)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,"Dom"],0);Ext.cmd.derive("Ext.util.translatable.CssTransform",Ext.util.translatable.Dom,{doTranslate:function(n,t){var i=this.getElement();this.isDestroyed||i.isDestroyed||i.translate(n,t)},destroy:function(){var n=this.getElement();n&&!n.isDestroyed&&(n.dom.style.webkitTransform=null);Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"CssTransform"],0);Ext.cmd.derive("Ext.util.translatable.ScrollPosition",Ext.util.translatable.Dom,{type:"scrollposition",config:{useWrapper:!0},getWrapper:function(){var n=this.wrapper,i=this.getElement(),t;if(!n){if(t=i.getParent(),!t)return null;t.hasCls("x-translatable-hboxfix")&&(t=t.getParent());n=this.getUseWrapper()?i.wrap():t;i.addCls("x-translatable");n.addCls("x-translatable-container");this.wrapper=n;n.on("painted",function(){this.isAnimating||this.refresh()},this);this.refresh()}return n},doTranslate:function(n,t){var r=this.getWrapper(),i;r&&(i=r.dom,typeof n=="number"&&(i.scrollLeft=5e5-n),typeof t=="number"&&(i.scrollTop=5e5-t))},destroy:function(){var t=this.getElement(),n=this.wrapper;n&&(t.isDestroyed||(this.getUseWrapper()&&n.doReplaceWith(t),t.removeCls("x-translatable")),n.isDestroyed||(n.removeCls("x-translatable-container"),n.un("painted","refresh",this)),delete this.wrapper,delete this._element);Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"ScrollPosition"],0);Ext.cmd.derive("Ext.util.translatable.ScrollParent",Ext.util.translatable.Dom,{isScrollParent:!0,applyElement:function(n){var t=Ext.get(n);return t&&(this.parent=t.parent()),t},doTranslate:function(n,t){var i=this.parent;i.setScrollLeft(Math.round(-n));i.setScrollTop(Math.round(-t))},getPosition:function(){var t=this,n=t.position,i=t.parent;return n.x=i.getScrollLeft(),n.y=i.getScrollTop(),n}},0,0,0,0,0,0,[Ext.util.translatable,"ScrollParent"],0);Ext.cmd.derive("Ext.util.translatable.CssPosition",Ext.util.translatable.Dom,{doTranslate:function(n,t){var i=this.getElement().dom.style;typeof n=="number"&&(i.left=n+"px");typeof t=="number"&&(i.top=t+"px")},destroy:function(){var n=this.getElement().dom.style;n.left=null;n.top=null;Ext.util.translatable.Dom.prototype.destroy.apply(this,arguments)}},0,0,0,0,0,0,[Ext.util.translatable,"CssPosition"],0);Ext.cmd.derive("Ext.util.Translatable",Ext.Base,{constructor:function(n){var t=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(n)){case"scrollposition":return new t.ScrollPosition(n);case"scrollparent":return new t.ScrollParent(n);case"csstransform":return new t.CssTransform(n);case"cssposition":return new t.CssPosition(n)}}},1,0,0,0,0,0,[Ext.util,"Translatable"],0);Ext.cmd.derive("Ext.scroll.Indicator",Ext.Widget,{config:{axis:null,hideAnimation:!0,hideDelay:0,scroller:null,minLength:24},defaultHideAnimation:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",setLength:"setWidth",translate:"translateX"},y:{side:"t",getSize:"getWidth",setLength:"setHeight",translate:"translateY"}},oppositeAxis:{x:"y",y:"x"},cls:"x-scroll-indicator",applyHideAnimation:function(n){return n&&(n=Ext.mergeIf({onEnd:this.onHideAnimationEnd,scope:this},this.defaultHideAnimation,n)),n},constructor:function(n){var t=this,i;Ext.Widget.prototype.constructor.call(this,n);i=t.getAxis();t.names=t.names[i];t.element.addCls(t.cls+" "+t.cls+"-"+i)},hide:function(){var n=this,t=n.getHideDelay();t?n._hideTimer=Ext.defer(n.doHide,t,n):n.doHide()},setValue:function(n){var t=this,y=t.element,s=t.names,h=t.getAxis(),c=t.getScroller(),f=c.getMaxUserPosition()[h],e=c.getElementSize()[h],i=t.length,l=t.getMinLength(),r=i,a=e-i-t.sizeAdjust,o=Math.round,v=Math.max,u;n<0?(r=o(v(i+i*n/e,l)),u=0):n>f?(r=o(v(i-i*(n-f)/e,l)),u=a+i-r):u=o(n/f*a);t[s.translate](u);y[s.setLength](r)},show:function(){var n=this,t=n.element,i=t.getActiveAnimation();i&&i.end();n._inDom||(n.getScroller().getElement().appendChild(t),n._inDom=!0,n.size||n.cacheStyles());n.refreshLength();clearTimeout(n._hideTimer);t.setStyle("opacity","")},privates:{cacheStyles:function(){var n=this,t=n.element,i=n.names;n.size=t[i.getSize]();n.margin=t.getMargin(i.side)},doHide:function(){var n=this.getHideAnimation(),t=this.element;n?t.animate(n):t.setStyle("opacity",0)},hasOpposite:function(){return this.getScroller().isAxisEnabled(this.oppositeAxis[this.getAxis()])},onHideAnimationEnd:function(){this.element.setStyle("opacity","0")},refreshLength:function(){var n=this,o=n.names,t=n.getAxis(),i=n.getScroller(),s=i.getSize()[t],r=i.getElementSize()[t],h=r/s,u=n.margin*2,f=n.hasOpposite()?u+n.size:u,e=Math.max(Math.round((r-f)*h),n.getMinLength());n.sizeAdjust=f;n.length=e;n.element[o.setLength](e)},translateX:function(n){this.element.translate(n)},translateY:function(n){this.element.translate(0,n)}}},1,["scrollindicator"],["widget","scrollindicator"],{widget:!0,scrollindicator:!0},["widget.scrollindicator"],0,[Ext.scroll,"Indicator"],0);Ext.cmd.derive("Ext.scroll.TouchScroller",Ext.scroll.Scroller,{isTouchScroller:!0,config:{autoRefresh:!0,bounceEasing:{duration:400},elementSize:undefined,indicators:!0,fps:"auto",maxAbsoluteVelocity:6,momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},outOfBoundRestrictFactor:.5,innerElement:null,size:undefined,slotSnapEasing:{duration:150},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},startMomentumResetTime:300,translatable:{translationMethod:"auto",useWrapper:!1}},cls:"x-scroll-container",scrollerCls:"x-scroll-scroller",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},listenerMap:{touchstart:"onTouchStart",touchmove:"onTouchMove",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},refreshCounter:0,constructor:function(n){var t=this,i="onEvent";t.elementListeners={touchstart:i,touchmove:i,dragstart:i,drag:i,dragend:i,scope:t};t.minPosition={x:0,y:0};t.startPosition={x:0,y:0};t.position={x:0,y:0};t.velocity={x:0,y:0};t.isAxisEnabledFlags={x:!1,y:!1};t.flickStartPosition={x:0,y:0};t.flickStartTime={x:0,y:0};t.lastDragPosition={x:0,y:0};t.dragDirection={x:0,y:0};Ext.GlobalEvents.on("idle",t.onIdle,t);Ext.scroll.Scroller.prototype.constructor.call(this,n);t.refreshAxes()},applyBounceEasing:function(n){var t=Ext.fx.easing.EaseOut;return{x:Ext.factory(n,t),y:Ext.factory(n,t)}},applyElementSize:function(n){var u=this.getElement(),t,i,r;return u?(t=u.dom,!t)?void 0:(n==null?(i=t.clientWidth,r=t.clientHeight):(i=n.x,r=n.y),{x:i,y:r}):null},applyIndicators:function(n,t){var e=this,i,r,u,f;return n?(n===!0?i=r={}:(u=n.x,f=n.y,u||f?(i=u==null||u===!0?{}:u,r=u==null||f===!0?{}:f):i=r=n),t?(i?t.x.setConfig(i):(t.x.destroy(),t.x=null),r?t.y.setConfig(r):(t.y.destroy(),t.y=null),n=t):(n={x:null,y:null},i&&(n.x=new Ext.scroll.Indicator(Ext.applyIf({axis:"x",scroller:e},i))),r&&(n.y=new Ext.scroll.Indicator(Ext.applyIf({axis:"y",scroller:e},r))))):t&&(t.x.destroy(),t.y.destroy(),t.x=null,t.y=null),n},applyMomentumEasing:function(n){var t=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(n,t),y:Ext.factory(n,t)}},applyInnerElement:function(n){return n&&!n.isElement&&(n=Ext.get(n)),n},applySize:function(n){var r,u,f,t,i;if(n==null){if(r=this.getElement(),!r)return null;u=r.dom;f=this.getInnerElement().dom;t=Math.max(f.scrollWidth,u.clientWidth);i=Math.max(f.scrollHeight,u.clientHeight)}else typeof n=="number"?(t=n,i=n):(t=n.x,i=n.y);return{x:t,y:i}},applySlotSnapOffset:function(n){return typeof n=="number"?{x:n,y:n}:n},applySlotSnapSize:function(n){return typeof n=="number"?{x:n,y:n}:n},applySlotSnapEasing:function(n){var t=Ext.fx.easing.EaseOut;return{x:Ext.factory(n,t),y:Ext.factory(n,t)}},applyTranslatable:function(n,t){return Ext.factory(n,Ext.util.Translatable,t)},destroy:function(){var n=this,i=n.getElement(),t=n.getInnerElement(),r=n.sizeMonitors;r&&(r.element.destroy(),r.container.destroy());i&&!i.isDestroyed&&i.removeCls(n.cls);t&&!t.isDestroyed&&t.removeCls(n.scrollerCls);n._isWrapped&&(i.isDestroyed||n.unwrapContent(),t.destroy(),n.FixedHBoxStretching&&t.parent().destroy());n.setElement(null);n.setInnerElement(null);Ext.GlobalEvents.un("idle",n.onIdle,n);Ext.destroy(n.getTranslatable());Ext.scroll.Scroller.prototype.destroy.apply(this,arguments)},getPosition:function(){return this.position},refresh:function(n,t){++this.refreshCounter;n&&this.doRefresh(t)},updateAutoRefresh:function(n){this.toggleResizeListeners(n)},updateBounceEasing:function(n){this.getTranslatable().setEasingX(n.x).setEasingY(n.y)},updateElementSize:function(){this.isConfiguring||this.refreshAxes()},updateDisabled:function(n){this.isConfiguring||(n?this.detachListeners():this.attachListeners())},updateElement:function(n,t){var i=this,r=i.getInnerElement(),f=this.FixedHBoxStretching,u;r||(r=n.dom.firstChild,f&&r&&(r=r.dom.firstChild),r&&r.nodeType===1&&Ext.fly(r).hasCls(i.scrollerCls)||(r=i.wrapContent(n)),i.setInnerElement(r));f||n.addCls(i.cls);i.isConfiguring&&(i.getTranslatable().isScrollParent||(u=i.elementListeners,u.mousewheel="onMouseWheel",u.scroll={fn:"onElementScroll",delegated:!1,scope:i}));i.getDisabled()||i.attachListeners();i.isConfiguring||(i.getAutoRefresh()&&i.toggleResizeListeners(!0),i.setSize(null),i.setElementSize(null));Ext.scroll.Scroller.prototype.updateElement.call(this,n,t)},updateFps:function(n){n!=="auto"&&this.getTranslatable().setFps(n)},updateMaxUserPosition:function(){this.snapToBoundary()},updateMinUserPosition:function(){this.snapToBoundary()},updateInnerElement:function(n){n&&n.addCls(this.scrollerCls);this.getTranslatable().setElement(n)},updateSize:function(){this.isConfiguring||this.refreshAxes()},updateTranslatable:function(n){n.setElement(this.getInnerElement());n.on({animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this})},updateX:function(){this.isConfiguring||this.refreshAxes()},updateY:function(){this.isConfiguring||this.refreshAxes()},privates:{attachListeners:function(){this.getElement().on(this.elementListeners)},constrainX:function(n){return Math.min(this.getMaxPosition().x,Math.max(n,0))},constrainY:function(n){return Math.min(this.getMaxPosition().y,Math.max(n,0))},convertEasingConfig:function(n){return n},detachListeners:function(){this.getElement().un(this.elementListeners)},doRefresh:function(n){var t=this,i,r;t.refreshCounter&&t.getElement()&&(t.stopAnimation(),t.getTranslatable().refresh(),n?(i=n.size,r=n.elementSize,i&&t.setSize(i),r&&t.setElementSize(r)):(t.setSize(null),t.setElementSize(null)),t.fireEvent("refresh",t),t.refreshCounter=0)},doScrollTo:function(n,t,i,r){var u=this,c=u.isDragging,e;if(u.isDestroyed||!u.getElement())return u;r=r||u.isDragging;var l=u.getTranslatable(),f=u.position,o=!1,s,h;return(!c||u.isAxisEnabled("x"))&&(isNaN(n)||typeof n!="number"?n=f.x:(r||(n=u.constrainX(n)),f.x!==n&&(f.x=n,o=!0)),s=u.convertX(-n)),(!c||u.isAxisEnabled("y"))&&(isNaN(t)||typeof t!="number"?t=f.y:(r||(t=u.constrainY(t)),f.y!==t&&(f.y=t,o=!0)),h=-t),o&&(i?(e=function(){u.onScroll()},i===!0?i={callback:e}:i.callback=i.callback?Ext.Function.createSequence(i.callback,e):e,l.translateAnimated(s,h,i)):(l.translate(s,h),u.onScroll())),u},getAnimationEasing:function(n,t){if(!this.isAxisEnabled(n))return null;var i=this,u=i.position[n],c=i.getMinUserPosition()[n],s=i.getMaxUserPosition()[n],o=i.getMaxAbsoluteVelocity(),f=null,l=i.dragEndTime,r=t.flick.velocity[n],a=n==="x",h,e;return(u<c?f=c:u>s&&(f=s),a&&(u=i.convertX(u),f=i.convertX(f)),f!==null)?(e=i.getBounceEasing()[n],e.setConfig({startTime:l,startValue:-u,endValue:-f}),e):r===0?null:(r<-o?r=-o:r>o&&(r=o),Ext.browser.is.IE&&(r*=2),e=i.getMomentumEasing()[n],h={startTime:l,startValue:-u,startVelocity:r*1.5,minMomentumValue:-s,maxMomentumValue:0},a&&i.convertEasingConfig(h),e.setConfig(h),e)},getSnapPosition:function(n){var r=this,u=r.getSlotSnapSize()[n],e=null,i,o,f,t;return u!==0&&r.isAxisEnabled(n)&&(i=r.position[n],o=r.getSlotSnapOffset()[n],f=r.getMaxUserPosition()[n],t=Math.floor((i-o)%u),t!==0&&(e=i!==f?Math.abs(t)>u/2?Math.min(f,i+(t>0?u-t:t-u)):i-t:i-t)),e},hideIndicators:function(){var n=this,t=n.getIndicators(),i,r;t&&(n.isAxisEnabled("x")&&(i=t.x,i&&i.hide()),n.isAxisEnabled("y")&&(r=t.y,r&&r.hide()))},isAxisEnabled:function(n){return this.getX(),this.getY(),this.isAxisEnabledFlags[n]},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},onAnimationFrame:function(n,t,i){var r=this.position;r.x=this.convertX(-t);r.y=-i;this.onScroll()},onAxisDrag:function(n,t){if(this.isAxisEnabled(n)){var i=this,v=i.flickStartPosition,e=i.flickStartTime,o=i.lastDragPosition,u=i.dragDirection,y=i.position[n],p=i.getMinUserPosition()[n],f=i.getMaxUserPosition()[n],w=i.startPosition[n],s=o[n],r=w-t,h=u[n],c=i.getOutOfBoundRestrictFactor(),b=i.getStartMomentumResetTime(),l=Ext.Date.now(),a;r<p?r*=c:r>f&&(a=r-f,r=f+a*c);r>s?u[n]=1:r<s&&(u[n]=-1);(h!==0&&u[n]!==h||l-e[n]>b)&&(v[n]=y,e[n]=l);o[n]=r}},onDomScroll:function(){var n=this,t,i;n.getTranslatable().isScrollParent&&(t=n.getElement().dom,i=n.position,i.x=t.scrollLeft,i.y=t.scrollTop);Ext.scroll.Scroller.prototype.onDomScroll.call(this)},onDrag:function(n){var t=this,i=t.lastDragPosition;if(t.isDragging){t.onAxisDrag("x",t.convertX(n.deltaX));t.onAxisDrag("y",n.deltaY);t.doScrollTo(i.x,i.y)}},onDragEnd:function(n){var t=this,i,r;if(t.isDragging){t.dragEndTime=Ext.Date.now();t.onDrag(n);t.isDragging=!1;i=t.getAnimationEasing("x",n);r=t.getAnimationEasing("y",n);i||r?t.getTranslatable().animate(i,r):t.onScrollEnd()}},onDragStart:function(n){var t=this,i=t.getDirection(),e=n.absDeltaX,o=n.absDeltaY,y=t.getDirectionLock(),s=t.startPosition,h=t.flickStartPosition,c=t.flickStartTime,l=t.lastDragPosition,a=t.position,v=t.dragDirection,r=a.x,u=a.y,f=Ext.Date.now();if(t.isDragging=!0,y&&i!=="both")if(i==="horizontal"&&e>o||i==="vertical"&&o>e)n.stopPropagation();else{t.isDragging=!1;return}l.x=r;l.y=u;h.x=r;h.y=u;s.x=r;s.y=u;c.x=f;c.y=f;v.x=0;v.y=0;t.dragStartTime=f;t.isDragging=!0;t.onScrollStart()},onElementResize:function(n,t){this.refresh(!0,{elementSize:{x:t.width,y:t.height}})},onElementScroll:function(n,t){t.scrollTop=t.scrollLeft=0},onEvent:function(n){var t=this,i=n.browserEvent;t.self.isTouching&&!t.isTouching||t.getTranslatable().isScrollParent&&(t.isMouseEvent[i.type]||i.pointerType==="mouse")||!(t.getY()||t.getX())||t[t.listenerMap[n.type]](n)},onIdle:function(){this.doRefresh()},onInnerElementResize:function(n,t){this.refresh(!0,{size:{x:t.width,y:t.height}})},onMouseWheel:function(n){var t=this,f=n.getWheelDeltas(),i=-f.x,r=-f.y,u=t.position,e=t.getMaxUserPosition(),o=t.getMinUserPosition(),s=Math.max,h=Math.min,c=s(h(u.x+i,e.x),o.x),l=s(h(u.y+r,e.y),o.y);(i=c-u.x,r=l-u.y,i||r)&&(n.stopEvent(),t.onScrollStart(),t.scrollBy(i,r),t.onScroll(),t.onScrollEnd())},onPartnerScrollEnd:function(){this.hideIndicators()},onPartnerScrollStart:function(){this.showIndicators()},onScroll:function(){var n=this,u=n.position,f=u.x,e=u.y,t=n.getIndicators(),i,r;t&&(n.isAxisEnabled("x")&&(i=t.x,i&&i.setValue(f)),n.isAxisEnabled("y")&&(r=t.y,r&&r.setValue(e)));n.fireScroll(f,e)},onScrollEnd:function(){var n=this,t=n.position;n.isTouching||n.snapToSlot()||(n.hideIndicators(),Ext.isScrolling=!1,n.fireScrollEnd(t.x,t.y))},onScrollStart:function(){var n=this,t=n.position;n.showIndicators();Ext.isScrolling=!0;n.fireScrollStart(t.x,t.y)},onTouchEnd:function(){var n=this;n.isTouching=n.self.isTouching=!1;!n.isDragging&&n.snapToSlot()&&n.onScrollStart()},onTouchMove:function(n){n.preventDefault()},onTouchStart:function(){var n=this;n.isTouching=n.self.isTouching=!0;Ext.getDoc().on({touchend:"onTouchEnd",scope:n,single:!0});n.stopAnimation()},refreshAxes:function(){var n=this,t=n.isAxisEnabledFlags,o=n.getSize(),s=n.getElementSize(),u=n.getIndicators(),f,e,i,r,h,c;o&&s&&(f=Math.max(0,o.x-s.x),e=Math.max(0,o.y-s.y),i=n.getX(),r=n.getY(),n.setMaxPosition({x:f,y:e}),i===!0||i==="auto"?t.x=!!f:i===!1?(t.x=!1,h=u&&u.x,h&&h.hide()):i==="scroll"&&(t.x=!0),r===!0||r==="auto"?t.y=!!e:r===!1?(t.y=!1,c=u&&u.y,c&&c.hide()):r==="scroll"&&(t.y=!0),n.setMaxUserPosition({x:t.x?f:0,y:t.y?e:0}))},showIndicators:function(){var n=this,t=n.getIndicators(),i,r;t&&(n.isAxisEnabled("x")&&(i=t.x,i&&i.show()),n.isAxisEnabled("y")&&(r=t.y,r&&r.show()))},snapToBoundary:function(){if(!this.isConfiguring){var i=this,r=i.position,u=i.getMinUserPosition(),f=i.getMaxUserPosition(),e=u.x,o=u.y,s=f.x,h=f.y,n=Math.round(r.x),t=Math.round(r.y);n<e?n=e:n>s&&(n=s);t<o?t=o:t>h&&(t=h);i.doScrollTo(n,t)}},snapToSlot:function(){var n=this,t=n.getSnapPosition("x"),i=n.getSnapPosition("y"),r=n.getSlotSnapEasing();return t!==null||i!==null?(n.doScrollTo(t,i,{easingX:r.x,easingY:r.y}),!0):!1},stopAnimation:function(){this.getTranslatable().stopAnimation()},toggleResizeListeners:function(n){var t=this,i=t.getElement(),r=n?"on":"un";i&&(i[r]("resize","onElementResize",t),t.getInnerElement()[r]("resize","onInnerElementResize",t))},unwrapContent:function(){for(var n=this.getInnerElement().dom,i=this.getElement().dom,t;t=n.firstChild;)i.insertBefore(t,n)},wrapContent:function(n){for(var t=document.createElement("div"),i=n.dom,r;r=i.lastChild;)t.insertBefore(r,t.firstChild);return i.appendChild(t),this.setInnerElement(t),this._isWrapped=!0,this.getInnerElement()}}},1,0,0,0,["scroller.touch"],0,[Ext.scroll,"TouchScroller"],0);Ext.cmd.derive("Ext.scroll.DomScroller",Ext.scroll.Scroller,{isDomScroller:!0,constructor:function(n){var t=this;Ext.scroll.Scroller.prototype.constructor.call(this,n)},getMaxPosition:function(){var t=this.getElement(),i=0,r=0,n;return t&&!t.isDestroyed&&(n=t.dom,i=n.scrollWidth-n.clientWidth,r=n.scrollHeight-n.clientHeight),{x:i,y:r}},getMaxUserPosition:function(){var t=this,i=t.getElement(),r=0,u=0,n;return i&&!i.isDestroyed&&(n=i.dom,t.getX()&&(r=n.scrollWidth-n.clientWidth),t.getY()&&(u=n.scrollHeight-n.clientHeight)),{x:r,y:u}},getPosition:function(){var n=this.getElement(),i=0,r=0,t;return n&&!n.isDestroyed&&(t=this.getElementScroll(n),i=t.left,r=t.top),{x:i,y:r}},getSize:function(){var n=this.getElement(),t,i;return n&&!n.isDestroyed?(i=n.dom,t={x:i.scrollWidth,y:i.scrollHeight}):t={x:0,y:0},t},setSize:Ext.emptyFn,updateElement:function(n,t){this.initXStyle();this.initYStyle();Ext.scroll.Scroller.prototype.updateElement.call(this,n,t)},updateX:function(){this.initXStyle()},updateY:function(){this.initYStyle()},privates:{doScrollTo:function(n,t,i){var r=this,u=r.getElement(),f,e,o,s,h;u&&!u.isDestroyed&&(e=this.getElement().dom,s=n===Infinity,h=t===Infinity,(s||h)&&(f=r.getMaxPosition(),s&&(n=f.x),h&&(t=f.y)),n=r.convertX(n),i?(o={},t!=null&&(o.scrollTop=t),n!=null&&(o.scrollLeft=n),u.animate(Ext.mergeIf({to:{scrollTop:t,scrollLeft:n}},i))):(t!=null&&(e.scrollTop=t),n!=null&&(e.scrollLeft=n)))},getElementScroll:function(n){return n.getScroll()},initXStyle:function(){var t=this.getElement(),n=this.getX();n?n===!0&&(n="auto"):n="hidden";t&&t.setStyle("overflow-x",n)},initYStyle:function(){var t=this.getElement(),n=this.getY();n?n===!0&&(n="auto"):n="hidden";t&&t.setStyle("overflow-y",n)},stopAnimation:function(){var n=this.getElement().getActiveAnimation();n&&n.end()}}},1,0,0,0,["scroller.dom"],0,[Ext.scroll,"DomScroller"],0);Ext.cmd.derive("Ext.util.Floating",Ext.Base,{mixinId:"floating",focusOnToFront:!0,shadow:"sides",animateShadow:!1,constrain:!1,config:{activeCounter:0,alwaysOnTop:!1},preventDefaultAlign:!1,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var n=this,i=n.el,r=n.shadow,u,t;if(r&&(t={mode:r===!0?"sides":r},u=n.shadowOffset,u&&(t.offset=u),t.animate=n.animateShadow,t.fixed=n.fixed,i.enableShadow(t,!1)),(n.shim||Ext.useShims)&&i.enableShim({fixed:n.fixed},!1),i.setVisibilityMode(n._visModeMap[n.hideMode]),n.modal&&!Ext.enableFocusManager)n.el.on("keydown",n.onKeyDown,n);n.el.on({mousedown:n.onMouseDown,scope:n,capture:!0});n.registerWithOwnerCt();n.initHierarchyEvents()},alignTo:function(n,t,i,r){var u=this;if(!u._lastAlignToEl)Ext.on("scroll",u.onAlignToScroll,u);u._lastAlignToEl=n;u._lastAlignToPos=t;u.mixins.positionable.alignTo.call(u,n,t,i,r)},initFloatConstrain:function(){var n=this,t=n.floatParent;(n.constrain||n.constrainHeader)&&!n.constrainTo&&(n.constrainTo=t?t.getTargetEl():n.container)},initHierarchyEvents:function(){var t=this,n=this.syncHidden;t.hasHierarchyEventListeners||(t.mon(Ext.GlobalEvents,{hide:n,collapse:n,show:n,expand:n,added:n,scope:t}),t.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var n=this,i=n.ownerCt,t=n.zIndexParent;t&&t.unregisterFloatingItem(n);t=n.zIndexParent=n.up("[floating]");n.floatParent=i||t;n.initFloatConstrain();delete n.ownerCt;t?t.registerFloatingItem(n):Ext.WindowManager.register(n)},onKeyDown:function(n){var f=this,i,t,r,u;n.getKey()===n.TAB&&(i=n.shiftKey,t=f.query(":focusable"),t.length&&(r=t[0],u=t[t.length-1],!i&&u.hasFocus?(n.stopEvent(),r.focus()):i&&r.hasFocus&&(n.stopEvent(),u.focus())))},onMouseDown:function(n){var i=this,f=i.focusTask,e=n.parentEvent,r=e&&e.type==="touchstart",t,u,o;if(i.floating&&(!f||!f.id)){for(t=n.target,u=i.el.dom;!r&&t&&t!==u;)Ext.fly(t).isFocusable()&&(r=!0),t=t.parentNode;o=Ext.WindowManager.getActive()===i&&(t===u||r);o||i.toFront(r)}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){var n=this.el;(n.shadow||n.shim)&&(n.setUnderlaysVisible(!0),n.syncUnderlays())},syncHidden:function(){var n=this,r=n.hidden||!n.rendered,i=n.hierarchicallyHidden=n.isHierarchicallyHidden(),t=n.pendingShow;r!==i&&(i?(n.hide(),n.pendingShow=!0):t&&(delete n.pendingShow,t.length?n.show.apply(n,t):n.show()))},setZIndex:function(n){var t=this;return t.el.setZIndex(n),n+=10,t.floatingDescendants&&(n=Math.floor(t.floatingDescendants.setBase(n)/100)*100+1e4),n},doConstrain:function(n){var t=this,i=t.calculateConstrainedPosition(n,null,!0);i&&t.setPosition(i)},updateActiveCounter:function(){var n=this.zIndexParent;if(n&&this.bringParentToFront!==!1&&n.setActiveCounter(++Ext.ZIndexManager.activeCounter),n=this.zIndexManager,n)n.onComponentUpdate(this)},updateAlwaysOnTop:function(){var n=this.zIndexManager;if(n)n.onComponentUpdate(this)},toFront:function(n){var t=this;return t.zIndexManager.bringToFront(t,n||!t.focusOnToFront)&&t.hasListeners.tofront&&t.fireEvent("tofront",t,t.el.getZIndex()),t},setActive:function(n,t){var i=this,r;n?(i.el.shadow&&!i.maximized&&i.el.enableShadow(null,!0),t&&(r=Ext.ComponentManager.getActiveComponent(),r&&r.up(i)||i.focus()),i.fireEvent("activate",i)):i.fireEvent("deactivate",i)},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var n=this,t;return n.isVisible()?(t=n.getAlignToXY(n.container,"c-c"),n.setPagePosition(t)):n.needsCenter=!0,n},onFloatShow:function(){this.needsCenter&&this.center();delete this.needsCenter;this.toFrontOnShow&&this.toFront()},fitContainer:function(n){var t=this,i=t.floatParent,r=i?i.getTargetEl():t.container,u=r.getViewSize(),f=i||r.dom!==document.body?[0,0]:r.getXY();u.x=f[0];u.y=f[1];t.setBox(u,n)},privates:{onFloatDestroy:function(){this.clearAlignEl()},clearAlignEl:function(){var n=this;n._lastAlignToEl&&(Ext.un("scroll",n.onAlignToScroll,n),n._lastAlignPos=n._lastAlignToEl=null)},onAlignToScroll:function(){var t=this,n=t._lastAlignToEl,i;n&&(i=n.isElement?n.dom:n,i&&!Ext.isGarbage(i)?t.alignTo(n,t._lastAlignToPos):t.clearAlignEl())}}},1,0,0,0,0,0,[Ext.util,"Floating"],0);Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(n,t,i,r){var e=t?Ext.Object.chain(t):{},f,u;if(n instanceof Array)for(f=n.length;f--;)u=n[f],r&&u in e||(typeof u=="string"?e[u]={name:u,itemId:u}:e[u.name]=u);else if(n)if(n.constructor===Object)for(f in n)r&&f in e||(u=n[f],u===!0?e[f]={itemId:f}:typeof u=="string"?e[f]={itemId:u}:(e[f]=u,"itemId"in u||(u.itemId=f)),e[f].name=f);else r&&n in e||(e[n]={name:n,itemId:n});return e}}},destroy:function(){var t=this,r=t.getChildEls(),n;for(var i in r)n=t[i],n&&(n.destroy&&(n.component=null,n.destroy()),t[i]=null)},privates:{afterClassMixedIn:function(n){var t=n.prototype,i=t.childEls;i&&(delete t.childEls,n.getConfigurator().add({childEls:i}))},attachChildEls:function(n,t){var o=this,l=o.getChildEls(),e=t||o,a=e.id+"-",v=!e.frame,s,h,r,c,u,i,f;for(s in l)if(r=l[s],!v||!r.frame){if(u=r.select,u?i=n.select(u,!0):(u=r.selectNode)?i=n.selectNode(u,!1):(f=r.id)?i=Ext.cache[f]||n.getById(f):(f=a+r.itemId,i=Ext.cache[f]),i)if(i.isElement)i.component=e;else if(i.isComposite&&!i.isLite)for(h=i.elements,c=h.length;c--;)h[c].component=e;o[s]=i||null}}}},0,0,0,0,0,0,[Ext.util,"ElementContainer"],0);Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{mixinId:"renderable",frameCls:"x-frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl<\/tpl>{frameElCls}" role="presentation"><\/tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr<\/tpl>{frameElCls}" role="presentation"><\/tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc<\/tpl>{frameElCls}" role="presentation"><\/div>','<tpl if="right"><\/div><\/tpl>','<tpl if="left"><\/div><\/tpl>',"<\/tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml<\/tpl>{frameElCls}" role="presentation"><\/tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr<\/tpl>{frameElCls}" role="presentation"><\/tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc<\/tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","<\/div>",'<tpl if="right"><\/div><\/tpl>','<tpl if="left"><\/div><\/tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl<\/tpl>{frameElCls}" role="presentation"><\/tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br<\/tpl>{frameElCls}" role="presentation"><\/tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc<\/tpl>{frameElCls}" role="presentation"><\/div>','<tpl if="right"><\/div><\/tpl>','<tpl if="left"><\/div><\/tpl>',"<\/tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ','x-table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl<\/tpl>{frameElCls}" role="presentation"><\/td><\/tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc<\/tpl>{frameElCls}" role="presentation"><\/td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr<\/tpl>{frameElCls}" role="presentation"><\/td><\/tpl>',"<\/tr>","<\/tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml<\/tpl>{frameElCls}" role="presentation"><\/td><\/tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc<\/tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","<\/td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr<\/tpl>{frameElCls}" role="presentation"><\/td><\/tpl>',"<\/tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl<\/tpl>{frameElCls}" role="presentation"><\/td><\/tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc<\/tpl>{frameElCls}" role="presentation"><\/td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br<\/tpl>{frameElCls}" role="presentation"><\/td><\/tpl>',"<\/tr>","<\/tpl>","<\/table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,_layerCls:"x-layer",_fixedLayerCls:"x-fixed-layer",statics:{makeRenderSetter:function(n,t){var i=n.name;return function(r){var u=this,e=u.renderConfigs||(u.renderConfigs={}),f=e[t];return u._renderState>=t?(n.setter||n.getSetter()).call(u,r):(f||(e[t]=f={}),i in f||(f[i]=u[i]),u[i]=r),u}},processRenderConfig:function(n,t,i){var f=this.prototype,h=this.getConfigurator(),c=Ext.util.Renderable,l=c.makeRenderSetter,e=n[t],u,r,o,s;for(o in e)r=Ext.Config.get(o),f[s=r.names.set]||(u=r.renderSetter||(r.renderSetter={}),f[s]=u[i]||(u[i]=l(r,i)));delete n[t];h.add(e)}},onClassMixedIn:function(n){var i=n.override,r=this.processRenderConfig,u=function(n){n.beforeRenderConfig&&this.processRenderConfig(n,"beforeRenderConfig",1);n.renderConfig&&this.processRenderConfig(n,"renderConfig",3);i.call(this,n)},t=function(n,t){n.override=u;n.processRenderConfig=r;t.beforeRenderConfig&&n.processRenderConfig(t,"beforeRenderConfig",1);t.renderConfig&&n.processRenderConfig(t,"renderConfig",3)};t(n,n.prototype);n.onExtended(t)},afterRender:function(){var n=this,i={},s=n.protoEl,f=n.el,r,t,e,o,u;n.finishRenderChildren();n._renderState=4;n.contentEl&&(e="x-",o=e+"hidden-",u=n.contentEl=Ext.get(n.contentEl),u.component=n,u.removeCls([e+"hidden",o+"display",o+"offsets"]),n.getContentTarget().appendChild(u.dom));s.writeTo(i);t=i.removed;t&&f.removeCls(t);t=i.cls;t.length&&f.addCls(t);t=i.style;i.style&&f.setStyle(t);n.protoEl=null;n.ownerCt||n.updateLayout();n.x&&n.y||!(n.pageX||n.pageY)||n.setPagePosition(n.pageX,n.pageY);n.disableOnRender&&n.onDisable();Ext.enableAria&&n.ariaApplyAfterRenderAttributes();r=n.controller;r&&r.afterRender&&r.afterRender(n)},afterFirstLayout:function(n,t){var i=this,o=i.x,s=i.y,c=i.defaultAlign,l=i.alignOffset,h,f,e,r,u;i.ownerLayout||(f=o!==undefined,e=s!==undefined);!i.floating||i.preventDefaultAlign||f&&e||(i.floatParent?(r=i.floatParent.getTargetEl().getViewRegion(),u=i.el.getAlignToXY(i.alignTarget||i.floatParent.getTargetEl(),c,l),r.x=u[0]-r.x,r.y=u[1]-r.y):(u=i.el.getAlignToXY(i.alignTarget||i.container,c,l),r=i.container.translateXY(u[0],u[1])),o=f?o:r.x,s=e?s:r.y,f=e=!0);(f||e)&&i.setPosition(o,s);i.onBoxReady(n,t);h=i.controller;h&&h.boxReady&&h.boxReady(i)},beforeRender:function(){var n=this,r=n.floating,u=n.getComponentLayout(),i,t;n._renderState=1;t=n.controller;t&&t.beforeRender&&t.beforeRender(n);n.initBindable();n.renderConfigs&&n.flushRenderConfigs();n.reference&&n.publishState();r&&(n.addCls(n.fixed?n._fixedLayerCls:n._layerCls),i=r.cls,i&&n.addCls(i));n.frame=n.frame||n.alwaysFramed;u.initialized||u.initLayout();n.initOverflow();n.setUI(n.ui)},doApplyRenderTpl:function(n,t){var i=t.$comp,r;i.rendered||(r=i.initRenderTpl(),r.applyOut(t.renderData,n))},getElConfig:function(){var n=this,u=n.autoEl,i=n.getFrameInfo(),t={tag:"div",tpl:i?n.initFramingTpl(i.table):n.initRenderTpl()},f=n.layoutTargetCls,r=n.protoEl,e;return n.initStyles(r),f&&!i&&r.addCls(f),r.writeTo(t),r.flush(),Ext.isString(u)?t.tag=u:Ext.apply(t,u),Ext.enableAria&&n.ariaRenderAttributesToElement&&Ext.apply(t,n.ariaGetRenderAttributes()),t.id=n.id,t.tpl&&(i?(t.tplData=e=n.getFrameRenderData(),e.renderData=n.initRenderData()):t.tplData=n.initRenderData()),t},getInsertPosition:function(n){return n!==undefined&&(n=Ext.isNumber(n)?this.container.dom.childNodes[n]:Ext.getDom(n)),n},getRenderTree:function(){var n=this,t=null;return n.hasListeners.beforerender&&n.fireEvent("beforerender",n)===!1||(n._renderState=1,n.beforeRender(),n.rendering=!0,n._renderState=2,t=n.getElConfig(),n.el&&(t.id=n.$pid=Ext.id(null,n.el.identifiablePrefix))),t},initRenderData:function(){var n=this;return Ext.apply({$comp:n,id:n.id,ui:n.ui,uiCls:n.uiCls,baseCls:n.baseCls,componentCls:n.componentCls,frame:n.frame,renderScroller:n.touchScroll,scrollerCls:n.scrollerCls,role:n.ariaRole,childElCls:""},n.renderData)},onRender:function(){var n=this,u=n.x,f=n.y,t=null,e=n.el,i,r;n.applyRenderSelectors();n.rendering=null;n.rendered=!0;n._renderState=3;n.renderConfigs&&n.flushRenderConfigs();u!=null&&(t={x:u});f!=null&&((t=t||{}).y=f);n.getFrameInfo()||(i=n.width,r=n.height,typeof i=="number"&&(t=t||{},t.width=i),typeof r=="number"&&(t=t||{},t.height=r));n.touchScroll===1&&n.getOverflowEl().disableTouchScroll();n.lastBox=e.lastBox=t},render:function(n,t){var i=this,r=i.el,e=i.ownerLayout,o,u,f;r&&!r.isElement&&(i.wrapPrimaryEl(r),r=i.el);Ext.suspendLayouts();n=i.initContainer(n);f=i.getInsertPosition(t);r?i.hasListeners.beforerender&&i.fireEvent("beforerender",i)===!1?o=!0:(i.beforeRender(),i.needsRenderTpl=i.rendering=!0,i._renderState=2,i.initStyles(r),i.allowDomMove!==!1&&(f?n.dom.insertBefore(r.dom,f):n.dom.appendChild(r.dom))):(u=i.getRenderTree(),e&&e.transformItemRenderTree&&(u=e.transformItemRenderTree(u)),u&&(r=f?Ext.DomHelper.insertBefore(f,u):Ext.DomHelper.append(n,u),i.wrapPrimaryEl(r),i.cacheRefEls(r)));r&&!o&&i.finishRender(t);Ext.resumeLayouts(!i.hidden&&!n.isDetachedBody)},ensureAttachedToBody:function(n){for(var t=this,i;t.ownerCt;)t=t.ownerCt;t.container.isDetachedBody&&(t.container=i=Ext.getBody(),i.appendChild(t.el.dom),n&&t.updateLayout(),(typeof t.x=="number"||typeof t.y=="number")&&t.setPosition(t.x,t.y))},privates:{applyRenderSelectors:function(){var n=this,t=n.renderSelectors,u=n.el,i,r;if(n.attachChildEls(u),t)for(r in t)i=t[r],i&&(n[r]=u.selectNode(i,!1))},cacheRefEls:function(n){n=n||this.el;for(var u=Ext.cache,f=Ext.dom.Element,e=n.isElement?n.dom:n,r=e.querySelectorAll("[data-ref]"),o=r.length,i,t=0;t<o;t++)i=r[t],u[i.id]||new f(i)},doAutoRender:function(){var n=this;n.rendered||(n.floating?n.render(n.renderTo||document.body):n.render(Ext.isBoolean(n.autoRender)?Ext.getBody():n.autoRender))},doRenderContent:function(n,t){var i=t.$comp,r=i.data;i.html&&(Ext.DomHelper.generateMarkup(i.html,n),delete i.html);i.tpl&&(i.tpl.isTemplate||(i.tpl=new Ext.XTemplate(i.tpl)),r&&(i.data=r=r.isEntity?r.getData(!0):r,i.tpl.applyOut(r,n)))},doRenderFramingDockedItems:function(n,t,i){var r=t.$comp;!r.rendered&&r.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,r.doRenderDockedItems.call(this,n,t,i))},flushRenderConfigs:function(){var n=this,f=n.renderConfigs,o=n._renderState,r,t,i,u,e;if(f){for(t=0;t<=o;++t)if(r=f[t],r){f[t]=null;for(i in r)e=r[i],(u||(u={}))[i]=n[i],n[i]=e}u&&n.setConfig(u)}},finishRender:function(n){var t=this,o=Ext.cache,u,s,f,e,h,i,r;if(!t.el||t.$pid)if(t.container?(r=o[t.id],i=r?r.dom:t.container.getById(t.id,!0)):(f=t.$pid||t.id,r=o[f],i=r?r.dom:Ext.getDom(f)),t.el){for(delete t.$pid,t.el.dom||t.wrapPrimaryEl(t.el),i.parentNode.insertBefore(t.el.dom,i),u=i,i=t.el.dom,s=i.firstChild;u.firstChild;)i.insertBefore(u.firstChild,s);t.el.addCls(u.className);Ext.removeNode(u)}else t.wrapPrimaryEl(i);else t.needsRenderTpl&&(e=t.initRenderTpl(),e&&(h=t.initRenderData(),e.insertFirst(t.getTargetEl(),h)),t.cacheRefEls());t.el.component=t;t.container||(t.container=Ext.get(t.el.dom.parentNode));t.ctCls&&t.container.addCls(t.ctCls);t.onRender(t.container,n);t.overflowInited||t.initOverflow();t.el.setVisibilityMode(Ext.Element[t.hideMode.toUpperCase()]);t.overCls&&t.el.hover(t.addOverCls,t.removeOverCls,t);t.hasListeners.render&&t.fireEvent("render",t);t.afterRender();t.hasListeners.afterrender&&t.fireEvent("afterrender",t);t.initEvents();t.hidden&&t.el.hide()},finishRenderChildren:function(){var n=this.getComponentLayout();n.finishRender()},getFrameRenderData:function(){var n=this,t=n.frameSize,i="";return n._syncFrameHeight&&n.height&&(i="height:"+(n.height-t.height)+"px"),{$comp:n,fgid:n.id+"-frame",ui:n.ui,uiCls:n.uiCls,frameCls:n.frameCls,frameBodyCls:n.layoutTargetCls||"",baseCls:n.baseCls,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,mcStyle:i,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var i=this,w=i.frameInfoCache,r=i.getFramingInfoCls()+"-frameInfo",t=w[r],b,n,u,f,e,o,s,h,c,l,a,v,y,p;return t==null&&(b=Ext.fly(i.getStyleProxy(r),"frame-style-el"),n=b.getStyle("font-family"),n?(n=n.split("-"),u=parseInt(n[1],10),f=parseInt(n[2],10),e=parseInt(n[3],10),o=parseInt(n[4],10),s=parseInt(n[5],10),h=parseInt(n[6],10),c=parseInt(n[7],10),l=parseInt(n[8],10),a=parseInt(n[9],10),v=parseInt(n[10],10),y=parseInt(n[11],10),p=parseInt(n[12],10),t={table:n[0].charAt(0)==="t",vertical:n[0].charAt(1)==="v",top:u,right:f,bottom:e,left:o,width:o+f,height:u+e,border:{top:s,right:h,bottom:c,left:l,width:l+h,height:s+c},padding:{top:a,right:v,bottom:y,left:p,width:p+v,height:a+y}}):t=!1,w[r]=t),i.frame=!!t,i.frameSize=t,t},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(n){var t=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=n,t},getFrameTpl:function(n){return this.getTpl(n?"frameTableTpl":"frameTpl")},initContainer:function(n){var t=this;return!n&&t.el&&(n=t.el.dom.parentNode,t.allowDomMove=!1),t.container=n.dom?n:Ext.get(n),t.container},initOverflow:function(){var n=this,u=n.getOverflowStyle(),i=n.scrollFlags,t=n.getOverflowEl(),r=i.y||i.x,f=n.touchScroll=r&&Ext.supports.touchScroll;r&&t&&t.isElement&&(n.overflowInited=!0,f===2?t.setStyle("overflow","hidden"):t.setStyle(u))},doRenderPadding:function(n,t){var i=t.$comp;i.touchScroll&&n.push("padding:",i.unitizeBox(i.padding))},initFramingTpl:function(n){var t=this.getFrameTpl(n);return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},initRenderTpl:function(){var n=this.getTpl("renderTpl");return n&&!n.renderContent&&this.setupRenderTpl(n),n},setupFramingTpl:function(n){n.applyRenderTpl=this.doApplyRenderTpl;n.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(n){n.renderBody=n.renderContent=this.doRenderContent;n.renderPadding=this.doRenderPadding},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var n=this,l=n.el.dom,a=n.frameTable,e=n.frameBody,o=e.dom,w=n.getFrameInfo(),s,t,i,u,r,v,y,p,h,f,c;for(i=document.createElement("div"),v=n.getFrameRenderData(),p=n.getFrameTpl(w.table),p.insertFirst(i,v),c=i.querySelectorAll("[data-ref]"),f=i.querySelector('[data-ref="frameBody"]'),r=o;r.parentNode!==l;)r=r.parentNode;while(i.firstChild)l.insertBefore(i.firstChild,r);f.parentNode.replaceChild(o,f);o.className=f.className;e.setSize();s=n.getChildEls();a&&(a.destroy(),n.frameTable=null);for(t in s)s[t].frame&&(u=n[t],u&&u!==e&&(u.destroy(),n[t]=null));for(h=c.length;h--;)t=(y=c[h]).getAttribute("data-ref"),t!=="frameBody"&&(n[t]=new Ext.dom.Element(y))}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,"Renderable"],0);Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(n){var t=this;Ext.apply(t,n);t.state={};t.mixins.observable.constructor.call(t)},get:function(n,t){var i=this.state[n];return i===undefined?t:i},clear:function(n){var t=this;delete t.state[n];t.fireEvent("statechange",t,n,null)},set:function(n,t){var i=this;i.state[n]=t;i.fireEvent("statechange",i,n,t)},decodeValue:function(n){var o=this,u=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(n)),i,s,e,r,f,t;if(u&&u[1]){s=u[1];n=u[2];switch(s){case"e":return null;case"n":return parseFloat(n);case"d":return new Date(Date.parse(n));case"b":return n==="1";case"a":if(i=[],n)for(r=n.split("^"),f=r.length,t=0;t<f;t++)n=r[t],i.push(o.decodeValue(n));return i;case"o":if(i={},n)for(r=n.split("^"),f=r.length,t=0;t<f;t++)n=r[t],e=n.split("="),i[e[0]]=o.decodeValue(e[1]);return i;default:return n}}},encodeValue:function(n){var i="",u=0,t,f,r;if(n==null)return"e:1";if(typeof n=="number")t="n:"+n;else if(typeof n=="boolean")t="b:"+(n?"1":"0");else if(Ext.isDate(n))t="d:"+n.toUTCString();else if(Ext.isArray(n)){for(f=n.length;u<f;u++)i+=this.encodeValue(n[u]),u!==f-1&&(i+="^");t="a:"+i}else if(typeof n=="object"){for(r in n)typeof n[r]!="function"&&n[r]!==undefined&&(i+=r+"="+this.encodeValue(n[r])+"^");t="o:"+i.substring(0,i.length-1)}else t="s:"+n;return escape(t)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0);Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(n){this.provider=n},get:function(n,t){return this.provider.get(n,t)},set:function(n,t){this.provider.set(n,t)},clear:function(n){this.provider.clear(n)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0);Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{mixinId:"state",stateful:!1,saveDelay:100,constructor:function(){var n=this;n.stateEvents||(n.stateEvents=[]);n.stateful!==!1&&(n.addStateEvents(n.stateEvents),n.initState())},addStateEvents:function(n){var t=this,r,i,u,f;if(t.stateful&&t.getStateId())for(f=typeof n=="string"?arguments:n,u=t.stateEventsByName||(t.stateEventsByName={}),r=f.length;r--;)if(i=f[r],i&&!u[i]){u[i]=1;t.on(i,t.onStateChange,t)}},onStateChange:function(){var n=this,i=n.saveDelay,t,r;n.stateful&&(i?(n.stateTask||(t=Ext.state.Stateful,r=t.runner||(t.runner=new Ext.util.TaskRunner),n.stateTask=r.newTask({run:n.saveState,scope:n,interval:i,repeat:1,fireIdleEvent:!1})),n.stateTask.start()):n.saveState())},saveState:function(){var n=this,e=n.stateful&&n.getStateId(),o=n.hasListeners,u,i,r,s,t,f;if(e){for(t=n.getState()||{},u=n.getPlugins()||[],r=0,s=u.length;r<s;r++)i=u[r],i&&i.getState&&(f=i.getState(t),f&&!t[i.ptype]&&(t[i.ptype]=f));o.beforestatesave&&n.fireEvent("beforestatesave",n,t)===!1||(Ext.state.Manager.set(e,t),o.statesave&&n.fireEvent("statesave",n,t))}},getState:function(){return null},applyState:function(n){n&&Ext.apply(this,n)},getStateId:function(){var n=this;return n.stateId||(n.autoGenId?null:n.id)},initState:function(){var n=this,o=n.stateful&&n.getStateId(),s=n.hasListeners,r,t,u,h,f,i,e;if(o&&(t=Ext.state.Manager.get(o),t&&(r=Ext.apply({},t),!s.beforestaterestore||n.fireEvent("beforestaterestore",n,t)!==!1))){for(f=n.getPlugins()||[],u=0,h=f.length;u<h;u++)i=f[u],i&&(e=i.ptype,i.applyState&&i.applyState(r[e],t),delete r[e]);n.applyState(r);s.staterestore&&n.fireEvent("staterestore",n,t)}},savePropToState:function(n,t,i){var r=this,u=r[n],f=r.initialConfig;return r.hasOwnProperty(n)&&(!f||f[n]!==u)?(t&&(t[i||n]=u),!0):!1},savePropsToState:function(n,t){var r=this,i,u;if(typeof n=="string")r.savePropToState(n,t);else for(i=0,u=n.length;i<u;++i)r.savePropToState(n[i],t);return t},destroy:function(){var n=this,t=n.stateTask;t&&(t.destroy(),n.stateTask=null);n.clearListeners()}},1,0,0,0,0,0,[Ext.state,"Stateful"],0);Ext.cmd.derive("Ext.util.Focusable",Ext.Base,{mixinId:"focusable",hasFocus:!1,focusable:!1,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){this.focusListeners=Ext.destroy(this.focusListeners);delete this.focusTask},enableFocusable:Ext.emptyFn,disableFocusable:function(){var n=this,t,r=n.focusCls,i;n.hasFocus&&(t=n.findFocusTarget(),t&&t.focus());i=n.getFocusClsEl();r&&i&&i.removeCls(n.removeClsWithUI(r,!0))},isFocusable:function(n){var t=this,i;return!t.focusable&&(!t.isContainer||!n)?!1:(i=t.getFocusEl(),i&&t.canFocus())?i.isFocusable(n):!1},canFocus:function(){var n=this;return(n.isContainer||n.focusable)&&n.rendered&&!n.destroying&&!n.isDestroyed&&!n.disabled&&n.isVisible(!0)},focus:function(n,t,i,r){var u=this,f,e,o;if((u.focusable||u.isContainer)&&!u.isDestroyed&&!u.destroying){if(t)return u.getFocusTask().delay(Ext.isNumber(t)?t:10,u.focus,u,[n,!1,i,r]),u;if(u.cancelFocus(),u.canFocus()){if(f=u.getFocusEl()){if(f.isComponent)return f.focus(n,t,i,r);e=f.dom;e&&(f.needsTabIndex()&&(e.tabIndex=-1),u.floating&&(o=u.container.dom.scrollTop),f.focus(),n&&(Ext.isArray(n)?u.selectText&&u.selectText.apply(u,n):e.select?e.select():u.selectText&&u.selectText()),Ext.callback(i,r));u.floating&&(u!==u.zIndexManager.getActive()&&u.toFront(!0),o!==undefined&&(u.container.dom.scrollTop=o))}}else if(f=u.findFocusTarget(),f)return f.focus(n,t,i,r);return u}},cancelFocus:function(){var n=this.getFocusTask();n&&n.cancel()},beforeBlur:Ext.emptyFn,onBlur:function(n){var t=this,i=t.focusableContainer,u=t.focusCls,r;t.focusable&&!t.destroying&&(t.beforeBlur(n),i&&i.beforeFocusableChildBlur(t,n),r=t.getFocusClsEl(),u&&r&&r.removeCls(t.removeClsWithUI(u,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,n),t.postBlur(n),i&&i.afterFocusableChildBlur(t,n))},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(n){var t=this,i=t.focusableContainer,u=t.focusCls,r;t.focusable&&t.canFocus()&&(t.beforeFocus(n),i&&i.beforeFocusableChildFocus(t,n),r=t.getFocusClsEl(),u&&r&&r.addCls(t.addClsWithUI(u,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,n)),t.postFocus(n),i&&i.afterFocusableChildFocus(t,n))},postFocus:Ext.emptyFn,getTabIndex:function(){var i=this,n,t;if(i.focusable){if(n=i.getFocusEl(),n){if(n.isComponent)t=n.getTabIndex();else if(n.isElement)t=n.getAttribute(Ext.Element.tabIndexAttributeName);else return;i.tabIndex=t}else t=i.tabIndex;return+t}},setTabIndex:function(n){var i=this,t;i.focusable&&(i.tabIndex=n,t=i.getFocusEl(),t&&(t.isComponent?t.setTabIndex(n):t.isElement&&t.set({tabindex:n})))},onFocusEnter:function(n){var t=this;t.previousFocus=n.fromComponent||n.relatedTarget;t.containsFocus=!0;t.fireEvent("focusenter",t,n)},onFocusLeave:function(n){var t=this;t.previousFocus=null;t.containsFocus=!1;t.fireEvent("focusleave",t,n)},privates:{revertFocus:function(){var t=this,n=t.previousFocus;t.previousFocus=null;n&&t.containsFocus&&(n.isComponent?n.focus():(n=Ext.fly(n),(Ext.isIE8||n.isFocusable&&n.isFocusable())&&n.focus()))},findFocusTarget:function(){for(var i=this,t,n=i.up(":not([disabled])");n;n=n.up(":not([disabled])")){if(t=Ext.ComponentQuery.query(":focusable:not([hasFocus])",n),t.length)return t[0];if(n.isFocusable&&n.isFocusable())return n}},initFocusableElement:function(){var t=this,i=t.tabIndex,n=t.getFocusEl(),r;n&&!n.isComponent&&(r=n.needsTabIndex(),(r||i!=null)&&n.dom.setAttribute("tabindex",i),n.dom.setAttribute(Ext.Component.componentIdAttribute,t.id))},getFocusTask:function(){return this.focusTask||(this.focusTask=Ext.focusTask),this.focusTask},blur:function(){var n=this,t;if(n.focusable&&n.rendered)return t=n.getFocusEl(),t&&(n.blurring=!0,t.blur(),delete n.blurring),n},disableTabbing:function(){var t=this,i=t.el,n;t.focusable&&(n=t.getFocusEl(),i&&i.saveChildrenTabbableState(),n&&(n=n.isComponent?n.getFocusEl():n,n.saveTabbableState()))},enableTabbing:function(){var t=this,i=t.el,n;t.focusable&&(n=t.getFocusEl(),n&&(n=n.isComponent?n.getFocusEl():n,n.restoreTabbableState()),i&&i.restoreChildrenTabbableState())}}},0,0,0,0,0,0,[Ext.util,"Focusable"],function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)});Ext.cmd.derive("Ext.Component",Ext.Base,{alternateClassName:"Ext.AbstractComponent",statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:"componentId",cancelLayout:function(n,t){var i=this.runningLayoutContext||this.pendingLayouts;i&&i.cancelComponent(n,!1,t)},fromElement:function(n,t){var f=Ext.Component.componentIdAttribute,i=Ext.getDom(n),e=Ext.ComponentManager.all,r,u;for(t=t?Ext.getDom(t):document.body.parentNode;i&&i.nodeType===1&&i!==t;){if(r=i.getAttribute(f)||i.id,r&&(u=e[r],u))return u;i=i.parentNode}return null},flushLayouts:function(){var t=this,n=t.pendingLayouts;n&&n.invalidQueue.length&&(t.pendingLayouts=null,t.runningLayoutContext=n,Ext.override(n,{runComplete:function(){t.runningLayoutContext=null;var n=this.callParent();return Ext.GlobalEvents.hasListeners.afterlayout&&Ext.GlobalEvents.fireEvent("afterlayout"),n}}),n.run())},resumeLayouts:function(n){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(n&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(n,t){var i=this,r=i.runningLayoutContext,u;r?r.queueInvalidate(n):(u=i.pendingLayouts||(i.pendingLayouts=new Ext.layout.Context),u.queueInvalidate(n),t||i.layoutSuspendCount||n.isLayoutSuspended()||i.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:"x-component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var n=["input","select","textarea","optgroup","option","table"];return!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||n.push("p"),new RegExp("^(?:"+n.join("|")+")$","i")}(),disabledCls:"x-item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"<\/tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"><\/div><\/tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:"x-border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,offsetsCls:"x-hidden-offsets",rendered:!1,rootCls:"x-body",scrollerCls:"x-scroll-scroller",scrollerSelector:".x-scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:!0,y:!0,both:!0},"false":{overflowX:"auto",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"auto",overflowY:"scroll",x:!0,y:!0,both:!0}},"false":{auto:{overflowX:"hidden",overflowY:"auto",x:!1,y:!0,both:!1},"false":{overflowX:"hidden",overflowY:"hidden",x:!1,y:!1,both:!1},scroll:{overflowX:"hidden",overflowY:"scroll",x:!1,y:!0,both:!1}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:!0,y:!0,both:!0},"false":{overflowX:"scroll",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"scroll",overflowY:"scroll",x:!0,y:!0,both:!0}},none:{overflowX:"",overflowY:"",x:!1,y:!1,both:!1}},_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},"true":{x:!0,y:!0}},validIdRe:Ext.validIdRe,constructor:function(n){var t=this,i,h,e,o,s,r,u,f;if(n=n||{},n.initialConfig?(n.isAction&&(t.baseAction=n),n=n.initialConfig):(n.tagName||n.dom||Ext.isString(n))&&(n={applyTo:n,id:n.id||n}),t.initialConfig=n,t.getId(),t.protoEl=new Ext.util.ProtoElement,t.initConfig(n),t.scrollable==null&&(s=t.autoScroll,s?f=!!s:(r=t.overflowX,u=t.overflowY,(r||u)&&(f={x:r&&r!=="hidden"?r:!1,y:u&&u!=="hidden"?u:!1})),f&&t.setScrollable(f)),e=t.xhooks,e&&(delete t.xhooks,Ext.override(t,e)),t.mixins.elementCt.constructor.call(t),t.setupProtoEl(),t.cls&&(t.initialCls=t.cls,t.protoEl.addCls(t.cls)),t.style&&(t.initialStyle=t.style,t.protoEl.setStyle(t.style)),t.renderData=t.renderData||{},t.initComponent(),t.preventRegister||Ext.ComponentManager.register(t),t.mixins.state.constructor.call(t),t.addStateEvents("resize"),o=t.getController(),o&&o.init(t),t.plugins)for(i=0,h=t.plugins.length;i<h;i++)t.plugins[i]=t.initPlugin(t.plugins[i]);t.loader=t.getLoader();t.disabled&&(t.disabled=!1,t.disable(!0));t.renderTo&&t.render(t.renderTo);t.autoShow&&!t.initOwnerCt&&t.show();t.baseAction&&t.baseAction.addComponent(t)},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(){var n=this,t=n.rendered?n.el:n.protoEl;return t.addCls.apply(t,arguments),n},addClsWithUI:function(n,t){var i=this,u=[],f=0,s=i.uiCls=Ext.Array.clone(i.uiCls),e=i.activeUI,o,r;for(typeof n=="string"&&(n=n.indexOf(" ")<0?[n]:Ext.String.splitWords(n)),o=n.length;f<o;f++)r=n[f],r&&!i.hasUICls(r)&&(s.push(r),e&&(u=u.concat(i.addUIClsToElement(r))));return t!==!0&&e&&i.addCls(u),u},afterComponentLayout:function(n,t,i,r){var u=this;if(++u.componentLayoutCounter==1&&u.afterFirstLayout(n,t),n!==i||t!==r)u.onResize(n,t,i,r);u.floating&&u.onAfterFloatLayout()},addPlugin:function(n){var t=this;return n=t.constructPlugin(n),t.plugins?t.plugins.push(n):t.plugins=[n],t.pluginsInitialized&&t.initPlugin(n),n},addPropertyToState:function(n,t,i){var r=this,u=arguments.length;return(u===3||r.hasOwnProperty(t))&&(u<3&&(i=r[t]),i!==r.initialConfig[t]&&((n||(n={}))[t]=i)),n},addUIClsToElement:function(n){var t=this,r=t.baseCls+"-"+t.ui+"-"+n,o=["x-"+n,t.baseCls+"-"+n,r],u,f,e,i;if(t.rendered&&t.frame&&!Ext.supports.CSS3BorderRadius){r+="-";u=t.getChildEls();for(f in u)i=u[f].frame,i&&i!==!0&&(e=t[f],e&&e.addCls(r+i))}return o},removeUIClsFromElement:function(n){var t=this,r=t.baseCls+"-"+t.ui+"-"+n,o=["x-"+n,t.baseCls+"-"+n,r],u,f,e,i;if(t.rendered&&t.frame&&!Ext.supports.CSS3BorderRadius){r+="-";u=t.getChildEls();for(f in u)i=u[f].frame,i&&i!==!0&&(e=t[f],e&&e.removeCls(r+i))}return o},adjustPosition:function(n,t){var r=this,i;return r.isContainedFloater()&&(i=r.floatParent.getTargetEl().getViewRegion(),n+=i.left,t+=i.top),{x:n,y:t}},afterHide:function(n,t){var i=this,r=i.focusableContainer;if(i.hiddenByLayout=null,this.ownerLayout&&this.updateLayout({isRoot:!1}),Ext.callback(n,t||i),i.fireHierarchyEvent("hide"),i.fireEvent("hide",i),r)r.onFocusableChildHide(i)},afterSetPosition:function(n,t){var i=this;i.onPosition(n,t);i.hasListeners.move&&i.fireEvent("move",i,n,t)},afterShow:function(n,t,i){var r=this,u=r.el,o,e,f;if(n=r.getAnimateTarget(n),r.ghost||(n=null),n)e={x:u.getX(),y:u.getY(),width:u.dom.offsetWidth,height:u.dom.offsetHeight},o={x:n.getX(),y:n.getY(),width:n.dom.offsetWidth,height:n.dom.offsetHeight},u.addCls(r.offsetsCls),f=r.ghost(),f.el.stopAnimation(),f.setX(-1e4),r.ghostBox=e,f.el.animate({from:o,to:e,listeners:{afteranimate:function(){delete f.componentLayout.lastComponentSize;r.unghost();delete r.ghostBox;u.removeCls(r.offsetsCls);r.onShowComplete(t,i)}}});else r.onShowComplete(t,i);r.fireHierarchyEvent("show")},animate:function(n){var t=this,r,u,f,e,i,w,b,o,l,s,a,h,v,y,p,c;return(n=n||{},i=n.to||{},Ext.fx.Manager.hasFxBlock(t.id))?t:(r=Ext.isDefined(i.width),r&&(e=Ext.Number.constrain(i.width,t.minWidth,t.maxWidth)),u=Ext.isDefined(i.height),u&&(f=Ext.Number.constrain(i.height,t.minHeight,t.maxHeight)),!n.dynamic&&(r||u)&&(o=(n.from?n.from.width:undefined)||t.getWidth(),l=o,s=(n.from?n.from.height:undefined)||t.getHeight(),a=s,h=!1,u&&f>s&&(a=f,h=!0),r&&e>o&&(l=e,h=!0),(u||r)&&(c=t.el.getStyle("overflow"),c!=="hidden"&&t.el.setStyle("overflow","hidden")),h&&(w=!Ext.isNumber(t.width),b=!Ext.isNumber(t.height),t.setSize(l,a),t.el.setSize(o,s),w&&delete t.width,b&&delete t.height),r&&(i.width=e),u&&(i.height=f)),v=t.constrain,y=t.constrainHeader,(v||y)&&(t.constrain=t.constrainHeader=!1,p=n.callback,n.callback=function(){t.constrain=v;t.constrainHeader=y;p&&p.call(n.scope||t,arguments);c!=="hidden"&&t.el.setStyle("overflow",c)}),t.mixins.animate.animate.apply(t,arguments))},applyScrollable:function(n,t){var i=this,f=i.rendered,u,r;return n?((n===!0||typeof n=="string")&&(u=i._scrollableCfg[n],n=u),t?(t.setConfig(n),n=t):(n=Ext.Object.chain(n),f&&(n.element=i.getOverflowEl(),r=i.getScrollerEl(),r&&(n.innerElement=r)),n.autoRefresh=!1,Ext.supports.touchScroll===1&&(n.translatable={translationMethod:"scrollparent"},n.indicators=!1),n=Ext.scroll.Scroller.create(n),n.component=i)):t&&(t.setConfig({x:!1,y:!1}),t.destroy()),i.rendered&&(i.getOverflowStyle(),i.updateLayout()),n},beforeComponentLayout:function(){return!0},beforeDestroy:Ext.emptyFn,beforeLayout:function(){this.floating&&this.onBeforeFloatLayout()},beforeSetPosition:function(n,t,i){var r=this,u=null,f,e,o,s;return n&&(Ext.isNumber(f=n[0])?(i=t,t=n[1],n=f):(f=n.x)!==undefined&&(i=t,t=n.y,n=f)),(r.constrain||r.constrainHeader)&&(u=r.calculateConstrainedPosition(null,[n,t],!0),u&&(n=u[0],t=u[1])),e=n!==undefined,o=t!==undefined,(e||o)&&(r.x=n,r.y=t,s=r.adjustPosition(n,t),u={x:s.x,y:s.y,anim:i,hasX:e,hasY:o}),u},beforeShow:Ext.emptyFn,bubble:function(n,t,i){for(var r=this;r;){if(n.apply(t||r,i||[r])===!1)break;r=r.getBubbleTarget()}return this},cloneConfig:function(n){n=n||{};var r=n.id||Ext.id(),t=Ext.applyIf(n,this.initialConfig),i;return t.id=r,i=Ext.getClass(this),new i(t)},destroy:function(){var n=this,u=n.renderSelectors,f=n.getConfig("viewModel",!0),t=n.getConfig("session",!0),i,r,e;if(!n.isDestroyed&&(!n.hasListeners.beforedestroy||n.fireEvent("beforedestroy",n)!==!1)){if(n.destroying=!0,r=n.floatParent||n.ownerCt,n.floating&&(delete n.floatParent,n.zIndexManager&&(n.zIndexManager.unregister(n),n.zIndexManager=null)),n.removeBindings(),n.beforeDestroy(),f&&f.isViewModel&&(f.destroy(),n.viewModel=null),t&&t.isSession&&(t.getAutoDestroy()&&t.destroy(),n.session=null),r&&r.remove&&r.remove(n,!1),n.stopAnimation(),n.onDestroy(),Ext.destroy(n.plugins),n.componentLayout=null,n.hasListeners.destroy&&n.fireEvent("destroy",n),n.preventRegister||Ext.ComponentManager.unregister(n),n.mixins.state.destroy.call(n),n.floating&&n.onFloatDestroy(),n.clearListeners(),n.rendered){if(n.preserveElOnDestroy||n.el.destroy(),n.el.component=null,n.mixins.elementCt.destroy.call(n),u)for(i in u)u.hasOwnProperty(i)&&(e=n[i],e&&(delete n[i],e.destroy()));n.data=n.el=n.frameBody=n.rendered=null}n.destroying=!1;n.isDestroyed=!0}},disable:function(n,t){var i=this,r=i.focusableContainer,u=i.getInherited();if(t||(u.disabled=!0),i.maskOnDisable&&(u.disableMask=!0),!i.disabled&&(i.addCls(i.disabledCls),i.rendered?i.onDisable():i.disableOnRender=!0,i.disabled=!0,n!==!0&&i.fireEvent("disable",i),r))r.onFocusableChildDisable(i);return i},enable:function(n,t){var i=this,r=i.focusableContainer,u=i.getInherited();if(t||delete i.getInherited().disabled,i.maskOnDisable&&delete u.disableMask,i.disabled&&!(t&&u.hasOwnProperty("disabled"))&&(i.disableOnRender=!1,i.removeCls(i.disabledCls),i.rendered&&i.onEnable(),i.disabled=!1,n!==!0&&i.fireEvent("enable",i),r))r.onFocusableChildEnable(i);return i},findParentBy:function(n){for(var t=this.getRefOwner();t&&!n(t,this);t=t.getRefOwner());return t||null},findParentByType:function(n){return Ext.isFunction(n)?this.findParentBy(function(t){return t.constructor===n}):this.up(n)},findPlugin:function(n){for(var i=this.plugins,r=i&&i.length,t=0;t<r;t++)if(i[t].ptype===n)return i[t]},getAnimateTarget:function(n){return n=n||this.animateTarget,n&&(n=n.isComponent?n.getEl():Ext.get(n)),n||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var n=this;return n.componentLayout&&n.componentLayout.isLayout||n.setComponentLayout(Ext.layout.Layout.create(n.componentLayout,"autocomponent")),n.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(n){var t=this,i=t.componentLayout;t.hidden&&(n.hidden=!0);t.collapseImmune&&(n.collapseImmune=!0);t.modelValidation!==undefined&&(n.modelValidation=t.modelValidation);t.mixins.bindable.initInheritedState.call(t,n);i&&i.initInheritedState&&i.initInheritedState(n)},getId:function(){var n=this,t;return n.id||(n.id=n.initialConfig.id)||(t=n.getXType(),t=t?t.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",n.id=t+"-"+n.getAutoId()),n.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var n=this,t=n.loader;return t?(t.isLoader?t.setTarget(n):n.loader=new Ext.ComponentLoader(Ext.apply({target:n},t)),n.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(n){for(var i=this.plugins,r=i&&i.length,t=0;t<r;t++)if(i[t].pluginId===n)return i[t];return null},getPosition:function(n){var t=this,i,u=t.isContainedFloater(),r;return n===!0&&!u?[t.getLocalX(),t.getLocalY()]:(i=t.getXY(),n===!0&&u&&(r=t.floatParent.getTargetEl().getViewRegion(),i[0]-=r.left,i[1]-=r.top),i)},getScrollX:function(){var n=this.getScrollable();return n?n.getPosition().x:0},getScrollY:function(){var n=this.getScrollable();return n?n.getPosition().y:0},getSize:function(n){return this.el.getSize(n)},getSizeModel:function(n){var r=this,t=Ext.layout.SizeModel,o=r.componentLayout.ownerContext,a=r.width,v=r.height,y,p,s,h,f,c,u,i,l,e,w=r.floating||r.floated;return o&&(e=o.widthModel,f=o.heightModel),e&&f||(s=(y=typeof a)=="number",h=(p=typeof v)=="number",l=w||!(c=r.ownerLayout),l?(u=Ext.layout.Layout.prototype.autoSizePolicy,i=w?3:r.shrinkWrap,s&&(e=t.configured),h&&(f=t.configured)):(u=c.getItemSizePolicy(r,n),i=c.isItemShrinkWrap(r)),o&&(o.ownerSizePolicy=u),i=i===!0?3:i||0,l&&i&&(a&&y==="string"&&(i&=2),v&&p==="string"&&(i&=1)),i!==3&&(n||(n=r.ownerCt&&r.ownerCt.getSizeModel()),n&&(i|=(n.width.shrinkWrap?1:0)|(n.height.shrinkWrap?2:0))),e||(e=u.setsWidth?u.readsWidth?s?t.calculatedFromConfigured:i&1?t.calculatedFromShrinkWrap:t.calculatedFromNatural:t.calculated:s?t.configured:i&1?t.shrinkWrap:t.natural),f||(f=u.setsHeight?u.readsHeight?h?t.calculatedFromConfigured:i&2?t.calculatedFromShrinkWrap:t.calculatedFromNatural:t.calculated:h?t.configured:i&2?t.shrinkWrap:t.natural)),e.pairsByHeightOrdinal[f.ordinal]},getState:function(){var t=this,n=null,i=t.getSizeModel();return i.width.configured&&(n=t.addPropertyToState(n,"width")),i.height.configured&&(n=t.addPropertyToState(n,"height")),n},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var i=this.self,n,t,r;if(!i.xtypes){for(n=[],t=this;t;)r=t.xtypes,r!==undefined&&n.unshift.apply(n,r),t=t.superclass;i.xtypeChain=n;i.xtypes=n.join("/")}return i.xtypes},hasCls:function(){var n=this.rendered?this.el:this.protoEl;return n.hasCls.apply(n,arguments)},hasUICls:function(n){var t=this,i=t.uiCls||[];return Ext.Array.contains(i,n)},hide:function(){var n=this;return n.pendingShow&&(n.pendingShow=!1),n.rendered&&!n.isVisible()||(!n.hasListeners.beforehide||n.fireEvent("beforehide",n)!==!1||n.hierarchicallyHidden)&&(n.getInherited().hidden=n.hidden=!0,n.rendered&&n.onHide.apply(n,arguments)),n},initComponent:function(){var n=this,t=n.width,i=n.height;if(n.plugins&&!n.plugins.processed&&(n.plugins=n.constructPlugins()),n.pluginsInitialized=!0,(t!=null||i!=null)&&n.setSize(t,i),n.listeners){n.on(n.listeners);n.listeners=null}n.focusable&&n.initFocusable()},initEvents:function(){var n=this,r=n.afterRenderEvents,u,t,f,i,e;if(r)for(f in r)if(t=n[f],t&&t.on)for(u=r[f],i=0,e=u.length;i<e;++i)n.mon(t,u[i]);n.focusable&&n.initFocusableEvents()},is:function(n){return Ext.ComponentQuery.is(this,n)},isDescendantOf:function(n){for(var t=this.getRefOwner();t&&t!==n;t=t.getRefOwner());return t||null},isAncestor:function(n){while(n){if(n.getRefOwner()===this)return!0;n=n.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var n=this,t=!1,i,r;i=n.ownerCt||n.floatParent;n=i){if(r=i.getInherited(),r.hidden){t=!0;break}if(n.getInherited().collapseImmune){if(i.collapsed&&!n.collapseImmune){t=!0;break}}else{t=!!r.collapsed;break}}return t},isLayoutChild:function(n){return!this.floating&&!!this.up(n)},isLayoutRoot:function(){var n=this,t=n.ownerLayout;return!t||n._isLayoutRoot||n.floating?!0:t.isItemLayoutRoot(n)},isLayoutSuspended:function(){for(var n=this,t;n;){if(n.layoutSuspendCount||n.suspendLayout)return!0;if(t=n.ownerLayout,!t)break;n=t.owner}return!1},isVisible:function(n){var t=this,i;return t.hidden||!t.rendered||t.isDestroyed?i=!0:n&&(i=t.isHierarchicallyHidden()),!i},isXType:function(n,t){return t?Ext.Array.indexOf(this.xtypes,n)!==-1:!!this.xtypesMap[n]},isMasked:function(n){var t=this;return!!(t.masked||t.loadMask&&t.loadMask.isVisible()||n&&t.getInherited().masked)},setMasked:function(n){var t=this,i=t.focusableContainer;if(n?(t.masked=!0,t.getInherited().masked=n):(t.masked=!1,delete t.getInherited().masked),i)i.onFocusableChildMasked(t,n);return t},mask:function(n,t,i){var r=this.lastBox,u=this.getMaskTarget()||this.el;r&&(i=r.height);u.mask(n,t,i);this.setMasked(!0)},nextNode:function(n,t){var r=this,e=r.ownerCt,o,u,s,f,i;if(t&&r.is(n))return r;if(e){for(u=e.items.items,f=Ext.Array.indexOf(u,r)+1,s=u.length;f<s;f++){if(i=u[f],i.is(n))return i;if(i.down&&(o=i.down(n),o))return o}return e.nextNode(n)}return null},nextSibling:function(n){var r=this.ownerCt,i,u,t,f;if(r&&(i=r.items,t=i.indexOf(this)+1,t))if(n){for(u=i.getCount();t<u;t++)if((f=i.getAt(t)).is(n))return f}else if(t<i.getCount())return i.getAt(t);return null},onAdded:function(n,t,i){var r=this,u=r.inheritedState;r.ownerCt=n;u&&i&&r.invalidateInheritedState();r.reference&&r.fixReference();r.hasListeners&&r.hasListeners.added&&r.fireEvent("added",r,n,t);Ext.GlobalEvents.hasListeners.added&&r.fireHierarchyEvent("added")},onRemoved:function(n){var t=this,i;Ext.GlobalEvents.hasListeners.removed&&t.fireHierarchyEvent("removed");t.hasListeners.removed&&t.fireEvent("removed",t,t.ownerCt);t.reference&&(i=t.lookupReferenceHolder(),i&&i.clearReference(t));n||t.removeBindings();t.inheritedState&&!n&&t.invalidateInheritedState();t.ownerCt=t.ownerLayout=null},onBoxReady:function(n,t){var i=this,r=i.scrollable;if(i.resizable&&i.initResizable(i.resizable),i.draggable&&i.initDraggable(),r&&(i.touchScroll&&r.isTouchScroller&&r.setInnerElement(i.getScrollerEl()),r.setElement(i.getOverflowEl()),Ext.isIE))Ext.on("show",i.onGlobalShow,i);i.hasListeners.boxready&&i.fireEvent("boxready",i,n,t)},onDestroy:function(){var n=this,t=n.controller,i=n.focusableContainer;if(n.bind&&n.removeBindings(),t&&t.destroy(),n.controller=null,n.rendered&&Ext.destroy(n.dd,n.resizer,n.proxy,n.proxyWrap,n.resizerComponent,n.scrollable,n.contentEl),i)i.onFocusableChildDestroy(n);n.focusable&&n.destroyFocusable();Ext.destroy(n.componentLayout,n.loadMask,n.floatingDescendants)},onDisable:function(){var n=this,t,i;n.focusable&&n.disableFocusable();n.maskOnDisable&&!n.getInheritedConfig("disableMask",!0)&&(t=n.el.dom,i=t.nodeName,n.disabledRe.test(i)&&(t.disabled=!0),n.nonMaskableRe.test(i)||n.mask())},onEnable:function(){var n=this,t,i;n.focusable&&n.enableFocusable();n.maskOnDisable&&n.getInherited().hasOwnProperty("masked")&&(t=n.el.dom,i=t.nodeName,n.disabledRe.test(i)&&(t.disabled=!1),n.nonMaskableRe.test(i)||n.unmask())},onGlobalShow:function(n){this.up(n)&&this.getScrollable().restoreState()},onHide:function(n,t,i){var r=this,u,f,e;r.revertFocus();n=r.getAnimateTarget(n);r.ghost||(n=null);n&&(e={x:n.getX(),y:n.getY(),width:n.dom.offsetWidth,height:n.dom.offsetHeight},u=r.ghost(),u.el.stopAnimation(),f=r.getSize(),u.el.animate({to:e,listeners:{afteranimate:function(){delete u.componentLayout.lastComponentSize;u.el.hide();u.setHiddenState(!0);u.el.setSize(f);r.afterHide(t,i)}}}));r.el.hide();n||r.afterHide(t,i)},onPosition:Ext.emptyFn,onResize:function(n,t,i,r){var u=this;u.floating&&u.constrain&&u.doConstrain();i&&u.refreshScroll();u.hasListeners.resize&&u.fireEvent("resize",u,n,t,i,r)},onShow:function(){var n=this;n.el.show();n.updateLayout({isRoot:!1});n.floating&&(n.maximized?n.fitContainer():n.constrain&&n.doConstrain())},onShowComplete:function(n,t){var i=this,r=i.focusableContainer;if(i.floating&&i.onFloatShow(),Ext.callback(n,t||i),i.fireEvent("show",i),r)r.onFocusableChildShow(i);delete i.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(n,t){var u=this,e=u.ownerCt,i,o,f,r;if(t&&u.is(n))return u;if(e){for(o=e.items.items,f=Ext.Array.indexOf(o,u)-1;f>-1;f--){if(r=o[f],r.query&&(i=r.query(n),i=i[i.length-1],i))return i;if(r.is(n))return r}return e.previousNode(n,!0)}return null},previousSibling:function(n){var r=this.ownerCt,i,t,u;if(r&&(i=r.items,t=i.indexOf(this),t!==-1))if(n){for(--t;t>=0;t--)if((u=i.getAt(t)).is(n))return u}else if(t)return i.getAt(--t);return null},registerFloatingItem:function(n){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t));t.floatingDescendants.register(n)},removeCls:function(){var n=this,t=n.rendered?n.el:n.protoEl;return t.removeCls.apply(t,arguments),n},removeClsWithUI:function(n,t){var i=this,u=[],f=0,e=Ext.Array,h=e.remove,c=i.uiCls=e.clone(i.uiCls),o=i.activeUI,s,r;for(typeof n=="string"&&(n=n.indexOf(" ")<0?[n]:Ext.String.splitWords(n)),s=n.length,f=0;f<s;f++)r=n[f],r&&i.hasUICls(r)&&(h(c,r),o&&(u=u.concat(i.removeUIClsFromElement(r))));return t!==!0&&o&&i.removeCls(u),u},resumeLayouts:function(n){var t=this;t.rendered&&t.layoutSuspendCount&&!--t.layoutSuspendCount&&(t.suspendLayout=!1,n&&!t.isLayoutSuspended()&&t.updateLayout(n))},scrollBy:function(n,t,i){var r=this.getScrollable();r&&r.scrollBy(n,t,i)},scrollTo:function(n,t,i){var r=this.getScrollable();r&&r.scrollTo(n,t,i)},setAutoScroll:function(n){return this.setScrollable(!!n),this},setBorder:function(n,t){var i=this,r=!!t;(i.rendered||r)&&(r||(t=i.el),n=n?n===!0?"1px":this.unitizeBox(n):0,t.setStyle("border-width",n),r||i.updateLayout());i.border=n},setDock:function(n){var t=this,i=t.ownerCt;return n!==t.dock&&(i&&i.moveDocked?i.moveDocked(t,n):t.dock=n),t},setDisabled:function(n){return this[n?"disable":"enable"]()},setFlex:function(n){this.flex=n},setHeight:function(n){return this.setSize(undefined,n)},setLoading:function(n,t){var i=this,r={target:i};return i.rendered&&(n!==!1?(Ext.isString(n)?r.msg=n:Ext.apply(r,n),i.loadMask&&i.loadMask.isLoadMask?Ext.apply(i.loadMask,r):(t&&r.useTargetEl==null&&(r.useTargetEl=!0),i.loadMask=new Ext.LoadMask(r)),i.loadMask.isVisible()?i.loadMask.afterShow():i.loadMask.show()):i.loadMask&&i.loadMask.isLoadMask&&i.loadMask.hide()),i.loadMask},setMargin:function(n,t){var i=this;i.rendered?(n||n===0?(n===!0&&(n=5),n=this.unitizeBox(n)):n="",i.margin=n,i.margin$=null,i.getEl().setStyle("margin",n),t||i.updateLayout(i._notAsLayoutRoot)):i.margin=n},setOverflowXY:function(n,t){return this.setScrollable({x:n&&n!=="hidden"?n:!1,y:t&&t!=="hidden"?t:!1}),this},setPagePosition:function(n,t,i){var r=this,u,f;return Ext.isArray(n)&&(t=n[1],n=n[0]),r.pageX=n,r.pageY=t,r.floating?(r.isContainedFloater()?(f=r.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(n)&&Ext.isNumber(f.left)&&(n-=f.left),Ext.isNumber(t)&&Ext.isNumber(f.top)&&(t-=f.top)):(u=r.el.translateXY(n,t),n=u.x,t=u.y),r.setPosition(n,t,i)):(u=r.el.translateXY(n,t),r.setPosition(u.x,u.y,i)),r},setPosition:function(n,t,i){var r=this,u=r.beforeSetPosition.apply(r,arguments);return u&&r.rendered&&(n=u.x,t=u.y,i?(n!==r.getLocalX()||t!==r.getLocalY())&&(r.stopAnimation(),r.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(r.afterSetPosition,r,[n,t])},to:{left:n,top:t}},i))):(r.setLocalXY(n,t),r.afterSetPosition(n,t))),r},setScrollX:function(n,t){var i=this.getScrollable();i&&i.scrollTo(n,null,t)},setScrollY:function(n,t){var i=this.getScrollable();i&&i.scrollTo(null,n,t)},setSize:function(n,t){var i=this,r,u,f=i.width,e=i.height;return n&&typeof n=="object"&&(t=n.height,n=n.width),typeof n=="number"?i.width=Ext.Number.constrain(n,i.minWidth,i.maxWidth):n===null?delete i.width:typeof n=="string"&&(r=!0,i.width=n),typeof t=="number"?i.height=Ext.Number.constrain(t,i.minHeight,i.maxHeight):t===null?delete i.height:typeof t=="string"&&(u=!0,i.height=t),i.rendered&&i.isVisible()&&(f!==i.width||e!==i.height)&&((i.liquidLayout||r||u)&&i.el.setSize(i.width,i.height),i.updateLayout(i._notAsLayoutRoot)),i},setStyle:function(n,t){var i=this.el||this.protoEl;return i.setStyle(n,t),this},setUI:function(n){var t=this,r=t.uiCls,u=t.activeUI,i;n!==u&&(u?(i=t.removeClsWithUI(r,!0),i.length&&t.removeCls(i),t.removeUIFromElement()):t.uiCls=[],t.ui=n,t.activeUI=n,t.addUIToElement(),i=t.addClsWithUI(r,!0),i.length&&t.addCls(i),t.rendered&&t.updateLayout())},setVisible:function(n){return this[n?"show":"hide"]()},setHidden:function(n){return this.setVisible(!n)},setWidth:function(n){return this.setSize(n)},show:function(){var n=this,t=n.rendered;return n.hierarchicallyHidden||n.floating&&!t&&n.isHierarchicallyHidden()?(t||n.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,n.pendingShow=arguments):n.pendingShow=!0):t&&n.isVisible()?n.floating&&n.onFloatShow():n.fireEvent("beforeshow",n)!==!1?(n.hidden=!1,delete this.getInherited().hidden,Ext.suspendLayouts(),!t&&(n.autoRender||n.floating)&&(n.doAutoRender(),t=n.rendered),t?(n.beforeShow(),Ext.resumeLayouts(),n.onShow.apply(n,arguments),n.afterShow.apply(n,arguments)):Ext.resumeLayouts(!0)):n.onShowVeto(),n},showAt:function(n,t,i){var r=this;if(!r.rendered&&(r.autoRender||r.floating))return r.x=n,r.y=t,r.show();r.floating?r.setPosition(n,t,i):r.setPagePosition(n,t,i);r.show()},showBy:function(n,t,i){var r=this;return r.floating&&n&&(r.alignTarget=n,t&&(r.defaultAlign=t),i&&(r.alignOffset=i),r.show(),r.hidden||r.alignTo(n,t||r.defaultAlign,i||r.alignOffset)),r},suspendLayouts:function(){var n=this;n.rendered&&++n.layoutSuspendCount==1&&(n.suspendLayout=!0)},unitizeBox:function(n){return Ext.Element.unitizeBox(n)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(!1)},unregisterFloatingItem:function(n){var t=this;t.floatingDescendants&&t.floatingDescendants.unregister(n)},up:function(n,t){var i=this.getRefOwner(),u=typeof t=="string",f=typeof t=="number",e=t&&t.isComponent,r=0;if(n)for(;i;i=i.getRefOwner()){if(r++,n.isComponent){if(i===n)return i}else if(Ext.ComponentQuery.is(i,n))return i;if(u&&i.is(t))return;if(f&&r===t)return;if(e&&i===t)return}return i},update:function(n,t,i){var r=this,o=r.tpl&&!Ext.isString(n),s=r.getScrollable(),h=r.focusableContainer,e,u,f;if(o?r.data=n&&n.isEntity?n.getData(!0):n:r.html=Ext.isObject(n)?Ext.DomHelper.markup(n):n,r.rendered&&(e=r.getSizeModel(),u=e.width.shrinkWrap||e.height.shrinkWrap,r.isContainer?(f=r.layout.getRenderTarget(),u=u||r.items.items.length>0):f=r.touchScroll?r.getScrollerEl():r.getTargetEl(),o?r.tpl[r.tplWriteMode](f,r.data||{}):f.setHtml(r.html,t,i),u&&r.updateLayout(),s&&s.refresh(!0),h))h.onFocusableChildUpdate(r)},setHtml:function(n){this.update(n)},applyData:function(n){this.update(n)},updateBox:function(n){return this.setSize(n.width,n.height),this.setPagePosition(n.x,n.y),this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(n){var t=this,r,u=t.lastBox,i=n&&n.isRoot;(u&&(u.invalid=!0),!t.rendered||t.layoutSuspendCount||t.suspendLayout)||(t.hidden?Ext.Component.cancelLayout(t):typeof i!="boolean"&&(i=t.isLayoutRoot()),!i&&t.ownerLayout&&t.ownerLayout.onContentChange(t)||t.isLayoutSuspended()||(r=n&&n.hasOwnProperty("defer")?n.defer:t.deferLayouts,Ext.Component.updateLayout(t,r)))},updateMaxHeight:function(n,t){this.changeConstraint(n,t,"min","max-height","height")},updateMaxWidth:function(n,t){this.changeConstraint(n,t,"min","max-width","width")},updateMinHeight:function(n,t){this.changeConstraint(n,t,"max","min-height","height")},updateMinWidth:function(n,t){this.changeConstraint(n,t,"max","min-width","width")},getAnchorToXY:function(n,t,i,r){return n.getAnchorXY(t,i,r)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(n){this.el.setLocalX(n)},setLocalXY:function(n,t){this.el.setLocalXY(n,t)},setLocalY:function(n){this.el.setLocalY(n)},setX:function(n,t){this.el.setX(n,t)},setXY:function(n,t){this.el.setXY(n,t)},setY:function(n,t){this.el.setY(n,t)},privates:{addOverCls:function(){var n=this;n.disabled||n.el.addCls(n.overCls)},addUIToElement:function(){var n=this,i=n.baseCls+"-"+n.ui,r,u,f,t;if(n.addCls(i),n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius){i+="-";r=n.getChildEls();for(u in r)t=r[u].frame,t&&t!==!0&&(f=n[u],f&&f.addCls(i+t))}},changeConstraint:function(n,t,i,r,u){var f=this,e=f[u];n!=null&&typeof e=="number"&&(f[u]=Math[i](e,n));f.liquidLayout&&(n!=null?f.setStyle(r,n+"px"):t&&f.setStyle(r,""));f.rendered&&f.updateLayout()},constructPlugin:function(n){var t=this;return typeof n=="string"?Ext.PluginManager.create({},n,t):Ext.PluginManager.create(n,null,t)},constructPlugins:function(){var r=this,n=r.plugins,i,t,u;if(n)for(i=[],i.processed=!0,Ext.isArray(n)||(n=[n]),t=0,u=n.length;t<u;t++)i[t]=r.constructPlugin(n[t]);return r.pluginsInitialized=!0,i},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);this.isDetached=!0},doAddListener:function(n,t,i,r,u,f,e){var o=this,s,c,a,h,l;if(Ext.isObject(t)||r&&r.element){if(r.element){h=r.element;s={};s[n]=t;i&&(s.scope=i);a=o.$elementEventOptions;for(c in r)a[c]&&(s[c]=r[c])}else s=t,h=n;l=o[h];l&&l.isObservable?o.mon(l,s):(o.afterRenderEvents=o.afterRenderEvents||{},o.afterRenderEvents[h]||(o.afterRenderEvents[h]=[]),o.afterRenderEvents[h].push(s));return}o.mixins.observable.doAddListener.call(o,n,t,i,r,u,f,e)},fireHierarchyEvent:function(n){var t=Ext.GlobalEvents;t.hasListeners[n]&&t.fireEvent(n,this)},getActionEl:function(){return this.el},getAutoId:function(){return this.autoGenId=!0,++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var r=this,u=r.getScrollable(),f=r._scrollFlags,t,i,n;return u?(t=u.getX(),t===!0&&(t="auto"),i=u.getY(),i===!0&&(i="auto"),n=f[t][i]):n=f.none,r.scrollFlags=n,{overflowX:n.overflowX,overflowY:n.overflowY}},getPlugins:function(){var n=this.plugins;return n=n&&n.processed?n:this.constructPlugins(),n||null},getProxy:function(){var n=this,t;return n.proxy||(t=Ext.getBody(),n.proxy=n.el.createProxy("x-proxy-el",t,!0)),n.proxy},getScrollerEl:function(){var n=this;return n.scrollerEl||(n.scrollerEl=n.componentLayout.getScrollerEl()||n.getOverflowEl().child(n.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return"x-"+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(n){return Ext.XTemplate.getTpl(this,n)},initCls:function(){var n=this,t=[n.baseCls],i=n.getComponentLayout().targetCls;return i&&t.push(i),Ext.isDefined(n.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),n.componentCls=n.cmpCls,delete n.cmpCls),n.componentCls?t.push(n.componentCls):n.componentCls=n.baseCls,t},initDraggable:function(){var n=this,i=n.resizer&&n.resizer.el!==n.el?n.resizerComponent=new Ext.Component({ariaRole:"presentation",el:n.resizer.el,rendered:!0,container:n.container}):n,t=Ext.applyIf({el:i.getDragEl(),constrainTo:n.constrain||n.draggable.constrain?n.constrainTo||(n.floatParent?n.floatParent.getTargetEl():n.container):undefined},n.draggable);(n.constrain||n.constrainDelegate)&&(t.constrain=n.constrain,t.constrainDelegate=n.constrainDelegate);n.dd=new Ext.util.ComponentDragger(i,t)},initPadding:function(n){var t=this,i=t.padding;i!=null&&(t.touchScroll||t.layout&&t.layout.managePadding&&t.contentPaddingProperty==="padding"?n.setStyle("padding",0):n.setStyle("padding",this.unitizeBox(i===!0?5:i)))},initPlugin:function(n){return n.init(this),n},initResizable:function(n){var t=this;n=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrain||n&&n.constrain?t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():t.container):undefined,handles:t.resizeHandles},n);n.target=t;t.resizer=new Ext.resizer.Resizer(n)},initStyles:function(n){var t=this,e=t.margin,h=t.border,o=t.cls,s=t.style,u=t.x,f=t.y,c=t.liquidLayout,i,r;t.initPadding(n);e!=null&&n.setStyle("margin",this.unitizeBox(e===!0?5:e));h!=null&&t.setBorder(h,n);o&&o!==t.initialCls&&(n.addCls(o),t.cls=t.initialCls=null);s&&s!==t.initialStyle&&(n.setStyle(s),t.style=t.initialStyle=null);u!=null&&n.setStyle(t.horizontalPosProp,typeof u=="number"?u+"px":u);f!=null&&n.setStyle("top",typeof f=="number"?f+"px":f);(!t.ownerCt||t.floating)&&(Ext.scopeCss&&n.addCls(t.rootCls),n.addCls(t.borderBoxCls));(c||!t.getFrameInfo())&&(i=t.width,r=t.height,i!=null&&(typeof i=="number"?n.setStyle("width",i+"px"):n.setStyle("width",i)),r!=null&&(typeof r=="number"?n.setStyle("height",r+"px"):n.setStyle("height",r)))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(n){if(n.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===n)return!0;return!1},owns:function(n){var i=!1,t;return n.isEvent?n=n.target:n.isElement&&(n=n.dom),t=Ext.Component.fromElement(n),t&&(i=t===this||!!t.up(this)),i},parseBox:function(n){return Ext.Element.parseBox(n)},reattachToBody:function(){this.isDetached=!1},refreshScroll:function(){var n=this.getScrollable();n&&n.refresh()},removeManagedListenerItem:function(n,t,i,r,u,f){var o=this,e=t.options?t.options.element:null;if(e)e=o[e],e&&e.un&&(!n&&(t.item!==i||t.ename!==r||u&&t.fn!==u||f&&t.scope!==f)||(e.un(t.ename,t.fn,t.scope),n||Ext.Array.remove(o.managedListeners,t)));else return o.mixins.observable.removeManagedListenerItem.apply(o,arguments)},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(n){Ext.Array.remove(this.plugins,n);n.destroy()},removeUIFromElement:function(){var n=this,i=n.baseCls+"-"+n.ui,r,u,f,t;if(n.removeCls(i),n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius){i+="-";r=n.getChildEls();for(u in r)t=r[u].frame,t&&t!==!0&&(f=n[u],f&&f.removeCls(i+t))}},setComponentLayout:function(n){var t=this.componentLayout;t&&t.isLayout&&t!==n&&t.setOwner(null);this.componentLayout=n;n.setOwner(this)},setHiddenState:function(n){var t=this,i=t.getInherited(),r=t.zIndexManager;if(t.hidden=n,n?i.hidden=!0:delete i.hidden,r)r.onComponentShowHide(t)},setupProtoEl:function(){var n=this.initCls();this.protoEl.addCls(n)},wrapPrimaryEl:function(n){var t=this,i=t.el;i&&i.isElement||(t.el=Ext.get(n));t.floating&&this.mixins.floating.constructor.call(this)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){return this.updateLayout(),this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},1,["component","box"],["component","box"],{component:!0,box:!0},["widget.box","widget.component"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext,"Component",Ext,"AbstractComponent"],function(n){(n.prototype.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;n.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(t){n.resumeLayouts(t)};Ext.suspendLayouts=function(){n.suspendLayouts()};Ext.batchLayouts=function(t,i){n.suspendLayouts();t.call(i);n.resumeLayouts(!0)};Ext.setGlyphFontFamily=function(n){Ext._glyphFontFamily=n};n.hierarchyEventSource=n.prototype.hierarchyEventSource=Ext.GlobalEvents});Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var n=this;n._borderRegionInited||(n._borderRegionInited=!0,n.addStateEvents(["changeregion","changeweight"]),Ext.override(n,{getState:function(){var t=n.callParent();return t=n.addPropertyToState(t,"region"),n.addPropertyToState(t,"weight")}}))},getOwningBorderContainer:function(){var n=this.getOwningBorderLayout();return n&&n.owner},getOwningBorderLayout:function(){var n=this.ownerLayout;return n&&n.isBorderLayout?n:null},setRegion:function(n){var t=this,f,e=t.region;if(n!==e)if(f=t.getOwningBorderLayout(),f){var h=f.regionFlags[n],c=t.placeholder,i=t.splitter,o=f.owner,a=f.regionMeta,l=t.collapsed||t.floated,s,r,u;if(t.fireEventArgs("beforechangeregion",[t,n])===!1)return e;Ext.suspendLayouts();t.region=n;Ext.apply(t,h);t.updateCollapseTool&&t.updateCollapseTool();i&&(Ext.apply(i,h),i.updateOrientation(),r=o.items,u=r.indexOf(t),u>=0&&(s=a[n].splitterDelta,r.getAt(u+s)!==i&&(r.remove(i),u=r.indexOf(t),s>0&&++u,r.insert(u,i))));c&&(l&&t.expand(!1),o.remove(c),t.placeholder=null,l&&t.collapse(null,!1));o.updateLayout();Ext.resumeLayouts(!0);t.fireEventArgs("changeregion",[t,e])}else t.region=n;return e},setWeight:function(n){var t=this,r=t.getOwningBorderContainer(),u=t.placeholder,i=t.weight;return n!==i&&t.fireEventArgs("beforechangeweight",[t,n])!==!1&&(t.weight=n,u&&(u.weight=n),r&&r.updateLayout(),t.fireEventArgs("changeweight",[t,i])),i}},function(n){var t=n.prototype;t.setBorderRegion=t.setRegion;t.setRegionWeight=t.setWeight});Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(n){n.monitor(Ext.Component)});Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:!0,constructor:function(){var n=this,t=Ext.app.EventDomain.instances;n.callParent();n.domains=t;n.bus=t.component.bus},control:function(n,t){return this.domains.component.listen(n,t)},listen:function(n,t){var r=this.domains;for(var i in n)n.hasOwnProperty(i)&&r[i].listen(n[i],t)},unlisten:function(n){var t=Ext.app.EventDomain.instances;for(var i in t)t[i].unlisten(n)}},1,0,0,0,0,0,[Ext.app,"EventBus"],0);Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:!0,type:"global",constructor:function(){var n=this;n.callParent();n.monitor(Ext.GlobalEvents)},listen:function(n,t){this.callParent([{global:n},t])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,"Global"],0);Ext.cmd.derive("Ext.app.BaseController",Ext.Base,{isController:!0,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(n){var t=this;Ext.apply(t,n);delete t.control;delete t.listen;t.eventbus=Ext.app.EventBus;t.mixins.observable.constructor.call(t,n);t.ensureId()},applyListen:function(n){return Ext.isObject(n)&&(n=Ext.clone(n)),n},applyControl:function(n){return Ext.isObject(n)&&(n=Ext.clone(n)),n},updateControl:function(n){this.ensureId();n&&this.control(n)},updateListen:function(n){this.ensureId();n&&this.listen(n)},updateRoutes:function(n){if(n){var r=this,f=r.getBefore()||{},e=Ext.app.route.Router,i,t,u;for(i in n)t=n[i],Ext.isString(t)&&(t={action:t}),u=t.action,t.before||(t.before=f[u]),e.connect(i,t,r)}},isActive:function(){return!0},control:function(n,t,i){var u=this,f=i,r;Ext.isString(n)?(r={},r[n]=t):(r=n,f=t);u.eventbus.control(r,f||u)},listen:function(n,t){this.eventbus.listen(n,t||this)},destroy:function(){var n=this,t=n.eventbus;Ext.app.route.Router.disconnectAll(n);t&&(t.unlisten(n),n.eventbus=null);n.clearListeners();n.callParent()},redirectTo:function(n,t){if(n.isModel&&(n=n.toUrl()),t)Ext.app.route.Router.onStateChange(n);else{var i=Ext.util.History.getToken();if(i===n)return!1}return Ext.util.History.add(n),!0}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"BaseController"],0);Ext.cmd.derive("Ext.app.Util",Ext.Base,{},0,0,0,0,0,0,[Ext.app,"Util"],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(n){var r=Ext.app.namespaces,t,i;for(Ext.isArray(n)||(n=[n]),t=0,i=n.length;t<i;t++)r[n[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(n){var r=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),i="";for(var t in r)r.hasOwnProperty(t)&&t.length>i.length&&t+"."===n.substring(0,t.length+1)&&(i=t);return i===""?undefined:i}});Ext.getNamespace=Ext.app.getNamespace});Ext.cmd.derive("Ext.util.CollectionKey",Ext.Base,{isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(n){this.initConfig(n)},get:function(n){var t=this.map||this.getMap();return t[n]||null},clear:function(){this.map=null},getRootProperty:function(){var t=this,n=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return n!==null?n:t.getCollection().getRootProperty()},indexOf:function(n,t){var h=this.map||this.getMap(),r=h[n],f=this.getCollection(),s=f.length,u,i,e,o;if(!r)return-1;if(t===undefined&&(t=-1),r instanceof Array){for(e=r,i=s,o=e.length;o-->0;)u=f.indexOf(e[o]),u<i&&u>t&&(i=u);if(i===s)return-1}else i=f.indexOf(r);return i>t?i:-1},updateKey:function(n,t){var f=this,r=f.map,i,u;r&&(i=r[t],i instanceof Array?(u=Ext.Array.indexOf(i,n),u>=0&&(i.length>2?i.splice(u,1):r[t]=i[1-u])):i&&delete r[t],f.add([n]))},onCollectionAdd:function(n,t){this.map&&this.add(t.items)},onCollectionItemChange:function(){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(n,t){var i=this,u=i.map,f=t.items,e=f.length,r,s,o;if(u)if(i.getUnique()&&e<n.length/2)for(r=0;r<e;++r)o=i.getKey(s=f[r]),delete u[o];else i.map=null},add:function(n){var f=this,i=f.map,r,u,e,t,o,s;for(o=n.length,s=f.getUnique(),u=0;u<o;++u)t=f.getKey(e=n[u]),!s&&t in i?((r=i[t])instanceof Array||(i[t]=r=[r]),r.push(e)):i[t]=e},applyKeyFn:function(n){this.getKey=Ext.isString(n)?function(t){return t[n]()}:n},applyProperty:function(n){var t=this.getRootProperty();this.getKey=function(i){return(t?i[t]:i)[n]}},getMap:function(){var n=this,t=n.map;return t||(n.map=t={},n.keysByItemKey={},++n.mapRebuilds,n.add(n.getCollection().items)),t},updateCollection:function(n){n.addObserver(this)}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,"CollectionKey"],0);Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(n){var t=this._groupFn(n);return t!=null?String(t):""},sortFn:function(n,t){var i=this,r=i._groupFn(n),u=i._groupFn(t),f=i._sortProperty,e=i._root,o=i._sorterFn,s=i._transform;if(r===u)return 0;if(f||o){if(o)return o.call(this,n,t);e&&(n=n[e],t=t[e]);r=n[f];u=t[f];s&&(r=s(r),u=s(u))}return r>u?1:r<u?-1:0},standardGroupFn:function(n){var t=this._root;return(t?n[t]:n)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}},1,0,0,0,0,0,[Ext.util,"Grouper"],0);Ext.cmd.derive("Ext.util.Collection",Ext.Base,{isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,constructor:function(n){var t=this;t.items=[];t.map={};t.length=0;n&&n.keyFn&&(t.getKey=n.keyFn);t.mixins.observable.constructor.call(t,n)},destroy:function(){var n=this,t=n._filters,i=n._sorters,r=n._groups;t&&(t.destroy(),n._filters=null);i&&(i.destroy(),n._sorters=null);r&&(r.destroy(),n._groups=null);n.setSource(null);n.observers=n.items=n.map=null},add:function(){var n=this,t=n.decodeItems(arguments,0),i=t;return t.length&&(n.requestedIndex=n.length,n.splice(n.length,0,t),delete n.requestedIndex,i=t.length===1?t[0]:t),i},replaceAll:function(){var n=this,r=n.length,i,t;return r===0?n.add.apply(n,arguments):(t=n.decodeItems(arguments,0),i=t,t.length?(n.splice(0,n.length,t),i=t.length===1?t[0]:t):n.removeAll(),i)},aggregate:function(){var n=this,t=Ext.Array.slice(arguments);return t.unshift(n.items),n.aggregateItems.apply(n,t)},aggregateByGroup:function(n,t,i){var r=this.getGroups();return this.aggregateGroups(r,n,t,i)},aggregateItems:function(n,t,i,r,u,f){var e=this,a=Ext.Number.clipIndices(n.length,[r,u]),v=r!==0&&u!==n.length,o,s,y,h,c,l,p;if(r=a[0],u=a[1],!Ext.isFunction(i))return i=e._aggregators[i],i.call(e,n,r,u,t,e.getRootProperty());for(h=e.getRootProperty(),l=new Array(y),p=v?new Array(y):n,o=r,s=0;o<u;++o,s++)v&&(p[s]=c=n[o]),l[s]=(h?c[h]:c)[t];return i.call(f||e,n,l,0)},aggregateGroups:function(n,t,i,r){for(var e=n.items,h=e.length,c=!Ext.isFunction(i),o={},f,s,u=0;u<h;++u)f=e[u],s=c?f[i](t):this.aggregateItems(f.items,t,i,null,null,r),o[f.getGroupKey()]=s;return o},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var n=this,i=n.generation,u=i?n.items:[],t,r;if(i&&(n.items=[],n.length=0,n.map={},n.indices={},n.generation++,t=n.getExtraKeys(),t))for(r in t)t[r].clear();return u},clone:function(){var n=this,t=new n.self(n.initialConfig);return t.add(n.items),t},collect:function(n,t,i){for(var e=this.items,h=e.length,o={},s=[],f,r,u=0;u<h;++u)r=e[u],r=(t?r[t]:r)[n],f=String(r),!i&&Ext.isEmpty(r)||o[f]||(o[f]=1,s.push(r));return s},contains:function(n){var t=!1,i;return n!=null&&(i=this.getKey(n),t=this.map[i]===n),t},containsKey:function(n){return n in this.map},createFiltered:function(n,t,i,r,u){var o=this,v=new o.self(o.initialConfig),c=o.getRootProperty(),l=o.items,s,f,e,a,h;if(Ext.isFunction(n))a=n,h=t;else{if(Ext.isString(n))e=[new Ext.util.Filter({property:n,value:t,root:c,anyMatch:i,caseSensitive:r,exactMatch:u})];else if(n instanceof Ext.util.Filter)e=[n],n.setRoot(c);else if(Ext.isArray(n))for(e=n.slice(0),f=0,s=e.length;f<s;++f)e[f].setRoot(c);a=Ext.util.Filter.createFilterFn(e)}for(h=h||o,f=0,s=l.length;f<s;f++)a.call(h,l[f])&&v.add(l[f]);return v},filterBy:function(n,t){return this.createFiltered(n,t)},each:function(n,t){var r=this.items,u=r.length,i,f;if(u)for(t=t||this,r=r.slice(0),i=0;i<u;i++)if(f=n.call(t,r[i],i,u),f===!1)break;return f},eachKey:function(n,t){var u=this,r=u.items,f=r.length,i,o,s,e;if(f)for(t=t||u,r=r.slice(0),i=0;i<f;i++)if(s=u.getKey(o=r[i]),e=n.call(t,s,o,i,f),e===!1)break;return e},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(n,t,i,r,u,f){if(Ext.isEmpty(t,!1))return null;var o=Ext.String.createRegex(t,r,u,f),e=this.getRootProperty();return this.findBy(function(t){return t&&o.test((e?t[e]:t)[n])},null,i)},findBy:function(n,t,i){var u=this,f=u.items,s=f.length,r,e,o;for(t=t||u,r=i||0;r<s;r++)if(o=u.getKey(e=f[r]),n.call(t,e,o))return f[r];return null},findIndex:function(n,t,i,r,u,f){var e=this.find(n,t,i,r,u,f);return e?this.indexOf(e):-1},findIndexBy:function(n,t,i){var r=this.findBy(n,t,i);return r?this.indexOf(r):-1},first:function(n){var t=n?this.getGroups():undefined;return t?this.aggregateGroups(t,null,"first"):this.items[0]},last:function(n){var t=n?this.getGroups():undefined;return t?this.aggregateGroups(t,null,"last"):this.items[this.length-1]},get:function(n){return this.map[n]},getAt:function(n){return this.items[n]},getByKey:function(n){return this.map[n]},getCount:function(){return this.length},getKey:function(n){var t=n.id;return t===0||t?t:(t=n._id)===0||t?t:n.getId()},getRange:function(n,t){var r=this.items,u=r.length,i;return u?(i=Ext.Number.clipIndices(u,[n,t]),i=r.slice(i[0],i[1])):i=[],i},getValues:function(n,t,i,r){var e=this.items,o=Ext.Number.clipIndices(e.length,[i,r]),s=[],f,u;for(f=o[0],r=o[1];f<r;++f)u=e[f],u=(t?u[t]:u)[n],s.push(u);return s},indexOf:function(n){if(!n)return-1;var t=this.getKey(n);return this.indexOfKey(t)},indexOfKey:function(n){var t=this,i=t.indices;return n in t.map?(i||(i=t.getIndices()),i[n]):-1},insert:function(n){var i=this,t=i.decodeItems(arguments,1),r=t;return t.length&&(i.requestedIndex=n,i.splice(n,0,t),delete i.requestedIndex,r=t.length===1?t[0]:t),r},itemChanged:function(n,t,i,r){var u=this,l=i===0||!!i,d=u.filtered&&u.getAutoFilter(),p=!1,s=0,h=u.items,g=u.length-1,nt=u.sorted&&g>0,w=u.getSource(),v,b=0,f,c=!1,e,k=!1,o,y,a;w&&!w.updating?w.itemChanged(n,t,i,r):(y=u.getKey(n),d&&(f=u.indexOfKey(l?i:y),k=f<0,c=u.isItemFiltered(n),p=k!==c),p?c?(b=[n],e=-1):(v=[n],e=u.length):nt&&!c&&(d||(f=u.indexOfKey(l?i:y)),a=u.getSortFn(),f&&a(h[f-1],h[f])>0?(s=-1,e=Ext.Array.binarySearch(h,n,0,f,a)):f<g&&a(h[f],h[f+1])>0&&(s=1,e=Ext.Array.binarySearch(h,n,f+1,a)),s&&(v=[n])),o={item:n,key:y,index:e,filterChanged:p,keyChanged:l,indexChanged:!!s,filtered:c,oldIndex:f,newIndex:e,wasFiltered:k,meta:r},l&&(o.oldKey=i),t&&(o.modified=t),u.beginUpdate(),u.notify("beforeitemchange",[o]),l&&u.updateKey(n,i),(v||b)&&u.splice(e,b,v),s>0?o.newIndex--:s<0&&o.oldIndex++,u.notify(c?"filtereditemchange":"itemchange",[o]),u.endUpdate())},remove:function(){var n=this,t=n.decodeRemoveItems(arguments,0),i=n.length;return n.splice(0,t),i-n.length},removeAll:function(){var n=this,t=n.length;return n.generation&&t&&n.splice(0,t),n},removeAt:function(n,t){var i=this,f=i.length,e=Ext.Number,o=e.clipIndices(f,[n,t===undefined?1:t],e.Clip.COUNT),r=o[0],s=o[1]-r,h=s===1&&i.getAt(r),u;return i.splice(r,s),u=i.length-f,h&&u?h:u},removeByKey:function(n){var t=this.getByKey(n);return!t||!this.remove(t)?!1:t},replace:function(n){var t=this.indexOf(n);t===-1?this.add(n):this.insert(t,n)},splice:function(n,t){var r=this,et=r.sorted&&r.getAutoSort(),ot=r.map,a=r.items,d=r.length,w=t instanceof Array?r.decodeRemoveItems(t):null,lt=!w,at=Ext.Number,vt=at.clipIndices(d,[n,lt?t:0],at.Clip.COUNT),v=vt[0],yt=vt[1],rt=yt-v,b=r.decodeItems(arguments,2),o=b?b.length:0,u,st,ht,s=v,y=r.indices||(o||w?r.getIndices():null),f=null,h=rt?[v]:null,p=null,nt=r.getSource(),c,ct,ut,i,tt,l,it,e,g,k,ft,pt;if(nt&&!nt.updating){if(lt)for(w=[],i=0;i<rt;++i)w.push(a[v+i]);return i=v<d?nt.indexOf(a[v]):nt.length,nt.splice(i,w,b),r}if(o){for(u=b,p=[],st={},et&&(pt=r.getSorters(),o>1&&(u.$cloned||(b=u=u.slice(0)),r.sortData(u))),i=0;i<o;++i)e=r.getKey(tt=b[i]),(it=st[e])!==undefined?(ft||(ft={}))[it]=1:(l=y[e],(l<v||yt<=l)&&(h||(h=[])).push(l)),st[e]=i,p.push(e);if(ft){for(g=p,u=[],p=[],u.$cloned=!0,i=0;i<o;++i)ft[i]||(tt=b[i],u.push(tt),p.push(g[i]));o=u.length}f={items:u,keys:p}}for(i=w?w.length:0;i-->0;)e=r.getKey(w[i]),(l=y[e])!==undefined&&(h||(h=[])).push(l);if(!f&&!h)return r;if(r.beginUpdate(),h){for(c=null,ut=[],ht={},h.length>1&&h.sort(Ext.Array.numericSortFn),i=0,k=h.length;i<k;++i)(e=r.getKey(tt=a[l=h[i]]),e in ot)&&(delete ot[e],(!c||l>c.at+ct.length)&&(ut.push(c={at:l,items:ct=[],keys:g=[],map:ht,next:c,replacement:f}),f&&(f.replaced=c)),ct.push(ht[e]=tt),g.push(e),l<s&&--s,rt>1&&l===v&&(--rt,h[i--]=++v));for(f&&(f.at=s),it=ut.length;it-->0;){if(c=ut[it],i=c.at,k=c.items.length,i+k<d&&(r.indices=y=null),r.length=d-=k,a.splice(i,k),y)for(g=c.keys,i=0;i<k;++i)delete y[g[i]];++r.generation;r.notify("remove",[c])}}if(f)if(et&&o>1&&d)r.spliceMerge(u,p);else{if(et&&(o>1?(s=0,r.indices=y=null):s=pt.findInsertionIndex(f.items[0],a,r.getSortFn())),s===d){if(a.push.apply(a,u),y=r.indices,y)for(i=0;i<o;++i)y[p[i]]=s+i}else r.indices=null,Ext.Array.insert(a,s,u);for(i=0;i<o;++i)ot[p[i]]=u[i];r.length+=o;f.at=s;f.atItem=s===0?null:a[s-1];++r.generation;r.notify("add",[f])}return r.endUpdate(),r},update:function(n,t){var i=this;i.beginUpdate();try{return n.call(t||i,i)}catch(r){throw r;}finally{i.endUpdate()}},updateKey:function(n,t){var i=this,u=i.map,f=i.indices,e=i.getSource(),r;e&&!e.updating?e.updateKey(n,t):(r=i.getKey(n))!==t&&(u[t]!==n||r in u||(delete u[t],i.updating++,i.generation++,u[r]=n,f&&(f[r]=f[t],delete f[t]),i.notify("updatekey",[{item:n,newKey:r,oldKey:t}]),i.updating--))},findInsertIndex:function(n){for(var r=this.getSource(),f=r.items,t=r.indexOf(n)-1,u,i;t>-1;){if(u=f[t],i=this.indexOf(u),i>-1)return i+1;--t}return 0},onCollectionAdd:function(n,t){var i=this,h=t.atItem,u=t.items,c=i.requestedIndex,f,r,e,o,s,l;if(i.sorted||(c!==undefined?r=c:h?(r=i.indexOf(h),r===-1?r=i.findInsertIndex(u[0]):++r):r=0),i.getAutoFilter()&&i.filtered)for(o=0,l=u.length;o<l;++o)s=u[o],i.isItemFiltered(s)?(e||(e=u.slice(0,o)),f||(f=[]),f.push(s)):e&&e.push(s);i.splice(r<0?i.length:r,0,e||u);f&&i.notify("filteradd",[f])},onCollectionBeforeItemChange:function(){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(n,t){delete this.onCollectionUpdateKey;this.itemChanged(t.item,t.modified,t.oldKey,t.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(n){var t=this,f={},e={},r,o,i,u,s;for(i=n.items,i=t.filtered&&t.getAutoFilter()?Ext.Array.filter(i,t.getFilterFn()):i.slice(0),t.sorted&&t.sortData(i),t.items=i,t.length=s=i.length,t.map=f,t.indices=e,r=0;r<s;++r)u=t.getKey(o=i[r]),f[u]=o,e[u]=r;t.notify("refresh")},onCollectionRemove:function(n,t){this.splice(0,t.items)},onCollectionUpdateKey:function(n,t){this.updateKey(t.item,t.oldKey)},_aggregators:{average:function(n,t,i,r,u){var f=i-t;return f&&this._aggregators.sum.call(this,n,t,i,r,u)/f},bounds:function(n,t,i,r,u){for(var f,e,o,s=t;s<i;++s)f=n[s],f=(u?f[u]:f)[r],f<e||(e=f),f>o||(o=f);return[o,e]},count:function(n){return n.length},extremes:function(n,t,i,r,u){for(var s=null,h=null,f,c,l,e,o=t;o<i;++o)f=n[o],e=(u?f[u]:f)[r],e<c||(c=e,s=f),e>l||(l=e,h=f);return[h,s]},max:function(n,t,i,r,u){var f=this._aggregators.bounds.call(this,n,t,i,r,u);return f[1]},maxItem:function(n,t,i,r,u){var f=this._aggregators.extremes.call(this,n,t,i,r,u);return f[1]},min:function(n,t,i,r,u){var f=this._aggregators.bounds.call(this,n,t,i,r,u);return f[0]},minItem:function(n,t,i,r,u){var f=this._aggregators.extremes.call(this,n,t,i,r,u);return f[0]},sum:function(n,t,i,r,u){for(var f,o=0,e=t;e<i;++e)f=n[e],f=(u?f[u]:f)[r],o+=f;return o}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(n){var t=this,i=t.observers,u=n.getId(),r=t.observerMap;i||(t.observers=i=[],t.observerMap=r={});r[u]||(i.push(n),r[u]=n,i.length>1&&Ext.Array.sort(i,t.prioritySortFn))},prioritySortFn:function(n,t){var i=n.observerPriority||0,r=t.observerPriority||0;return i-r},applyExtraKeys:function(n,t){var f=this,e=t||{},u,r,i;for(r in n)i=n[r],i.isCollectionKey||(u={collection:f},Ext.isString(i)?u.property=i:Ext.apply(u,i),i=new Ext.util.CollectionKey(u)),e[r]=f[r]=i,i.name=r;return e},applyGrouper:function(n){return n&&(n=this.getSorters().decodeSorter(n,"Ext.util.Grouper")),n},decodeItems:function(n,t){var e=this,i=t===undefined?n:n[t],r,f,u;if(!i||!i.$cloned){if(r=n.length>t+1||!Ext.isIterable(i),r&&(i=Ext.Array.slice(n,t),i.length===1&&i[0]===undefined&&(i.length=0)),f=e.getDecoder(),f)for(r||(i=i.slice(0),r=!0),u=i.length;u-->0;)(i[u]=f.call(e,i[u]))===!1&&i.splice(u,1);r&&(i.$cloned=!0)}return i},getIndices:function(){var n=this,i=n.indices,r=n.items,f=r.length,t,u;if(!i)for(n.indices=i={},++n.indexRebuilds,t=0;t<f;++t)u=n.getKey(r[t]),i[u]=t;return i},notify:function(n,t){var i=this,u=i.observers,e=i._eventToMethodMap[n],o=0,r,s,f,h;if(t=t||[],u&&e)for(r=0,s=u.length;r<s;++r)f=(h=u[r])[e],f&&(o++||t.unshift(i),f.apply(h,t));i.hasListeners&&i.hasListeners[n]&&(o||t.unshift(i),i.fireEventArgs(n,t))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(n){var t=this._filters;return t||n===!1||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},isItemFiltered:function(n){return!this.getFilters().filterFn(n)},onFilterChange:function(){var n=this,t=n.getSource();if(t){if(t.length||n.length)n.onCollectionRefresh(t)}else t=new Ext.util.Collection({keyFn:n.getKey,extraKeys:n.getInitialConfig().extraKeys,rootProperty:n.getRootProperty()}),n.length&&t.add(n.items),n.setSource(t),n.autoSource=t;n.notify("filter")},applyFilters:function(n,t){return n==null||n&&n.isFilterCollection?n:(n&&(t||(t=this.getFilters()),t.splice(0,t.length,n)),t)},updateFilters:function(n,t){var i=this;if(t&&t.un("endupdate","onEndUpdateFilters",i),n){n.on({endupdate:"onEndUpdateFilters",scope:i,priority:i.$endUpdatePriority});n.$filterable=i}i.onEndUpdateFilters(n)},onEndUpdateFilters:function(n){var t=this,r=t.filtered,i=!!n&&n.length>0;if(r||i){t.filtered=i;t.onFilterChange(n)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(n){var t=this._sorters;return t||n===!1||(t=new Ext.util.SorterCollection,this.setSorters(t)),t},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(){var n=this.getSorters();return n.addSort.apply(n,arguments),this},sortData:function(n){return Ext.Array.sort(n,this.getSortFn()),n},sortItems:function(n){var t=this;t.sorted&&(n=t.getSortFn());t.indices=null;t.notify("beforesort",[t.getSorters()]);t.length&&Ext.Array.sort(t.items,n);t.notify("sort")},sortBy:function(n){return this.sortItems(n)},findInsertionIndex:function(n,t,i){return t||(t=this.items),i||(i=this.getSortFn()),Ext.Array.binarySearch(t,n,i)},applySorters:function(n,t){return n==null||n&&n.isSorterCollection?n:(n&&(t||(t=this.getSorters()),t.splice(0,t.length,n)),t)},createSortFn:function(){var n=this,t=n.getGrouper(),i=n.getSorters().getSortFn();return t?function(n,r){return t.sort(n,r)||i(n,r)}:i},updateGrouper:function(n){var t=this,i=t.getGroups(),r=t.getSorters(),u;if(t.onSorterChange(),t.grouped=!!n,n?(i||(i=new Ext.util.GroupCollection({itemRoot:t.getRootProperty()}),i.$groupable=t,t.addObserver(i),t.setGroups(i)),i.setGrouper(n),u=!0):(i&&(t.removeObserver(i),i.destroy()),t.setGroups(null)),!r.updating)t.onEndUpdateSorters(r);if(u)i.onCollectionRefresh(t)},updateSorters:function(n,t){var i=this;if(t&&t.un("endupdate","onEndUpdateSorters",i),n){n.on({endupdate:"onEndUpdateSorters",scope:i,priority:i.$endUpdatePriority});n.$sortable=i}i.onSorterChange();i.onEndUpdateSorters(n)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(n){var t=this,r=t.sorted,i=t.grouped&&t.getAutoGroup()||n&&n.length>0;if(r||i){t.sorted=!!i;t.onSortChange(n)}},removeObserver:function(n){var t=this.observers;t&&(Ext.Array.remove(t,n),delete this.observerMap[n.getId()])},spliceMerge:function(n,t){var e=this,b=e.map,l=n.length,s=0,v=e.items,y=v.length,h=[],r=0,i=[],w=e.getSortFn(),a,c,u,f,p,o;for(e.items=i,o=0;o<l;o=c){for(f=n[o];s<y;++s){if(w(f,p=v[s])<0)break;i.push(p)}if(s===y){for(h[r++]={at:i.length,itemAt:i[i.length-1],items:a=[]},r>1&&(h[r-2].next=h[r-1]);o<l;++o)a.push(f=n[o]),i.push(f);break}for(h[r++]={at:i.length,itemAt:i[i.length-1],items:a=[f]},r>1&&(h[r-2].next=h[r-1]),i.push(f),c=o+1;c<l;++c){if(w(f=n[c],p)>=0)break;i.push(f);a.push(f)}}for(;s<y;++s)i.push(v[s]);for(u=0;u<l;++u)b[t[u]]=n[u];for(e.length=i.length,++e.generation,e.indices=null,u=0;u<r;++u)e.notify("add",[h[u]])},getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(n){var t=this.getGroups();t&&t.setAutoGroup(n);this.onEndUpdateSorters(this._sorters)},updateGroups:function(n,t){t&&this.removeObserver(t);n&&this.addObserver(n)},updateSource:function(n,t){var i=this.autoSource;if(t&&(t.removeObserver(this),t===i&&(i.destroy(),this.autoSource=null)),n&&(n.addObserver(this),n.length||this.length))this.onCollectionRefresh(n)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Collection"],function(){var n=this.prototype;n.removeAtKey=n.removeByKey;n.decodeRemoveItems=n.decodeItems;Ext.Object.each(n._aggregators,function(t){n[t]=function(n,i,r){return this.aggregate(n,t,i,r)};n[t+"ByGroup"]=function(n){return this.aggregateByGroup(n,t)}})});Ext.cmd.derive("Ext.util.ObjectTemplate",Ext.Base,{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(n,t){return n.isObjectTemplate?n:new Ext.util.ObjectTemplate(n,t)}},constructor:function(n,t){Ext.apply(this,t);this.template=n},apply:function(n){var t=this;return delete t.apply,t.apply=t.compile(t.template),t.apply(n)},privates:{compile:function(n){var u=this,e=u.excludeProperties,r,t,f,i;if(Ext.isString(n))n.indexOf("{")<0?i=function(){return n}:u.valueRe.test(n)?(n=n.substring(1,n.length-1).split("."),i=function(t){for(var i=t,r=0;i&&r<n.length;++r)i=i[n[r]];return i}):(n=new Ext.XTemplate(n),i=function(t){return n.apply(t)});else if(!n||Ext.isPrimitive(n)||Ext.isFunction(n))i=function(){return n};else if(n instanceof Array){for(r=[],t=0,f=n.length;t<f;++t)r[t]=u.compile(n[t]);i=function(n){for(var i=[],t=0;t<f;++t)i[t]=r[t](n);return i}}else{r={};for(t in n)e[t]||(r[t]=u.compile(n[t]));i=function(t){var f={},i,u;for(i in n)u=e[i]?n[i]:r[i](t),u!==undefined&&(f[i]=u);return f}}return i}}},1,0,0,0,0,0,[Ext.util,"ObjectTemplate"],0);Ext.cmd.derive("Ext.data.schema.Role",Ext.Base,{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",constructor:function(n,t){var i=this,r=t.extra;Ext.apply(i,t);r&&(delete r.type,Ext.apply(i,r),delete i.extra);i.association=n;n.owner===i.side&&(n.owner=i,i.owner=!0)},processUpdate:function(){Ext.Error.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(n,t,i){return i},checkMembership:Ext.emptyFn,adoptAssociated:function(n,t){var i=this.getAssociatedItem(n);i&&t.adopt(i)},createAssociationStore:function(n,t,i,r){var u=this,h=u.association,o=h.getFieldName(),c=h.isManyToMany,l=u.storeConfig,s=t.getId(),e={model:u.cls,role:u,session:n,associatedEntity:t,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!n},f;c?e.filters=[{property:u.inverse.field,value:s,exactMatch:!0}]:o&&(e.filters=[{property:o,value:s,exactMatch:!0}],e.foreignKeyName=o);l&&Ext.apply(e,l);f=Ext.Factory.store(e);u.onStoreCreate(f,n,s);if(o||c&&n)f.on({scope:u,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"});return i&&(f.loadData(i),f.complete=!!r),f},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(n,t,i,r,u){var h=this,c=h.getStoreName(),e=n[c],l=t&&t.reload,o=n.$source,y=n.session,f,s,p,a,v,w;if(!e){if(!r&&o&&(o=o[c],o&&!o.isLoading())){for(w=o,r=[],a=o.getData().items,s=0,p=a.length;s<p;++s)v=a[s],r.push(y.getRecord(v.self,v.id));u=!0}e=h.createAssociationStore(y,n,r,u);e.$source=w;!r&&(h.autoLoad||t)&&(l=!0);n[c]=e}if(t)if(l||e.isLoading())e.on("load",function(r,u,e,o){f=[r,o];i=i||t.scope||n;e?Ext.callback(t.success,i,f):Ext.callback(t.failure,i,f);f.push(e);Ext.callback(t,i,f);Ext.callback(t.callback,i,f)},null,{single:!0});else f=[e,null],i=i||t.scope||n,Ext.callback(t.success,i,f),f.push(!0),Ext.callback(t,i,f),Ext.callback(t.callback,i,f);return l&&!e.isLoading()&&e.load(),e},getAssociatedItem:function(n){var t=this.isMany?this.getStoreName():this.getInstanceName();return n[t]||null},onDrop:Ext.emptyFn,getReaderRoot:function(){var n=this;return n.associationKey||(n.associationKey=n.association.schema.getNamer().readerRoot(n.role))},getReader:function(){var t=this,n=t.reader,i=t.cls,r=!t.associationKey,u=this.getReaderRoot();return n&&!n.isReader&&(Ext.isString(n)&&(n={type:n}),Ext.applyIf(n,{model:i,rootProperty:u,useSimpleAccessors:r,type:t.defaultReaderType}),n=t.reader=Ext.createByAlias("reader."+n.type,n)),n},getInstanceName:function(){var n=this;return n.instanceName||(n.instanceName=n.association.schema.getNamer().instanceName(n.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){var n=this;return n.storeName||(n.storeName=n.association.schema.getNamer().storeName(n.role))},constructReader:function(n){var i=this,t=i.getReader(),f=i.cls,o=!i.associationKey,e=i.getReaderRoot(),r,u;return t||(u=f.getProxy(),u?(r=u.getReader(),t=new r.self,t.copyFrom(r),t.setRootProperty(e)):t=new n.self({model:f,useSimpleAccessors:o,rootProperty:e}),i.reader=t),t},read:function(n,t,i,r){var f=this,u=this.constructReader(i);if(u.getRoot(t))return u.read(t,r)},getCallbackOptions:function(n,t,i){return typeof n=="function"?n={callback:n,scope:t||i}:n&&(n=Ext.apply({},n),n.scope=t||n.scope||i),n},doGetFK:function(n,t,i){var o=this,h=o.cls,c=o.association.getFieldName(),s=o.getInstanceName(),r=n[s],a=t&&t.reload,f=r!==undefined&&!a,l=n.session,u,e;return f?r&&(f=!r.isLoading()):l?(u=n.get(c),u||u===0?(f=l.peekRecord(h,u,!0)&&!a,r=l.getRecord(h,u,!1)):(f=!0,n[s]=r=null)):c?(u=n.get(c),u||u===0?r||(r=h.createWithId(u)):(f=!0,n[s]=r=null)):f=!0,f?t&&(e=[r,null],i=i||t.scope||n,Ext.callback(t.success,i,e),e.push(!0),Ext.callback(t,i,e),Ext.callback(t.callback,i,e)):(n[s]=r,t=o.getCallbackOptions(t,i,n),r.load(t)),r},doSetFK:function(n,t,i,r){var e=this,o=e.association.getFieldName(),s=e.getInstanceName(),u=n[s],f=e.inverse,c=f.setterName,a=n.session,l,h;return t&&t.isEntity?u!==t&&(h=e.getOldInstanceName(),n[h]=u,n[s]=t,u&&u.isEntity&&(u[f.getInstanceName()]=undefined),o&&n.set(o,t.getId()),delete n[h],c&&t[c](n)):(l=n.changingKey&&!f.isMany||n.set(o,t),l&&u&&u.isEntity&&!u.isEqual(u.getId(),t)&&(n[s]=undefined,f.isMany||(u[f.getInstanceName()]=undefined))),i?(Ext.isFunction(i)&&(i={callback:i,scope:r||n}),n.save(i)):void 0}},1,0,0,0,0,0,[Ext.data.schema,"Role"],0);Ext.cmd.derive("Ext.data.schema.Association",Ext.Base,{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(n){var t=this,i,r;Ext.apply(t,n);t.left=i=new t.Left(t,t.left);t.right=r=new t.Right(t,t.right);i.inverse=r;r.inverse=i},hasField:function(){return!!this.field},getFieldName:function(){var n=this.field;return n?n.name:""}},1,0,0,0,0,0,[Ext.data.schema,"Association"],0);Ext.cmd.derive("Ext.data.schema.OneToOne",Ext.data.schema.Association,{isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(n){var t=this.getAssociatedItem(n);n[this.getInstanceName()]=null;t&&(t[this.inverse.getInstanceName()]=null)},createGetter:function(){var n=this;return function(){return n.doGet(this)}},createSetter:function(){var n=this;return function(t){return n.doSet(this,t)}},doGet:function(n){var i=this.getInstanceName(),t=n[i],r=n.session;return!t&&r,t||null},doSet:function(n,t){var i=this.getInstanceName(),r=n[i],u=this.inverse.setterName;return r!==t&&(n[i]=t,u&&t[u](n)),r},read:function(n,t,i,r){var u=this,e=u.callParent([n,t,i,r]),f;e&&(f=e.getRecords()[0],f&&(f[u.inverse.getInstanceName()]=n,n[u.getInstanceName()]=f,delete n.data[u.role]))}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var n=this;return function(t,i){return n.doGetFK(this,t,i)}},createSetter:function(){var n=this;return function(t,i,r){return n.doSetFK(this,t,i,r)}},onDrop:function(n,t){var r=this,f=r.association.field,i=r.getAssociatedItem(n),u;r.inverse.owner&&(t?(u=n.get(f.name),(u||u===0)&&(i=t.getEntry(r.cls,u).record,i&&i.drop())):i&&i.drop());f&&n.set(f.name,null);n[r.getInstanceName()]=null;i&&(i[r.inverse.getInstanceName()]=null)},onValueChange:function(n,t,i){var r=this,u=n[r.getOldInstanceName()]||r.getAssociatedItem(n),o=i||i===0,f=r.getInstanceName(),e=r.cls;n.changingKey=!0;r.doSetFK(n,i);o?t&&e&&(n[f]=t.peekRecord(e,i)||undefined):n[f]=null;r.inverse.owner&&u&&r.association.schema.queueKeyCheck(u,r);n.changingKey=!1},checkKeyForDrop:function(n){var t=this.inverse.getAssociatedItem(n);t||n.drop()},read:function(n,t,i,r){var f=this,y=f.callParent([n,t,i,r]),u,s,h,e,l,c,a,v,o;y&&(u=y.getRecords()[0],s=f.association.field,h=s.name,e=n.session,o=n.data,u&&(e?(l=e.getRefs(u,this.inverse,!0),v=l&&l[n.id]||o[h]===undefined):v=!0,v&&(s&&(a=o[h],c=u.id,a!==c&&(o[h]=c,e&&e.updateReference(n,s,c,a))),u[f.inverse.getInstanceName()]=n,n[f.getInstanceName()]=u),delete o[f.role]))}})},0,0,0,0,0,0,[Ext.data.schema,"OneToOne"],0);Ext.cmd.derive("Ext.data.schema.ManyToOne",Ext.data.schema.Association,{isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,onDrop:function(n,t){var r=this,f=r.getAssociatedItem(n),i,e,u,o;if(f){if(i=f.removeAll(),i&&r.inverse.owner)for(u=0,e=i.length;u<e;++u)i[u].drop();f.destroy();n[r.getStoreName()]=null}else if(t&&(i=t.getRefs(n,r),i))for(o in i)i[o].drop()},processUpdate:function(n,t){var i=this,s=i.inverse.cls,e=t.R,r,u,f,o;if(e)for(r in e)if(u=n.peekRecord(s,r),u)o=n.getEntityList(i.cls,e[r]),f=i.getAssociatedItem(u),f?(f.loadData(o),f.complete=!0):u[i.getterName](null,null,o);else n.onInvalidAssociationEntity(s,r)},findRecords:function(n,t,i,r){var o=i,f=n.getRefs(t,this,!0),c=this.association.field,l=c.name,u,e,s,a,h;if(!t.phantom&&(o=[],f||r)){if(i)for(h={},s=0,a=i.length;s<a;++s)u=i[s],e=u.id,f&&f[e]?o.push(u):r&&u.data[l]===undefined&&(o.push(u),u.data[l]=t.id,n.updateReference(u,c,t.id,undefined)),h[e]=!0;if(f)for(e in f)h&&h[e]||o.push(f[e])}return o},processLoad:function(n,t,i,r){var u=i;r&&(u=this.findRecords(r,t,i));this.onLoadMany(t,u,r);return u},adoptAssociated:function(n,t){var r=this.getAssociatedItem(n),u,i,f;if(r)for(r.setSession(t),u=r.getData().items,i=0,f=u.length;i<f;++i)t.adopt(u[i])},createGetter:function(){var n=this;return function(t,i,r){var u=this.session,f=!!r;return u&&(r=n.findRecords(u,this,r,!0),f||r&&r.length||(r=null)),n.getAssociatedStore(this,t,i,r,f)}},createSetter:null,onAddToMany:function(n,t){this.syncFK(t,n.getAssociatedEntity(),!1)},onLoadMany:function(n,t,i){var l=this.inverse.getInstanceName(),e=n.getId(),r=this.association.field,u,c,f,o,s,h;if(r)for(u=0,c=t.length;u<c;++u)f=t[u],f[l]=n,r&&(h=r.name,s=f.data,o=s[h],o!==e&&(s[h]=e,i&&i.updateReference(f,r,e,o)))},onRemoveFromMany:function(n,t){this.syncFK(t,n.getAssociatedEntity(),!0)},read:function(n,t,i,r){var u=this,c=u.inverse.getInstanceName(),o=u.callParent([n,t,i,r]),s,e,h,f;if(o)for(s=n[u.getterName](null,null,o.getRecords()),delete n.data[u.role],e=s.getData().items,f=0,h=e.length;f<h;++f)e[f][c]=n},syncFK:function(n,t,i){for(var s=this.association.getFieldName(),f=this.inverse,h=f.setterName,c=f.getInstanceName(),e=n.length,l=t.getId(),o,r,u;e-->0;)r=n[e],o=!r.isEqual(l,r.get(s)),u=i?null:t,o!==i?(r.changingKey=!0,r[h](u),r.changingKey=!1):r[c]=u}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",onDrop:function(n){var t=this.association.field;t&&n.set(t.name,null);n[this.getInstanceName()]=null},createGetter:function(){var n=this;return function(t,i){return n.doGetFK(this,t,i)}},createSetter:function(){var n=this;return function(t,i,r){return n.doSetFK(this,t,i,r)}},checkMembership:function(n,t){var r=this.association.field,i;i=this.getSessionStore(n,t.get(r.name));i&&!i.contains(t)&&i.add(t)},onValueChange:function(n,t,i,r){var f=this,c=f.getInstanceName(),l=f.cls,h,e,u,o,a,s,v;if(!n.changingKey)if(h=i||i===0,h||(n[c]=null),t)u=f.getSessionStore(t,r),u&&u.remove(n),h&&(u=f.getSessionStore(t,i),u&&!u.isLoading()&&u.add(n),l&&(v=t.peekRecord(l,i)),n[c]=v||undefined);else if(e=n.joined,e)for(o=0,a=e.length;o<a;++o)u=e[o],u.isStore&&(s=u.getAssociatedEntity(),s&&s.self===f.cls&&s.getId()===r&&u.remove(n));f.owner&&i===null&&f.association.schema.queueKeyCheck(n,f)},checkKeyForDrop:function(n){var t=this.association.field;n.get(t.name)===null&&n.drop()},getSessionStore:function(n,t){var r=this.cls,i;if(r&&(i=n.peekRecord(r,t),i))return this.inverse.getAssociatedItem(i)},read:function(n,t,i,r){var f=this.callParent([n,t,i,r]),u;f&&(u=f.getRecords()[0],u&&(n[this.getInstanceName()]=u,delete n.data[this.role]))}})},0,0,0,0,0,0,[Ext.data.schema,"ManyToOne"],0);Ext.cmd.derive("Ext.data.schema.ManyToMany",Ext.data.schema.Association,{isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,digitRe:/^\d+$/,findRecords:function(n,t,i){var l=n.getMatrixSlice(this.inverse,t.id),s=l.members,h=[],a=this.cls,e,o,c,r,u,f;if(i)for(e={},o=0,c=i.length;o<c;++o)f=i[o],r=f.id,u=s[r],u&&u[2]===-1||h.push(f),e[r]=!0;for(r in s)u=s[r],e&&(e[r]||!u||u[2]===-1)||(f=n.peekRecord(a,r),f&&h.push(f));return h},processLoad:function(n,t,i,r){var u=i;if(r){u=this.findRecords(r,t,i);this.onAddToMany(n,u,!0)}return u},processUpdate:function(n,t){var i=this,s=i.inverse.cls,e=t.R,r,u,f,o;if(e)for(r in e)if(u=n.peekRecord(s,r),u)o=n.getEntityList(i.cls,e[r]),f=i.getAssociatedItem(u),f?(f.loadData(o),f.complete=!0):u[i.getterName](null,null,o);else n.onInvalidAssociationEntity(s,r);i.processMatrixBlock(n,t.C,1);i.processMatrixBlock(n,t.D,-1)},checkMembership:function(n,t){var r=n.getMatrix(this.association,!0),u,c,l,f,e,o,s,a,h,i;if(r&&(u=this.left?r.right:r.left,c=u.inverse.role.cls,l=this.inverse,e=u.slices,e&&(f=e[t.id],f))){s=f.members;for(o in s)a=s[o],a[2]!==-1&&(h=n.peekRecord(c,o),h&&(i=l.getAssociatedItem(h),i&&(i.matrixUpdate=1,i.add(t),i.matrixUpdate=0)))}},onStoreCreate:function(n,t,i){var u=this,r;t&&(r=t.getMatrixSlice(u.inverse,i),r.attach(n),r.notify=u.onMatrixUpdate,r.scope=u)},processMatrixBlock:function(n,t,i){var f=this.inverse,e=this.digitRe,u,r;if(t)for(r in t)e.test(r)&&(r=parseInt(r,10)),u=n.getMatrixSlice(f,r),u.update(t[r],i)},createGetter:function(){var n=this;return function(t,i,r){var f=this.session,u;return f&&(u=!!r,r=n.findRecords(f,this,r),u||r.length||(r=null)),n.getAssociatedStore(this,t,i,r,u)}},onAddToMany:function(n,t,i){n.matrixUpdate||(n.matrixUpdate=1,n.matrix.update(t,i===!0?0:1),n.matrixUpdate=0)},onRemoveFromMany:function(n,t){n.matrixUpdate||(n.matrixUpdate=1,n.matrix.update(t,-1),n.matrixUpdate=0)},read:function(n,t,i,r){var u=this,f=u.callParent([n,t,i,r]);f&&(n[u.getterName](null,null,f.getRecords()),delete n.data[u.role])},onMatrixUpdate:function(n,t,i){var r=n.store,u,f,e;!r||r.loading||r.matrixUpdate||(r.matrixUpdate=1,u=r.indexOfId(t),i<0?u>=0&&r.remove([u]):u<0&&(e=r.getSession().getEntry(this.type,t),f=e&&e.record,f&&r.add(f)),r.matrixUpdate=0)},adoptAssociated:function(n,t){var i=this.getAssociatedItem(n),u,r,f;if(i){i.setSession(t);this.onStoreCreate(i,t,n.getId());for(u=i.getData().items,r=0,f=u.length;r<f;++r)t.adopt(u[r])}}},function(){var n=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:n,left:!1,side:"right"})},null,"Ext.data.schema.ManyToMany")})},0,0,0,0,0,0,[Ext.data.schema,"ManyToMany"],0);Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(n,t){this.singulars.unshift([n,t])},plural:function(n,t){this.plurals.unshift([n,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(n){return Ext.Array.indexOf(this.uncountable,n)!=-1},pluralize:function(n){if(this.isTransnumeral(n))return n;for(var u=this.plurals,f=u.length,r,t,i=0;i<f;i++)if(r=u[i],t=r[0],t==n||t.test&&t.test(n))return n.replace(t,r[1]);return n},singularize:function(n){if(this.isTransnumeral(n))return n;for(var u=this.singulars,f=u.length,r,t,i=0;i<f;i++)if(r=u[i],t=r[0],t==n||t.test&&t.test(n))return n.replace(t,r[1]);return n},classify:function(n){return Ext.String.capitalize(this.singularize(n))},ordinalize:function(n){var t=parseInt(n,10),r=t%10,i=t%100;if(11<=i&&i<=13)return n+"th";switch(r){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd";default:return n+"th"}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(var n in t)t.hasOwnProperty(n)&&(this.plural(n,t[n]),this.singular(t[n],n))});Ext.cmd.derive("Ext.data.schema.Namer",Ext.Base,{isNamer:!0,capitalize:function(n){return Ext.String.capitalize(n)},fieldRole:function(n){var t=n.match(this.endsWithIdRe,"");return t&&(n=n.substr(0,n.length-(t[1]||t[2]).length)),this.apply("uncapitalize",n)},idField:function(n){return this.apply("uncapitalize,singularize",n)+"Id"},instanceName:function(n){return this.apply("underscore",n)},multiRole:function(n){return this.apply("undotted,uncapitalize,pluralize",n)},pluralize:function(n){return Ext.util.Inflector.pluralize(n)},readerRoot:function(n){return this.apply("uncapitalize",n)},singularize:function(n){return Ext.util.Inflector.singularize(n)},storeName:function(n){return this.apply("underscore",n)},uncapitalize:function(n){return Ext.String.uncapitalize(n)},underscore:function(n){return"_"+n},uniRole:function(n){return this.apply("undotted,uncapitalize,singularize",n)},undotted:function(n){if(n.indexOf(".")<0)return n;for(var t=n.split("."),i=t.length;i-->1;)t[i]=this.apply("capitalize",t[i]);return t.join("")},getterName:function(n){var t=n.role;return n&&n.isMany?t:"get"+this.apply("capitalize",t)},inverseFieldRole:function(n,t,i,r){var u=this,f=u.apply(t?"uniRole":"multiRole",n),e=u.apply("pluralize",i),o=u.apply("undotted,pluralize",r);return e.toLowerCase()!==o.toLowerCase()&&(f=i+u.apply("capitalize",f)),f},manyToMany:function(n,t,i){var r=this,u=r.apply("undotted,capitalize,singularize",t)+r.apply("undotted,capitalize,pluralize",i);return n&&(u=r.apply("capitalize",n+u)),u},manyToOne:function(n,t,i){return this.apply("capitalize,singularize",i)+this.apply("capitalize",t)},matrixRole:function(n,t){var i=this.apply(n?"multiRole,capitalize":"multiRole",t);return n?n+i:i},oneToOne:function(n,t,i){return this.apply("undotted,capitalize,singularize",i)+this.apply("capitalize",t)},setterName:function(n){return"set"+this.apply("capitalize",n.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(n,t){var u=this,f=u.cache,e=f[t]||(f[t]={}),i=e[n],r,o,s;if(!i){if(n.indexOf(",")<0)i=u[n](t);else for(o=(s=n.split(",")).length,i=t,r=0;r<o;++r)i=u.apply(s[r],i);e[n]=i}return i}},0,0,0,0,["namer.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Namer"],0);Ext.cmd.derive("Ext.data.schema.Schema",Ext.Base,{aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},get:function(n){var u=this,f=u.instances,i="default",e=n&&Ext.isString(n),t,r;if(n){if(n.isSchema)return n;i=e?n:n.id||i}return(t=f[i])?n&&!e&&(r=Ext.merge({},t.config),Ext.merge(r,n),t.setConfig(r),t.config=r):(f[i]=t=u.create(n),t.id=i),t},lookupEntity:function(n){var t=null,u=this.instances,i,r,f;if(n)if(n.isEntity)t=n.self;else if(Ext.isFunction(n))t=n;else if(Ext.isString(n)){if(t=Ext.ClassManager.get(n),!t||t.prototype&&t.prototype.isEntity||(t=null),!t)for(r in u)f=u[r],i=f.getEntity(n),i&&(t&&Ext.Error.raise('Ambiguous entity name "'+n+'". Defined by schema "'+t.schema.type+'" and "'+r+'"'),t=i);t||Ext.Error.raise('No such Entity "'+n+'".')}return t}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(n,t){var i=t.alias;i&&!t.type&&(Ext.isString(i)||(i=i[0]),n.prototype.type=i.substring(this.prototype.aliasPrefix.length))},constructor:function(n){this.initConfig(n);this.clear()},applyDefaultIdentifier:function(n){return n&&Ext.Factory.dataIdentifier(n)},applyNamer:function(n){var t=Ext.data.schema.Namer.create(n);return t.schema=this,t},applyNamespace:function(n){if(n){var t=n.length-1;n.charAt(t)!=="."&&(n+=".")}return n},applyProxy:function(n){return Ext.util.ObjectTemplate.create(n)},eachAssociation:function(n,t){var i=this.associations;for(var r in i)if(i.hasOwnProperty(r)&&n.call(t,r,i[r])===!1)break},eachEntity:function(n,t){var i=this.entities;for(var r in i)if(i.hasOwnProperty(r)&&n.call(t,r,i[r].cls)===!1)break},getAssociation:function(n){var t=this.associations[n];return t||null},getEntity:function(n){var t=this.entityClasses[n]||this.entities[n];return t&&t.cls||null},getEntityName:function(n){var r=this.getNamespace(),i,t;if(t=typeof n=="string"?n:n.$className||null,t){if(r&&(i=r.length,t.substring(0,i)!==r))return t;i&&(t=t.substring(i))}return t},hasAssociations:function(n){return n=n.entityName||n,!!this.associationEntityMap[n]},hasEntity:function(n){var t=this.getEntityName(n);return!!(this.entities[t]||this.entityClasses[t])},addMatrix:function(n,t,i,r,u){var f=this,l=f.getNamer(),v=f.associations,a=f.entities,e=r.type,o=u.type,y=r.field||l.apply("idField",e),p=u.field||l.apply("idField",o),w=r.role||l.matrixRole(i,e),b=u.role||l.matrixRole(i,o),s,h,c;h=a[e]||(a[e]={cls:null,name:e,associations:{}});c=a[o]||(a[o]={cls:null,name:o,associations:{}});++f.assocCount;v[t]=s=new Ext.data.schema.ManyToMany({name:t,schema:f,definedBy:n,left:{cls:h.cls,type:e,role:w,field:y,associationKey:r.associationKey},right:{cls:c.cls,type:o,role:b,field:p,associationKey:u.associationKey}});h.associations[s.right.role]=s.right;c.associations[s.left.role]=s.left;h.cls&&(f.associationEntityMap[h.cls.entityName]=!0);c.cls&&(f.associationEntityMap[c.cls.entityName]=!0);f.decorateModel(s)},addReference:function(n,t,i,r){var f=this,h=f.getNamer(),y=f.entities,k=f.associations,l=n.entityName,u=i.association,d=!!i.legacy,p=i.child,w=i.parent,o=i.role,e=i.type||w||p,a=i.inverse,v=Ext.isString(a)?{role:a}:a,s=v&&v.role,c,b;o||(o=d?h.apply("uncapitalize",e):h.apply("fieldRole",t.name));s||(s=h.inverseFieldRole(l,r,o,e));u||(u=r?h.oneToOne(n,s,e,o):h.manyToOne(n,s,e,o));c=y[e]||(y[e]={cls:null,name:e,associations:{}});b=r?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;u=new b({name:u,owner:p?"left":w?"right":null,definedBy:n,schema:f,field:t,nullable:t?!!t.allowBlank:!0,legacy:i.legacy,left:{cls:n,type:l,role:s,extra:v},right:{cls:c.cls,type:e,role:o,extra:i}});n.associations[o]=u.right;c.associations[s]=u.left;t&&(t.reference=u.right,n.references.push(t));++f.assocCount;f.associationEntityMap[l]=!0;c.cls&&(f.associationEntityMap[c.cls.entityName]=!0);k[u.name]=u;u.right.cls&&f.decorateModel(u)},privates:{addEntity:function(n){var t=this,s=t.entities,r=n.entityName,i=s[r],h=n.fields,u,e,f,c,o;if(i){u=i.associations;for(o in u)u[o].inverse.cls=n,t.associationEntityMap[r]=!0,t.decorateModel(u[o].association)}else s[r]=i={name:r,associations:{}};for(i.cls=n,n.prototype.associations=n.associations=i.associations,t.entityClasses[n.$className]=i,++t.entityCount,f=0,c=h.length;f<c;++f)e=h[f],e.reference&&t.addReferenceDescr(n,e)},addMatrices:function(n,t){var r=this,i,f,u;if(Ext.isString(t))r.addMatrixDescr(n,null,t);else if(t[0])for(i=0,f=t.length;i<f;++i)r.addMatrixDescr(n,null,t[i]);else for(u in t)r.addMatrixDescr(n,u,t[u])},addMatrixDescr:function(n,t,i){var o=this,f=n.entityName,c=o.associations,e=o.getNamer(),r=i.left,u=i.right,h,s;Ext.isString(i)?i.charAt(0)==="#"?(r={type:f},u={type:i.substring(1)}):i.charAt(h=i.length-1)==="#"?(r={type:i.substring(0,h)},u={type:f}):e.apply("multiRole",f)<e.apply("multiRole",i)?(r={type:f},u={type:i}):(r={type:i},u={type:f}):(s=i.relation,r||!u&&e.apply("multiRole",f)<e.apply("multiRole",i.type)?(r=r&&r!==!0?Ext.apply({type:f},r):{type:f},u=i):(u=u&&u!==!0?Ext.apply({type:f},u):{type:f},r=i));t||(t=e.manyToMany(s,r.type,u.type));t in c||o.addMatrix(n,t,s,r,u)},addReferenceDescr:function(n,t){var r=this,i=t.$reference;i=Ext.isString(i)?{type:i}:Ext.apply({},i);i.legacy?i.single?r.addLegacySingle(n,i):r.addLegacyHasMany(n,i):r.addReference(n,t,i,t.unique)},addPending:function(n,t,i,r){var u=this.pending;u[n]||(u[n]=[]);u[n].push([t,i,r])},addLegacyBelongsTo:function(n,t){this.addLegacySingle(n,t)},addLegacyHasOne:function(n,t){this.addLegacySingle(n,t)},addLegacySingle:function(n,t){var r,u,i;t=this.constructLegacyAssociation(n,t);t.single=!0;u=t.type;r=t.foreignKey||u.toLowerCase()+"_id";i=n.getField(r);i&&(i.$reference=t);this.addReference(n,i,t,!0)},addLegacyHasMany:function(n,t){var e=this,l=e.entities,o=e.pending,s=t.associationKey,h,i,r,u,c,f;t=this.constructLegacyAssociation(n,t);i=t.type;u=l[i];u&&u.cls?(t.type=n.entityName,c=t.foreignKey||t.type.toLowerCase()+"_id",h=u.cls,r=h.getField(c),t.inverse=t||{},f=t.name,(f||s)&&(f&&(t.inverse.role=f),s&&(t.inverse.associationKey=s)),r&&(r.$reference=t),e.addReference(h,r,t,!1)):(o[i]||(o[i]=[]),o[i].push([n,t]))},constructLegacyAssociation:function(n,t){Ext.isString(t)&&(t={model:t});t.legacy=!0;t.type=this.getEntityName(t.model);var i=t.associatedName||t.name;return i&&(t.role=i),t},afterLegacyAssociations:function(n){var r=this.pending,u=n.entityName,i=r[u],t,f;if(i){for(t=0,f=i.length;t<f;++t)this.addLegacyHasMany.apply(this,i[t]);delete r[u]}},clear:function(n){var t=this,i=t.timer;delete t.setConfig;i&&(window.clearTimeout(i),t.timer=null);t.associations={};t.associationEntityMap={};t.entities={};t.entityClasses={};t.pending={};t.assocCount=t.entityCount=0;n&&t.setNamespace(null)},constructProxy:function(n){var t=this,i=Ext.Object.chain(n),r=t.getProxy();return i.schema=t,i.prefix=t.getUrlPrefix(),r.apply(i)},applyDecoration:function(n){var e=this,u=n.inverse.cls,f=e.getNamer(),t,i,r;u&&!n.decorated&&(n.decorated=!0,r=u.prototype,(t=n.getterName)||(n.getterName=t=f.getterName(n)),r[t]=n.createGetter(),n.createSetter&&((i=n.setterName)||(n.setterName=i=f.setterName(n)),r[i]=n.createSetter()))},decorateModel:function(n){this.applyDecoration(n.left);this.applyDecoration(n.right)},processKeyChecks:function(n){var t=this,i=t.keyCheckQueue,f=t.timer,e,r,u;if(f&&(window.clearTimeout(f),t.timer=null),i)do for(i=t.keyCheckQueue,t.keyCheckQueue=[],r=0,e=i.length;r<e;++r)u=i[r],u.role.checkKeyForDrop(u.record);while(n&&t.keyCheckQueue.length)},queueKeyCheck:function(n,t){var i=this,r=i.keyCheckQueue,u=i.timer;r||(i.keyCheckQueue=r=[]);r.push({record:n,role:t});u||(i.timer=u=Ext.Function.defer(i.processKeyChecks,i.getKeyCheckDelay(),i))},rankEntities:function(){var t=this,u=t.entities,i=Ext.Object.getKeys(u),f=i.length,r,n;for(t.nextRank=1,i.sort(),n=0;n<f;++n)r=u[i[n]].cls,r.rank||t.rankEntity(r)},rankEntity:function(n){var r=n.associations,i,t;for(var u in r)t=r[u],!t.left&&t.association.field&&(i=t.cls,i.rank||this.rankEntity(i));n.rank=this.nextRank++}}},1,0,0,0,["schema.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Schema"],0);Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{autoFilter:!0,autoSort:!0,filters:undefined,autoDestroy:undefined,storeId:null,statefulFilters:!1,sorters:undefined,remoteSort:!1,remoteFilter:!1,groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:!1,isDestroyed:!1,isStore:!0,updating:0,constructor:function(n){var t=this,i;t.isInitializing=!0;t.mixins.observable.constructor.call(t,n);t.isInitializing=!1;i=t.getStoreId();!i&&n&&n.id&&t.setStoreId(i=n.id);i&&Ext.data.StoreManager.register(t)},getCount:function(){return this.getData().getCount()},rangeCached:function(n,t){return this.getData().getCount()>=Math.max(n,t)},find:function(n,t,i,r,u,f){var e=!r,o=!!(e&&f);return this.getData().findIndex(n,t,i,e,o,!u)},findRecord:function(){var n=this,t=n.find.apply(n,arguments);return t!==-1?n.getAt(t):null},findExact:function(n,t,i){return this.getData().findIndexBy(function(i){return i.isEqual(i.get(n),t)},this,i)},findBy:function(n,t,i){return this.getData().findIndexBy(n,t,i)},getAt:function(n){return this.getData().getAt(n)||null},getRange:function(n,t,i){var r=this.getData().getRange(n,Ext.isNumber(t)?t+1:t);return i&&i.callback&&i.callback.call(i.scope||this,r,n,t,i),r},applyFilters:function(n,t){return t||(t=this.createFiltersCollection()),t.add(n),t},applySorters:function(n,t){return t||(t=this.createSortersCollection()),t.add(n),t},updateAutoFilter:function(n){var t=this.getData();t.setAutoFilter&&t.setAutoFilter(n)},updateAutoSort:function(n){var t=this.getData();t.setAutoSort&&t.setAutoSort(n)},filter:function(n,t,i){Ext.isString(n)&&(n={property:n,value:t});this.suppressNextFilter=!!i;this.getFilters().add(n);this.suppressNextFilter=!1},removeFilter:function(n,t){var i=this,r=i.getFilters();i.suppressNextFilter=!!t;n instanceof Ext.util.Filter?r.remove(n):r.removeByKey(n);i.suppressNextFilter=!1},updateRemoteSort:function(n){var t=this,i=t.getSorters(),r=t.getData();if(n){i.on("endupdate",t.onSorterEndUpdate,t);r.un("beforesort",t.onBeforeCollectionSort,t)}else{i.un("endupdate",t.onSorterEndUpdate,t);r.on("beforesort",t.onBeforeCollectionSort,t)}},updateRemoteFilter:function(n){var t=this,i=t.getFilters();if(n)i.on("endupdate",t.onFilterEndUpdate,t);else i.un("endupdate",t.onFilterEndUpdate,t)},addFilter:function(n,t){this.suppressNextFilter=!!t;this.getFilters().add(n);this.suppressNextFilter=!1},filterBy:function(n,t){this.getFilters().add({filterFn:n,scope:t||this})},clearFilter:function(n){var t=this,i=t.getFilters(!1);i&&i.getCount()!==0&&(t.suppressNextFilter=!!n,i.removeAll(),t.suppressNextFilter=!1)},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){return this.getSorters().getCount()>0||this.isGrouped()},addFieldTransform:function(n){if(!n.getTransform()){var u=n.getProperty(),r=this.getModel(),i,t;r&&(i=r.getField(u),t=i?i.getSortType():null);t&&t!==Ext.identityFn&&n.setTransform(t)}},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var n=this,r=[],e=n.getFilters(),f=n.getGrouper(),t,u,i;return n.getSorters().each(function(n){r[r.length]=n.getState();u=!0}),n.statefulFilters&&n.saveStatefulFilters&&(u=!0,t=[],e.each(function(n){t[t.length]=n.getState()})),f&&(u=!0),u&&(i={},r.length&&(i.sorters=r),t&&(i.filters=t),f&&(i.grouper=f.getState())),i},applyState:function(n){var t=this,f=t.getSorters(),e=t.getFilters(),i=n.sorters,r=n.filters,u=n.grouper;i&&f.replaceAll(i);r&&(t.saveStatefulFilters=!0,e.replaceAll(r));u&&this.setGrouper(u)},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var n=this;n.clearListeners();n.getStoreId()&&Ext.data.StoreManager.unregister(n);n.onDestroy();n.callParent()},sort:function(n,t,i){var r=this;arguments.length===0?r.getRemoteSort()?r.attemptLoad():r.forceLocalSort():r.getSorters().addSort(n,t,i)},onBeforeCollectionSort:function(n,t){this.fireEvent("beforesort",this,t.getRange())},onSorterEndUpdate:function(){var n=this,t;n.settingGroups||(t=n.getSorters().getRange(),t.length?n.getRemoteSort()?n.attemptLoad({callback:function(){n.fireEvent("sort",n,t)}}):(n.fireEvent("datachanged",n),n.fireEvent("refresh",n),n.fireEvent("sort",n,t)):n.fireEvent("sort",n,t))},onFilterEndUpdate:function(){var n=this,t=n.suppressNextFilter;n.getAutoFilter()&&(n.getRemoteFilter()?(n.currentPage=1,t||n.attemptLoad()):t||(n.fireEvent("datachanged",n),n.fireEvent("refresh",n)));n.trackStateChanges&&(n.saveStatefulFilters=!0);n.fireEvent("filterchange",n,n.getFilters().getRange())},updateGroupField:function(n){n?this.setGrouper({property:n,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(n,t){var i=this,r=n||i.getSorters().getCount()>0;(n&&typeof n=="string"&&(n={property:n,direction:t||i.getGroupDir()}),i.settingGroups=!0,i.getData().setGrouper(n),delete i.settingGroups,i.isLoadBlocked())||(r?i.getRemoteSort()?i.attemptLoad({scope:i,callback:i.fireGroupChange}):(i.fireEvent("datachanged",i),i.fireEvent("refresh",i),i.fireGroupChange()):i.fireGroupChange())},fireGroupChange:function(){this.fireEvent("groupchange",this,this.getGrouper())},clearGrouping:function(){this.group(null)},getGroupField:function(){var n=this.getGrouper(),t="";return n&&(t=n.getProperty()),t},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(n){return this.group(n),this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,"AbstractStore"],0);Ext.cmd.derive("Ext.data.Error",Ext.Base,{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(n){this.initConfig(n);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,"Error"],0);Ext.cmd.derive("Ext.data.ErrorCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.data.Errors",init:function(n){for(var t=this,e=n.fields,c=n.data,o,i,u,h,f,r=0,s=e.length;r<s;++r)i=e[r],f=i.name,h=c[f],i.validate&&!i.validate.$nullFn&&(o=t.length,u=i.validate(h,null,t),o===t.length&&u!==!0&&t.add(f,u));return t},add:function(n,t){var u=this,f=Ext.data.field.Field.defaultInvalidMessage,i=n,r;if(Ext.isString(n)?i=new Ext.data.Error({field:n,message:t||f}):(i.isError||(i=new Ext.data.Error({field:i.field||i.name,message:i.error||i.message||i.msg||f})),n=i.field),r=u.get(n),r){if(Ext.isArray(r))return r.push(i),r;u.removeAtKey(n);i=[r,i];i.field=n;i=[i]}return Ext.util.MixedCollection.prototype.add.call(this,i)},getKey:function(n){return n.field},isValid:function(){return this.length===0},getByField:function(n){var t=this.get(n);return t&&!Ext.isArray(t)&&(t=[t]),t||[]}},0,0,0,0,0,0,[Ext.data,"ErrorCollection",Ext.data,"Errors"],0);Ext.cmd.derive("Ext.data.operation.Operation",Ext.Base,{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,constructor:function(n){var t=n&&n.scope;this.initConfig(n);n&&(n.scope=t);t&&(this.setScope(t),this.initialConfig.scope=t)},getAction:function(){return this.action},execute:function(){var n=this;return delete n.error,delete n.success,n.complete=n.exception=!1,n.setStarted(),n.request=n.doExecute()},doExecute:Ext.emptyFn,abort:function(){var n=this,t=n.request;n.running&&t&&(n.getProxy().abort(t),n.request=null)},process:function(n,t,i,r){var u=this;r=r!==!1;u.setResponse(i);u.setResultSet(n);n.getSuccess()?(u.doProcess(n,t,i),u.setSuccessful(r)):r&&u.setException(n.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(n){var h=this,c=h._commitSetOptions,f=h.getRecords(),l=f.length,o=f[0].clientIdProperty,e=n.getRecords(),s=e?e.length:0,u,r,i,t;if(s&&o){for(u=Ext.Array.toValueMap(f,"id"),t=0;t<s;++t)r=e[t],i=u[r[o]],i&&(delete u[i.id],delete r[o],i.set(r,c));for(t in u)u[t].commit()}else for(t=0;t<l;++t)i=f[t],s!==0&&(r=e[t])?i.set(r,c):i.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){this.complete=!0;this.running=!1;this.triggerCallbacks()},setSuccessful:function(n){this.success=!0;n&&this.setCompleted()},setException:function(n){var t=this;t.exception=!0;t.success=t.running=!1;t.error=n;t.setCompleted()},triggerCallbacks:function(){var n=this,t=n.getInternalCallback();t&&(t.call(n.getInternalScope()||n,n),n.setInternalCallback(null),n.setInternalScope(null));(t=n.getCallback())&&(t.call(n.getScope()||n,n.getRecords(),n,n.wasSuccessful()),n.setCallback(null),n.setScope(null))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var n;return this._records||((n=this.getResultSet())?n.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return!0}},1,0,0,0,0,0,[Ext.data.operation,"Operation",Ext.data,"Operation"],0);Ext.cmd.derive("Ext.data.operation.Create",Ext.data.operation.Operation,{action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,["data.operation.create"],0,[Ext.data.operation,"Create"],0);Ext.cmd.derive("Ext.data.operation.Destroy",Ext.data.operation.Operation,{action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){for(var t=this.getRecords(),i=t.length,n=0;n<i;++n)t[n].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(n){var t={},i=n.idField,r=this.getNameProperty()||"name";return t[i[r]]=n.id,t}},0,0,0,0,["data.operation.destroy"],0,[Ext.data.operation,"Destroy"],0);Ext.cmd.derive("Ext.data.operation.Read",Ext.data.operation.Operation,{action:"read",isReadOperation:!0,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}},0,0,0,0,["data.operation.read"],0,[Ext.data.operation,"Read"],0);Ext.cmd.derive("Ext.data.operation.Update",Ext.data.operation.Operation,{action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,["data.operation.update"],0,[Ext.data.operation,"Update"],0);Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:!0,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(n){return n!=null?String(n).replace(this.stripTagsRe,""):"\x00"},asUCText:function(n){return n!=null?String(n).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(n){return n!=null?String(n).toUpperCase():"\x00"},asDate:function(n){return n?Ext.isDate(n)?n.getTime():Date.parse(String(n)):0},asFloat:function(n){var t=parseFloat(String(n).replace(this.stripCommasRe,""));return isNaN(t)?0:t},asInt:function(n){var t=parseInt(String(n).replace(this.stripCommasRe,""),10);return isNaN(t)?0:t}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0);Ext.cmd.derive("Ext.data.validator.Validator",Ext.Base,{isValidator:!0,type:"base",statics:{all:{},register:function(n,t){var i=this.all;i[n.toUpperCase()]=i[n.toLowerCase()]=i[n]=t.prototype}},onClassExtended:function(n,t){t.type&&Ext.data.validator.Validator.register(t.type,n)},constructor:function(n){typeof n=="function"?(this.fnOnly=!0,this.validate=n):this.initConfig(n)},validate:function(){return!0},clone:function(){var n=this;return n.fnOnly?new Ext.data.validator.Validator(n.validate):new n.self(n.getCurrentConfig())}},1,0,0,0,["data.validator.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,"Validator"],function(){this.register(this.prototype.type,this)});Ext.cmd.derive("Ext.data.field.Field",Ext.Base,{alternateClassName:"Ext.data.Field",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(n,t){var r=t.sortType,u=n.prototype,f=u.validators,i=t.validators;r&&Ext.isString(r)&&(u.sortType=Ext.data.SortTypes[r]);i&&(Ext.isArray(i)||(i=[i]),delete t.validators,f&&(i=f.concat(i)),u.validators=i)},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(n){var t=this,v=t.calculateRe,u,e,f,o,i,s,r,a,h,c,l;if(n&&(Ext.isString(n)?t.name=n:(l=n.validators,l&&(delete n.validators,t.instanceValidators=l),Ext.apply(t,n))),t.allowNull||(t.allowNull=!!t.reference),u=t.calculate,i=t.depends,u&&(t.convert=t.doCalculate,!i)){if(!(i=u.$depends))for(s={},h=u.toString(),u.$depends=i=[],r=t.argumentNamesRe.exec(h),a=r?r[1]:"data";r=v.exec(h);)a!==r[1]||s[c=r[2]]||(s[c]=1,i.push(c));t.depends=i}f=t.defaultValue;t.convert&&(t.calculated=e=t.convert.length>1,t.evil=e&&!i);t.persist===null&&(t.persist=!e);o=t.sortType;t.sortType?Ext.isString(o)&&(t.sortType=Ext.data.SortTypes[o]):t.sortType=Ext.data.SortTypes.none;i&&typeof i=="string"&&(t.depends=[i]);t.cloneDefaultValue=f!==undefined&&(Ext.isDate(f)||Ext.isArray(f)||Ext.isObject(f))},setModelValidators:function(n){this._validators=null;this.modelValidators=n},compileValidators:function(){var n=this;n._validators=[];n.constructValidators(n.validators);n.constructValidators(n.modelValidators);n.constructValidators(n.instanceValidators)},constructValidators:function(n){if(n){n instanceof Array||(n=[n]);for(var r=n.length,u=this._validators,t,i=0;i<r;++i)t=n[i],t.fn&&(t=t.fn),u.push(Ext.Factory.dataValidator(t))}},collate:function(n,t){var u=this,i=n,r=t;return u.sortType&&(i=u.sortType(i),r=u.sortType(r)),i===r?0:i<r?-1:1},compare:function(n,t){return n===t?0:n<t?-1:1},isEqual:function(n,t){return this.compare(n,t)===0},convert:null,serialize:null,validate:function(n,t,i){var f=this,u="",r,s,o,h,e;for(f._validators||f.compileValidators(),o=f._validators,e=0,h=o.length;e<h;++e)if(s=o[e],r=s.validate(n),r!==!0)if(r=r||f.defaultInvalidMessage,i)i.add(f.name,r),u=u||r;else if(t)u&&(u+=t),u+=r;else{u=r;break}return u||!0},doCalculate:function(n,t){return t?this.calculate(t.data):n},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var n=this.mapping;return!!(n||n===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,["data.field.auto"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,"Field",Ext.data,"Field"],0);Ext.cmd.derive("Ext.data.field.Boolean",Ext.data.field.Field,{isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(n){return typeof n=="boolean"?n:this.allowNull&&(n===undefined||n===null||n==="")?null:this.trueRe.test(String(n))},getType:function(){return"bool"}},0,0,0,0,["data.field.bool","data.field.boolean"],0,[Ext.data.field,"Boolean"],0);Ext.cmd.derive("Ext.data.field.Date",Ext.data.field.Field,{sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(n,t){var r=n instanceof Date,u=t instanceof Date,i;return u&&r?(i=n.getTime()-t.getTime(),i=i===0?0:i<0?-1:1):i=r===u?0:r?1:-1,i},convert:function(n){if(!n)return null;if(n instanceof Date)return n;var i=this.dateReadFormat||this.dateFormat,t;return i?Ext.Date.parse(n,i):(t=Date.parse(n),t?new Date(t):null)},serialize:function(n){var i=null,t;return Ext.isDate(n)&&(t=this.getDateWriteFormat(),i=t?Ext.Date.format(n,t):n),i},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var n=this;return n.hasOwnProperty("dateWriteFormat")?n.dateWriteFormat:n.hasOwnProperty("dateFormat")?n.dateFormat:n.dateWriteFormat||n.dateFormat||"timestamp"},getType:function(){return"date"}},0,0,0,0,["data.field.date"],0,[Ext.data.field,"Date"],0);Ext.cmd.derive("Ext.data.field.Integer",Ext.data.field.Field,{isNumeric:!0,isIntegerField:!0,numericType:"int",convert:function(n){if(typeof n=="number")return this.getNumber(n);var r=n===undefined||n===null||n==="",i=this.allowNull,t;return r?t=i?null:0:(t=this.parse(n),i&&isNaN(t)&&(t=null)),t},getNumber:function(n){return parseInt(n,10)},getType:function(){return this.numericType},parse:function(n){return parseInt(String(n).replace(this.stripRe,""),10)},sortType:function(n){return n==null&&(n=Infinity),n}},0,0,0,0,["data.field.int","data.field.integer"],0,[Ext.data.field,"Integer"],0);Ext.cmd.derive("Ext.data.field.Number",Ext.data.field.Integer,{isIntegerField:!1,isNumberField:!0,numericType:"float",getNumber:Ext.identityFn,parse:function(n){return parseFloat(String(n).replace(this.stripRe,""))}},0,0,0,0,["data.field.float","data.field.number"],0,[Ext.data.field,"Number"],0);Ext.cmd.derive("Ext.data.field.String",Ext.data.field.Field,{sortType:"asUCString",isStringField:!0,convert:function(n){var t=this.allowNull?null:"";return n===undefined||n===null?t:String(n)},getType:function(){return"string"}},0,0,0,0,["data.field.string"],0,[Ext.data.field,"String"],0);Ext.cmd.derive("Ext.data.identifier.Generator",Ext.Base,{abstract:!0,factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(n){var t=this,r,i;t.initConfig(n);i=t.getId();i&&(r=n&&n.cache||Ext.data.identifier.Generator.all,r[i]=t)},privates:{clone:function(n){var t=this.getInitialConfig();return t=n?Ext.apply({},n,t):t,new this.self(t)},statics:{all:{}}}},1,0,0,0,["data.identifier.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,"Generator"],function(){var t=this,n=Ext.Factory,i=n.dataIdentifier;n.dataIdentifier=function(n){var r=Ext.isString(n)?n:n&&n.id,u=r&&(n&&n.cache||t.all)[r];return u||i(n)}});Ext.cmd.derive("Ext.data.identifier.Sequential",Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var n=this,t=n._seed,i=n._prefix;return n._seed+=n._increment,i!==null?i+t:t}},0,0,0,0,["data.identifier.sequential"],0,[Ext.data.identifier,"Sequential"],0);Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,observableType:"record",constructor:function(n,t){var i=this,r=i.self,e=r.identifier,c=Ext.data.Model,l=c.identifier,a=i.idField.name,o,u,s,v,y,f,h;if(i.data=i.data=n||(n={}),i.session=t||null,i.internalId=v=l.generate(),(o=n)instanceof Array)for(i.data=n={},h=i.getFields(),y=Math.min(h.length,o.length),f=0;f<y;++f)n[h[f].name]=o[f];(s=r.initializeFn)||(r.initializeFn=s=c.makeInitializeFn(r));s.$nullFn||r.initializeFn(i);(i.id=u=n[a])||u===0||(t?(e=t.getIdentifier(r),u=e.generate()):u=l===e?v:e.generate(),n[a]=i.id=u,i.phantom=!0);t&&t.add(i);i.init&&Ext.isFunction(i.init)&&i.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var n=this,t=n.modified,i=n.previousValues;n.editing||(n.editing=!0,n.editMemento={dirty:n.dirty,data:Ext.apply({},n.data),generation:n.generation,modified:t&&Ext.apply({},t),previousValues:i&&Ext.apply({},i)})},cancelEdit:function(){var n=this,t=n.editMemento;t&&(n.editing=!1,Ext.apply(n,t),n.editMemento=null)},endEdit:function(n,t){var i=this,r=i.editMemento;r&&(i.editing=!1,i.editMemento=null,i.previousValues=r.previousValues,n||(t||(t=i.getModifiedFieldNames(r.data)),(i.dirty||t&&t.length)&&i.callJoined("afterEdit",[t])))},getField:function(n){return this.self.getField(n)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(n){this.set(this.idProperty,n)},getPrevious:function(n){var t=this.previousValues;return t&&t[n]},isModified:function(n){var t=this.modified;return!!(t&&t.hasOwnProperty(n))},getModified:function(n){var t;return this.isModified(n)&&(t=this.modified[n]),t},get:function(n){return this.data[n]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(n,t,i){var r=this,rt=r.self,b=r.data,s=r.modified,ut=r.previousValues,k=r.session,v=Ext.isString(n),o=v?i:t,ft=o?o.convert!==!1:r.convertOnSet,at=r.fieldsMap,et=o&&o.silent,ot=o&&o.commit,vt=!(o&&o.refs===!1)&&k,st=!(o&&o.dirty===!1&&!ot),a=null,l,u,ht,ct,f,lt,w,d,g,nt,e=0,tt,it,y,p,h,c;v?(c=r._singleProp,c[n]=t):c=n;(y=rt.rankedFields)||(y=rt.rankFields());tt=y.length;do{for(f in c)if(h=c[f],l=b[f],w=r,u=at[f],u?(ft&&u.convert&&(h=u.convert(h,r)),w=u,p=u.reference):p=null,!w.isEqual(l,h)){if(b[f]=h,(a||(a=[])).push(f),(ut||(r.previousValues=ut={}))[f]=l,p&&p.cls){vt&&k.updateReference(r,u,h,l);p.onValueChange(r,k,h,l)}for(nt=(g=u&&u.dependents)&&g.length;nt-->0;)(d=g[nt]).dirty=!0,e=e?Math.min(e,d.rank):d.rank;(!u||u.persist)&&(s&&s.hasOwnProperty(f)?(!st||w.isEqual(s[f],h))&&(delete s[f],r.dirty=-1):st&&(s||(r.modified=s={}),r.dirty=!0,s[f]=l));f===r.idField.name&&(ht=!0,lt=l,it=h)}if(!e)break;for(u=y[e-1],u.dirty=!1,v?delete c[n]:(c=r._singleProp,v=!0),n=u.name,c[n]=b[n],ft=!0;e<tt;++e)if(y[e].dirty)break;e<tt?++e:e=0}while(1);if(r.dirty<0){r.dirty=!1;for(ct in s)if(s.hasOwnProperty(ct)){r.dirty=!0;break}}return v&&delete c[n],++r.generation,ht&&(r.id=it,r.callJoined("onIdChanged",[lt,it])),ot?r.commit(et,a):et||r.editing||!a||r.callJoined("afterEdit",[a]),a},reject:function(n){var t=this,i=t.modified;i&&t.set(i,t._rejectOptions);t.dropped=!1;t.clearState();n||t.callJoined("afterReject")},commit:function(n,t){var i=this,r=i.versionProperty,u=i.data,f;i.clearState();!r||i.phantom||isNaN(u[r])||++u[r];i.phantom=!1;i.dropped&&(i.erased=f=!0);n||(f?i.callJoined("afterErase"):i.callJoined("afterCommit",[t]))},clearState:function(){var n=this;n.dirty=n.editing=!1;n.editMemento=n.modified=null},drop:function(n){var t=this,i=t.associations,u=t.session,r;if(!t.erased&&!t.dropped){if(t.dropped=!0,i&&n!==!1)for(r in i)i[r].onDrop(t,u);t.callJoined("afterDrop");t.phantom&&t.setErased()}},join:function(n){var i=this,t=i.joined;t?t.length?Ext.Array.include(t,n):t[0]=n:t=i.joined=[n];n.isStore&&(i.store=i.store||n)},unjoin:function(n){var f=this,t=f.joined,i=t&&t.length,r=f.store,u;if(i===1&&t[0]===n?t.length=0:i&&Ext.Array.remove(t,n),r===n){if(r=null,t)for(u=0,i=t.length;u<i;++u)if(n=t[u],n.isStore){r=n;break}f.store=r}},clone:function(n){var t=this,r=t.modified,i=t.copy(t.id,n);return r&&(i.modified=Ext.apply({},r)),i.dirty=t.dirty,i.dropped=t.dropped,i.phantom=t.phantom,i},copy:function(n,t){var i=this,r=Ext.apply({},i.data),u=i.idProperty,f=i.self;return n||n===0?r[u]=n:n===null&&delete r[u],new f(r,t)},getProxy:function(){return this.self.getProxy()},getValidation:function(n){var i=this,t=i.validation;return t||(i.validation=t=new Ext.data.Validation,t.attach(i)),(n===!0||n!==!1&&t.syncGeneration!==i.generation)&&t.refresh(n),t},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var n=this.$className.split("."),t=n[n.length-1].toLowerCase();return t+"/"+this.getId()},erase:function(n){var t=this;return t.erasing=!0,t.drop(),t.erasing=!1,t.save(n)},setErased:function(){this.erased=!0;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var n=this.self,t=n.criticalFields;return t||(n.rankFields(),t=n.criticalFields),t},getAssociatedData:function(n,t){var r=this,v=r.associations,e,o,i,c,s,y,f,p,l,u,h,a;n=n||{};r.$gathering=1;t&&(t=Ext.Object.chain(t));for(l in v)if(p=v[l],i=p.getAssociatedItem(r),i&&!i.$gathering){if(i.isStore){for(i.$gathering=1,c=i.getData().items,y=c.length,s=[],o=0;o<y;++o)f=c[o],e=!f.$gathering,f.$gathering=1,t?(a=t.associated,a===undefined?(t.associated=e,h=!0):e||(t.associated=!1,h=!0),u=t):u=e?r._getAssociatedOptions:r._getNotAssociatedOptions,s.push(f.getData(u)),h&&(t.associated=a,h=!1),delete f.$gathering;delete i.$gathering}else u=t||r._getAssociatedOptions,t&&t.associated===undefined&&(u.associated=!0),s=i.getData(u);n[l]=s}return delete r.$gathering,n},getData:function(n){var t=this,f={},e=n===!0?t._getAssociatedOptions:n||f,o=t.data,v=e.associated,c=e.changes,y=c&&e.critical,l=c?t.modified:o,p=t.fieldsMap,w=e.persist,a=e.serialize,s,i,h,r,u;if(l)for(r in l){if(u=o[r],i=p[r],i){if(w&&!i.persist)continue;a&&i.serialize&&(u=i.serialize(u,t))}f[r]=u}if(y)for(s=t.self.criticalFields||t.getCriticalFields(),h=s.length;h-->0;)r=(i=s[h]).name,r in f||(u=o[r],a&&i.serialize&&(u=i.serialize(u,t)),f[r]=u);return v&&t.getAssociatedData(f,e),f},getTransientFields:function(){var n=this.self,t=n.transientFields;return t||(n.rankFields(),t=n.transientFields),t},isLoading:function(){return!!this.loadOperation},abort:function(){var n=this.loadOperation;n&&n.abort()},load:function(n){n=Ext.apply({},n);var t=this,r=n.scope||t,f=t.getProxy(),e=n.callback,i=t.loadOperation,o=t.getId(),u;return i?(u=i.extraCalls,u||(u=i.extraCalls=[]),u.push(n),i):(n.id=o,n.recordCreator=function(n,i,r){var u=t.session;return r&&(r.recordCreator=u?u.recordCreator:null),t.set(n,t._commitOptions),t},n.internalCallback=function(i){var o=i.wasSuccessful()&&i.getRecords().length>0,l=t.loadOperation,s=l.extraCalls,u=[t,i],h=[t,i,o],f,c;if(t.loadOperation=null,o?Ext.callback(n.success,r,u):Ext.callback(n.failure,r,u),Ext.callback(e,r,h),s)for(f=0,c=s.length;f<c;++f)n=s[f],o?Ext.callback(n.success,r,u):Ext.callback(n.failure,r,u),Ext.callback(n.callback,r,h);t.callJoined("afterLoad")},delete n.callback,t.loadOperation=i=f.createOperation("read",n),i.execute(),i)},save:function(n){n=Ext.apply({},n);var t=this,u=t.phantom,f=t.dropped,e=f?"destroy":u?"create":"update",r=n.scope||t,o=n.callback,s=t.getProxy(),i;return n.records=[t],n.internalCallback=function(i){var u=[t,i],f=i.wasSuccessful();f?Ext.callback(n.success,r,u):Ext.callback(n.failure,r,u);u.push(f);Ext.callback(o,r,u)},delete n.callback,i=s.createOperation(e,n),f&&u?(i.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),t.setErased(),i.setSuccessful(!0)):i.execute(),i},inheritableStatics:{addFields:function(n){this.replaceFields(n)},replaceFields:function(n,t){var r=this,l=r.prototype,v=Ext.data.field.Field,o=r.fields,c=r.fieldsMap,e=r.fieldOrdinals,f,i,s,h,u,a;if(t===!0)o.length=0,r.fieldsMap=c={},r.fieldOrdinals=e={};else if(t){for(i=t.length;i-->0;)u=t[i],u in e&&(delete e[u],delete c[u]);for(i=0,h=o.length;i<h;++i)u=(f=o[i]).name,u in e?e[u]=i:(o.splice(i,1),--i,--h)}for(i=0,h=n?n.length:0;i<h;i++)u=(f=n[i]).name,u in e||(e[u]=a=o.length,o.push(f=v.create(f)),c[u]=f,f.ordinal=a,f.definedBy=f.owner=this);r.idField=l.idField=s=c[l.idProperty];s.allowNull=s.critical=s.identifier=!0;s.defaultValue=null;r.initializeFn=r.rankedFields=r.transientFields=r.criticalFields=null},removeFields:function(n){this.replaceFields(null,n)},getIdFromData:function(n){var t=this,i=t.idField;return i.calculated?new t(n).id:n[i.name]},createWithId:function(n,t,i){var r=t,u=this;return(n||n===0)&&(r={},t&&Ext.apply(r,t),r[u.idField.name]=n),new u(r,i)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(n){return this.fieldsMap[n]||null},getProxy:function(){var t=this,n=t.proxy,i;return n||(n=t.proxyConfig,n&&n.isProxy||(typeof n=="string"&&(n={type:n}),i=t.schema.constructProxy(t),n=n?Ext.merge(i,n):i),n=t.setProxy(n)),n},setProxy:function(n){var t=this,i;return n&&(n.isProxy?(i=n.getModel(),i&&i!==t&&(n=n.clone())):n=Ext.Factory.proxy(n),n.setModel(t)),t.prototype.proxy=t.proxy=n},load:function(n,t,i){var u={},r;return u[this.prototype.idProperty]=n,r=new this(u,i),r.load(t),r}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(n,t){for(var u=this,r=u.stores,f=r.length,i=0;i<f;++i)n.call(t,r[i])},join:function(n){var t=this,i=t.stores,r=t.joined;r?r.push(n):r=t.joined=[n];n.isStore&&(t.store=t.store||n,i||(i=t.stores=[]),i.push(n))},unjoin:function(n){var t=this,r=t.stores,i=t.joined;i.length===1?i.length=0:Ext.Array.remove(i,n);n.isStore&&(Ext.Array.remove(r,n),t.store=r[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},copyFrom:function(n){var t=this,e=t.fields,c=e.length,o=[],s,u=0,f,h,l=t.idProperty,i,r;if(n){for(f=t.data,h=n.data;u<c;u++)s=e[u],i=s.name,i!==l&&(r=h[i],r===undefined||t.isEqual(f[i],r)||(f[i]=r,o.push(i)));t.phantom&&!n.phantom&&(t.beginEdit(),t.setId(n.getId()),t.endEdit(!0),t.commit(!0))}return o},callJoined:function(n,t){var r=this,u=r.joined,f=r.session,e,s,i,o;if(u||f){if(t?t.unshift(r):t=[r],u)for(e=0,s=u.length;e<s;++e)o=u[e],o&&(i=o[n])&&i.apply(o,t);i=f&&f[n];i&&i.apply(f,t)}},setSession:function(n){this.session=n;n&&n.add(this)},getModifiedFieldNames:function(n){var i=this,r=i.data,u=[],f=n||i.editMemento.data;for(var t in r)r.hasOwnProperty(t)&&(i.isEqual(r[t],f[t],t)||u.push(t));return u},isEqual:function(n,t,i){var r;return i&&(r=i.isField?i:this.fieldsMap[i],r)?r.compare(n,t)===0:n instanceof Date&&t instanceof Date?n.getTime()===t.getTime():n===t},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var i=this,e=i.prototype,o=i.fields,f=o.length,r=[],s=[],h=[],u,n,t;for(i.rankedFields=e.rankedFields=r,i.criticalFields=e.criticalFields=s,i.transientFields=e.transientFields=h,t=0;t<f;++t)n=o[t],n.critical&&s.push(n),n.persist||h.push(n),n.evil?(u||(u=[])).push(n):n.depends||(r.push(n),n.rank=r.length);for(t=0;t<f;++t)(n=o[t]).rank||n.evil||i.topoAdd(n);if(u)for(t=0,f=u.length;t<f;++t)r.push(n=u[t]),n.rank=r.length;return r},topoAdd:function(n){for(var r=this,u=n.depends,e=u?u.length:0,f=r.rankedFields,t,i=0;i<e;++i)t=r.fieldsMap[u[i]],(t.dependents||(t.dependents=[])).push(n),t.rank||r.topoAdd(t);f.push(n);n.rank=f.length},initFields:function(n,t,i){var k=Ext.data.field.Field,b=n.fields,o=[],h={},s={},d=i.fields,p=n.versionProperty||i.versionProperty,a=t.idProperty,f,r,u,v,c,e,y,l,w,g;if(t.fields=i.fields=o,t.fieldOrdinals=i.fieldOrdinals=h,t.fieldsMap=i.fieldsMap=s,t.references=i.references=[],d)for(u=0,v=d.length;u<v;++u)o[u]=r=Ext.Object.chain(d[u]),r.dependents=null,r.owner=t,h[c=r.name]=u,s[c]=r,r.rank=null,r.generated&&(l=r,w=r.name);if(b)for(delete n.fields,u=0,v=b.length;u<v;++u)r=b[u],y=r.reference,y&&typeof y!="string"&&(y=Ext.merge({},y)),r.$reference=y,r=k.create(b[u]),c=r.name,e=h[c],e===undefined&&(h[c]=e=o.length),s[c]=r,o[e]=r,r.definedBy=r.owner=t,r.ordinal=e,c===a&&(g=r);if(f=s[a],f){if(g&&l&&l.generated)for(Ext.Array.remove(o,l),delete s[w],delete h[w],s[a]=g,u=0,v=o.length;u<v;++u)r=o[u],o.ordinal=u,h[r.name]=u}else e=l&&l.generated?l.ordinal:o.length,delete s[w],delete h[w],f=new k(a),o[e]=f,h[a]=e,s[a]=f,f.definedBy=t,f.ordinal=e,f.generated=!0;f.allowNull=f.critical=f.identifier=!0;f.defaultValue=null;t.idField=i.idField=f;p&&(r=s[p],r||(e=o.length,r=new k({name:p,type:"int"}),o[e]=r,h[p]=e,s[p]=r,r.definedBy=t,r.ordinal=e,r.generated=!0),r.defaultValue=1,r.critical=!0)},initValidators:function(n,t,i){var l=i.validators,u,e,h,f,c,a,o,r,v,s;if(l){u={};for(e in l)u[e]=Ext.Array.clone(l[e])}if(f=n.validators||n.validations,f){if(delete n.validators,u=u||{},Ext.isArray(f)){for(h={},c=0,a=f.length;c<a;++c)s=f[c],r=s.field,h[r]||(h[r]=[]),s=s.fn||s,h[r].push(s);f=h}for(r in f)o=f[r],Ext.isArray(o)||(o=[o]),v=u[r],u[r]?Ext.Array.push(v,o):u[r]=o}if(u)for(r in u)e=t.getField(r),e&&e.setModelValidators(u[r]);t.validators=i.validators=u},initAssociations:function(n,t,i){var f=t.associations,e=t.belongsTo,o=t.hasMany,s=t.hasOne,c=t.manyToMany,r,u,h;if(delete t.manyToMany,c&&n.addMatrices(i,c),delete t.associations,delete t.belongsTo,delete t.hasMany,delete t.hasOne,f)for(f=Ext.isArray(f)?f:[f],r=0,u=f.length;r<u;++r){h=f[r];switch(h.type){case"belongsTo":n.addLegacyBelongsTo(i,h);break;case"hasMany":n.addLegacyHasMany(i,h);break;case"hasOne":n.addLegacyHasOne(i,h)}}if(e)for(e=Ext.isArray(e)?e:[e],r=0,u=e.length;r<u;++r)n.addLegacyBelongsTo(i,e[r]);if(o)for(o=Ext.isArray(o)?o:[o],r=0,u=o.length;r<u;++r)n.addLegacyHasMany(i,o[r]);if(s)for(s=Ext.isArray(s)?s:[s],r=0,u=s.length;r<u;++r)n.addLegacyHasOne(i,s[r]);n.afterLegacyAssociations(i)},initIdentifier:function(n,t,i){var u=n.identifier||n.idgen,r=i.identifier||t.schema._defaultIdentifier,f;u?(delete n.identifier,delete n.idgen,u=Ext.Factory.dataIdentifier(u)):r&&(u=r.clone&&!r.getId()?r.clone():r.isGenerator?r:Ext.Factory.dataIdentifier(r));t.identifier=i.identifier=u;u||(f=t.entityName,f||(f=Ext.id(null,"extModel")),t.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:f+"-"}))},findValidator:function(n,t,i){var o=i.type||i,u=n[t],e,r,f;if(u)for(r=0,e=u.length;r<e;++r)if(f=u[r],f.type===o)return f;return null},makeInitializeFn:function(n){var t=["var "],f=["\nreturn function (e) {\n    var data = e.data, v;\n"],p=[],a=0,s,h,c,r,v,e,o,u,l,i,y;for((o=n.rankedFields)||(o=n.rankFields()),i=0,y=o.length;i<y;++i)e=o[i],p[i]=u="f"+i,c=e.convert,i&&t.push(",  \n    "),t.push(u," = $fields["+i+"]"),((l=e.defaultValue!==undefined)||c)&&(r='data["'+e.name+'"]',++a,s=h="",e.cloneDefaultValue&&(s="Ext.clone(",h=")"),f.push("\n"),c&&l?f.push("    v = ",r,";\n    if (v !== undefined) {\n        v = ",u,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",s,u,".defaultValue",h,";\n    }\n    ",r," = v;"):c?f.push("    v = ",u,".convert(",r,",e);\n    if (v !== undefined) {\n        ",r," = v;\n    }\n"):l&&f.push("    if (",r," === undefined) {\n        ",r," = ",s,u,".defaultValue",h,";\n    }\n"));return a?(t.push(";\n"),t.push.apply(t,f),t.push("}"),t=t.join(""),v=new Function("$fields",t),v(o)):Ext.emptyFn}}}},1,0,0,0,0,0,[Ext.data,"Model",Ext.data,"Record"],function(){var n=this,t=n.prototype,i=Ext.data.schema.Schema,r;n.proxyConfig=t.proxy;delete t.proxy;n.fields=[];n.fieldsMap=t.fieldsMap={};n.schema=t.schema=i.get(t.schema);t.idField=new Ext.data.field.Field(t.idProperty);n.identifier=new Ext.data.identifier.Sequential;n.onExtended(function(t,u){var f=t.prototype,c=u.schema,h=f.superclass.self,e,o,s;t.idProperty=u.idProperty||f.idProperty;c?(delete u.schema,e=i.get(c)):(e=f.schema)||(e=r||(r=i.get("default")));t.rankFields=n.rankFields;t.topoAdd=n.topoAdd;f.schema=t.schema=e;(o=u.entityName)||(f.entityName=o=e.getEntityName(t));t.entityName=o;t.fieldExtractors={};n.initIdentifier(u,t,f);n.initFields(u,t,f);n.initValidators(u,t,f);t.fields.items=t.fields;o&&(e.addEntity(t),n.initAssociations(e,u,t));s=u.proxy;s?delete u.proxy:h!==n&&(s=h.proxyConfig||h.proxy);t.proxyConfig=s})});Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null},constructor:function(n){this.initConfig(n)},applyCount:function(n){return!n&&n!==0?this.getRecords().length:n},updateRecords:function(n){this.setCount(n.length)}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0);Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null},isReader:!0,constructor:function(n){n&&n.hasOwnProperty("root")&&(n=Ext.apply({},n),n.rootProperty=n.root,delete n.root);var t=this;t.duringInit=1;t.mixins.observable.constructor.call(t,n);--t.duringInit;t.buildExtractors()},applyModel:function(n){return Ext.data.schema.Schema.lookupEntity(n)},applyTransform:function(n){return n?(Ext.isFunction(n)&&(n={fn:n}),n.fn.bind(n.scope||this)):n},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(n,t){var r,i;if(n)if(n.responseText){if(i=this.getResponseData(n),i&&i.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i.msg});r=this.readRecords(i,t)}else r=this.readRecords(n,t);return r||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(n){return{__$isError:!0,msg:n}},readRecords:function(n,t){var i=this,f,e,o,u,s,r,c,h;return h=this.getTransform(),h&&(n=h(n)),i.buildExtractors(),i.rawData=n,n=i.getData(n),f=!0,e=0,o=[],i.getSuccessProperty()&&(r=i.getSuccess(n),(r===!1||r==="false")&&(f=!1)),i.getMessageProperty()&&(c=i.getMessage(n)),(i.getReadRecordsOnFailure()||f)&&(u=Ext.isArray(n)?n:i.getRoot(n),u&&(s=u.length),i.getTotalProperty()&&(r=parseInt(i.getTotal(n),10),isNaN(r)||(s=r)),u&&(o=i.extractData(u,t),e=o.length)),new Ext.data.ResultSet({total:s||e,count:e,records:o,success:f,message:c})},extractData:function(n,t){var r=this,o=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):r.getModel(),c=o.schema,v=c.hasAssociations(o)&&r.getImplicitIncludes(),y=r.getFieldExtractorInfo(o.fieldExtractors),s=n.length,l=new Array(s),a=r.getTypeProperty(),h,u,f,i,e;for(!s&&Ext.isObject(n)&&(n=[n],s=1),e=0;e<s;e++)i=n[e],i.isModel||(u=i,a&&(f=r.getChildType(c,u,a))?(h=f.getProxy().getReader(),i=h.extractRecord(u,t,f,c.hasAssociations(f)&&h.getImplicitIncludes(),h.getFieldExtractorInfo(f.fieldExtractors))):i=r.extractRecord(u,t,o,v,y),i.isModel&&(i.raw=u)),i.onLoad&&i.onLoad(),l[e]=i;return l},getChildType:function(n,t,i){var r;switch(typeof i){case"string":return n.getEntity(t[i]);case"object":return r=i.namespace,n.getEntity((r?r+".":"")+t[i.name]);case"function":return n.getEntity(i(t))}},extractRecordData:function(n,t){var i=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):this.getModel(),r=this.getFieldExtractorInfo(i.fieldExtractors);return this.extractRecord(n,t,i,!1,r)},extractRecord:function(n,t,i,r,u){var f=this,s=t&&t.recordCreator||f.defaultRecordCreator,o,e;return o=f.extractModelData(n,u),e=s.call(f,o,i||f.getModel(),t),r&&e.isModel&&f.readAssociated(e,n,t),e},getFieldExtractorInfo:function(n){if(n){var i=this.$className,t=n[i];return t===undefined&&(n[i]=t=this.buildFieldExtractors()),t}},buildFieldExtractors:function(){for(var u=this.getFields(),h=u.length,t=[],f=[],e=null,o=0,i,s,r,n=0;n<h;++n)i=u[n],r=this.createFieldAccessor(i),r&&(s=i.name,t.push("val = extractors["+o+"](raw); if (val !== undefined) { data['"+s+"'] = val; }"),f.push(r),++o);return t.length&&(e={extractors:f,fn:new Function("raw","data","extractors","var val;"+t.join(""))}),e},defaultRecordCreator:function(n,t){var i=new t(n);return i.phantom=!1,i},getModelData:function(){return{}},extractModelData:function(n,t){var i=this.getModelData(n),r;return t&&(r=t.fn,r(n,i,t.extractors)),i},readAssociated:function(n,t,i){var r=n.associations,u,f;for(u in r)r.hasOwnProperty(u)&&(f=r[u],f.cls&&f.read(n,t,this,i))},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(){},onMetaChange:function(n){var t=this,e=n.fields,r,u,i,f;t.metaData=n;n.root&&t.setRootProperty(n.root);n.totalProperty&&t.setTotalProperty(n.totalProperty);n.successProperty&&t.setSuccessProperty(n.successProperty);n.messageProperty&&t.setMessageProperty(n.messageProperty);i=n.clientIdProperty;e?(u=Ext.define(null,{extend:"Ext.data.Model",fields:e,clientIdProperty:i}),t.setModel(u),f=t.getProxy(),f&&f.setModel(u)):i&&(r=t.getModel(),r&&(r.self.prototype.clientIdProperty=i))},buildExtractors:function(n){var t=this,i,r,u;if(n||!t.hasExtractors)return i=t.getTotalProperty(),r=t.getSuccessProperty(),u=t.getMessageProperty(),i&&(t.getTotal=t.getAccessor(i)),r&&(t.getSuccess=t.getAccessor(r)),u&&(t.getMessage=t.getAccessor(u)),t.hasExtractors=!0,!0},getAccessor:function(n){var i=this,u=i.extractorCache,t,r;return typeof n=="string"?(r=i.getAccessorKey(n),t=u.get(r),t||(t=i.createAccessor(n),u.add(r,t))):t=i.createAccessor(n),t},getAccessorKey:function(n){return this.$className+n},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var n=this;delete n.model;delete n.getTotal;delete n.getSuccess;delete n.getMessage},privates:{copyFrom:function(n){var t=this;n.buildExtractors();t.getTotal=n.getTotal;t.getSuccess=n.getSuccess;t.getMessage=n.getMessage;++t.duringInit;t.setConfig(n.getConfig());--t.duringInit;t.hasExtractors=!0}}},1,0,0,0,["reader.base"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(n){var t=n.prototype;Ext.apply(t,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})});t.extractorCache=new Ext.util.LruCache});Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(n){this.initConfig(n)},applyTransform:function(n){return n?(Ext.isFunction(n)&&(n={fn:n}),n.fn.bind(n.scope||this)):n},write:function(n){for(var i=n.getOperation(),r=i.getRecords()||[],f=r.length,u=[],t=0;t<f;t++)u.push(this.getRecordData(r[t],i));return this.writeRecords(n,u)},writeRecords:Ext.emptyFn,getRecordData:function(n,t){var u=this,h=u.getNameProperty(),c=h!=="name",s=n.self.idField,r=s[h]||s.name,i=n.id,p=u.getWriteAllFields(),f,l,a,v,y,w,e,o;if(s.serialize&&(i=s.serialize(i)),!p&&t&&t.isDestroyOperation)f={},f[r]=i;else{l=u.getDateFormat();a=n.phantom;v=a||p?u.getAllDataOptions():u.getPartialDataOptions();y=a&&u.getClientIdProperty();w=n.getFieldsMap();v.serialize=!1;e=n.getData(v);f=c?{}:e;y?(f[y]=i,delete e[r]):u.getWriteRecordId()||delete e[r];for(r in e)i=e[r],(o=w[r])?(o.isDateField&&l&&Ext.isDate(i)?i=Ext.Date.format(i,l):o.serialize&&(i=o.serialize(i,n)),c&&(r=o[h]||r),f[r]=i):c&&(f[r]=i)}return f}},1,0,0,0,["writer.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0);Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{$configPrefixed:!1,alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(n){this.mixins.observable.constructor.call(this,n)},applyModel:function(n){return Ext.data.schema.Schema.lookupEntity(n)},updateModel:function(n){if(n){var t=this.getReader();t&&!t.getModel()&&t.setModel(n)}},applyReader:function(n){return Ext.Factory.reader(n)},updateReader:function(n){if(n){var i=this,t=i.getModel();t?n.setModel(t):(t=n.getModel(),t&&i.setModel(t));n.onMetaChange&&(n.onMetaChange=Ext.Function.createSequence(n.onMetaChange,i.onMetaChange,i))}},applyWriter:function(n){var t=this.getReader();return n=Ext.Factory.writer(n),n.getRecord&&!n.getRecord()&&t&&t.getRecord&&(t=t.getRecord(),t&&n.setRecord(t)),n},abort:Ext.emptyFn,onMetaChange:function(n){this.fireEvent("metachange",this,n)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(n,t){var i=this,a=i.getBatchActions(),r,u,s,h,f,e,o,c,l;n.operations===undefined&&(n={operations:n,listeners:t});n.batch?Ext.isDefined(n.batch.runOperation)&&(r=Ext.applyIf(n.batch,{proxy:i,listeners:{}})):n.batch={proxy:i,listeners:n.listeners||{}};r||(r=new Ext.data.Batch(n.batch));r.on("complete",Ext.bind(i.onBatchComplete,i,[n],0));for(s=i.getBatchOrder().split(","),h=s.length,e=0;e<h;e++)if(f=s[e],u=n.operations[f],u)if(a)r.add(i.createOperation(f,{records:u,params:n.params}));else for(c=u.length,o=0;o<c;o++)l=u[o],r.add(i.createOperation(f,{records:[l],params:n.params}));return r.start(),r},onBatchComplete:function(n,t){var i=n.scope||this;t.hasException()?Ext.isFunction(n.failure)&&Ext.callback(n.failure,i,[t,n]):Ext.isFunction(n.success)&&Ext.callback(n.success,i,[t,n]);Ext.isFunction(n.callback)&&Ext.callback(n.callback,i,[t,n])},createOperation:function(n,t){var i=Ext.createByAlias("data.operation."+n,t);return i.setProxy(this),i},clone:function(){return new this.self(this.getInitialConfig())}},1,0,0,0,["proxy.proxy"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0);Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0);Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:{$value:null,merge:function(n){return Ext.isArray(n)?Ext.Array.clone(n):Ext.clone(n)}}},finishOperation:function(n){var t=0,i=n.getRecords(),r=i.length;for(t;t<r;t++)i[t].commit();n.setSuccessful(!0)},create:function(n){this.finishOperation(n)},update:function(n){this.finishOperation(n)},erase:function(n){this.finishOperation(n)},read:function(n){var f=this,t=f.getReader().read(f.getData()),r=t.getRecords(),i=n.getSorters(),o=n.getGrouper(),e=n.getFilters(),u=n.getStart(),s=n.getLimit();n.process(t,null,null,!1)!==!1&&(e&&e.length&&(t.setRecords(r=Ext.Array.filter(r,Ext.util.Filter.createFilterFn(e))),t.setTotal(r.length)),o&&(i=i?i.concat(o):i),i&&i.length&&t.setRecords(r=Ext.Array.sort(r,Ext.util.Sortable.createComparator(i))),f.getEnablePaging()&&u!==undefined&&s!==undefined&&(u>=t.getTotal()?t.setConfig({success:!1,records:[],total:0}):t.setRecords(Ext.Array.slice(r,u,u+s))),n.setCompleted())},clear:Ext.emptyFn},0,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0);Ext.cmd.derive("Ext.data.ProxyStore",Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,autoLoadDelay:1},onClassExtended:function(n,t,i){var r=t.model,u;typeof r=="string"&&(u=i.onBeforeCreated,i.onBeforeCreated=function(){var n=this,t=arguments;Ext.require(r,function(){u.apply(n,t)})})},implicitModel:!1,blockLoadCounter:0,loadsWhileBlocked:0,autoSyncSuspended:0,constructor:function(){var n=this;n.removed=[];n.blockLoad();Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);n.unblockLoad()},updateAutoLoad:function(n){var t=this,i;t.getData();n&&(i=t.loadTask||(t.loadTask=new Ext.util.DelayedTask(null,null,null,null,!1)),i.delay(t.autoLoadDelay,t.attemptLoad,t,Ext.isObject(n)?[n]:undefined))},getTotalCount:function(){return this.totalCount||0},applyFields:function(n){var i=this,r,t;n&&(i.implicitModel=!0,i.setModel(r=Ext.define(null,{extend:"Ext.data.Model",fields:n,proxy:t=i.getProxy()})),t&&!t.getModel()&&t.setModel(r))},applyModel:function(n){return n?n=Ext.data.schema.Schema.lookupEntity(n):(this.getFields(),n=this.getModel()),n},applyProxy:function(n){var t=this.getModel();return n!==null&&(n?n.isProxy?n.setModel(t):(Ext.isString(n)?n={type:n,model:t}:n.model||(n=Ext.apply({model:t},n)),n=Ext.createByAlias("proxy."+n.type,n),n.autoCreated=!0):t&&(n=t.getProxy()),n||(n=Ext.createByAlias("proxy.memory"),n.autoCreated=!0)),n},updateProxy:function(n,t){var i=this,r={scope:i,beginprocessresponse:i.beginUpdate,endprocessresponse:i.endUpdate};if(i.disableMetaChangeEvent||(r.metachange=i.onMetaChange),t&&t.un(r),n)n.on(r)},updateTrackRemoved:function(n){this.cleanRemoved();this.removed=n?[]:null},onMetaChange:function(n,t){this.fireEvent("metachange",this,t)},create:function(n,t){var i=this,u=new i.model(n),f=i.getProxy(),r;return t=Ext.apply({},t),t.records||(t.records=[u]),t.internalScope=i,t.internalCallback=i.onProxyWrite,r=f.createOperation("create",t),r.execute()},read:function(){return this.load.apply(this,arguments)},update:function(n){var t=this,r=t.getProxy(),i;return n=Ext.apply({},n),n.records||(n.records=t.getUpdatedRecords()),n.internalScope=t,n.internalCallback=t.onProxyWrite,i=r.createOperation("update",n),i.execute()},onProxyWrite:function(n){var t=this,i=n.wasSuccessful(),r=n.getRecords();switch(n.getAction()){case"create":t.onCreateRecords(r,n,i);break;case"update":t.onUpdateRecords(r,n,i);break;case"destroy":t.onDestroyRecords(r,n,i)}i&&(t.fireEvent("write",t,n),t.fireEvent("datachanged",t))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(n,t,i){i&&this.cleanRemoved()},erase:function(n){var t=this,r=t.getProxy(),i;return n=Ext.apply({},n),n.records||(n.records=t.getRemovedRecords()),n.internalScope=t,n.internalCallback=t.onProxyWrite,i=r.createOperation("destroy",n),i.execute()},onBatchOperationComplete:function(n,t){return this.onProxyWrite(t)},onBatchComplete:function(n){var t=this,r=n.operations,u=r.length,i;if(t.batchUpdateMode!=="operation"){for(t.suspendEvents(),i=0;i<u;i++)t.onProxyWrite(r[i]);t.resumeEvents()}t.isSyncing=!1;t.fireEvent("datachanged",t)},onBatchException:function(){},filterNew:function(n){return n.phantom===!0&&n.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(n){return n.dirty===!0&&n.phantom!==!0&&n.isValid()},getRemovedRecords:function(){return this.removed},sync:function(n){var t=this,i={},u=t.getNewRecords(),f=t.getUpdatedRecords(),e=t.getRemovedRecords(),r=!1;return t.needsSync=!1,u.length>0&&(i.create=u,r=!0),f.length>0&&(i.update=f,r=!0),e.length>0&&(i.destroy=e,r=!0),r&&t.fireEvent("beforesync",i)!==!1&&(t.isSyncing=!0,n=n||{},t.proxy.batch(Ext.apply(n,{operations:i,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var n=this,t={scope:n,exception:n.onBatchException,complete:n.onBatchComplete};return n.batchUpdateMode==="operation"&&(t.operationcomplete=n.onBatchOperationComplete),t},save:function(){return this.sync.apply(this,arguments)},load:function(n){if(!this.isLoadBlocked()){var t=this,f=t.getProxy(),i={internalScope:t,internalCallback:t.onProxyLoad},r,u;if(t.getRemoteFilter()&&(r=t.getFilters(),r.getCount()&&(i.filters=r.getRange())),t.getRemoteSort()&&(u=t.getSorters(),u.getCount()&&(i.sorters=u.getRange()),t.fireEvent("beforesort",t,i.sorters)),Ext.apply(i,n),i.scope=i.scope||t,t.lastOptions=i,i=f.createOperation("read",i),t.fireEvent("beforeload",t,i)!==!1){t.onBeforeLoad(i);t.loading=!0;t.clearLoadTask();i.execute()}return t}},reload:function(n){var t=Ext.apply({},n,this.lastOptions);return this.load(t)},onEndUpdate:function(){var n=this;n.needsSync&&n.autoSync&&!n.autoSyncSuspended&&n.sync()},afterReject:function(n){var t=this;if(t.contains(n)){t.onUpdate(n,Ext.data.Model.REJECT,null);t.fireEvent("update",t,n,Ext.data.Model.REJECT,null)}},afterCommit:function(n,t){var i=this;if(t||(t=null),i.contains(n)){i.onUpdate(n,Ext.data.Model.COMMIT,t);i.fireEvent("update",i,n,Ext.data.Model.COMMIT,t)}},afterErase:function(n){this.onErase(n)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var n=this,t=n.getProxy();n.blockLoad();n.clearData();n.setProxy(null);t.autoCreated&&t.destroy();n.setModel(null)},hasPendingLoad:function(){return!!this.loadTask||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(n){var t=this;t.autoSyncSuspended&&!--t.autoSyncSuspended&&n&&t.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{attemptLoad:function(n){if(this.isLoadBlocked()){++this.loadsWhileBlocked;return}this.load(n)},blockLoad:function(){++this.blockLoadCounter},clearLoadTask:function(){var n=this.loadTask;n&&(n.cancel(),this.loadTask=null)},cleanRemoved:function(){var n=this.removed,i,t;if(n){for(t=0,i=n.length;t<i;++t)n[t].unjoin(this);n.length=0}},isLoadBlocked:function(){return!!this.blockLoadCounter},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(n){var t=this.removed;t&&(Ext.Array.remove(t,n),n.unjoin(this))},unblockLoad:function(n){var t=this,i=t.loadsWhileBlocked;--t.blockLoadCounter;t.blockLoadCounter||(t.loadsWhileBlocked=0,n&&i&&t.load())}}},1,0,0,0,0,0,[Ext.data,"ProxyStore"],0);Ext.cmd.derive("Ext.data.LocalStore",Ext.Mixin,{mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(n){var t,i=this.getData();i.setExtraKeys(n);n=i.getExtraKeys();for(t in n)this[t]=n[t]},add:function(n){return this.insert(this.getCount(),arguments.length===1?n:arguments)},constructDataCollection:function(){var n=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),t;return this.byInternalId=n.byInternalId,t=n.getSorters(),t.setSorterConfigure(this.addFieldTransform,this),n},createModel:function(n){var i=this.getSession(),t;return n.isModel||(t=this.getModel(),n=new t(n,i)),n},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(n){return this.indexOf(n)>-1},each:function(n,t){for(var u=this.data.items,f=u.length,r,i=0;i<f;++i)if(r=u[i],n.call(t||r,r,i,f)===!1)break},collect:function(n,t,i){var u=this,r=u.getData();return i===!0&&r.filtered&&(r=r.getSource()),r.collect(n,"data",t)},getById:function(n){var t=this.getData();return t.filtered&&(t=t.getSource()),t.get(n)||null},getByInternalId:function(n){var t=this.getData();return t.filtered&&(t=t.getSource()),t.byInternalId.get(n)||null},indexOf:function(n){return this.getData().indexOf(n)},indexOfId:function(n){return this.indexOf(this.getById(n))},insert:function(n,t){var u=this,r,i;if(t&&(t=Ext.isIterable(t)?Ext.Array.clone(t):[t],r=t.length),!r)return[];for(i=0;i<r;++i)t[i]=u.createModel(t[i]);return u.getData().insert(n,t),t},queryBy:function(n,t){var i=this.getData();return(i.getSource()||i).createFiltered(n,t)},query:function(n,t,i,r,u){var f=this.getData();return(f.getSource()||f).createFiltered(n,t,i,r,u)},first:function(n){return this.getData().first(n)||null},last:function(n){return this.getData().last(n)||null},sum:function(n,t){var i=this.getData();return t&&this.isGrouped()?i.sumByGroup(n):i.sum(n)},count:function(n){var t=this.getData();return n&&this.isGrouped()?t.countByGroup():t.count()},min:function(n,t){var i=this.getData();return t&&this.isGrouped()?i.minByGroup(n):i.min(n)},max:function(n,t){var i=this.getData();return t&&this.isGrouped()?i.maxByGroup(n):i.max(n)},average:function(n,t){var i=this.getData();return t&&this.isGrouped()?i.averageByGroup(n):i.average(n)},aggregate:function(n,t,i,r){var u=this,e,h,o,s,f;if(i&&u.isGrouped()){for(e=u.getGroups().items,h=e.length,o={},f=0;f<h;++f)s=e[f],o[s.getGroupKey()]=u.getAggregate(n,t||u,s.items,r);return o}return u.getAggregate(n,t,u.getData().items,r)},getAggregate:function(n,t,i,r){for(var f=[],e=i.length,u=0;u<e;++u)f[u]=i[u].get(r);return n.call(t||this,i,f)},addObserver:function(n){var t=this.observers;t||(this.observers=t=new Ext.util.Collection);t.add(n)},removeObserver:function(n){var t=this.observers;t&&t.remove(n)},callObservers:function(n,t){var e=this.observers,o,u,i,f,r;if(e)for(u=e.items,t?t.unshift(this):t=[this],i=0,o=u.length;i<o;++i)r=u[i],f="onSource"+n,r[f]&&r[f].apply(r,t)},queryRecordsBy:function(n,t){var i=this.getData(),f=[],e,r,u;for(i=(i.getSource()||i).items,t=t||this,r=0,e=i.length;r<e;++r)u=i[r],n.call(t,u)===!0&&f.push(u);return f},queryRecords:function(n,t){var i=this.getData(),f=[],e,r,u;for(i=(i.getSource()||i).items,r=0,e=i.length;r<e;++r)u=i[r],u.get(n)===t&&f.push(u);return f},privates:{isLast:function(n){return n===this.last()}}},0,0,0,0,0,0,[Ext.data,"LocalStore"],0);Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(n,t){this.getExtraParams()[n]=t},buildRequest:function(n){var t=this,e=Ext.apply({},n.getParams()),r=Ext.applyIf(e,t.getExtraParams()||{}),i,u,f;return Ext.applyIf(r,t.getParams(n)),u=n.getId(),f=t.getIdParam(),u!==undefined&&r[f]===undefined&&(r[f]=u),i=new Ext.data.Request({params:r,action:n.getAction(),records:n.getRecords(),url:n.getUrl(),operation:n,proxy:t}),i.setUrl(t.buildUrl(i)),n.setRequest(i),i},processResponse:function(n,t,i,r){var u=this,f,e,o;u.fireEvent("beginprocessresponse",u,r,t);n===!0?(e=u.getReader(),o=r.status===204?e.getNullResultSet():e.read(u.extractResponseData(r),{recordCreator:t.getRecordCreator()}),t.process(o,i,r),f=!t.wasSuccessful()):(u.setException(t,r),f=!0);f&&u.fireEvent("exception",u,r,t);u.afterRequest(i,n);u.fireEvent("endprocessresponse",u,r,t)},setException:function(n,t){n.setException({status:t.status,statusText:t.statusText,response:t})},extractResponseData:Ext.identityFn,applyEncoding:function(n){return Ext.encode(n)},encodeSorters:function(n,t){for(var r=[],u=n.length,i=0;i<u;i++)r[i]=n[i].serialize();return this.applyEncoding(t?r[0]:r)},encodeFilters:function(n){for(var i=[],r=n.length,t=0;t<r;t++)i[t]=n[t].serialize();return this.applyEncoding(i)},getParams:function(n){if(!n.isReadOperation)return{};var t=this,i={},u=n.getGrouper(),r=n.getSorters(),e=n.getFilters(),l=n.getPage(),o=n.getStart(),a=n.getLimit(),b=t.getSimpleSortMode(),k=t.getSimpleGroupMode(),v=t.getPageParam(),y=t.getStartParam(),p=t.getLimitParam(),s=t.getGroupParam(),d=t.getGroupDirectionParam(),h=t.getSortParam(),w=t.getFilterParam(),g=t.getDirectionParam(),c,f;return v&&l&&(i[v]=l),y&&(o||o===0)&&(i[y]=o),p&&a&&(i[p]=a),c=s&&u,c&&(k?(i[s]=u.getProperty(),i[d]=u.getDirection()):i[s]=t.encodeSorters([u],!0)),h&&r&&r.length>0&&(b?(f=0,r.length>1&&c&&(f=1),i[h]=r[f].getProperty(),i[g]=r[f].getDirection()):i[h]=t.encodeSorters(r)),w&&e&&e.length>0&&(i[w]=t.encodeFilters(e)),i},buildUrl:function(n){var t=this,i=t.getUrl(n);return t.getNoCache()&&(i=Ext.urlAppend(i,Ext.String.format("{0}={1}",t.getCacheString(),Ext.Date.now()))),i},getUrl:function(n){var t;return n&&(t=n.getUrl()||this.getApi()[n.getAction()]),t?t:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}},0,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0);Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:undefined,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(n){var t=this,f=t.getWriter(),i=t.buildRequest(n),e=t.getMethod(i),r,u;return f&&n.allowWrite()&&(i=f.write(i)),i.setConfig({binary:t.getBinary(),headers:t.getHeaders(),timeout:t.getTimeout(),scope:t,callback:t.createRequestCallback(i,n),method:e,useDefaultXhrHeader:t.getUseDefaultXhrHeader(),disableCaching:!1}),e.toUpperCase()!=="GET"&&t.getParamsAsJson()&&(u=i.getParams(),u&&(r=i.getJsonData(),r=r?Ext.Object.merge({},r,u):u,i.setJsonData(r),i.setParams(undefined))),t.getWithCredentials()&&(i.setWithCredentials(!0),i.setUsername(t.getUsername()),i.setPassword(t.getPassword())),t.sendRequest(i)},sendRequest:function(n){return n.setRawRequest(Ext.Ajax.request(n.getCurrentConfig())),this.lastRequest=n,n},abort:function(n){n=n||this.lastRequest;n&&Ext.Ajax.abort(n.getRawRequest())},getMethod:function(n){var t=this.getActionMethods(),i=n.getAction(),r;return t&&(r=t[i]),r||this.defaultActionMethods[i]},createRequestCallback:function(n,t){var i=this;return function(r,u,f){n===i.lastRequest&&(i.lastRequest=null);i.processResponse(u,t,n,f)}}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],0);Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(n,t){var i=this,r;if(i.getMeta){if(r=i.getMeta(n),r)i.onMetaChange(r)}else if(n.metaData)i.onMetaChange(n.metaData);return Ext.data.reader.Reader.prototype.readRecords.call(this,n,t)},getResponseData:function(n){try{return Ext.decode(n.responseText)}catch(t){return Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.createReadError(t.message)}},buildExtractors:function(){var n=this,t,i;Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)&&(t=n.getMetaProperty(),i=n.getRootProperty(),n.getRoot=i?n.getAccessor(i):Ext.identityFn,t&&(n.getMeta=n.getAccessor(t)))},extractData:function(n,t){var f=this.getRecord(),u=[],r,i;if(f)for(r=n.length,!r&&Ext.isObject(n)&&(r=1,n=[n]),i=0;i<r;i++)u[i]=n[i][f];else u=n;return Ext.data.reader.Reader.prototype.extractData.call(this,u,t)},getModelData:function(n){return this.getPreserveRawData()?Ext.apply({},n):n},createAccessor:function(){var n=/[\[\.]/;return function(t){var b=this,v=b.getUseSimpleAccessors(),y,u,s,h,i,f,p,c,e,l,r,o,a,w;if(t||t===0){if(typeof t=="function")return t;if(v||(y=String(t).search(n)),v===!0||y<0)u=function(n){return n[t]};else{for(s="raw",h=[],i="",f=0,w=t.length,o=0;o<=w;++o)r=t[o],p=r===".",c=r==="[",e=r==="]",l=p||c||e||!r,!l||f>1||f&&!e?i+=r:l&&(a=!1,c?++f:e&&(--f,a=!0),i&&(i=a?"["+i+"]":"."+i,s+=i,h.push(""+s),i=""));u=h.join(" && ");u=Ext.functionFactory("raw","return "+u)}return u}}}(),createFieldAccessor:function(n){var i=this,t=n.mapping,r=t||t===0,u=r?t:n.name;if(r)return typeof u=="function"?function(t){return n.mapping(t,i)}:i.createAccessor(u)},getAccessorKey:function(n){var t=this.getUseSimpleAccessors()?"simple":"";return this.$className+t+n},privates:{copyFrom:function(n){Ext.data.reader.Reader.prototype.copyFrom.call(this,n);this.getRoot=n.getRoot}}},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0);Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",config:{rootProperty:undefined,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(n){for(var o=n.length,e=0,t,r,i,u,f,s=function(n,t){var i={};return i[n]=t,i};e<o;e++){t=n[e];for(r in t)if(t.hasOwnProperty(r)&&(i=r.split("."),u=i.length-1,u>0)){for(f=t[r];u>0;u--)f=s(i[u],f);t[i[0]]=t[i[0]]||{};Ext.Object.merge(t[i[0]],f);delete t[r]}}return n},writeRecords:function(n,t){var i=this,r=i.getRootProperty(),u,e,f;return i.getExpandData()&&(t=i.getExpandedData(t)),i.getAllowSingle()&&t.length===1&&(t=t[0],e=!0),f=this.getTransform(),f&&(t=f(t,n)),i.getEncode()?r&&n.setParam(r,Ext.encode(t)):(e||t&&t.length)&&(u=n.getJsonData()||{},r?u[r]=t:u=t,n.setJsonData(u)),n}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0);Ext.cmd.derive("Ext.util.Group",Ext.util.Collection,{config:{groupKey:null},$endUpdatePriority:2001},0,0,0,0,0,0,[Ext.util,"Group"],0);Ext.cmd.derive("Ext.util.SorterCollection",Ext.util.Collection,{isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(n){var t=this;t.sortFn=Ext.util.Sorter.createComparator(t);Ext.util.Collection.prototype.constructor.call(this,n);t.setDecoder(t.decodeSorter)},addSort:function(n,t,i){var r=this,u,h,c,e,o,s,f;n?(e=r.getOptions(),n instanceof Array?(f=n,i=t,t=null):Ext.isString(n)?f=(s=r.get(n))?[s]:[{property:n,direction:t||e.getDefaultSortDirection()}]:Ext.isFunction(n)?f=[{sorterFn:n,direction:t||e.getDefaultSortDirection()}]:(f=[n],i=t,t=null),i=r._sortModes[i||"replace"],o=r.getAt(0),u=r.length,h=i.append?u:0,r.beginUpdate(),r.splice(h,i.replace?u:0,f),i.multi&&(u=r.length,c=e.getMultiSortLimit(),u>c&&r.removeAt(c,u)),s&&t?s.setDirection(t):h===0&&o&&o===r.getAt(0)&&o.toggle(),r.endUpdate()):(r.beginUpdate(),r.endUpdate())},getSortFn:function(){return this.sortFn},getByProperty:function(n){for(var r=this.items,u=r.length,i,t=0;t<u;++t)if(i=r[t],i.getProperty()===n)return i;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(n,t){var r=this,e=r.getOptions(),o=e.getRootProperty(),s=r.getSorterOptionsFn(),u,i,f;if(n.isSorter)n.getRoot()||n.setRoot(o);else{if(i={direction:e.getDefaultSortDirection(),root:o},f=typeof n,f==="string"){if(u=r.get(n),u)return u;i.property=n}else f==="function"?i.sorterFn=n:(i=Ext.apply(i,n),i.fn&&(i.sorterFn=i.fn,delete i.fn));n=Ext.create(t||"Ext.util.Sorter",i)}return s&&s.call(r.getSorterOptionsScope()||r,n),n},setSorterConfigure:function(n,t){this.setSorterOptionsFn(n);this.setSorterOptionsScope(t)},decodeRemoveItems:function(n,t){var h=this,r=t===undefined?n:n[t];if(!r||!r.$cloned){(n.length>t+1||!Ext.isIterable(r))&&(r=Ext.Array.slice(n,t));for(var c=h.items,l=r.length,u=[],e,o,i,s,f=0;f<l;f++)if(i=r[f],i&&i.isSorter)u.push(i);else if(s=typeof i,s==="string")i=h.get(i),i&&u.push(i);else if(s==="function")for(o=c.length;o-->0;)e=c[o],e.getSorterFn()===i&&u.push(e);r=u;r.$cloned=!0}return r},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,"SorterCollection"],0);Ext.cmd.derive("Ext.util.FilterCollection",Ext.util.Collection,{isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(n){var t=this;t.filterFn=Ext.util.Filter.createFilterFn(t);Ext.util.Collection.prototype.constructor.call(this,n);t.setDecoder(t.decodeFilter)},filterData:function(n){return this.filtered?Ext.Array.filter(n,this.filterFn):n},getFilterFn:function(){return this.filterFn},isItemFiltered:function(n){return!this.filterFn(n)},decodeFilter:function(n){var r=this.getOptions(),i=r.getRootProperty(),t;if(n.isFilter)n.getRoot()||n.setRoot(i);else{if(t={root:i},Ext.isFunction(n))t.filterFn=n;else if(t=Ext.apply(t,n),t.fn&&(t.filterFn=t.fn,delete t.fn),Ext.util.Filter.isInvalid(t))return!1;n=new Ext.util.Filter(t)}return n},decodeRemoveItems:function(n,t){var y=this,r=t===undefined?n:n[t];if(!r.$cloned){(n.length>t+1||!Ext.isIterable(r))&&(r=Ext.Array.slice(n,t));for(var c=y.items,p=r.length,o=[],i,l,a,v,u,f,s,h,e=0;e<p;e++)if(i=r[e],i&&i.isFilter)o.push(i);else for(h=typeof i,l=h==="function",a=i.property!==undefined&&i.value!==undefined,v=h==="string",s=c.length;s-->0;)u=c[s],f=!1,v?f=u.getProperty()===i:l?f=u.getFilterFn()===i:a&&(f=u.getProperty()===i.property&&u.getValue()===i.value),f&&o.push(u);r=o;r.$cloned=!0}return r},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,"FilterCollection"],0);Ext.cmd.derive("Ext.util.GroupCollection",Ext.util.Collection,{isGroupCollection:!0,config:{grouper:null,itemRoot:null},observerPriority:-100,onCollectionAdd:function(n,t){this.addItemsToGroups(n,t.items)},onCollectionBeforeItemChange:function(n,t){this.changeDetails=t},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(n,t){var i=t.item;t.indexChanged||this.syncItemGrouping(n,i,n.getKey(i),t.oldKey,t.oldIndex);this.changeDetails=null},onCollectionRefresh:function(n){this.removeAll();this.addItemsToGroups(n,n.items)},onCollectionRemove:function(n,t){var u=this,s=u.changeDetails,r,h,i,f,c,e,o;for(s?(o=s.item,i=u.findGroupForItem(o),r=[],i&&r.push({group:i,items:[o]})):r=u.groupItems(n,t.items,!1),f=0,c=r.length;f<c;++f)i=(h=r[f]).group,i&&(i.remove(h.items),i.length||(e||(e=[])).push(i));e&&u.remove(e)},onCollectionSort:function(n){for(var r=this,u=n.getSorters(),f=r.items,e=r.length,i,t=0;t<e;++t)i=f[t],i.getSorters()!==u&&i.setSorters(u)},onCollectionUpdateKey:function(n,t){var i=t.index,r=t.item;t.indexChanged||(i=n.indexOf(r),this.syncItemGrouping(n,r,t.newKey,t.oldKey,i))},addItemsToGroups:function(n,t){this.groupItems(n,t,!0)},groupItems:function(n,t,i){for(var e=this,y={},o=[],p=n.getGrouper(),s=e.itemGroupKeys,u,l,f,a,v,c,r=0,h=t.length;r<h;++r)f=p.getGroupString(a=t[r]),v=n.getKey(a),i?(s||(e.itemGroupKeys=s={}))[v]=f:s&&delete s[v],(u=y[f])||((l=e.getByKey(f))||!i||(c||(c=[])).push(l=e.createGroup(n,f)),o.push(y[f]=u={group:l,items:[]})),u.items.push(a);for(r=0,h=o.length;r<h;++r)u=o[r],u.group.add(u.items);return c&&e.add(c),o},syncItemGrouping:function(n,t,i,r,u){var e=this,h=e.itemGroupKeys||(e.itemGroupKeys={}),p=n.getGrouper(),c=p.getGroupString(t),l=0,a=-1,v,f,s,o,y;r?(o=h[r],delete h[r]):o=h[i];h[i]=c;(f=e.get(c))||(f=e.createGroup(n,c),v=[f]);f.get(i)!==t?(f.getCount()>0&&n.getSorters().getCount()===0&&(y=n.indexOf(f.items[0]),a=u<y?0:u-y),a===-1?f.add(t):f.insert(a,t)):f.itemChanged(t);c!==o&&(o===0||o)&&(s=e.get(o),s&&(s.remove(t),s.length||(l=[s])));v?e.splice(0,l,v):l&&e.splice(0,l)},createGroup:function(n,t){return new Ext.util.Group({groupKey:t,rootProperty:this.getItemRoot(),sorters:n.getSorters()})},getKey:function(n){return n.getGroupKey()},createSortFn:function(){var n=this,t=n.getGrouper(),i=n.getSorters().getSortFn();return t?function(n,r){return t.sort(n.items[0],r.items[0])||i(n,r)}:i},updateGrouper:function(n){var t=this;t.grouped=!!(n&&t.$groupable.getAutoGroup());t.onSorterChange();t.onEndUpdateSorters(t.getSorters())},destroy:function(){this.$groupable=null;Ext.util.Collection.prototype.destroy.call(this)},privates:{findGroupForItem:function(n){for(var r=this.items,u=r.length,i,t=0;t<u;++t)if(i=r[t],i.contains(n))return i}}},0,0,0,0,0,0,[Ext.util,"GroupCollection"],0);Ext.cmd.derive("Ext.data.Store",Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(n){var t=this,i;if(n&&n.buffered)return new Ext.data.BufferedStore(n);Ext.data.ProxyStore.prototype.constructor.apply(this,arguments);t.getData().addObserver(this);i=t.inlineData;i&&(delete t.inlineData,t.loadInlineData(i))},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(n,t){var i=this;return i.getFields(),i.getModel(),n&&n.isCollection?t=n:(t||(t=i.constructDataCollection()),n&&(i.isInitializing?i.inlineData=n:i.loadData(n))),t},loadInlineData:function(n){var t=this,i=t.getProxy(),r;i&&i.isMemoryProxy?(i.setData(n),r=t.blockLoadCounter,t.blockLoadCounter=0,t.suspendEvents(),t.read(),t.resumeEvents(),t.blockLoadCounter=r):(t.removeAll(!0),t.suspendEvents(),t.loadData(n),t.resumeEvents())},updateRemoteFilter:function(n){var t=this.getData(),i=this.getFilters();n?t.setFilters(null):t.setFilters(i);Ext.data.ProxyStore.prototype.updateRemoteFilter.apply(this,arguments)},updateRemoteSort:function(n){var t=this.getData(),i=this.getSorters();n?t.setSorters(null):t.setSorters(i);t.setAutoGroup(!n);Ext.data.ProxyStore.prototype.updateRemoteSort.apply(this,arguments)},onCollectionAdd:function(n,t){this.onCollectionAddItems(n,t.items,t)},onCollectionFilterAdd:function(n,t){this.onCollectionAddItems(n,t)},onCollectionAddItems:function(n,t,i){for(var r=this,a=t.length,v=i?!i.next:!1,s=r.getRemovedRecords(),c=r.ignoreCollectionAdd,l=r.getSession(),f=i&&i.replaced,h,u,e,o=0;o<a;++o)u=t[o],l&&l.adopt(u),c||(u.join(r),s&&s.length&&Ext.Array.remove(s,u),h=h||u.phantom||u.dirty);if(!c){if(f){e=[];do Ext.Array.push(e,f.items),f=f.next;while(f);r.setMoving(e,!0)}i&&(r.fireEvent("add",r,t,i.at),v&&r.fireEvent("datachanged",r));e&&r.setMoving(e,!1);r.needsSync=r.needsSync||h}},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(n,t){var i=this,r=t.item,u=t.modified||null,f=t.meta;if(i.fireChangeEvent(r)){i.onUpdate(r,f,u,t);i.fireEvent("update",i,r,f,u,t)}},fireChangeEvent:function(n){var t=this.getData();return t=t.getSource()||t,t.contains(n)},afterChange:function(n,t,i){this.getData().itemChanged(n,t||null,undefined,i)},afterCommit:function(n,t){this.afterChange(n,t,Ext.data.Model.COMMIT)},afterEdit:function(n,t){this.needsSync=this.needsSync||n.dirty;this.afterChange(n,t,Ext.data.Model.EDIT)},afterReject:function(n){this.afterChange(n,null,Ext.data.Model.REJECT)},afterDrop:function(n){this.getData().remove(n)},afterErase:function(n){this.removeFromRemoved(n)},addSorted:function(n){var t=this,r=t.getRemoteSort(),i=t.getData(),u;return r&&i.setSorters(t.getSorters()),u=i.findInsertionIndex(n),r&&i.setSorters(null),t.insert(u,n)},remove:function(n,t,i){var e=this,s=e.getData(),u,o,f,r;if(n)if(n.isModel)e.indexOf(n)>-1?(f=[n],u=1):u=0;else{for(f=[],o=0,u=n.length;o<u;++o){if(r=n[o],r&&r.isEntity){if(!s.contains(r))continue}else if(!(r=s.getAt(r)))continue;f.push(r)}u=f.length}return u?(e.removeIsMove=t===!0,e.removeIsSilent=i,s.remove(f),e.removeIsSilent=!1,f):[]},onCollectionRemove:function(n,t){var i=this,s=i.removed,o=t.items,l=o.length,h=t.at,c=i.removeIsMove,a=i.removeIsSilent,v=!t.next,f=t.replacement,e=i.getData(),u,r;if(!i.ignoreCollectionRemove){for(e=e.getSource()||e,f&&i.setMoving(f.items,!0),u=0;u<l;++u)r=o[u],!s||c||r.phantom||r.erasing||e.contains(r)?r.unjoin(i):(r.removedFrom=h+u,s.push(r),i.needsSync=!0);a||(i.fireEvent("remove",i,o,h,c),v&&i.fireEvent("datachanged",i));f&&i.setMoving(f.items,!1)}},onFilterEndUpdate:function(){Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers("Filter")},removeAt:function(n,t){var i=this.getData();if(n=Math.max(n,0),n<i.length){if(arguments.length===1)t=1;else if(!t)return;i.removeAt(n,t)}},removeAll:function(n){var t=this,i=t.getData(),u=t.hasListeners.clear,r=i.getRange();return i.length&&(t.removeIsSilent=!0,t.callObservers("BeforeRemoveAll"),i.removeAll(),t.removeIsSilent=!1,n||(t.fireEvent("clear",t,r),t.fireEvent("datachanged",t)),t.callObservers("AfterRemoveAll",[!!n])),r},setRecords:function(n){var t=this.getCount();++this.loadCount;t?this.getData().splice(0,t,n):this.add(n)},splice:function(n,t,i){return this.getData().splice(n,t,i)},load:function(n){var t=this,i=t.getPageSize(),r;return n=typeof n=="function"?{callback:n}:Ext.apply({},n),t.getRemoteSort()&&!n.grouper&&t.getGrouper()&&(n.grouper=t.getGrouper()),(i||"start"in n||"limit"in n||"page"in n)&&(n.page=n.page!=null?n.page:t.currentPage,n.start=n.start!==undefined?n.start:(n.page-1)*i,n.limit=n.limit!=null?n.limit:i),n.addRecords=n.addRecords||!1,n.recordCreator||(r=t.getSession(),r&&(n.recordCreator=r.recordCreator)),Ext.data.ProxyStore.prototype.load.call(this,n)},onProxyLoad:function(n){var t=this,u=n.getResultSet(),i=n.getRecords(),r=n.wasSuccessful();t.isDestroyed||(u&&(t.totalCount=u.getTotal()),r?(i=t.processAssociation(i),t.loadRecords(i,n.getAddRecords()?{addRecords:!0}:undefined)):t.loading=!1,t.hasListeners.load&&t.fireEvent("load",t,i,r,n),t.callObservers("AfterLoad",[i,r,n]))},getUnfiltered:function(){var n=this.getData();return n.getSource()||n},getNewRecords:function(){return this.getUnfiltered().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getUnfiltered().createFiltered(this.filterUpdated).getRange()},loadData:function(n,t){for(var i=this,f=n.length,r=[],u=0;u<f;u++)r.push(i.createModel(n[u]));r=i.processAssociation(r);i.loadRecords(r,t?i.addRecordsOptions:undefined)},loadRawData:function(n,t){var i=this,u=i.getSession(),r=i.getProxy().getReader().read(n,u?{recordCreator:u.recordCreator}:undefined),e=r.getRecords(),f=r.getSuccess();return f&&(i.totalCount=r.getTotal(),i.loadRecords(e,t?i.addRecordsOptions:undefined)),f},loadRecords:function(n,t){var i=this,o=n.length,u=i.getData(),f,r,e;for(t&&(f=t.addRecords),i.getRemoteSort()||i.getSortOnLoad()||(e=!0,u.setAutoSort(!1)),f||i.clearData(!0),i.loading=!1,i.ignoreCollectionAdd=!0,i.callObservers("BeforePopulate"),u.add(n),i.ignoreCollectionAdd=!1,e&&u.setAutoSort(!0),r=0;r<o;r++)n[r].join(i);++i.loadCount;i.complete=!0;i.fireEvent("datachanged",i);i.fireEvent("refresh",i);i.callObservers("AfterPopulate")},loadPage:function(n,t){var i=this,r=i.getPageSize();i.currentPage=n;t=Ext.apply({page:n,start:(n-1)*r,limit:r,addRecords:!i.getClearOnPageLoad()},t);i.read(t)},nextPage:function(n){this.loadPage(this.currentPage+1,n)},previousPage:function(n){this.loadPage(this.currentPage-1,n)},clearData:function(n){var t=this,r=t.removed,i=t.getData(),o=t.getClearRemovedOnLoad(),h=r&&n&&!o,f,e,u,s;if(i=i.getSource()||i,i){for(f=i.items,u=0,s=f.length;u<s;++u)(e=f[u],h&&Ext.Array.contains(r,e))||e.unjoin(t);t.ignoreCollectionRemove=!0;t.callObservers("BeforeClear");i.removeAll();t.ignoreCollectionRemove=!1;t.callObservers("AfterClear")}r&&(!n||o)&&(r.length=0)},onIdChanged:function(n,t,i){this.getData().updateKey(n,t);this.fireEvent("idchanged",this,n,t,i)},commitChanges:function(){var n=this,i=n.getModifiedRecords(),r=i.length,t=0;for(Ext.suspendLayouts(),n.beginUpdate();t<r;t++)i[t].commit();n.cleanRemoved();n.endUpdate();Ext.resumeLayouts(!0)},filterNewOnly:function(n){return n.phantom===!0},filterRejects:function(n){return n.phantom||n.dirty},getRejectRecords:function(){return this.getData().createFiltered(this.filterRejects).getRange()},rejectChanges:function(){var t=this,i=t.getRejectRecords(),f=i.length,n,r,u,e;for(Ext.suspendLayouts(),t.beginUpdate(),n=0;n<f;n++)r=i[n],r.phantom?(u=u||[],u.push(r)):r.reject();if(u)for(t.remove(u),n=0,f=u.length;n<f;++n)u[n].reject();if(i=t.removed,i){for(f=i.length,e=!t.getRemoteSort()&&t.isSorted(),n=f-1;n>=0;n--)r=i[n],r.reject(),e||t.insert(r.removedFrom||0,r);e&&t.add(i);i.length=0}t.endUpdate();Ext.resumeLayouts(!0)},onDestroy:function(){var n=this,t=n.loadTask,i=n.getData(),r=i.getSource();Ext.data.ProxyStore.prototype.onDestroy.call(this);n.setSession(null);n.observers=null;t&&(t.cancel(),n.loadTask=null);n.clearData();i.destroy();r&&r.destroy();n.setData(null)},privates:{onBeforeLoad:function(n){this.callObservers("BeforeLoad",[n])},isMoving:function(n,t){var i=this.moveMap,r=0,f,u;if(i)if(n)if(Ext.isArray(n))for(u=0,f=n.length;u<f;++u)r+=i[n[u].id]?1:0;else i[n.id]&&++r;else r=t?i:this.moveMapCount;return r},setMoving:function(n,t){for(var i=this,u=i.moveMap||(i.moveMap={}),e=n.length,r,f=0;f<e;++f)r=n[f].id,t?u[r]?++u[r]:(u[r]=1,++i.moveMapCount):--u[r]==0&&(delete u[r],--i.moveMapCount);i.moveMapCount===0&&(i.moveMap=null)},processAssociation:function(n){var t=this,i=t.getAssociatedEntity();return i&&(n=t.getRole().processLoad(t,i,n,t.getSession())),n}}},1,0,0,0,["store.store"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"Store"],0);Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(n){var t=n.mapping,r=n.hasMapping()?t:n.ordinal,i;return n.mapping=r,i=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments),n.mapping=t,i},getModelData:function(){return{}}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0);Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(n,t){if(this.expandData){for(var i=[],r=0,u=n.length;r<u;r++)i[i.length]=[n[r]];n=i}Ext.data.Store.prototype.loadData.call(this,n,t)}},0,0,0,0,["store.array"],0,[Ext.data,"ArrayStore",Ext.data,"SimpleStore"],0);Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var n=0,t;t=arguments[n];n++)this.add(t)},unregister:function(){for(var n=0,t;t=arguments[n];n++)this.remove(this.lookup(t))},lookup:function(n){if(Ext.isArray(n)){var u=["field1"],f=!Ext.isArray(n[0]),r=n,t,i;if(f)for(r=[],t=0,i=n.length;t<i;++t)r.push([n[t]]);else for(t=2,i=n[0].length;t<=i;++t)u.push("field"+t);return new Ext.data.ArrayStore({data:r,fields:u,autoDestroy:!0,autoCreated:!0,expanded:f})}return Ext.isString(n)?this.get(n):Ext.Factory.store(n)},getKey:function(n){return n.storeId}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(n,t){var i;if(Ext.isObject(n))t=n;else{if(Ext.data.StoreManager.containsKey(n))return Ext.data.StoreManager.lookup(n);t.storeId=n}return i=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(i),i};Ext.getStore=function(n){return Ext.data.StoreManager.lookup(n)};var n=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:!1});n.isEmptyStore=!0});Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:!0,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var n=this;n.callParent();n.monitor(Ext.data.AbstractStore)},match:function(n,t){var i=!1,r=n.alias;return t==="*"?i=!0:this.idMatchRe.test(t)?i=n.getStoreId()===t.substring(1):r&&(i=Ext.Array.indexOf(r,this.prefix+t)>-1),i}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0);Ext.cmd.derive("Ext.app.route.Queue",Ext.Base,{queue:null,token:null,constructor:function(n){Ext.apply(this,n);this.queue=new Ext.util.MixedCollection},queueAction:function(n,t){this.queue.add({route:n,args:t})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var i=this.queue,n=i.removeAt(0),t;n&&(t=n&&n.route,t.execute(this.token,n.args,this.onActionExecute,this))},onActionExecute:function(n){n?this.clearQueue():this.runQueue()}},1,0,0,0,0,0,[Ext.app.route,"Queue"],0);Ext.cmd.derive("Ext.app.route.Route",Ext.Base,{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(n){var t=this,i;Ext.apply(t,n,{conditions:{}});i=t.url;t.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);t.paramsInMatchString=i.match(t.paramMatchingRegex)||[];t.matcherRegex=t.createMatcherRegex(i)},recognize:function(n){var t=this,r=t.controller,u,i;return(t.allowInactive||r.isActive())&&t.recognizes(n)?(u=t.matchesFor(n),i=n.match(t.matcherRegex),i.shift(),Ext.applyIf(u,{controller:r,action:t.action,historyUrl:n,args:i})):!1},recognizes:function(n){return this.matcherRegex.test(n)},execute:function(n,t,i,r){var f=t.args||[],u=this.before,e=this.controller,o=this.createCallback(t,i,r);u?(f.push(o),Ext.isString(u)&&(u=this.before=e[u]),u&&u.apply(e,f)):o.resume()},matchesFor:function(n){var i={},r=this.paramsInMatchString,u=n.match(this.matcherRegex),t=0,f=r.length;for(u.shift();t<f;t++)i[r[t].replace(":","")]=u[t];return i},createMatcherRegex:function(n){for(var r=this.paramsInMatchString,e=this.conditions,t=0,o=r.length,s=Ext.util.Format.format,h=this.caseInsensitive?"i":"",i,u,f;t<o;t++)i=r[t],u=e[i],f=s("{0}",u||"([%a-zA-Z0-9\\-\\_\\s,]+)"),n=n.replace(new RegExp(i),f);return new RegExp("^"+n+"$",h)},createCallback:function(n,t,i){var r=this;return i=i||r,{resume:function(){var e=r.controller,u=r.action,f;Ext.isString(u)&&(u=e[u]);n=n&&n.args?n.args:[];f=n.pop();f&&!Ext.isObject(f)&&n.push(f);u&&(r.action=u,u.apply(e,n));t&&t.call(i)},stop:function(n){t&&t.call(i,n)}}}},1,0,0,0,0,0,[Ext.app.route,"Route"],0);Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:!0,alternateClassName:"Ext.History",useTopWindow:!1,constructor:function(){var n=this;n.hiddenField=null;n.ready=!1;n.currentToken=null;n.mixins.observable.constructor.call(n)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(n){try{this.win.location.hash=n;this.currentToken=n}catch(t){}},handleStateChange:function(n){this.currentToken=n;this.fireEvent("change",n)},startUp:function(){var n=this;if(n.currentToken=n.getHash(),Ext.supports.Hashchange)Ext.get(n.win).on("hashchange",n.onHashChange,n);else Ext.TaskManager.start({fireIdleEvent:!1,run:n.onHashChange,interval:50,scope:n});n.ready=!0;n.fireEvent("ready",n)},onHashChange:function(){var n=this,t=n.getHash();t!==n.hash&&(n.hash=t,n.handleStateChange(t))},init:function(n,t){var i=this;if(i.ready){Ext.callback(n,t,[i]);return}if(!Ext.isReady){Ext.onInternalReady(function(){i.init(n,t)});return}if(i.win=i.useTopWindow?window.top:window,i.hash=i.getHash(),n)i.on("ready",n,t,{single:!0});i.startUp()},add:function(n,t){var i=this,r=!1;return(t===!1||i.getToken()!==n)&&(i.setHash(n),r=!0),r},back:function(){var n=this.useTopWindow?window.top:window;n.history.go(-1)},forward:function(){var n=this.useTopWindow?window.top:window;n.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0);Ext.cmd.derive("Ext.app.route.Router",Ext.Base,{singleton:!0,multipleToken:"|",queueRoutes:!0,constructor:function(){var n=Ext.util.History;n.ready||n.init();n.on("change",this.onStateChange,this);this.clear()},onStateChange:function(n){for(var t=this,h=t.application,c=t.routes,a=c.length,f=t.queueRoutes,l=n.split(t.multipleToken),e=0,v=l.length,i,o,r,u,s;e<v;e++){for(n=l[e],s=!1,f&&(o=new Ext.app.route.Queue({token:n})),i=0;i<a;i++)r=c[i],u=r.recognize(n),u&&(s=!0,f?o.queueAction(r,u):r.execute(n,u));f&&o.runQueue();!s&&h&&h.fireEvent("unmatchedroute",n)}},connect:function(n,t,i){var r={url:n,action:t,controller:i};Ext.isObject(t)&&Ext.merge(r,t);this.routes.push(new Ext.app.route.Route(r))},disconnectAll:function(n){for(var r=this.routes,f=r.length,u=[],i,t=0;t<f;++t)i=r[t],i.controller!==n&&u.push(i);this.routes=u},recognize:function(n){for(var u=this.routes||[],t=0,f=u.length,i,r;t<f;t++)if(i=u[t],r=i.recognize(n),r)return{route:i,args:r};return!1},draw:function(n){n.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,"Router"],0);Ext.cmd.derive("Ext.app.Controller",Ext.app.BaseController,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(n,t){return function(){return this[n](t)}},getGetterName:function(n,t){for(var r="get",u=n.split("."),f=u.length,i=0;i<f;i++)r+=Ext.String.capitalize(u[i]);return r+t},resolveNamespace:function(n,t){var u=Ext.app.Controller,f=u.controllerRegex,i,r;return i=Ext.getClassName(n),t.$namespace||t.namespace||Ext.app.getNamespace(i)||(r=f.exec(i))&&r[1]},processDependencies:function(n,t,i,r,u){if(u&&u.length){var f=this,h=f.strings[r],o,c,l,s,e,a,v,y;for(Ext.isArray(u)||(u=[u]),e=0,a=u.length;e<a;e++)s=u[e],o=f.getFullName(s,r,i),c=o.absoluteName,l=o.shortName,t.push(c),v=f.getGetterName(l,h.upper),n[v]=y=f.createGetter(h.getter,s),r!=="controller"&&(y["Ext.app.getter"]=!0)}},getFullName:function(n,t,i){var u=n,f,r;return(f=n.indexOf("@"))>0?(u=n.substring(0,f),r=n.substring(f+1)+"."+u):n.indexOf(".")>0&&(Ext.ClassManager.isCreated(n)||this.hasRegisteredPrefix(n))?r=n:i?(r=i+"."+t+"."+n,u=n):r=n,{absoluteName:r,shortName:u}},hasRegisteredPrefix:function(n){var i=Ext.ClassManager,t=i.getPrefix(n);return t&&t!==n}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(n,t,i){var r=i.onBeforeCreated;i.onBeforeCreated=function(n,t){var f=Ext.app.Controller,e=[],i,u;u=n.prototype;i=f.resolveNamespace(n,t);i&&(u.$namespace=i);f.processDependencies(u,e,i,"model",t.models);f.processDependencies(u,e,i,"view",t.views);f.processDependencies(u,e,i,"store",t.stores);f.processDependencies(u,e,i,"controller",t.controllers);Ext.require(e,Ext.Function.pass(r,arguments,this))}},constructor:function(){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.apply(this,arguments)},normalizeRefs:function(n){var i=this,t=[];return n&&(Ext.isObject(n)?Ext.Object.each(n,function(n,i){Ext.isString(i)&&(i={selector:i});i.ref=n;t.push(i)}):Ext.isArray(n)&&(t=Ext.Array.merge(t,n))),n=i.refs,n&&(i.refs=null,n=i.normalizeRefs(n),n&&(t=Ext.Array.merge(t,n))),t},getRefMap:function(){var r=this,n=r._refMap,t,u,f,i;if(!n&&(t=r.getRefs(),n=r._refMap={},t))for(i=0,f=t.length;i<f;i++)u=t[i],n[u.ref]=u.selector;return n},applyRefs:function(n){return this.normalizeRefs(Ext.clone(n))},updateRefs:function(n){n&&this.ref(n)},initAutoGetters:function(){var t=this.self.prototype,i,n;for(i in t)n=t[i],n&&n["Ext.app.getter"]&&n.call(this)},doInit:function(n){var t=this;t._initialized||(t.init(n),t._initialized=!0)},finishInit:function(n){var r=this,t=r.controllers,u,i,f;if(r._initialized&&t&&t.length)for(i=0,f=t.length;i<f;i++)u=r.getController(t[i]),u.finishInit(n)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(n){var t=this,r=0,e=n.length,u,i,f;for(n=Ext.Array.from(n),t.references=t.references||[];r<e;r++)u=n[r],i=u.ref,f="get"+Ext.String.capitalize(i),t[f]||(t[f]=Ext.Function.pass(t.getRef,[i,u],t)),t.references.push(i.toLowerCase())},addRef:function(n){this.ref(n)},getRef:function(n,t,i){var f=this,u=f.refCache||(f.refCache={}),r=u[n];if(t=t||{},i=i||{},Ext.apply(t,i),t.forceCreate)return Ext.ComponentManager.create(t,"component");if(!r&&(t.selector&&(u[n]=r=Ext.ComponentQuery.query(t.selector)[0]),!r&&t.autoCreate&&(u[n]=r=Ext.ComponentManager.create(t,"component")),r))r.on("beforedestroy",function(){u[n]=null});return r},hasRef:function(n){var t=this.references;return t&&Ext.Array.indexOf(t,n.toLowerCase())!==-1},getController:function(n){var t=this.getApplication();return n===this.getId()?this:t&&t.getController(n)},getStore:function(n){var i,t;return i=n.indexOf("@")===-1?n:n.split("@")[0],t=Ext.StoreManager.get(i),t||(n=Ext.app.Controller.getFullName(n,"store",this.$namespace),n&&(t=Ext.create(n.absoluteName,{storeId:i}))),t},getModel:function(n){var i=Ext.app.Controller.getFullName(n,"model",this.$namespace),t=Ext.ClassManager.get(i.absoluteName);return t||(t=Ext.data.schema.Schema.lookupEntity(n)),t},getProfile:function(n){return Ext.app.Controller.getFullName(n,"profile",this.$namespace)},getView:function(n){var t=Ext.app.Controller.getFullName(n,"view",this.$namespace);return t&&Ext.ClassManager.get(t.absoluteName)},ensureId:function(){var n=this.getId();n||this.setId(this.getModuleClassName(this.$className,"controller"))},destroy:function(n,t){var i=this,f=i.application,r,u;if(!t&&f&&f.unregister(i),i.application=null,n){r=i.refCache;for(u in r)r.hasOwnProperty(u)&&Ext.destroy(r[u])}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,"Controller"],0);Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{isApplication:!0,scope:undefined,namespaces:[],paths:null,appFolder:"app",config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:!0},defaultToken:null,glyphFontFamily:null},onClassExtended:function(n,t,i){var c=Ext.app.Controller,s=n.prototype,f=[],h,u,r,e,o;if(r=t.name||n.superclass.name,o=t.appFolder||n.superclass.appFolder,r&&(t.$namespace=r,Ext.app.addNamespaces(r)),t.namespaces&&Ext.app.addNamespaces(t.namespaces),t["paths processed"])delete t["paths processed"];else if(r&&o&&Ext.Loader.setPath(r,o),u=t.paths,u)for(e in u)u.hasOwnProperty(e)&&Ext.Loader.setPath(e,u[e]);c.processDependencies(s,f,r,"profile",t.profiles);s.getDependencies(n,t,f);f.length&&(h=i.onBeforeCreated,i.onBeforeCreated=function(){var n=Ext.Array.clone(arguments);Ext.require(f,function(){return h.apply(this,n)})})},getDependencies:Ext.emptyFn,constructor:function(){var n=this,t;Ext.app.route.Router.application=n;Ext.app.Controller.prototype.constructor.apply(this,arguments);n.doInit(n);n.initNamespace();t=this.getProfiles();t&&t.length?Ext.require(t,this.onProfilesLoaded,this):this.onProfilesReady()},onProfilesReady:function(){var n=this;n.initControllers();n.onBeforeLaunch();n.finishInitControllers()},initNamespace:function(){var t=this,i=t.getAppProperty(),n;n=Ext.namespace(t.getName());n&&(n.getApplication=function(){return t},i&&(n[i]||(n[i]=t)))},initControllers:function(){var t=this,i=Ext.Array.from(t.controllers),n,r;for(t.controllers=new Ext.util.MixedCollection,n=0,r=i.length;n<r;n++)t.getController(i[n])},finishInitControllers:function(){var i=this,t,n,r;for(t=i.controllers.getRange(),n=0,r=t.length;n<r;n++)t[n].finishInit(i)},launch:Ext.emptyFn,onBeforeLaunch:function(){var n=this,t=Ext.util.History,f=n.getDefaultToken(),e=n.getCurrentProfile(),r,i,o,s,u;for(n.initMainView(),e&&e.launch(),n.launch.call(n.scope||n),n.launched=!0,n.fireEvent("launch",n),r=n.controllers.items,o=r.length,i=0;i<o;i++){s=r[i];s.onLaunch(n)}t.ready||t.init();u=t.getToken();u?n.redirectTo(u,!0):f&&t.add(f)},getModuleClassName:function(n,t){return Ext.app.Controller.getFullName(n,t,this.getName()).absoluteName},initMainView:function(){var n=this,i=n.getCurrentProfile(),t;i&&(t=i.getMainView());t?n.setMainView(t):n.getMainView()},applyMainView:function(n){var t;return t=this.getView(n),t.create()},createController:function(n){return this.getController(n)},destroyController:function(n){typeof n=="string"&&(n=this.getController(n,!0));Ext.destroy(n)},getController:function(n,t){var r=this,e=r.controllers,u,i,h,f,o,s;if(i=e.get(n),!i)for(s=e.items,f=0,h=s.length;f<h;++f)if(o=s[f],u=o.getModuleClassName(),u&&u===n){i=o;break}return i||t||(u=r.getModuleClassName(n,"controller"),i=Ext.create(u,{application:r,moduleClassName:n}),e.add(i),r._initialized&&i.doInit(r)),i},unregister:function(n){this.controllers.remove(n)},getApplication:function(){return this},destroy:function(n){var t=this,r=t.controllers,i=Ext.namespace(t.getName()),u=t.getAppProperty();Ext.destroy(t.viewport);r&&r.each(function(t){t.destroy(n,!0)});t.controllers=null;Ext.app.Controller.prototype.destroy.call(this,n,!0);i&&i[u]===t&&delete i[u]},updateGlyphFontFamily:function(n){Ext.setGlyphFontFamily(n)},applyProfiles:function(n){var t=this;return Ext.Array.map(n,function(n){return t.getModuleClassName(n,"profile")})},onProfilesLoaded:function(){for(var n=this,y=n.getProfiles(),p=y.length,u=[],r,i,f,e,o,s,h,c,l,a,v,t=0;t<p;t++)u[t]=Ext.create(y[t],{application:n}),u[t].isActive()&&!r&&(r=u[t],i=r.getDependencies(),f=i.all,n.setCurrentProfile(r),o=i.controller,o.length&&(e=n.controllers=n.controllers||[],e.push.apply(e,o)),h=i.view,h.length&&(s=n.views=n.views||[],s.push.apply(s,h)),l=i.store,l.length&&(c=n.stores=n.stores||[],c.push.apply(c,l)),v=i.model,v.length&&(a=n.models=n.models||[],a.push.apply(a,v)));f?Ext.require(f,n.onProfilesReady,n):n.onProfilesReady()}},1,0,0,0,0,0,[Ext.app,"Application"],0);Ext.application=function(n){var r=function(n){Ext.onReady(function(){Ext.app.Application.instance=new n})},t=n.paths,i;if(typeof n=="string")Ext.require(n,function(){r(Ext.ClassManager.get(n))});else{if(n=Ext.apply({extend:"Ext.app.Application"},n),Ext.Loader.setPath(n.name,n.appFolder||"app"),t)for(i in t)t.hasOwnProperty(i)&&Ext.Loader.setPath(i,t[i]);n["paths processed"]=!0;Ext.define(n.name+".$application",n,function(){r(this)})}};Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:!1,config:{enableQuickTips:!0},applyMainView:function(n){var i=this.getView(n),r=i.prototype,u,t;return r.isViewport||(t=r.plugins,t=["viewport"].concat(t?Ext.Array.from(t,!0):[]),u={plugins:t}),i.create(u)},getDependencies:function(n,t,i){var u=Ext.app.Controller,f=n.prototype,e=t.$namespace,r=t.autoCreateViewport;r&&(r===!0?r="Viewport":i.push("Ext.plugin.Viewport"),u.processDependencies(f,i,e,"view",r))},onBeforeLaunch:function(){var n=this,t=n.autoCreateViewport;n.getEnableQuickTips()&&n.initQuickTips();t&&n.initViewport();arguments.callee.$previous.apply(this,arguments)},getViewportName:function(){var t=null,n=this.autoCreateViewport;return n&&(t=n===!0?"Viewport":n),t},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});Ext.cmd.derive("Ext.app.Profile",Ext.Base,{config:{namespace:"auto",name:"auto",mainView:{$value:null,lazy:!0},application:null,controllers:[],models:[],views:[],stores:[]},constructor:function(n){this.initConfig(n);this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},launch:Ext.emptyFn,applyNamespace:function(n){return n=="auto"&&(n=this.getName()),n.toLowerCase()},applyName:function(n){if(n=="auto"){var t=this.$className.split(".");n=t[t.length-1]}return n},onClassExtended:function(n,t,i){var r=i.onBeforeCreated;i.onBeforeCreated=function(n,t){var i=Ext.app.Controller,u=[],e=n.prototype,f;f=i.resolveNamespace(n,t);i.processDependencies(e,u,f,"model",t.models);i.processDependencies(e,u,f,"view",t.views);i.processDependencies(e,u,f,"store",t.stores);i.processDependencies(e,u,f,"controller",t.controllers);Ext.require(u,Ext.Function.pass(r,arguments,this))}},getDependencies:function(){var r=[],u=this.getApplication().getName(),f=this.getNamespace(),n={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()},t,i;for(t in n)i=[],Ext.each(n[t],function(n){Ext.isString(n)&&(Ext.isString(n)&&(Ext.ClassManager.getPrefix(n)===""||n===u)&&(n=u+"."+t+"."+f+"."+n),i.push(n),r.push(n))},this),n[t]=i;return n.all=r,n}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.app,"Profile"],0);Ext.cmd.derive("Ext.app.domain.View",Ext.app.EventDomain,{isInstance:!0,constructor:function(n){Ext.app.EventDomain.prototype.constructor.apply(this,arguments);this.controller=n;this.monitoredClasses=[Ext.Component]},match:function(n,t,i){return t==="#"?i===n.getController():n.is(t)},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,"View"],0);Ext.cmd.derive("Ext.app.ViewController",Ext.app.BaseController,{isViewController:!0,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.apply(this,arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var n=this,t=n.compDomain;t&&(t.unlisten(n),t.destroy());n.compDomain=n.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var n=this.getView(),t;n&&(t=this.getCloseViewAction(),n[t]())},control:function(n,t){var i=n;Ext.isString(n)&&(i={},i[n]=t);this.compDomain.listen(i,this)},listen:function(n,t){var i=n.component;i&&(n=Ext.apply({},n),delete n.component,this.control(i));this.callParent([n,t])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReference:function(n){var t=this.view;return t&&t.lookupReference(n)},getSession:function(){var n=this.view;return n&&n.lookupSession()},getViewModel:function(){var n=this.view;return n&&n.lookupViewModel()},getStore:function(n){var t=this.getViewModel();return t?t.getStore(n):null},fireViewEvent:function(){var n=this.view,t=!1;return n&&(t=n.fireEvent.apply(n,arguments)),t},privates:{view:null,ensureId:function(){var n=this.getId();n||this.setId(Ext.id(null,"controller-"))},attachReference:function(n){var t=this.view;t&&t.attachReference(n)},clearReference:function(n){var t=this.view;t&&t.clearReference(n)},clearReferences:function(){var n=this.view;n&&n.clearReferences()},setView:function(n){this.view=n;this.beforeInit.$nullFn||this.beforeInit(n)}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,"ViewController"],0);Ext.cmd.derive("Ext.util.Scheduler",Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},constructor:function(n){this.mixins.observable.constructor.call(this,n);this.items=new Ext.util.Collection},destroy:function(){var n=this,t=n.timer;t&&(window.clearTimeout(t),n.timer=null);n.destroyed=!0;n.items.destroy();n.items=n.orderedItems=null;n.destroy=Ext.emptyFn},add:function(n){var t=this,i=t.items;i===t.firing&&(t.items=i=i.clone());n.id=n.id||++t.nextId;n.scheduler=t;i.add(n);t.sortMap||(t.orderedItems=null)},remove:function(n){var t=this,i=t.items;t.destroyed||(i===t.firing&&(t.items=i=i.clone()),n.scheduled&&(t.unscheduleItem(n),n.scheduled=!1),i.remove(n),t.orderedItems=null)},sort:function(){var n=this,t=n.items,u={},f=n.getPreSort(),i,r;for(n.orderedItems=[],n.sortMap=u,f&&t.sortItems(f),t=t.items,i=0;i<t.length;++i)r=t[i],u[r.id]||n.sortItem(r);n.sortMap=null},sortItem:function(n){var t=this,r=t.sortMap,u=t.orderedItems,i;return n.scheduler||t.add(n),i=n.id,i in r||(r[i]=0,n.sort.$nullFn||n.sort(),r[i]=1,n.order=t.orderedItems.length,u.push(n)),t},sortItems:function(n){var t=this,i=t.sortItem;return n&&(n instanceof Array?Ext.each(n,i,t):Ext.Object.eachValue(n,i,t)),t},applyPreSort:function(n){if(typeof n=="function")return n;for(var i=n.split(","),u=[],e=i.length,r,f,t=0;t<e;++t)u[t]=1,f=i[t],(r=f.charAt(0))==="-"?u[t]=-1:r!=="+"&&(r=0),r&&(i[t]=f.substring(1));return function(n,t){for(var f=0,o,s,h,r=0;!f&&r<e;++r)o=i[r],s=n[o],h=t[o],f=u[r]*(s<h?-1:h<s?1:0);return f}},notify:function(){var n=this,f=n.timer,e=n.getCycleLimit(),o=Ext.GlobalEvents,s,t,i,u,r,h;for(f&&(window.clearTimeout(f),n.timer=null);n.scheduledCount;){if(e)--e;else{n.firing=null;break}if(h||(h=!0,o.hasListeners.beforebindnotify&&o.fireEvent("beforebindnotify",n)),++n.passes,(r=n.orderedItems)||(n.sort(),r=n.orderedItems),u=r.length,u)for(n.firing=n.items,t=0;t<u;++t)if(i=r[t],i.scheduled&&(i.scheduled=!1,--n.scheduledCount,n.notifyIndex=t,i.react(),!n.scheduledCount))break}n.firing=null;n.notifyIndex=-1;(s=n.busyCounter)!==n.lastBusyCounter&&((n.lastBusyCounter=s)||n.fireEvent("idle",n))},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(){var n=this;++n.scheduledCount;n.timer||n.firing||n.scheduleTick()},scheduleTick:function(){var n=this;n.destroyed||n.timer||(n.timer=Ext.Function.defer(n.onTick,n.getTickDelay(),n))},unscheduleItem:function(){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(n){var t=this,i=t.busyCounter+n;t.busyCounter=i;i?t.lastBusyCounter||(t.lastBusyCounter=i,t.fireEvent("busy",t)):t.lastBusyCounter&&!t.timer&&t.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Scheduler"],0);Ext.cmd.derive("Ext.data.Batch",Ext.Base,{config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(n){var t=this;t.mixins.observable.constructor.call(t,n);t.operations=[];t.exceptions=[]},add:function(n){var t=this,i,r;if(Ext.isArray(n))for(i=0,r=n.length;i<r;++i)t.add(n[i]);else t.total++,n.setBatch(t),t.operations.push(n);return t},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(n,t){var f=n.order-t.order,i,r,u;return f?f:(i=n.entityType,r=t.entityType,!i||!r)?0:((u=i.rank)||(i.schema.rankEntities(),u=i.rank),(u-r.rank)*n.foreignKeyDirection)},start:function(n){var t=this;return!t.operations.length||t.running?t:(t.exceptions.length=0,t.exception=!1,t.running=!0,t.runOperation(Ext.isDefined(n)?n:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){var n=this;return n.running&&n.runOperation(n.current+1),n},pause:function(){return this.running=!1,this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var n=null,t=this.current;return t===-1||this.complete||(n=this.operations[t]),n},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(n){var t=this,r=t.operations,i=r[n];return i===undefined?(t.running=!1,t.complete=!0,t.fireEvent("complete",t,r[r.length-1])):(t.current=n,i.setInternalCallback(t.onOperationComplete),i.setInternalScope(t),i.execute()),t},onOperationComplete:function(n){var t=this,i=n.hasException();i&&(t.exception=!0,t.exceptions.push(n),t.fireEvent("exception",t,n));i&&t.getPauseOnException()?t.pause():(t.fireEvent("operationcomplete",t,n),t.runNextOperation())}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Batch"],0);Ext.cmd.derive("Ext.data.matrix.Slice",Ext.Base,{stub:null,constructor:function(n,t){this.id=t;this.side=n;this.members={}},attach:function(n){var t=this;t.store=n;n.matrix=t;n.on("load",t.onStoreLoad,t,{single:!0})},changeId:function(n){var r=this,t=r.id,u=r.side,f=u.slices,o=f[t],s=o.members,c=u.index,l=u.inverse.slices,h,e,i;r.id=n;f[n]=o;delete f[t];for(e in s)h=s[e],h[c]=n,i=l[e].members,i[n]=i[t],delete i[t]},onStoreLoad:function(n){this.update(n.getData().items,0)},update:function(n,t){for(var f=this,p=Ext.data.matrix.Slice,a=f.side,w=a.index,b=n.length,o=f.id,l=f.members,v=a.inverse,s=v.slices,u,e,c,r,i,y,h=0;h<b;++h)e=y=null,c=n[h],r=c.isEntity?(y=c).id:c,u=l[r],t<0&&u&&u[2]===1?(delete l[r],i=s[r],i&&delete i.members[o],e=1):u?t!==u[2]&&t!==0&&(u[2]=t,i=s[r],e=1):(u=[r,r,t],u[w]=o,l[r]=u,i=s[r],i||(s[r]=i=new p(v,r)),i.members[o]=u,e=1),e&&(f.notify&&f.notify.call(f.scope,f,r,t),i&&i.notify&&i.notify.call(i.scope,i,o,t))},destroy:function(){var n=this,t=n.store;t&&(t.matrix=null,t.un("load",n.onStoreLoad,n));n.notify=n.scope=n.store=n.side=n.members=null;n.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Slice"],0);Ext.cmd.derive("Ext.data.matrix.Side",Ext.Base,{constructor:function(n,t,i){var r=this;r.matrix=n;r.index=t;r.role=i;r.slices={}},get:function(n,t){var i=this,r=i.slices,u=r[n]||(r[n]=new Ext.data.matrix.Slice(i,n));return t||t===0?u.members[t]:u},update:function(n,t,i){var r=this.get(n);return r.update(t,i)},destroy:function(){var n=this,t=n.slices;for(var i in t)t[i].destroy();n.inverse=n.matrix=n.role=n.slices=null;n.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Side"],0);Ext.cmd.derive("Ext.data.matrix.Matrix",Ext.Base,{constructor:function(n,t){var i=this,r=t.isManyToMany?t:n.getSchema().getAssociation(t),e=Ext.data.matrix.Side,u=new e(i,0,r.left),f=new e(i,1,r.right);i.association=r;i.session=n;i.left=u;i.right=f;u.inverse=f;f.inverse=u},update:function(n,t,i){return this.left.update(n,t,i)},destroy:function(){var n=this;n.left.destroy();n.right.destroy();n.association=n.session=n.left=n.right=null;n.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Matrix"],0);Ext.cmd.derive("Ext.data.session.ChangesVisitor",Ext.Base,{constructor:function(n){var t=this,i;t.session=n;i=n.getCrudProperties();t.result=null;t.writerOptions={};t.createKey=i.create;t.readKey=i.read;t.updateKey=i.update;t.dropKey=i.drop},onDirtyRecord:function(n){var i=this,s=i.crud,e=n.phantom,u=n.dropped,v=!e&&!u,l=n.$className,h=e||u?"allDataOptions":"partialDataOptions",r=i.writerOptions,a=n.entityName,t,f,o,c;if(e&&u)return!1;s=e?i.createKey:u?i.dropKey:i.updateKey;r=r[l]||(r[l]={});u&&((t=r.drop)||(r.drop=t={all:n.getProxy().getWriter().getWriteAllFields()}),t.all||(o=n.id));o||((t=r[h])||(t=n.getProxy().getWriter().getConfig(h),r[h]=t=Ext.Object.chain(t),i.setupOptions(t)),o=n.getData(t));c=i.result||(i.result={});f=c[a]||(c[a]={});f=f[s]||(f[s]=[]);f.push(o)},setupOptions:function(n){n.serialize=!0},onMatrixChange:function(n,t,i,r){var f=this,o=n.left.type,s=n.right.role,h=r<0?f.dropKey:f.createKey,u,e;e=f.result||(f.result={});u=e[o]||(e[o]={});u=u[s]||(u[s]={});u=u[h]||(u[h]={});u=u[t]||(u[t]=[]);u.push(i)}},1,0,0,0,0,0,[Ext.data.session,"ChangesVisitor"],0);Ext.cmd.derive("Ext.data.session.ChildChangesVisitor",Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={};Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(n){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,n);n.serialize=!1},onDirtyRecord:function(n){Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)!==!1&&(n.$source||!n.dropped&&n.phantom||this.readEntity(n))},readEntity:function(n){var i=this,f=i.readKey,r=n.entityName,s=n.id,e=i.seen,o=r+s,u,t;e[o]||(e[o]=!0,u=i.result||(i.result={}),t=u[r]||(u[r]={}),t=t[f]||(t[f]=[]),t.push(Ext.apply({},n.modified,n.data)))}},1,0,0,0,0,0,[Ext.data.session,"ChildChangesVisitor"],0);Ext.cmd.derive("Ext.data.session.BatchVisitor",Ext.Base,{map:null,constructor:function(n){this.batch=n},getBatch:function(n){var u=this.map,t=this.batch,r,f,e,i,o;if(u){t||(t=new Ext.data.Batch);for(e in u){r=u[e];f=r.entity;o=f.getProxy();delete r.entity;for(i in r)i=o.createOperation(i,{records:r[i]}),i.entityType=f,t.add(i)}}return t&&n!==!1&&t.sort(),t},onDirtyRecord:function(n){var i=this,r=n.phantom?"create":n.dropped?"destroy":"update",u=n.$className,f=i.map||(i.map={}),t=f[u]||(f[u]={entity:n.self});t=t[r]||(t[r]=[]);t.push(n)}},1,0,0,0,0,0,[Ext.data.session,"BatchVisitor"],0);Ext.cmd.derive("Ext.data.Session",Ext.Base,{isSession:!0,config:{schema:"default",parent:null,autoDestroy:!0,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:!1,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(n){var t=this;t.data={};t.matrices={};t.identifierCache={};t.recordCreator=t.recordCreator.bind(t);t.initConfig(n)},destroy:function(){var n=this,u=n.matrices,f=n.data,e,i,t;for(var r in u)u[r].destroy();for(e in f){i=f[e];for(r in i)t=i[r].record,t&&(t.$source=t.session=null)}n.recordCreator=n.matrices=n.data=null;n.setSchema(null);n.callParent()},adopt:function(n){var t=this,i=n.associations,r;if(n.session!==t&&(n.session=t,t.add(n),i))for(r in i)i[r].adoptAssociated(n,t)},commit:function(){var i=this.data,r,n,u,t;for(r in i){n=i[r];for(u in n)t=n[u].record,t&&t.commit()}},createRecord:function(n,t){var i=n.$isClass?n:this.getSchema().getEntity(n),u=this.getParent(),r;return t&&u&&(r=i.getIdFromData(t),u.peekRecord(i,r)&&Ext.Error.raise("A parent session already contains an entry for "+i.entityName+": "+r)),new i(t,this)},getChanges:function(){var n=new Ext.data.session.ChangesVisitor(this);return this.visitData(n),n.result},getChangesForParent:function(){var n=new Ext.data.session.ChildChangesVisitor(this);return this.visitData(n),n.result},getRecord:function(n,t,i){var u=this,r=u.peekRecord(n,t),e,o,f;return r||(e=n.$isClass?n:u.getSchema().getEntity(n),o=u.getParent(),o&&(f=o.peekRecord(e,t)),f&&!f.isLoading()?(r=f.copy(undefined,u),r.$source=f):(r=e.createWithId(t,null,u),i!==!1&&r.load(Ext.isObject(i)?i:undefined))),r},getSaveBatch:function(n){var t=new Ext.data.session.BatchVisitor;return this.visitData(t),t.getBatch(n)},onInvalidAssociationEntity:function(n,t){Ext.Error.raise("Unable to read association entity: "+this.getModelIdentifier(n,t))},onInvalidEntityCreate:function(n,t){Ext.Error.raise("Cannot create, record already not exists: "+this.getModelIdentifier(n,t))},onInvalidEntityDrop:function(n,t){Ext.Error.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(n,t))},onInvalidEntityRead:function(n,t){Ext.Error.raise("Cannot read, record already not exists: "+this.getModelIdentifier(n,t))},onInvalidEntityUpdate:function(n,t,i){i?Ext.Error.raise("Cannot update, record dropped: "+this.getModelIdentifier(n,t)):Ext.Error.raise("Cannot update, record does not exist: "+this.getModelIdentifier(n,t))},peekRecord:function(n,t,i){var e=n.$isClass?n:this.getSchema().getEntity(n),o=e.entityName,r=this.data[o],u,f;return r=r&&r[t],u=r&&r.record,!u&&i&&(f=this.getParent(),u=f&&f.peekRecord(n,t,i)),u||null},save:function(){var n=new Ext.data.session.ChildChangesVisitor(this);this.visitData(n);this.getParent().update(n.result)},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(n){var t=this,c=t.getSchema(),l=t.crudOperations,y=l.length,p=t.crudKeys,i,u,r,f,e,o,a,s,h,v;t.getSchema().processKeyChecks(!0);for(i in n)for(u=c.getEntity(i),r=n[i],f=0;f<y;++f)e=l[f],o=r[e.type],o&&t[e.entityMethod](u,o);for(i in n){u=c.getEntity(i);a=u.associations;r=n[i];for(s in r)p[s]||(h=a[s],v=r[h.role],h.processUpdate(t,v))}},privates:{add:function(n){var t=this,u=n.id,f=t.getEntry(n.self,u),i,r;f.record=n;t.registerReferences(n);i=n.associations;for(r in i)i[r].checkMembership(t,n)},afterErase:function(n){this.evict(n)},applySchema:function(n){return Ext.data.schema.Schema.get(n)},createEntities:function(n,t){for(var e=t.length,u,r,f,i=0;i<e;++i){if(u=t[i],f=n.getIdFromData(u),r=this.peekRecord(n,f),r)this.onInvalidEntityCreate(n,f);else r=this.createRecord(n,u);r.phantom=!0}},dropEntities:function(n,t){var f=t.length,r,u,i,e;for(f&&(e=Ext.isObject(t[0])),r=0;r<f;++r)if(i=t[r],e&&(i=n.getIdFromData(i)),u=this.peekRecord(n,i),u)u.drop();else this.onInvalidEntityDrop(n,i)},evict:function(n){var i=n.entityName,t=this.data[i],r=n.id;t&&delete t[r]},getEntityList:function(n,t){for(var e=t.length,r,u,f,i=0;i<e;++i)if(r=t[i],u=this.peekRecord(n,r),u)t[i]=u;else{f=!0;t[i]=null;this.onInvalidAssociationEntity(n,r)}return f&&(t=Ext.Array.clean(t)),t},getEntry:function(n,t){n.isModel&&(t=n.getId(),n=n.self);var f=n.$isClass?n:this.getSchema().getEntity(n),r=f.entityName,u=this.data,i;return i=u[r]||(u[r]={}),i[t]||(i[t]={})},getRefs:function(n,t,i){var r=this.getEntry(n),u=r&&r.refs&&r.refs[t.role],s=i&&this.getParent(),f,e,o;if(s&&(f=s.getRefs(n,t),f)){for(e in f)o=f[e],u&&u[e]||this.getRecord(o.self,o.id);u=r&&r.refs&&r.refs[t.role]}return u||null},getIdentifier:function(n){var f=this.getParent(),r,i,u,t;return f?t=f.getIdentifier(n):(r=this.identifierCache,i=n.identifier,u=i.id||n.entityName,t=r[u],t||(t=i.clone?i.clone({cache:r}):i,r[u]=t)),t},getMatrix:function(n,t){var r=n.isManyToMany?n.name:n,u=this.matrices,i;return i=u[r],i||t||(i=u[r]=new Ext.data.matrix.Matrix(this,n)),i||null},getMatrixSlice:function(n,t){var i=this.getMatrix(n.association),r=i[n.side];return r.get(t)},getModelIdentifier:function(n,t){return t+"@"+n.entityName},onIdChanged:function(n,t,i){var f=this,w=n.entityName,b=n.id,e=f.data[w],v=e[t],o=n.associations,s=v.refs,k=f._setNoRefs,h,y,c,p,r,u,l,a;delete e[t];e[i]=v;for(u in o)r=o[u],r.isMany&&(a=r.getAssociatedItem(n),a&&(c=a.matrix,c&&c.changeId(i)));if(s)for(u in s)if(l=s[u],r=o[u],h=r.association,!h.isManyToMany){y=h.field.name;for(p in l)l[p].set(y,b,k)}f.registerReferences(n,t)},processManyBlock:function(n,t,i,r){var u=this,f,e,o,s;if(i)for(f in i)if(e=u.peekRecord(n,f),e)o=u.getEntityList(t.cls,i[f]),s=t.getAssociatedItem(e),u[r](t,s,e,o);else u.onInvalidAssociationEntity(n,f)},processManyCreate:function(n,t,i,r){t?t.add(r):i[n.getterName](null,null,r)},processManyDrop:function(n,t,i,r){t&&t.remove(r)},processManyRead:function(n,t,i,r){t?t.setRecords(r):i[n.getterName](null,null,r)},readEntities:function(n,t){for(var e=t.length,u,r,f,i=0;i<e;++i){if(u=t[i],f=n.getIdFromData(u),r=this.peekRecord(n,f),r)this.onInvalidEntityRead(n,f);else r=this.createRecord(n,u);r.phantom=!1}},recordCreator:function(n,t){var i=this,r=t.getIdFromData(n),u=i.peekRecord(t,r,!0);return u?i.getRecord(t,r):new t(n,i)},registerReferences:function(n,t){for(var c=n.entityName,l=n.id,a=n.data,v=t||t===0,e,f,i,h,r,o,s=(h=n.references).length,u=0;u<s;++u)i=h[u],f=a[i.name],(f||f===0)&&(i=i.reference,c=i.type,o=i.inverse.role,e=this.getEntry(i.cls,f),r=e.refs||(e.refs={}),r=r[o]||(r[o]={}),r[l]=n,v&&delete r[t])},updateEntities:function(n,t){var e=t.length,f,u,i,r,o;if(Ext.isArray(t))for(f=0;f<e;++f)if(u=t[f],r=n.getIdFromData(u),i=this.peekRecord(n,r),i)i.set(u);else this.onInvalidEntityUpdate(n,r);else for(r in t)if(u=t[r],i=this.peekRecord(n,r),i&&!i.dropped)o=i.set(u);else this.onInvalidEntityUpdate(n,r,!!i)},updateReference:function(n,t,i,r){var o=t.reference,s=o.type,f=o.inverse.role,h=n.id,e,u;(r||r===0)&&(u=this.getEntry(s,r).refs[f],delete u[h]);(i||i===0)&&(e=this.getEntry(s,i),u=e.refs||(e.refs={}),u=u[f]||(u[f]={}),u[h]=n)},visitData:function(n){var u=this,c=u.data,l=u.matrices,f,a,i,v,e,o,r,t,y,s,h;u.getSchema().processKeyChecks(!0);for(r in c){f=c[r];for(i in f)if(t=f[i].record,t)if(t.phantom||t.dirty||t.dropped){if(n.onDirtyRecord)n.onDirtyRecord(t)}else if(n.onCleanRecord)n.onCleanRecord(t)}if(n.onMatrixChange)for(r in l){e=l[r].left;s=e.slices;a=e.role.association;for(i in s){y=s[i];o=y.members;for(v in o)if(h=(t=o[v])[2],h)n.onMatrixChange(a,t[0],t[1],h)}}return n},_setNoRefs:{refs:!1}}},1,0,0,0,0,0,[Ext.data,"Session"],0);Ext.cmd.derive("Ext.util.Schedulable",Ext.Base,{abstract:!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var n=this,t=n.getScheduler();t&&t.remove(n);n.destroyed=!0;n.scheduler=null;n.schedule=n.destroy=n.react=Ext.emptyFn},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var n=this,t;n.scheduled||(t=n.getScheduler(),t&&(n.scheduled=!0,n.onSchedule&&n.onSchedule(),t.scheduleItem(n)))},unschedule:function(){var n=this,t;n.scheduled&&(t=n.getScheduler(),t&&t.unscheduleItem(n),n.scheduled=!1)},sort:function(){}}},1,0,0,0,0,0,[Ext.util,"Schedulable"],0);Ext.cmd.derive("Ext.app.bind.BaseBinding",Ext.util.Schedulable,{calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(n,t,i,r){var u=this;u.options=r;u.owner=n;u.scope=i;u.callback=t;u.lateBound=Ext.isString(t);r&&r.deep&&(u.deep=!0);Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var n=this,t=n.owner;Ext.util.Schedulable.prototype.destroy.call(this);t&&t.onBindDestroy();n.scope=n.callback=n.owner=null},privates:{getScheduler:function(){var n=this.owner;return n&&n.getScheduler()},getSession:function(){var n=this.owner;return n.isSession?n:n.getSession()},notify:function(n){var t=this,r=t.options||t.defaultOptions,i=t.lastValue;(!t.calls||t.deep||i!==n||Ext.isArray(n))&&(++t.calls,t.lastValue=n,t.lateBound?t.scope[t.callback](n,i,t):t.callback.call(t.scope,n,i,t),r.single&&t.destroy())}}},1,0,0,0,0,0,[Ext.app.bind,"BaseBinding"],0);Ext.cmd.derive("Ext.app.bind.Binding",Ext.app.bind.BaseBinding,{constructor:function(n,t,i,r){var u=this;Ext.app.bind.BaseBinding.prototype.constructor.call(this,n.owner,t,i,r);u.stub=n;u.depth=n.depth;n.isLoading()||n.scheduled||u.schedule()},destroy:function(n){var t=this,i=t.stub;i&&!n&&(i.unbind(t),t.stub=null);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(n,t){var i=this.stub;return i&&i.bindValidation(n,t)},bindValidationField:function(n,t){var i=this.stub;return i&&i.bindValidationField(n,t)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var n=this,i=n.stub,t=i&&i.getValue();return n.transform&&(t=n.transform(t)),t},isLoading:function(){var n=this.stub;return n&&n.isLoading()},isReadOnly:function(){var n=this.stub,t=this.options;return!(t&&t.twoWay===!1)&&n?n.isReadOnly():!0},refresh:function(){},setValue:function(n){this.stub.set(n)},privates:{getDataObject:function(){var n=this.stub;return n&&n.getDataObject()},getRawValue:function(){var n=this,i=n.stub,t=i&&i.getRawValue();return n.transform&&(t=n.transform(t)),t},isDescendantOf:function(n){var t=this.stub;return t?n===t||t.isDescendantOf(n):!1},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||Ext.app.bind.BaseBinding.prototype.schedule.call(this)},sort:function(){var n=this.stub;n.scheduler.sortItem(n)}}},1,0,0,0,0,0,[Ext.app.bind,"Binding"],0);Ext.cmd.derive("Ext.app.bind.AbstractStub",Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(n,t){var i=this;i.owner=n;i.name=t;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var n=this,r=n.children,i=n.bindings,u,t,f;if(i)for(t=0,u=i.length;t<u;++t)i[t].destroy(!0);for(f in r)r[f].destroy();Ext.util.Schedulable.prototype.destroy.call(this);n.bindings=n.children=n.owner=null},add:function(n){var t=this;(t.children||(t.children={}))[n.name]=n;n.depth=t.depth+1;n.parent=t},getChild:function(n){var t=Ext.isString(n)?n.split("."):n;return t&&t.length?this.descend(t,0):this},getFullName:function(){var t=this,n=t.fullName,r=t.parent,i;return n||(n=t.name||t.id,r&&(i=r.getFullName())&&(n=(i.charAt(i.length-1)!==":"?i+".":i)+n),t.fullName=n),n},getSession:function(){var n=this.owner;return n.isSession?n:n.getSession()},bind:function(n,t,i){var r=this,u=new Ext.app.bind.Binding(r,n,t,i),f=r.bindings||(r.bindings=[]);return u.depth=r.depth,f.push(u),u},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(n){var t=this,i=t.bindings,u=t.name,r;if(t.parent=t.bindings=null,t.destroy(),n.depth=t.depth,n.bindings=i,n.generation=t.generation+1,n.name=u,n.id=t.id,n.path=t.path,i)for(r=i.length;r-->0;)i[r].stub=n;return n},isDescendantOf:function(n){for(var t=this;t=t.parent;)if(t===n)return!0;return!1},onSchedule:function(){for(var n,u,t,i,r=this.parent;r;r=r.parent)if(i=r.bindings,i)for(n=0,u=i.length;n<u;++n)t=i[n],t.deep&&!t.scheduled&&t.schedule()},react:function(){var t=this.bindings,i,n,r;if(t)for(n=0,r=t.length;n<r;++n)i=t[n],i.scheduled||i.schedule()},unbind:function(n){var t=this.bindings;t&&t.length&&Ext.Array.remove(t,n)},privates:{collect:function(){var n=this.children,f=this.bindings,t=0,i=0,r,u;if(n)for(u in n)r=n[u],i=r.collect(),i===0&&(r.destroy(),delete n[u]),t+=i;return f&&(t+=f.length),t},getScheduler:function(){var n=this.owner;return n&&n.getScheduler()},sort:function(){var n=this.parent;n&&this.scheduler.sortItem(n)}}},1,0,0,0,0,0,[Ext.app.bind,"AbstractStub"],0);Ext.cmd.derive("Ext.app.bind.Stub",Ext.app.bind.AbstractStub,{isStub:!0,dirty:!0,formula:null,validationKey:"validation",statics:{trackHadValue:function(n,t,i,r){var e=r&&r.children,u,f;if(f=n!==undefined,t.hadValue[i]||(t.hadValue[i]=f),r&&(r.hadValue=f),n&&(n.constructor===Object||n.isModel)){n.isModel&&(n=n.data);for(u in n)Ext.app.bind.Stub.trackHadValue(n[u],t,i+"."+u,e&&e[u])}}},constructor:function(n,t,i){var r=this,u=t;Ext.app.bind.AbstractStub.prototype.constructor.call(this,n,t);r.boundValue=null;i&&(i.add(r),i.isRootStub||(u=i.path+"."+t));r.hadValue=n.hadValue[u];r.path=u},destroy:function(){var n=this,t=n.formula,r=n.parent,i=n.storeBinding;t&&t.destroy();i&&i.destroy();n.detachBound();n.parentValue=n.formula=n.storeBinding=null;Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(n,t){var i=this.parent;return i&&i.descend([this.validationKey,this.name]).bind(n,t)},bindValidationField:function(n,t){var i=this.parent,u=this.name,f=typeof n=="string",r;return i&&(r=i.bind(function(i){var r=null;i&&i.isModel&&(r=i.getField(u));f?t[n](r,null,this):n.call(t,r,null,this)})),r||null},descend:function(n,t){var r=this,e=r.children||(r.children={}),u=t||0,f=n[u++],i;return(i=e[f])||(i=new Ext.app.bind.Stub(r.owner,f,r)),u<n.length&&(i=i.descend(n,u)),i},getChildValue:function(n){var i=this,r=i.name,t;return n||Ext.isString(n)?(t=i.inspectValue(n),t||(t=n.isEntity?n.data[r]:n[r])):t=i.hadValue?null:undefined,t},getDataObject:function(){var i=this,n=i.parent.getDataObject(),r=i.name,t=n?n[r]:null,u;return!t&&n&&n.isEntity&&(u=n.associations,u&&r in u&&(t=n[u[r].getterName]())),t&&(t.$className||Ext.isObject(t))||(n[r]=t={},i.hadValue=i.owner.hadValue[i.path]=!0,i.invalidate(!0,!0)),t},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(n){var t=this,r=t.parent,i=t.children,f=t.name,u;if(n.parent=r,n.children=i,r&&(r.children[f]=n),i)for(u in i)i[u].parent=n;return t.children=null,Ext.app.bind.AbstractStub.prototype.graft.call(this,n)},isLoading:function(){var n=this,f=n.parent,t=!1,r,i,u,e;return!f||(t=f.isLoading())||(i=n.getParentValue(),u=n.inspectValue(i),u?t=u.isLoading():(i&&i.isModel&&(r=i.associations,r&&n.name in r||(t=!1,e=!0)),e||(t=!n.hadValue&&n.getRawValue()===undefined))),t},invalidate:function(n,t){var i=this,r=i.children,u;if(i.dirty=!0,t||i.isLoading()||i.scheduled||i.schedule(),n&&r)for(u in r)r[u].invalidate(n,t)},isReadOnly:function(){var n=this.formula;return!!(n&&!n.set)},set:function(n){var t=this,s=t.parent,u=t.name,r=t.formula,i,f,o,e;if(r&&!r.settingValue&&r.set){r.setValue(n);return}if(t.isLinkStub&&(e=t.getLinkFormulaStub(),r=e?e.formula:null,r)){r.setValue(n);return}i=s.getDataObject();i.isEntity?(f=i.associations,f&&u in f?(o=f[u],i[o.setterName](n),t.invalidate(!0)):i.set(u,n)):(n&&n.constructor===Object||n!==i[u])&&(t.setByLink(n)||(n===undefined?delete i[u]:(i[u]=n,Ext.app.bind.Stub.trackHadValue(n,t.owner,t.path,t)),t.inspectValue(i),t.invalidate(!0)))},onStoreLoad:function(){this.invalidate(!0)},afterLoad:function(){this.invalidate(!0)},afterCommit:function(n){this.afterEdit(n,null)},afterEdit:function(n,t){var i=this.children,e=t&&t.length,o=n.associations,u,r,f;if(i)if(e)for(r=0;r<e;++r)f=i[t[r]],f&&f.invalidate();else for(u in i)o&&u in o||i[u].invalidate();this.invalidate()},afterReject:function(n){this.afterEdit(n,null)},setByLink:function(n){for(var e=this,u=0,f,i,r,t=e;t;t=t.parent){if(t.isLinkStub){if(i=t,u)for(r=[],f=0,t=e;t!==i;t=t.parent)++f,r[u-f]=t.name;break}++u}return!i||!(t=i.getTargetStub())?!1:(r&&(t=t.descend(r)),t.set(n),!0)},setFormula:function(n){var t=this,i=t.formula;i&&i.destroy();t.formula=new Ext.app.bind.Formula(t,n)},react:function(){var t=this,n=this.boundValue,r=t.children,i;if(n)if(n.isValidation){if(n.refresh(),i=n.generation,t.lastValidationGeneration===i)return;t.lastValidationGeneration=i}else if(n.isModel)r&&r[t.validationKey]&&n.isValid();else if(n.isStore&&n.isLoading()&&!n.loadCount)return;Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{collect:function(){var n=this,t=Ext.app.bind.AbstractStub.prototype.collect.call(this),i=n.storeBinding?1:0,r=n.formula?1:0;return t+i+r},getLinkFormulaStub:function(){for(var n=this;n.isLinkStub;)n=n.binding.stub;return n.formula?n:null},getParentValue:function(){var n=this;return n.dirty&&(n.parentValue=n.parent.getValue(),n.dirty=!1),n.parentValue},setStore:function(n){this.storeBinding=n},inspectValue:function(n){var i=this,u=i.name,o=i.boundValue,t=null,f,r,s,e;if(n&&n.isEntity?(f=n.associations,f&&u in f?(t=n[f[u].getterName](),t&&t.isStore&&(t.$associatedStore=!0)):u===i.validationKey&&(t=n.getValidation(),i.lastValidationGeneration=null)):n&&(r=n[u],r&&(r.isModel||r.isStore)&&(t=r)),s=o!==t,s){if(o&&i.detachBound(),t)if(t.isModel)t.join(i);else{e=t.associatedEntity;!e||e.phantom||t.complete||t.hasPendingLoad()||t.load();t.on("load",i.onStoreLoad,i,{single:!0})}i.boundValue=t}return t},detachBound:function(){var n=this,t=n.boundValue;t&&(t.isModel?t.unjoin(n):t.un("load",n.onStoreLoad,n))},sort:function(){var n=this,t=n.formula,i=n.scheduler,r=n.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this);r&&i.sortItem(r);t&&i.sortItem(t)}}},1,0,0,0,0,0,[Ext.app.bind,"Stub"],0);Ext.cmd.derive("Ext.app.bind.LinkStub",Ext.app.bind.Stub,{isLinkStub:!0,binding:null,destroy:function(){var n=this,t=n.binding,i=n.owner;t&&(n.binding=null,t.destroy(),i&&delete i.linkData[n.name]);n.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var n=this;return n.fullName||(n.fullName="("+Ext.app.bind.Stub.prototype.getFullName.call(this)+" -> "+n.binding.getFullName()+")")},getDataObject:function(){var n=this.binding;return n&&n.getDataObject()},getRawValue:function(){var n=this.binding;return n&&n.getRawValue()},getValue:function(){var n=this.binding;return n&&n.getValue()},getTargetStub:function(){var n=this.binding;return n&&n.stub},isLoading:function(){var n=this.binding;return n?n.isLoading():!1},link:function(n,t){var i=this,r=i.binding;r&&r.destroy();t=i.target=t||i.owner;i.linkDescriptor=n;i.binding=t.bind(n,i.onChange,i);i.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){var n=this,t=n.owner.linkData;t[n.name]=n.getValue();Ext.app.bind.Stub.prototype.react.call(this)},privates:{collect:function(){var n=this,t=Ext.app.bind.Stub.prototype.collect.call(this),i=n.binding?1:0;return t+i},sort:function(){var n=this.binding;n&&this.scheduler.sortItem(n)}}},0,0,0,0,0,0,[Ext.app.bind,"LinkStub"],0);Ext.cmd.derive("Ext.app.bind.RootStub",Ext.app.bind.AbstractStub,{isRootStub:!0,depth:0,createRootChild:function(n,t){var f=this,r=f.owner,h=r.getData(),e=f.children,u=e&&e[n],o=u?null:f,s,i;return!t&&!h.hasOwnProperty(n)&&(s=r.getParent())?(i=new Ext.app.bind.LinkStub(r,n,u?null:o),i.link("{"+n+"}",s)):i=new Ext.app.bind.Stub(r,n,o),u&&u.graft(i),i},createStubChild:function(n){return this.createRootChild(n,!0)},descend:function(n,t){var u=this,f=u.children,i=t||0,e=n[i++],r=f&&f[e]||u.createRootChild(e);return i<n.length&&(r=r.descend(n,i)),r},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return!1},isLoading:function(){return!1},set:function(n){var r=this,f=r.children||(r.children={}),u=r.owner,e=u.data,h=u.getParent(),o,t,s;for(var i in n)(s=n[i])!==undefined?((t=f[i])?t.isLinkStub&&(t.getLinkFormulaStub()||(o=t,t=new Ext.app.bind.Stub(u,i),o.graft(t))):t=new Ext.app.bind.Stub(u,i,r),t.set(s)):e.hasOwnProperty(i)&&(delete e[i],t=f[i],t&&!t.isLinkStub&&h&&(t=r.createRootChild(i)),t.invalidate(!0))},schedule:Ext.emptyFn,unschedule:Ext.emptyFn},0,0,0,0,0,0,[Ext.app.bind,"RootStub"],0);Ext.cmd.derive("Ext.app.bind.Multi",Ext.app.bind.BaseBinding,{isMultiBinding:!0,missing:1,deep:!0,constructor:function(n,t,i,r,u){var f=this,e=u&&u.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,t,i,r,u);f.bindings=[];f.literal=n.$literal;n.constructor===Object?(e&&(f.staticKeys=[]),f.addObject(n,f.lastValue={},f.staticKeys)):f.addArray(n,f.lastValue=[]);--f.missing||f.scheduled||f.schedule()},destroy:function(){var n=this;n.bindings=Ext.destroy(n.bindings);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(n,t,i){var r=this,o=r.owner,e=r.bindings,s=r.literal?n.reference?"bindEntity":"bindExpression":"bind",u,f;return++r.missing,u=o[s](n,function(n){t[i]=n;u.calls===1&&--r.missing;r.missing||r.scheduled||r.schedule()},r,null),f=u.depth,(!e.length||f<r.depth)&&(r.depth=f),e.push(u),!this.isBindingStatic(u)},addArray:function(n,t){for(var f=this,o=n.length,e=!1,u,i,r=0;r<o;++r)i=n[r],i&&(i.reference||Ext.isString(i))?u=f.add(i,t,r):Ext.isArray(i)?u=f.addArray(i,t[r]=[]):i&&i.constructor===Object?u=f.addObject(i,t[r]={}):(t[r]=i,u=!1),e=e||u;return e},addObject:function(n,t,i){var e=this,o=!1,u,r;for(var f in n)r=n[f],r&&(r.reference||Ext.isString(r))?u=e.add(r,t,f):Ext.isArray(r)?u=e.addArray(r,t[f]=[]):r&&r.constructor===Object?u=e.addObject(r,t[f]={}):(t[f]=r,u=!1),i&&!u&&i.push(f),o=o||u;return o},getFullName:function(){var i=this,n=i.fullName,r=i.bindings,u=r.length,t;if(!n){for(n="@[",t=0;t<u;++t)t&&(n+=","),n+=r[t].getFullName();n+="]";i.fullName=n}return n},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var n=this.bindings,t=n.length;t-->0;)if(n[t].isLoading())return!0;return!1},isBindingStatic:function(n){return n.isTemplateBinding&&n.isStatic},isStatic:function(){for(var t=this.bindings,r=t.length,i,n=0;n<r;++n)if(i=t[n],!this.isBindingStatic(i))return!1;return!0},pruneStaticKeys:function(){for(var t=Ext.apply({},this.lastValue),i=this.staticKeys,r=i.length,n=0;n<r;++n)delete t[i[n]];return t},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,"Multi"],0);Ext.cmd.derive("Ext.app.bind.Formula",Ext.util.Schedulable,{statics:{getFormulaParser:function(n){var i=this.formulaCache,t,r;return i||(i=this.formulaCache=new Ext.util.LruCache({maxSize:20})),t=i.get(n),t||(r="[^\\.a-z0-9_]"+n+"\\(\\s*(['\"])(.*?)\\1\\s*\\)",t=new RegExp(r,"gi"),i.add(n,t)),t}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(n,t){var i=this,o=n.owner,f,r,u,e;i.owner=o;i.stub=n;Ext.util.Schedulable.prototype.constructor.call(this);t instanceof Function?i.get=u=t:(i.get=u=t.get,i.set=t.set,r=t.bind,t.single&&(i.single=t.single),r&&(f=r.bindTo,f&&(e=Ext.apply({},r),delete e.bindTo,r=f)));r?i.explicit=!0:r=u.$expressions||i.parseFormula(u);i.binding=o.bind(r,i.onChange,i,e)},destroy:function(){var n=this,t=n.binding,i=n.stub;t&&(t.destroy(),n.binding=null);i&&(i.formula=null);Ext.util.Schedulable.prototype.destroy.call(this);n.getterFn=n.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+Ext.util.Schedulable.prototype.getFullName.call(this)+")")},getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(n){var u=n.toString(),i={$literal:!0},t,f,e,r;for(t=this.argumentNamesRe.exec(u),f=t?t[1]:"get",e=Ext.app.bind.Formula.getFormulaParser(f);t=e.exec(u);)r=t[2],i[r]=r;return i.$literal=!0,n.$expressions=i,i},react:function(){var n=this,t=n.owner,i=n.binding.lastValue,u=n.getterFn,r;r=n.explicit?i:t.getFormulaFn(i);n.settingValue=!0;n.stub.set(n.calculation=n.get.call(t,r));n.settingValue=!1;n.single&&n.destroy()},setValue:function(n){this.set.call(this.stub.owner,n)},privates:{getScheduler:function(){var n=this.owner;return n&&n.getScheduler()},sort:function(){var n=this,t=n.binding;t.destroyed||n.scheduler.sortItem(t)}}},1,0,0,0,0,0,[Ext.app.bind,"Formula"],0);Ext.cmd.derive("Ext.app.bind.Template",Ext.Base,{numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(n){var t=this,r=t._initters,i;t.text=n;for(i in r)t[i]=r[i]},_initters:{apply:function(n,t){return this.parse().apply(n,t)},getTokens:function(){return this.parse().getTokens()}},apply:function(n,t){for(var f=this,e=f.slots,o=f.buffer,s=e.length,r,i,u=0;u<s;++u)r=e[u],r&&((i=n[r.pos])==null&&(i=""),r.not&&(i=!i),r.format&&(i=r.format(i,t)),o[u]=i);return o.join("")},getTokens:function(){return this.tokens},parse:function(){var n=this,f=n.text,s=[],a=[],h=[],c={},r=0,p=n.tokenRe,l=0,e,v,o,i,y,t,u;for(v in n._initters)delete n[v];for(n.buffer=s,n.slots=a,n.tokens=h;i=p.exec(f);)o=i.index-r,o&&(s[l++]=f.substring(r,r+o),r+=o),r+=(y=i[0]).length,t={fmt:e=i[3]||null,index:i[1]?parseInt(i[1],10):null,not:y.charAt(1)==="!",token:i[2]||null},u=t.token||String(t.index),u in c?t.pos=c[u]:(c[u]=t.pos=h.length,h.push(u)),e&&(e.substring(0,5)==="this."?t.fmt=e.substring(5):t.scope=Ext.util.Format,n.parseArgs(i[4],t)),a[l++]=t;return r<f.length&&(s[l++]=f.substring(r)),n},parseArgs:function(n,t){var f=this,o=f.numberRe,s=f.stringRe,r,i,u,e;for(i=n?n.indexOf(",")<0?[n]:n.split(","):[],t=t||{},e=i.length,t.args=i,u=0;u<e;++u)if(r=i[u],r==="true")i[u]=!0;else if(r==="false")i[u]=!1;else if(r==="null")i[u]=null;else if(o.test(r))i[u]=parseFloat(r);else if(s.test(r))i[u]=r.substring(1,r.length-1);else{t.fn=Ext.functionFactory("return ["+n+"];");t.format=f._formatEval;break}return t.format||(i.unshift(0),t.format=f._formatArgs),t},parseFormat:function(n){var i=this,u=i.formatRe.exec(n),t={fmt:n,scope:Ext.util.Format},r;return r=u[2],r?(t.fmt=u[1],i.parseArgs(r,t)):(t.args=[0],t.format=i._formatArgs),t},_formatArgs:function(n,t){return t=this.scope||t,this.args[0]=n,t[this.fmt].apply(t,this.args)},_formatEval:function(n,t){var i=this.fn();return i.unshift(n),t=this.scope||t,t[this.fmt].apply(t,i)}},1,0,0,0,0,0,[Ext.app.bind,"Template"],0);Ext.cmd.derive("Ext.app.bind.TemplateBinding",Ext.app.bind.BaseBinding,{isTemplateBinding:!0,lastValue:undefined,value:undefined,constructor:function(n,t,i,r,u){var f=this,o=new Ext.app.bind.Template(n),e=o.getTokens();if(Ext.app.bind.BaseBinding.prototype.constructor.call(this,t,i,r,u),f.tpl=o,f.tokens=e,e.$literal=!0,e.length)f.multiBinding=new Ext.app.bind.Multi(e,t,f.onBindData,f);else{f.isStatic=!0;f.onData(o.text)}},destroy:function(){var n=this;Ext.destroy(n.multiBinding);n.tpl=n.multiBinding=null;Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var n=this.multiBinding;return this.fullName||(this.fullName="$"+(n?n.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return!1},isLoading:function(){var n=this.multiBinding;return n?n.isLoading():!1},onBindData:function(n){this.onData(this.tpl.apply(n,this.getTemplateScope()))},onData:function(n){var t=this,i=t.value;i!==(t.value=n)&&(t.lastValue=i,t.schedule())},react:function(){this.notify(this.value)},refresh:function(){var n=this.multiBinding;n&&n.refresh()},privates:{sort:function(){var n=this.multiBinding;n&&this.scheduler.sortItem(n)}}},1,0,0,0,0,0,[Ext.app.bind,"TemplateBinding"],0);Ext.cmd.derive("Ext.data.ChainedStore",Ext.data.AbstractStore,{config:{source:null,remoteFilter:!1,remoteSort:!1},constructor:function(){Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);this.getData().addObserver(this)},blockLoad:Ext.emptyFn,unblockLoad:Ext.emptyFn,remove:function(){var n=this.getSource();return n.remove.apply(n,arguments)},getData:function(){var n=this,t=n.data;return t||(n.data=t=n.constructDataCollection()),t},getSession:function(){return this.getSource().getSession()},applySource:function(n){return n&&(n=Ext.data.StoreManager.lookup(n)),n},updateSource:function(n,t){var i=this,r;t&&t.removeObserver(i);n&&(r=i.getData(),r.setSource(n.getData()),i.isInitializing||(i.fireEvent("refresh",i),i.fireEvent("datachanged",i)),n.addObserver(i))},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(n,t){var i=this,r=t.items,u=!t.next;i.ignoreCollectionAdd||(i.fireEvent("add",i,r,t.at),u&&i.fireEvent("datachanged",i))},onCollectionItemChange:function(n,t){var i=this,r=t.item,u=t.modified||null,f=t.meta;i.onUpdate(r,f,u,t);i.fireEvent("update",i,r,f,u,t)},onUpdate:Ext.emptyFn,onCollectionRemove:function(n,t){var i=this,r=t.items,u=!t.next;i.ignoreCollectionRemove||(i.fireEvent("remove",i,r,t.at,!1),u&&i.fireEvent("datachanged",i))},onSourceBeforeLoad:function(n,t){this.fireEvent("beforeload",this,t)},onSourceAfterLoad:function(n,t,i,r){this.fireEvent("load",this,t,i,r)},onFilterEndUpdate:function(){Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0;this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var n=this;n.ignoreCollectionAdd=!1;n.fireEvent("datachanged",n);n.fireEvent("refresh",n);this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(n,t){var i=this;i.ignoreCollectionRemove=!1;t||(i.fireEvent("clear",i),i.fireEvent("datachanged",i));this.callObservers("AfterRemoveAll",[t])},onSourceFilter:function(){var n=this;n.fireEvent("refresh",n);n.fireEvent("datachanged",n)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},onDestroy:function(){var n=this;n.observers=null;n.setSource(null);n.getData().destroy(!0);n.data=null},privates:{isMoving:function(){var n=this.getSource();return n.isMoving?n.isMoving.apply(n,arguments):!1},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},1,0,0,0,["store.chained"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"ChainedStore"],0);Ext.cmd.derive("Ext.app.ViewModel",Ext.Base,{isViewModel:!0,factoryConfig:{name:"viewModel"},destroyed:!1,collectTimeout:100,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(n,t,i,r){return this.mergeNew(n,t,i,r)}},links:null,parent:null,root:!0,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(n){this.hadValue={};this.initConfig(n)},destroy:function(){var n=this,i=n._scheduler,r=n.storeInfo,f=n.getParent(),e=n.collectTask,o,t,u;if(n.destroy=Ext.emptyFn,n.destroying=!0,e&&(e.cancel(),n.collectTask=null),r)for(o in r)t=r[o],u=t.autoDestroy,(u||!t.$wasInstance&&u!==!1)&&t.destroy(),Ext.destroy(t.$binding);f&&f.unregisterChild(n);n.getRoot().destroy();i&&i.$owner===n&&(i.$owner=null,i.destroy());n.hadValue=n.children=n.storeInfo=n._session=n._view=n._scheduler=n._root=n._parent=n.formulaFn=n.$formulaData=null;n.destroying=!1},bind:function(n,t,i,r){var u=this,f;return i=i||u,r||n.bindTo===undefined||Ext.isString(n)||(r=n,n=r.bindTo),Ext.isString(n)?u.expressionRe.test(n)?(n=n.substring(1,n.length-1),f=u.bindExpression(n,t,i,r)):f=new Ext.app.bind.TemplateBinding(n,u,t,i,r):f=new Ext.app.bind.Multi(n,u,t,i,r),f},getSession:function(){var n=this,t=n._session,i;return!t&&(i=n.getParent())&&n.setSession(t=i.getSession()),t||null},getStore:function(n){var t=this.storeInfo,i;return t&&(i=t[n]),i||null},linkTo:function(n,t){var f=this,i=f.getStub(n),u,e,o,s,r;t.isModel&&(t={type:t.entityName,id:t.id});o=t.type||t.reference;u=t.create;o?(e=t.id,u&&(e=undefined),r=f.getRecord(o,e),Ext.isObject(u)&&(r.set(u),r.commit(),r.phantom=!0),i.set(r)):(i.isLinkStub||(s=new Ext.app.bind.LinkStub(f,i.name),i.graft(s),i=s),i.link(t))},notify:function(){this.getScheduler().notify()},get:function(n){return this.getStub(n).getValue()},set:function(n,t){var i=this,u,r;i.getData();t===undefined&&n&&n.constructor===Object?(r=i.getRoot(),t=n):n&&n.indexOf(".")<0?(u={},u[n]=t,t=u,r=i.getRoot()):r=i.getStub(n);r.set(t)},privates:{registerChild:function(n){var t=this.children;t||(this.children=t={});t[n.getId()]=n},unregisterChild:function(n){var t=this.children;t&&delete t[n.getId()]},getRecord:function(n,t){var u=this.getSession(),i=n,f=t!==undefined,r;return u?r=f?u.getRecord(n,t):u.createRecord(n):(i.$isClass||(i=this.getSchema().getEntity(i)),f?(r=i.createWithId(t),r.load()):r=new i),r},notFn:function(n){return!n},bindExpression:function(n,t,i,r){var e=n.charAt(0),f=e==="!",o=f?n.substring(1):n,s=this.getStub(o),u;return u=s.bind(t,i,r),f&&(u.transform=this.notFn),u},applyScheduler:function(n){return n&&!n.isInstance&&(n=new Ext.util.Scheduler(n),n.$owner=this),n},getScheduler:function(){var t=this,n=t._scheduler,i;return n||((i=t.getParent())?n=i.getScheduler():(n=new Ext.util.Scheduler({preSort:"kind,-depth"}),n.$owner=t),t.setScheduler(n)),n},getStub:function(n){var t=this.getRoot();return n?t.getChild(n):t},collect:function(){var n=this,i=n.getParent(),t=n.collectTask;if(i){i.collect();return}t||(t=n.collectTask=new Ext.util.DelayedTask(n.doCollect,n));n.collectTimeout===0?n.doCollect():t.delay(n.collectTimeout)},doCollect:function(){var n=this.children,t;if(n)for(t in n)n[t].doCollect();this.getRoot().collect()},onBindDestroy:function(){var n=this,t;n.destroying||(t=n.getParent(),t?t.onBindDestroy():n.collect())},applyData:function(n,t){var i=this,u,r;i.getSession();t||(r=i.getParent(),i.linkData=u=r?Ext.Object.chain(r.getData()):{},i.data=i._data=Ext.Object.chain(u));n&&n.constructor===Object&&i.getRoot().set(n)},applyParent:function(n){return n&&n.registerChild(this),n},applyStores:function(n){var i=this,o=i.getRoot(),r,t,u,e,f;i.storeInfo={};i.listenerScopeFn=function(){return i.getView().getInheritedConfig("defaultListenerScope")};for(r in n){if(t=n[r],t.isStore){t.$wasInstance=!0;i.setupStore(t,r);continue}else t=Ext.isString(t)?{source:t}:Ext.apply({},t);f=t.listeners;delete t.listeners;u=i.bind(t,i.onStoreBind,i,{trackStatics:!0});u.isStatic()?(u.destroy(),i.createStore(r,t,f)):(u.$storeKey=r,u.$listeners=f,e=o.createStubChild(r),e.setStore(u))}},onStoreBind:function(n,t,i){var e=this.storeInfo,f=i.$storeKey,r=e[f],u;r?(n=Ext.merge({},i.pruneStaticKeys()),u=n.proxy,delete n.type,delete n.model,delete n.fields,delete n.proxy,delete n.listeners,u&&(delete u.reader,delete u.writer,r.getProxy().setConfig(u)),r.blockLoad(),r.setConfig(n),r.unblockLoad(!0)):this.createStore(f,n,i.$listeners,i)},createStore:function(n,t,i,r){var f=this.getSession(),u;t=Ext.apply({},t);t.session&&(t.session=f);t.source&&(t.type=t.type||"chained");t.listeners=i;u=Ext.Factory.store(t);u.$binding=r;this.setupStore(u,n)},setupStore:function(n,t){n.resolveListenerScope=this.listenerScopeFn;this.storeInfo[t]=n;this.set(t,n)},applyFormulas:function(n){var i=this,u=i.getRoot(),t,r;i.getData();for(t in n)u.createStubChild(t),r=i.getStub(t),r.setFormula(n[t]);return n},applyLinks:function(n){for(var t in n)this.linkTo(t,n[t])},applySchema:function(n){return Ext.data.schema.Schema.get(n)},applyRoot:function(){var n=new Ext.app.bind.RootStub(this),t=this.getParent();return t&&(n.depth=t.getRoot().depth-1e3),n},getFormulaFn:function(n){var t=this,i=t.formulaFn;return i||(i=t.formulaFn=function(n){return t.$formulaData[n]}),t.$formulaData=n,i}}},1,0,0,0,["viewmodel.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,"ViewModel"],0);Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:!0,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var n=this;n.callParent();n.monitor(Ext.app.BaseController)},match:function(n,t){var i=!1,r=n.alias;return t==="*"?i=!0:t==="#"?i=!!n.isApplication:this.idMatchRe.test(t)?i=n.getId()===t.substring(1):r&&(i=Ext.Array.indexOf(r,this.prefix+t)>-1),i}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0);Ext.cmd.derive("Ext.direct.Manager",Ext.Base,{singleton:!0,exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"Ext.app.REMOTING_API"},apiNotFoundError:"Ext Direct API was not found at {0}",constructor:function(){var n=this;n.mixins.observable.constructor.call(n);n.transactions=new Ext.util.MixedCollection;n.providers=new Ext.util.MixedCollection},addProvider:function(n){var t=this,r=arguments,f=t.relayers||(t.relayers={}),i,u;if(r.length>1){for(i=0,u=r.length;i<u;++i)t.addProvider(r[i]);return}n.isProvider||(n=Ext.create("direct."+n.type+"provider",n));t.providers.add(n);n.on("data",t.onProviderData,t);return n.relayedEvents&&(f[n.id]=t.relayEvents(n,n.relayedEvents)),n.isConnected()||n.connect(),n},loadProvider:function(n,t,i){var r=this,s=r.providerClasses,e,u,h,o,f,c;if(Ext.isArray(n)){for(f=0,c=n.length;f<c;f++)r.loadProvider(n[f],t,i);return}if(e=n.type,u=n.url,s[e]&&s[e].checkConfig(n)){o=r.addProvider(n);r.fireEventArgs("providerload",[u,o]);Ext.callback(t,i,[u,o]);return}h=n.varName||r.getVarName();delete n.varName;delete n.url;Ext.Loader.loadScript({url:u,scope:r,onLoad:function(){this.onApiLoadSuccess({url:u,varName:h,config:n,callback:t,scope:i})},onError:function(){this.onApiLoadFailure({url:u,callback:t,scope:i})}})},getProvider:function(n){return n.isProvider?n:this.providers.get(n)},removeProvider:function(n){var t=this,u=t.providers,r=t.relayers,i;return(n=n.isProvider?n:u.get(n),n)?(n.un("data",t.onProviderData,t),i=n.id,r[i]&&(r[i].destroy(),delete r[i]),u.remove(n),n):null},addTransaction:function(n){return this.transactions.add(n),n},removeTransaction:function(n){var t=this;return n=t.getTransaction(n),t.transactions.remove(n),n},getTransaction:function(n){return typeof n=="object"?n:this.transactions.get(n)},onProviderData:function(n,t){var i=this,r,u;if(Ext.isArray(t)){for(r=0,u=t.length;r<u;++r)i.onProviderData(n,t[r]);return}t.name&&t.name!=="event"&&t.name!=="exception"?i.fireEvent(t.name,t):t.status===!1&&i.fireEvent("exception",t);i.fireEvent("event",t,n)},parseMethod:function(n){var t=Ext.global,r=0,i,u,f;if(Ext.isFunction(n))i=n;else if(Ext.isString(n)&&(i=this.remotingMethods[n],!i)){for(u=n.split("."),f=u.length;t&&r<f;)t=t[u[r]],++r;i=Ext.isFunction(t)?t:null}return i||null},privates:{addProviderClass:function(n,t){this.providerClasses[n]=t},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName));provider=me.addProvider(api)}catch(e){error=e+""}error?(me.fireEventArgs("providerloaderror",[url,error]),Ext.callback(options.callback,options.scope,[url,error])):(me.fireEventArgs("providerload",[url,provider]),Ext.callback(options.callback,options.scope,[url,provider]))},onApiLoadFailure:function(n){var t=n.url,i;i=Ext.String.format(this.apiNotFoundError,t);this.fireEventArgs("providerloaderror",[t,i]);Ext.callback(n.callback,n.scope,[t,i])},registerMethod:function(n,t){this.remotingMethods[n]=t},clearAllMethods:function(){this.remotingMethods={}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,"Manager"],function(){Ext.Direct=Ext.direct.Manager});Ext.cmd.derive("Ext.direct.Provider",Ext.Base,{isProvider:!0,subscribers:0,constructor:function(n){var t=this;Ext.apply(t,n);Ext.applyIf(t,{id:Ext.id(null,"provider-")});t.mixins.observable.constructor.call(t,n)},destroy:function(){var n=this;n.disconnect(!0);n.mixins.observable.destroy.call(n)},isConnected:function(){return this.subscribers>0},connect:function(){var n=this;n.subscribers===0&&(n.doConnect(),n.fireEventArgs("connect",[n]));n.subscribers++},doConnect:Ext.emptyFn,disconnect:function(n){var t=this;t.subscribers>0&&(n?t.subscribers=0:t.subscribers--,t.subscribers===0&&(t.doDisconnect(),t.fireEventArgs("disconnect",[t])))},doDisconnect:Ext.emptyFn,inheritableStatics:{checkConfig:Ext.returnFalse},onClassExtended:function(n,t){t.type&&Ext.direct.Manager.addProviderClass(t.type,n)}},1,0,0,0,["direct.provider"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext.direct,"Provider"],0);Ext.cmd.derive("Ext.app.domain.Direct",Ext.app.EventDomain,{singleton:!0,type:"direct",idProperty:"id",constructor:function(){var n=this;n.callParent();n.monitor(Ext.direct.Provider)}},1,0,0,0,0,0,[Ext.app.domain,"Direct"],0);Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:""},clear:function(){var n=this;n.pageMapGeneration=(n.pageMapGeneration||0)+1;n.indexMap={};Ext.util.LruCache.prototype.clear.apply(this,arguments)},forEach:function(n,t){for(var f=this,r=Ext.Object.getKeys(f.map),s=r.length,c=f.getPageSize(),u,e,o,h,i=0;i<s;i++)r[i]=+r[i];for(Ext.Array.sort(r,Ext.Array.numericSortFn),t=t||f,i=0;i<s;i++)for(e=r[i],o=f.getPage(e),h=o.length,u=0;u<h;u++)if(n.call(t,o[u],(e-1)*c+u)===!1)return},findBy:function(n,t){var i=this,r=null;return t=t||i,i.forEach(function(i,u){if(n.call(t,i,u))return r=i,!1}),r},findIndexBy:function(n,t){var i=this,r=-1;return t=t||i,i.forEach(function(i,u){if(n.call(t,i))return r=u,!1}),r},find:function(n,t,i,r,u,f){if(Ext.isEmpty(t,!1))return null;var o=Ext.String.createRegex(t,r,u,f),e=this.getRootProperty();return this.findBy(function(t){return t&&o.test((e?t[e]:t)[n])},null,i)},findIndex:function(n,t,i,r,u,f){if(Ext.isEmpty(t,!1))return null;var o=Ext.String.createRegex(t,r,u,f),e=this.getRootProperty();return this.findIndexBy(function(t){return t&&o.test((e?t[e]:t)[n])},null,i)},getPageFromRecordIndex:function(n){return Math.floor(n/this.getPageSize())+1},addAll:function(n){this.addPage(1,n)},addPage:function(n,t){for(var i=this,u=i.getPageSize(),s=n+Math.floor((t.length-1)/u),h=(n-1)*u,c=i.indexMap,r,e,o,f=0;n<=s;n++,f+=u){for(r=Ext.Array.slice(t,f,f+u),e=0,o=r.length;e<o;e++)c[r[e].internalId]=h++;i.add(n,r);i.fireEvent("pageadd",i,n,r)}},getCount:function(){var n=Ext.util.LruCache.prototype.getCount.call(this);return n&&(n=(n-1)*this.getPageSize()+this.last.value.length),n},getByInternalId:function(n){var t=this.indexMap[n];if(t!==-1)return this.getAt(t)},indexOf:function(n){var t=-1;return n&&(t=this.indexMap[n.internalId],t==null&&(t=-1)),t},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(n){var t=this,i=t.getPage(n),u,r,f;if(i&&t.fireEvent("beforepageremove",t,n,i)!==!1){for(u=i.length,r=0;r<u;r++)delete t.indexMap[i[r].internalId];f=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments);t.fireEvent("pageremove",t,n,i);i.length=0}return f},getPage:function(n){return this.get(n)},hasRange:function(n,t){for(var i=this.getPageFromRecordIndex(n),r=this.getPageFromRecordIndex(t);i<=r;i++)if(!this.hasPage(i))return!1;return!0},hasPage:function(n){return!!this.get(n)},peekPage:function(n){return this.map[n]},getAt:function(n){return this.getRange(n,n+1)[0]},getRange:function(n,t){t--;this.hasRange(n,t)||Ext.Error.raise("PageMap asked for range which it does not have");for(var r=this,f=r.getPageSize(),e=r.getPageFromRecordIndex(n),o=r.getPageFromRecordIndex(t),l=(e-1)*f,a=o*f-1,i=e,s=[],h,c,u;i<=o;i++)i===e?(h=n-l,u=!0):(h=0,u=!1),i===o&&(c=f-(a-t),u=!0),u?Ext.Array.push(s,Ext.Array.slice(r.getPage(i),h,c)):Ext.Array.push(s,r.getPage(i));return s}},0,0,0,0,0,0,[Ext.data,"PageMap"],0);Ext.cmd.derive("Ext.data.BufferedStore",Ext.data.ProxyStore,{isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(){return this.data||(this.data=this.createDataCollection())},applyProxy:function(n){return n=Ext.data.ProxyStore.prototype.applyProxy.call(this,n),n&&n.setEnablePaging&&n.setEnablePaging(!0),n},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateGroupField:function(n){var t=this;t.isInitializing&&t.blockLoad();t.group(n);t.isInitializing&&t.unblockLoad()},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var n=this,t=new Ext.data.PageMap({store:n,rootProperty:"data",pageSize:n.getPageSize(),maxSize:n.getPurgePageCount(),listeners:{clear:n.onPageMapClear,scope:n}});return n.relayEvents(t,["beforepageremove","pageadd","pageremove"]),n.pageRequests={},t},removeAll:function(n){var t=this,i=t.getData();i&&(n&&t.suspendEvent("clear"),i.clear(),n&&t.resumeEvent("clear"))},load:function(n){var t=this;return n=n||{},t.getData().clear(),n.page=1,n.start=0,n.limit=t.getViewSize()||t.getDefaultViewSize(),n.loadCallback=n.callback,delete n.callback,t.loadToPrefetch(n)},reload:function(n){var t=this,u=t.getData(),s=Number.MAX_VALUE,i,r,h,c,f,e,o,l;if(!t.loading&&(n||(n={}),u.clear(!0),e=function(){t.rangeCached(i,r)&&(t.loading=!1,u.un("pageadd",e),l=u.getRange(i,r+1),t.fireEvent("load",t,l,!0),t.fireEvent("refresh",t))},o=Math.ceil((t.getLeadingBufferZone()+t.getTrailingBufferZone())/2),t.lastRequestStart?(i=t.lastRequestStart,r=t.lastRequestEnd,s=t.getTotalCount()):(i=n.start||0,r=i+(n.count||t.getPageSize())-1),delete t.totalCount,i=Math.max(i-o,0),r=Math.min(r+o,s),h=t.getPageFromRecordIndex(i),c=t.getPageFromRecordIndex(r),t.fireEvent("beforeload",t,n)!==!1)){t.loading=!0;u.on("pageadd",e);for(f=h;f<=c;f++)t.prefetchPage(f,n)}},filter:function(){this.remoteSort&&(this.getData().clear(),Ext.data.ProxyStore.prototype.filter.apply(this,arguments));Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},clearFilter:function(){this.getData().clear();Ext.data.ProxyStore.prototype.clearFilter.apply(this,arguments)},filterBy:function(){},loadData:function(){},loadPage:function(n,t){var i=this;return t=t||{},t.page=i.currentPage=n,t.start=(n-1)*i.getPageSize(),t.limit=i.getViewSize()||i.getDefaultViewSize(),t.loadCallback=t.callback,delete t.callback,i.loadToPrefetch(t)},clearData:function(){var t=this,n=t.getData();n&&n.clear()},getCount:function(){return this.totalCount||0},getRange:function(n,t,i){var r=this,s=r.totalCount-1,a=r.lastRequestStart,h=[],e=r.getData(),o,u,f,c,l;if(i=Ext.apply({prefetchStart:n,prefetchEnd:t},i),t=t>=r.totalCount?s:t,u=n===0?0:n-1,f=t===s?t:t+1,r.lastRequestStart=n,r.lastRequestEnd=t,r.rangeCached(u,f)){r.onRangeAvailable(i);h=e.getRange(n,t+1)}else{r.fireEvent("cachemiss",r,n,t);c=r.getPageFromRecordIndex(u);l=r.getPageFromRecordIndex(f);o=function(s,h){if(h>=c&&h<=l&&r.rangeCached(u,f)){r.fireEvent("cachefilled",r,n,t);e.un("pageadd",o);r.onRangeAvailable(i)}};e.on("pageadd",o);r.prefetchRange(n,t)}return r.primeCache(n,t,n<a?-1:1),h},getById:function(n){return this.data.findBy(function(t){return t.getId()===n})},getAt:function(n){var t=this.getData();if(t.hasRange(n,n))return t.getAt(n)},getByInternalId:function(n){return this.data.getByInternalId(n)},indexOf:function(n){return this.getData().indexOf(n)},indexOfId:function(n){return this.indexOf(this.getById(n))},group:function(n,t){var i=this,r;(n&&typeof n=="string"?(r=i.grouper,r?t===undefined?r.toggle():r.setDirection(t):i.grouper=new Ext.util.Grouper({property:n,direction:t||"ASC",root:"data"})):i.grouper=n?i.getSorters().decodeSorter(n,"Ext.util.Grouper"):null,i.isLoadBlocked())||(i.getData().clear(),i.loadPage(1,{callback:function(){i.fireEvent("groupchange",i,i.getGrouper())}}))},getPageFromRecordIndex:function(n){return Math.floor(n/this.getPageSize())+1},calculatePageCacheSize:function(n){var t=this,i=t.getPurgePageCount();return i?Math.max(t.getData().getMaxSize()||0,Math.ceil((n+t.getTrailingBufferZone()+t.getLeadingBufferZone())/t.getPageSize())*2+i):0},loadToPrefetch:function(n){var t=this,u=n,f,e,s,r=n.start,h=n.start+n.limit-1,c=t.getViewSize()||n.limit,i=Math.min(h,n.start+c-1),l=t.getPageFromRecordIndex(Math.max(r-t.getTrailingBufferZone(),0)),a=t.getPageFromRecordIndex(h+t.getLeadingBufferZone()),o=t.getData(),v=function(){t.rangeCached(r,i)&&(t.loading=!1,e=o.getRange(r,i+1),o.un("pageadd",v),t.hasListeners.guaranteedrange&&t.guaranteeRange(r,i,n.callback,n.scope),n.loadCallback&&n.loadCallback.call(n.scope||t,e,y,!0),n.callback&&n.callback.call(n.scope||t,e,r,h,n),t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.fireEvent("load",t,e,!0))},y;if(o.setMaxSize(t.calculatePageCacheSize(c)),t.fireEvent("beforeload",t,n)!==!1){delete t.totalCount;t.loading=!0;n.callback&&(u=Ext.apply({},n),delete u.callback);t.on("prefetch",function(n,r,e,h){if(e)if(y=h,s=t.getTotalCount()){o.on("pageadd",v);for(i=Math.min(i,s-1),a=t.getPageFromRecordIndex(Math.min(i+t.getLeadingBufferZone(),s-1)),f=l+1;f<=a;++f)t.prefetchPage(f,u)}else t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.fireEvent("load",t,r,!0);else t.fireEvent("load",t,r,!1)},null,{single:!0});t.prefetchPage(l,u)}},prefetch:function(n){var t=this,i=t.getPageSize(),r=t.getData(),f,u;return i?(t.lastPageSize&&i!=t.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),r.getPageSize()||r.setPageSize(i)):t.pageSize=r.setPageSize(i=n.limit),t.lastPageSize=i,n.page||(n.page=t.getPageFromRecordIndex(n.start),n.start=(n.page-1)*i,n.limit=Math.ceil(n.limit/i)*i),t.pageRequests[n.page]||(f=t.proxy,n=Ext.apply({action:"read",filters:t.getFilters().items,sorters:t.getSorters().items,grouper:t.getGrouper(),internalCallback:t.onProxyPrefetch,internalScope:t},n),u=f.createOperation("read",n),u.pageMapGeneration=r.pageMapGeneration,t.fireEvent("beforeprefetch",t,u)!==!1&&(t.pageRequests[n.page]=u.execute(),f.isSynchronous&&delete t.pageRequests[n.page])),t},onPageMapClear:function(){var n=this,f=n.wasLoading,t=n.pageRequests,r=n.getData(),u,i;r.clearListeners();r.on("clear",n.onPageMapClear,n);n.relayEvents(r,["beforepageremove","pageadd","pageremove"]);n.loading=!0;n.totalCount=0;for(i in t)t.hasOwnProperty(i)&&(u=t[i],delete t[i],delete u.callback);n.fireEvent("clear",n);n.loading=f},prefetchPage:function(n,t){var i=this,r=i.getPageSize(),f=(n-1)*r,u=i.totalCount;(u===undefined||i.data.getCount()!==u)&&i.prefetch(Ext.applyIf({page:n,start:f,limit:r},t))},onProxyPrefetch:function(n){var t=this,u=n.getResultSet(),i=n.getRecords(),r=n.wasSuccessful(),f=n.getPage(),e=t.totalCount;n.pageMapGeneration===t.getData().pageMapGeneration&&(u&&(t.totalCount=u.getTotal(),t.totalCount!==e&&t.fireEvent("totalcountchange",t.totalCount)),f!==undefined&&delete t.pageRequests[f],t.loading=!1,t.fireEvent("prefetch",t,i,r,n),r&&t.cachePage(i,n.getPage()),Ext.callback(n.getCallback(),n.getScope()||t,[i,n,r]))},cachePage:function(n,t){var i=this,u=n.length,r;for(Ext.isDefined(i.totalCount)||(i.totalCount=n.length,i.fireEvent("totalcountchange",i.totalCount)),r=0;r<u;r++)n[r].join(i);i.getData().addPage(t,n)},rangeCached:function(n,t){return this.getData().hasRange(n,t)},pageCached:function(n){return this.getData().hasPage(n)},pagePending:function(n){return!!this.pageRequests[n]},rangeSatisfied:function(n,t){return this.rangeCached(n,t)},onRangeAvailable:function(n){var i=this,f=i.getTotalCount(),r=n.prefetchStart,t=n.prefetchEnd>f-1?f-1:n.prefetchEnd,u;t=Math.max(0,t);u=i.getData().getRange(r,t+1);n.fireEvent!==!1&&i.fireEvent("guaranteedrange",u,r,t,n);n.callback&&n.callback.call(n.scope||i,u,r,t,n)},guaranteeRange:function(n,t,i,r,u){u=Ext.apply({callback:i,scope:r},u);this.getRange(n,t+1,u)},prefetchRange:function(n,t){var i=this,u,f,r,e=i.getData();if(!i.rangeCached(n,t))for(u=i.getPageFromRecordIndex(n),f=i.getPageFromRecordIndex(t),e.setMaxSize(i.calculatePageCacheSize(t-n+1)),r=u;r<=f;r++)i.pageCached(r)||i.prefetchPage(r)},primeCache:function(n,t,i){var r=this,f=r.getLeadingBufferZone(),e=r.getTrailingBufferZone(),o=r.getPageSize(),u=r.totalCount;i===-1?(n=Math.max(n-f,0),t=Math.min(t+e,u-1)):i===1?(n=Math.max(Math.min(n-e,u-o),0),t=Math.min(t+f,u-1)):(n=Math.min(Math.max(Math.floor(n-(f+e)/2),0),u-r.pageSize),t=Math.min(Math.max(Math.ceil(t+(f+e)/2),0),u-1));r.prefetchRange(n,t)},sort:function(n,t,i){arguments.length===0?this.clearAndLoad():this.getSorters().addSort(n,t,i)},onSorterEndUpdate:function(){var n=this,t=n.getSorters().getRange();t.length?n.clearAndLoad({callback:function(){n.fireEvent("sort",n,t)}}):n.fireEvent("sort",n,t)},clearAndLoad:function(n){this.getData().clear();this.loadPage(1,n)},privates:{isLast:function(n){return this.indexOf(n)===this.getTotalCount()-1},isMoving:function(){return!1}}},0,0,0,0,["store.buffered"],0,[Ext.data,"BufferedStore"],0);Ext.cmd.derive("Ext.data.proxy.Direct",Ext.data.proxy.Server,{alternateClassName:"Ext.data.DirectProxy",config:{paramOrder:undefined,paramsAsHash:!0,directFn:undefined,api:undefined,metadata:undefined},paramOrderRe:/[\s,|]/,applyParamOrder:function(n){return Ext.isString(n)&&(n=n.split(this.paramOrderRe)),n},updateApi:function(){this.methodsResolved=!1},updateDirectFn:function(){this.methodsResolved=!1},resolveMethods:function(){var r=this,n=r.getDirectFn(),t=r.getApi(),u=Ext.direct.Manager,i;if(n&&(r.setDirectFn(i=u.parseMethod(n)),Ext.isFunction(i)||Ext.Error.raise("Cannot resolve directFn "+n)),t)for(n in t)t.hasOwnProperty(n)&&(i=t[n],t[n]=u.parseMethod(i),Ext.isFunction(t[n])||Ext.Error.raise("Cannot resolve Direct api "+n+" method "+i));r.methodsResolved=!0},doRequest:function(n){var t=this,u,i,f,s,e,o,r;return t.methodsResolved||t.resolveMethods(),i=t.buildRequest(n),f=i.getAction(),o=t.getApi(),o&&(r=o[f]),r=r||t.getDirectFn(),u=t.getWriter(),u&&n.allowWrite()&&(i=u.write(i)),s=f==="read"?i.getParams():i.getJsonData(),e=r.directCfg.method.getArgs({params:s,paramOrder:t.getParamOrder(),paramsAsHash:t.getParamsAsHash(),metadata:t.getMetadata(),callback:t.createRequestCallback(i,n),scope:t}),i.setConfig({args:e,directFn:r}),r.apply(window,e),i},applyEncoding:Ext.identityFn,createRequestCallback:function(n,t){var i=this;return function(r,u){i.processResponse(u.status,t,n,u)}},extractResponseData:function(n){return Ext.isDefined(n.result)?n.result:n.data},setException:function(n,t){n.setException(t.message)},buildUrl:function(){return""}},0,0,0,0,["proxy.direct"],0,[Ext.data.proxy,"Direct",Ext.data,"DirectProxy"],0);Ext.cmd.derive("Ext.data.DirectStore",Ext.data.Store,{constructor:function(n){if(n=Ext.apply({},n),!n.proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,n,"paramOrder,paramsAsHash,directFn,api,simpleSortMode,extraParams");Ext.copyTo(t.reader,n,"totalProperty,root,rootProperty,idProperty");n.proxy=t}Ext.data.Store.prototype.constructor.call(this,n)}},1,0,0,0,["store.direct"],0,[Ext.data,"DirectStore"],0);Ext.cmd.derive("Ext.data.JsonP",Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(n){n=Ext.apply({},n);var t=this,l=Ext.isDefined(n.disableCaching)?n.disableCaching:t.disableCaching,e=n.disableCachingParam||t.disableCachingParam,u=++t.requestCount,f=n.callbackName||"callback"+u,o=n.callbackKey||t.callbackKey,s=Ext.isDefined(n.timeout)?n.timeout:t.timeout,r=Ext.apply({},n.params),h=n.url,a=Ext.name,i,c;return l&&!r[e]&&(r[e]=Ext.Date.now()),n.params=r,r[o]=a+".data.JsonP."+f,c=t.createScript(h,r,n),t.requests[u]=i={url:h,params:r,script:c,id:u,scope:n.scope,success:n.success,failure:n.failure,callback:n.callback,callbackKey:o,callbackName:f},s>0&&(i.timeout=Ext.defer(t.handleTimeout,s,t,[i])),t.setupErrorHandling(i),t[f]=Ext.bind(t.handleResponse,t,[i],!0),t.loadScript(i),i},abort:function(n){var i=this,t=i.requests,r;if(n)n.id||(n=t[n]),i.handleAbort(n);else for(r in t)t.hasOwnProperty(r)&&i.abort(t[r])},setupErrorHandling:function(n){n.script.onerror=Ext.bind(this.handleError,this,[n])},handleAbort:function(n){n.errorType="abort";this.handleResponse(null,n)},handleError:function(n){n.errorType="error";this.handleResponse(null,n)},cleanupErrorHandling:function(n){n.script.onerror=null},handleTimeout:function(n){n.errorType="timeout";this.handleResponse(null,n)},handleResponse:function(n,t){var i=!0,r=Ext.GlobalEvents;t.timeout&&clearTimeout(t.timeout);delete this[t.callbackName];delete this.requests[t.id];this.cleanupErrorHandling(t);Ext.fly(t.script).destroy();t.errorType?(i=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[n]);Ext.callback(t.callback,t.scope,[i,n,t.errorType]);r.hasListeners.idle&&r.fireEvent("idle")},createScript:function(n,t){var i=document.createElement("script");return i.setAttribute("src",Ext.urlAppend(n,Ext.Object.toQueryString(t))),i.setAttribute("async",!0),i.setAttribute("type","text/javascript"),i},loadScript:function(n){Ext.getHead().appendChild(n.script)}},0,0,0,0,0,0,[Ext.data,"JsonP"],0);Ext.cmd.derive("Ext.data.proxy.JsonP",Ext.data.proxy.Server,{alternateClassName:"Ext.data.ScriptTagProxy",config:{callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(n){var i=this,t=i.buildRequest(n),r=t.getParams();return t.setConfig({callbackKey:i.callbackKey,timeout:i.timeout,scope:i,disableCaching:!1,callback:i.createRequestCallback(t,n)}),i.getAutoAppendParams()&&t.setParams({}),t.setRawRequest(Ext.data.JsonP.request(t.getCurrentConfig())),t.setParams(r),i.lastRequest=t,t},createRequestCallback:function(n,t){var i=this;return function(r,u){n===i.lastRequest&&(i.lastRequest=null);i.processResponse(r,t,n,u)}},setException:function(n){n.setException(n.getRequest().getRawRequest().errorType)},buildUrl:function(n){var r=this,e=Ext.data.proxy.Server.prototype.buildUrl.apply(this,arguments),o=n.getRecords(),u=r.getWriter(),t,i,s,f,h;if(u&&n.getOperation().allowWrite()&&(n=u.write(n)),t=n.getParams(),i=t.filters,delete t.filters,i&&i.length)for(f=0;f<i.length;f++)s=i[f],h=s.getValue(),h&&(t[s.getProperty()]=h);return Ext.isArray(o)&&o.length>0&&(!u||!u.getEncode())&&(t[r.getRecordParam()]=r.encodeRecords(o)),r.getAutoAppendParams()&&(e=Ext.urlAppend(e,Ext.Object.toQueryString(t))),e},abort:function(n){n=n||this.lastRequest;n&&Ext.data.JsonP.abort(n.getRawRequest())},encodeRecords:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(Ext.encode(n[t].getData()));return i}},0,0,0,0,["proxy.jsonp","proxy.scripttag"],0,[Ext.data.proxy,"JsonP",Ext.data,"ScriptTagProxy"],0);Ext.cmd.derive("Ext.data.JsonPStore",Ext.data.Store,{constructor:function(n){n=Ext.apply({proxy:{type:"jsonp",reader:"json"}},n);Ext.data.Store.prototype.constructor.call(this,n)}},1,0,0,0,["store.jsonp"],0,[Ext.data,"JsonPStore"],0);Ext.cmd.derive("Ext.data.JsonStore",Ext.data.Store,{constructor:function(n){n=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},n);Ext.data.Store.prototype.constructor.call(this,n)}},1,0,0,0,["store.json"],0,[Ext.data,"JsonStore"],0);Ext.cmd.derive("Ext.data.ModelManager",Ext.Base,{alternateClassName:"Ext.ModelMgr",singleton:!0,deprecated:{5:{methods:{clear:null,create:function(n,t,i){var r=t;return r.isEntity||(r=this.getModel(t||n.name)),r.createWithId(i,n)},each:function(n,t){Ext.data.Model.schema.eachEntity(n,t)},get:function(n){return this.getModel(n)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(n){return Ext.data.schema.Schema.lookupEntity(n)},isRegistered:function(n){return!!this.getModel(n)}}}}},0,0,0,0,0,0,[Ext.data,"ModelManager",Ext,"ModelMgr"],0);Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(n){var t=Ext.data.schema.Schema.lookupEntity(n),r=t.prototype,u,i,f;(t.prototype.isObservable||t.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable),r.isNode)||(u=r.idProperty,i=t.getField(u),f=i.type,t.override(this.getPrototypeBody()),t.addFields([{name:"parentId",type:f,defaultValue:null,allowNull:i.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var n={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},t={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var n=this;return n.mixins.observable.constructor.call(n),n.callParent(arguments),n.childNodes=[],n},createNode:function(n){var t=this,h=t.childType,u,f,e,i,r,o,s=t.self;return n.isModel||(h?s=t.schema.getEntity(h):(u=t.getTreeStore(),f=u&&u.getProxy().getReader(),e=t.getProxy(),i=e?e.getReader():null,r=!f||i&&i.initialConfig.typeProperty?i:f,r&&(o=r.getTypeProperty(),o&&(s=r.getChildType(t.schema,n,o)))),n=new s(n)),n.childNodes||(n.firstChild=n.lastChild=n.parentNode=n.previousSibling=n.nextSibling=null,n.childNodes=[]),n},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(n){this.firstChild=n},setLastChild:function(n){this.lastChild=n},updateInfo:function(n,t){var i=this,s=i.data,w=s.depth,a={},v=i.childNodes,b=v.length,k=i.phantom,d=i.fields,u=i.modified||(i.modified={}),r,f,h,e,y,p=t.parentId,c,l,o;for(r in t)if((h=d[i.fieldOrdinals[r]],f=t[r],l=h&&h.persist,e=s[r],c=l&&r==="index"&&e!==-1&&p&&p!==u.parentId,c||!i.isEqual(e,f))&&(s[r]=f,l))if(!c&&u.hasOwnProperty(r)){if(i.isEqual(u[r],f)){delete u[r];i.dirty=!1;for(y in u)if(u.hasOwnProperty(y)){i.dirty=!0;break}}}else i.dirty=!0,u[r]=e;if(n&&(i.commit(),i.phantom=k),i.data.depth!==w)for(a={depth:i.data.depth+1},o=0;o<b;o++)v[o].updateInfo(n,a)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var n=this;return n.get("expandable")?!(n.isLeaf()||n.isLoaded()&&!n.phantom&&!n.hasChildNodes()):!1},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(n,t,i){var r=this,h,l,u,e,o,a={isLast:!0,parentId:r.getId(),depth:(r.data.depth||0)+1},c,f=r.getTreeStore(),s=f&&f.bulkUpdate;if(Ext.suspendLayouts(),Ext.isArray(n)){for(l=n.length,c=new Array(l),r.callTreeStore("beginFill"),h=0;h<l;h++)c[h]=r.appendChild(n[h],t,i);r.callTreeStore("endFill",[c])}else{if((n=r.createNode(n),t!==!0&&r.fireEventArgs("beforeappend",[r,n])===!1)||(u=r.childNodes.length,e=n.parentNode,e&&(t!==!0&&n.fireEventArgs("beforemove",[n,e,r,u])===!1||e.removeChild(n,!1,t,e.getTreeStore()===f)===!1)))return Ext.resumeLayouts(!0),!1;f&&f.beginUpdate();u=r.childNodes.length;u===0&&r.setFirstChild(n);r.childNodes[u]=n;n.parentNode=r;n.nextSibling=null;r.setLastChild(n);o=r.childNodes[u-1];o?(n.previousSibling=o,o.nextSibling=n,o.updateInfo(i,{isLast:!1}),s||o.triggerUIUpdate()):n.previousSibling=null;a.isFirst=u===0;a.index=u;n.updateInfo(i,a);r.isLeaf()&&r.set("leaf",!1);r.isLoaded()?r.childNodes.length!==1||s||r.triggerUIUpdate():s?r.data.loaded=!0:r.set("loaded",!0);u&&r.childNodes[u-1].isExpanded()&&!s&&r.childNodes[u-1].cascadeBy(r.triggerUIUpdate);f&&(f.registerNode(r,!s),s&&f.registerNode(n));t!==!0&&(r.fireEventArgs("append",[r,n,u]),e&&n.fireEventArgs("move",[n,e,r,u]));r.callTreeStore("onNodeAppend",[n,u]);c=n;f&&f.endUpdate()}return Ext.resumeLayouts(!0),c},getOwnerTree:function(){var n=this.getTreeStore();if(n)return n.ownerTree},getTreeStore:function(){for(var n=this;n&&!n.treeStore;)n=n.parentNode;return n&&n.treeStore},removeChild:function(n,i,r,u){var f=this,h=f.indexOf(n),s,c,e,o=f.getTreeStore(),l=o&&o.bulkUpdate,a;if(h===-1||r!==!0&&f.fireEventArgs("beforeremove",[f,n,!!u])===!1)return!1;if(Ext.suspendLayouts(),o&&o.beginUpdate(),Ext.Array.erase(f.childNodes,h,1),f.firstChild===n&&f.setFirstChild(n.nextSibling),f.lastChild===n&&f.setLastChild(n.previousSibling),e=n.previousSibling,e&&(n.previousSibling.nextSibling=n.nextSibling),n.nextSibling)for(n.nextSibling.previousSibling=n.previousSibling,h===0&&n.nextSibling.updateInfo(!1,{isFirst:!0}),s=h,c=f.childNodes.length;s<c;s++)f.childNodes[s].updateInfo(!1,{index:s});else e&&(e.updateInfo(!1,{isLast:!0}),l||(e.isExpanded()?e.cascadeBy(f.triggerUIUpdate):e.triggerUIUpdate()));return f.childNodes.length||l||f.triggerUIUpdate(),Ext.resumeLayouts(!0),r!==!0&&(a={parentNode:n.parentNode,previousSibling:n.previousSibling,nextSibling:n.nextSibling},f.callTreeStore("beforeNodeRemove",[[n],!!u]),n.previousSibling=n.nextSibling=n.parentNode=null,f.fireEventArgs("remove",[f,n,!!u,a]),f.callTreeStore("onNodeRemove",[[n],!!u])),i?n.erase(!0):n.clear(),u||n.set({parentId:null,lastParentId:f.getId()},t),o&&o.endUpdate(),n},copy:function(n,t){var i=this,u=i.callParent([n]),f=i.childNodes?i.childNodes.length:0,r;if(t)for(r=0;r<f;r++)u.appendChild(i.childNodes[r].copy(undefined,!0));return u},clear:function(n){var t=this;t.parentNode=t.previousSibling=t.nextSibling=null;n&&(t.firstChild=t.lastChild=t.childNodes=null)},drop:function(){var n=this,r=n.childNodes,f=n.parentNode,e=r?r.length:0,i,u,t;for(n.callParent(),f?(t=n.getTreeStore(),f.removeChild(n)):n.get("root")&&(t=n.getTreeStore(),t.setRoot(null)),t&&t.beginUpdate(),i=0;i<e;i++)u=r[i],u.clear(),u.drop();t&&t.endUpdate()},erase:function(n){var t=this,r=t.childNodes,f=r&&r.length,i,u;for(t.remove(),t.clear(!0),t.callParent([n]),i=0;i<f;i++)u=r[i],u.parentNode=null,u.erase(n)},insertBefore:function(n,t,i){var r=this,h=r.indexOf(t),e=n.parentNode,u=h,l,s,o,f=r.getTreeStore(),c=f&&f.bulkUpdate;if(!t)return r.appendChild(n);if(n===t||(n=r.createNode(n),i!==!0&&r.fireEventArgs("beforeinsert",[r,n,t])===!1)||(e===r&&r.indexOf(n)<h&&u--,e&&(i!==!0&&n.fireEventArgs("beforemove",[n,e,r,h,t])===!1||e.removeChild(n,!1,i,e.getTreeStore()===f)===!1)))return!1;for(f&&f.beginUpdate(),u===0&&r.setFirstChild(n),Ext.Array.splice(r.childNodes,u,0,n),n.parentNode=r,n.nextSibling=t,t.previousSibling=n,s=r.childNodes[u-1],s?(n.previousSibling=s,s.nextSibling=n):n.previousSibling=null,n.updateInfo(!1,{parentId:r.getId(),index:u,isFirst:u===0,isLast:!1,depth:(r.data.depth||0)+1}),o=u+1,l=r.childNodes.length;o<l;o++)r.childNodes[o].updateInfo(!1,{index:o});return r.isLoaded()?r.childNodes.length!==1||c||r.triggerUIUpdate():c?r.data.loaded=!0:r.set("loaded",!0),f&&f.registerNode(r,!c),i!==!0&&(r.fireEventArgs("insert",[r,n,t]),e&&n.fireEventArgs("move",[n,e,r,u,t])),r.callTreeStore("onNodeInsert",[n,u]),f&&f.endUpdate(),n},insertChild:function(n,t){var i=this.childNodes[n];return i?this.insertBefore(t,i):this.appendChild(t)},isLastVisible:function(){var t=this,i=t.data.isLast,n=t.nextSibling;if(!i&&t.getTreeStore().isFiltered()){while(n){if(n.data.visible)return!1;n=n.nextSibling}return!0}return i},remove:function(n,t){var i=this,r=i.parentNode;return r?r.removeChild(i,n,t):n&&i.erase(!0),i},removeAll:function(n,t,i){var r=this,e=r.childNodes,s=e.length,u,f,o;if(s){for(i||(f=r.getTreeStore(),f&&(f.beginUpdate(),f.suspendEvent("remove"),r.callTreeStore("beforeNodeRemove",[e,!1]))),o=0;o<s;++o)u=e[o],u.previousSibling=u.nextSibling=u.parentNode=null,r.fireEventArgs("remove",[r,u,!1]),n?u.erase(!0):u.removeAll(!1,t,!0);return!i&&f&&(f.resumeEvent("remove"),r.callTreeStore("onNodeRemove",[e,!1]),f.endUpdate()),r.firstChild=r.lastChild=null,e.length=0,i||r.triggerUIUpdate(),r}},getChildAt:function(n){return this.childNodes[n]},replaceChild:function(n,t,i){var r=t?t.nextSibling:null;return this.removeChild(t,!1,i),this.insertBefore(n,r,i),t},indexOf:function(n){return Ext.Array.indexOf(this.childNodes,n)},indexOfId:function(n){for(var i=this.childNodes,r=i.length,t=0;t<r;++t)if(i[t].getId()===n)return t;return-1},getPath:function(n,t){n=n||this.idProperty;t=t||"/";for(var r=[this.get(n)],i=this.parentNode;i;)r.unshift(i.get(n)),i=i.parentNode;return t+r.join(t)},getDepth:function(){return this.get("depth")},bubble:function(n,t,i){for(var r=this;r;){if(n.apply(t||r,i||[r])===!1)break;r=r.parentNode}},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(n,t,i,r){var u=this,e,o,f;if(arguments.length!==1||Ext.isFunction(n)||(r=n.after,t=n.scope,i=n.args,n=n.before),!n||n.apply(t||u,i||[u])!==!1){for(e=u.childNodes,o=e.length,f=0;f<o;f++)e[f].cascadeBy.call(e[f],n,t,i,r);r&&r.apply(t||u,i||[u])}},eachChild:function(n,t,i){for(var u=this.childNodes,f=u.length,r=0;r<f;r++)if(n.apply(t||this,i||[u[r]])===!1)break},findChild:function(n,t,i){return this.findChildBy(function(){return this.get(n)==t},null,i)},findChildBy:function(n,t,i){for(var e=this.childNodes,o=e.length,u=0,r,f;u<o;u++){if(r=e[u],n.call(t||r,r)===!0)return r;if(i&&(f=r.findChildBy(n,t,i),f!==null))return f}return null},contains:function(n){return n.isAncestor(this)},isAncestor:function(n){for(var t=this.parentNode;t;){if(t===n)return!0;t=t.parentNode}return!1},sort:function(n,t,i){var f=this,r=f.childNodes,o=r.length,u,e,s={isFirst:!0};if(o>0){for(n||(n=f.getTreeStore().getSortFn()),Ext.Array.sort(r,n),f.setFirstChild(r[0]),f.setLastChild(r[o-1]),u=0;u<o;u++)e=r[u],e.previousSibling=r[u-1],e.nextSibling=r[u+1],s.isLast=u===o-1,s.index=u,e.updateInfo(!1,s),s.isFirst=!1,t&&!e.isLeaf()&&e.sort(n,!0,!0);i!==!0&&(f.fireEventArgs("sort",[f,r]),f.callTreeStore("onNodeSort",[r]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var n=!this.isLeaf()&&this.isLoaded();return n&&this.cascadeBy(function(t){return t.isLeaf()||(n=n||t.isBranchLoaded()),n}),n},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var n=this.parentNode;n;){if(!n.isExpanded())return!1;n=n.parentNode}return!0},expand:function(n,t,i){var r=this,u,f;if(r.isLeaf())Ext.callback(t,i||r);else if(r.isLoading())r.on("expand",function(){r.expand(n,t,i)},r,{single:!0});else r.isExpanded()?n?r.expandChildren(!0,t,i):Ext.callback(t,i||r,[r.childNodes]):r.fireEventArgs("beforeexpand",[r])!==!1&&(n&&(r.parentNode&&r.parentNode.isSynchronousRecursiveExpand?r.isSynchronousRecursiveExpand=!0:(u=r.getTreeStore(),(u.getProxy().isSynchronous||r.isBranchLoaded())&&(r.isSynchronousRecursiveExpand=!0,u.suspendEvent("add"),f=!0))),r.callTreeStore("onBeforeNodeExpand",[r.onChildNodesAvailable,r,[n,t,i]]),f&&(u.resumeEvent("add"),u.fireEvent("refresh",u)),r.isSynchronousRecursiveExpand=!1)},onChildNodesAvailable:function(n,t,i,r){var f=this,s=f.getTreeStore(),h=s&&s.bulkUpdate,u,e,o;for(Ext.suspendLayouts(),u=f.parentNode;u;u=u.parentNode)u.isExpanded()||(o||(o=[])).unshift(u);if(h?f.data.expanded=!0:f.set("expanded",!0),o){for(e=1;e<o.length;e++)u=o[e],h?u.data.expanded=!0:u.set("expanded",!0);for(o[0].expand(),e=1;e<o.length;e++)u=o[e],u.fireEventArgs("expand",[u,u.childNodes])}else f.callTreeStore("onNodeExpand",[n,!1]);f.fireEventArgs("expand",[f,n]);t?f.expandChildren(!0,i,r):Ext.callback(i,r||f,[f.childNodes]);Ext.resumeLayouts(!0)},expandChildren:function(n,t,i,r){var e=this,l,u,o,f,s,h,c;for(Ext.isBoolean(t)&&(l=t,t=i,i=r,r=l),r===undefined&&(c=e.getTreeStore(),r=c&&c.singleExpand),o=e.childNodes,f=[],s=r?Math.min(o.length,1):o.length,u=0;u<s;++u)h=o[u],h.isLeaf()||(f[f.length]=h);for(s=f.length,u=0;u<s;++u)f[u].expand(n);t&&Ext.callback(t,i||e,[e.childNodes])},collapse:function(n,t,i){var r=this,s=r.isExpanded(),e=r.getTreeStore(),h=e&&e.bulkUpdate,o=r.childNodes.length,u,f;if(!r.isLeaf()&&(!s&&n||r.fireEventArgs("beforecollapse",[r])!==!1)){if(Ext.suspendLayouts(),r.isExpanded())n?(f=function(){for(u=0;u<o;u++)r.childNodes[u].setCollapsed(!0)},t=t?Ext.Function.createSequence(f,Ext.Function.bind(t,i,[r.childNodes])):f):t&&(t=Ext.Function.bind(t,i,[r.childNodes])),h?r.data.expanded=!1:r.set("expanded",!1),r.callTreeStore("onNodeCollapse",[r.childNodes,t,i]),r.fireEventArgs("collapse",[r,r.childNodes]),t=null;else if(n)for(u=0;u<o;u++)r.childNodes[u].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(t,i||r,[r.childNodes])},setCollapsed:function(n){var t=this,r=t.childNodes.length,i;if(!t.isLeaf()&&t.fireEventArgs("beforecollapse",[t])!==!1&&(t.data.expanded=!1,t.fireEventArgs("collapse",[t,t.childNodes]),n))for(i=0;i<r;i++)t.childNodes[i].setCollapsed(!0)},collapseChildren:function(n,t,i){for(var s=this,o=s.childNodes,f=o.length,e=[],u,r=0;r<f;++r)u=o[r],!u.isLeaf()&&u.isLoaded()&&u.isExpanded()&&e.push(u);if(f=e.length,f)for(r=0;r<f;++r)u=e[r],r===f-1?u.collapse(n,t,i):u.collapse(n);else Ext.callback(t,i)},fireEvent:function(n){return this.fireEventArgs(n,Ext.Array.slice(arguments,1))},fireEventArgs:function(t,i){var f=Ext.mixin.Observable.prototype.fireEventArgs,u,r,e;if(n[t]){for(r=this;u!==!1&&r;r=(e=r).parentNode)r.hasListeners&&r.hasListeners[t]&&(u=f.call(r,t,i));return u!==!1&&(r=e.getTreeStore(),r&&r.hasListeners&&r.hasListeners[t="node"+t]&&(u=r.fireEventArgs(t,i))),u}return f.apply(this,arguments)},serialize:function(n){var i=n||new Ext.data.writer.Json({writeAllFields:!0}),r=i.getRecordData(this),u=this.childNodes,f=u.length,e,t;if(f>0)for(r.children=e=[],t=0;t<f;t++)e.push(u[t].serialize(i));return r},callTreeStore:function(n,t){var r=this,i=r.getTreeStore(),u=i&&i[n];i&&u&&(t=t||[],t[0]!==r&&t.unshift(r),u.apply(i,t))},privates:{join:function(n){n.isTreeStore?this.isRoot()&&(this.treeStore=this.store=n):this.callParent([n])},callJoined:function(n,t){this.callParent([n,t]);this.callTreeStore(n,t)}}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0);Ext.cmd.derive("Ext.data.NodeStore",Ext.data.Store,{isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},isExpandingOrCollapsing:0,getTotalCount:function(){return this.getCount()},afterEdit:function(n,t){if(this.getNode()&&t){if(Ext.Array.indexOf(t,"loaded")!==-1)return this.add(this.retrieveChildNodes(n));if(Ext.Array.indexOf(t,"expanded")!==-1)return this.filter();if(Ext.Array.indexOf(t,"sorted")!==-1)return this.sort()}Ext.data.Store.prototype.afterEdit.apply(this,arguments)},afterReject:function(n){var t=this;if(t.contains(n)){t.onUpdate(n,Ext.data.Model.REJECT,null);t.fireEvent("update",t,n,Ext.data.Model.REJECT,null)}},afterCommit:function(n,t){var i=this;if(t||(t=null),i.contains(n)){i.onUpdate(n,Ext.data.Model.COMMIT,t);i.fireEvent("update",i,n,Ext.data.Model.COMMIT,t)}},onNodeAppend:function(n,t){this.add([t].concat(this.retrieveChildNodes(t)))},onNodeInsert:function(n,t){this.add([t].concat(this.retrieveChildNodes(t)))},onNodeRemove:function(n,t){this.remove([t].concat(this.retrieveChildNodes(t)))},onNodeExpand:function(n,t){this.loadRecords(t)},applyNode:function(n){return n&&Ext.data.NodeInterface.decorate(n),n},updateNode:function(n,t){var i=this,r;if(t&&!t.isDestroyed&&(t.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad",scope:i}),t.unjoin(i)),n){n.on({scope:i,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad"});n.join(i);r=[];n.childNodes.length&&(r=r.concat(i.retrieveChildNodes(n)));i.getRootVisible()?r.push(n):(n.isLoaded()||n.isLoading())&&n.set("expanded",!0);i.getData().clear();i.fireEvent("clear",i);i.suspendEvents();i.add(r);i.resumeEvents();r.length===0&&(i.loaded=n.loaded=!0);i.fireEvent("refresh",i,i.data)}},retrieveChildNodes:function(n){var u=this.getNode(),r=this.getRecursive(),i=[],t=n;if(!n.childNodes.length||!r&&n!==u)return i;if(!r)return n.childNodes;while(t)if(t._added)if(delete t._added,t===n)break;else t=t.nextSibling||t.parentNode;else t!==n&&i.push(t),t.firstChild?(t._added=!0,t=t.firstChild):t=t.nextSibling||t.parentNode;return i},isVisible:function(n){var t=n.parentNode;if(!this.getRecursive()&&t!==this.getNode())return!1;while(t){if(!t.isExpanded())return!1;if(t===this.getNode())break;t=t.parentNode}return!0}},0,0,0,0,["store.node"],0,[Ext.data,"NodeStore"],0);Ext.cmd.derive("Ext.data.Request",Ext.Base,{config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(n){this.initConfig(n)},getParam:function(n){var t=this.getParams(),i;return t?t[n]:i},setParam:function(n,t){var i=this.getParams()||{};i[n]=t;this.setParams(i)}},1,0,0,0,0,0,[Ext.data,"Request"],0);Ext.cmd.derive("Ext.mixin.Queryable",Ext.Base,{mixinId:"queryable",isQueryable:!0,query:function(n){return n=n||"*",Ext.ComponentQuery.query(n,this.getQueryRoot())},queryBy:function(n,t){for(var u=[],f=this.getQueryRoot().getRefItems(!0),r=0,e=f.length,i;r<e;++r)i=f[r],n.call(t||i,i)!==!1&&u.push(i);return u},queryById:function(n){return this.down(Ext.makeIdSelector(n))},child:function(n){var t=this.getQueryRoot().getRefItems();return n&&n.isComponent?this.matchById(t,n.getItemId()):(n&&(t=Ext.ComponentQuery.query(n,t)),t.length)?t[0]:null},down:function(n){return n&&n.isComponent?this.matchById(this.getRefItems(!0),n.getItemId()):(n=n||"",this.query(n)[0]||null)},visitPreOrder:function(n,t,i,r){Ext.ComponentQuery._visit(!0,n,this.getQueryRoot(),t,i,r)},visitPostOrder:function(n,t,i,r){Ext.ComponentQuery._visit(!1,n,this.getQueryRoot(),t,i,r)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(n,t){for(var u=n.length,r,i=0;i<u;++i)if(r=n[i],r.getItemId()===t)return r;return null}}},0,0,0,0,0,0,[Ext.mixin,"Queryable"],0);Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)});Ext.cmd.derive("Ext.data.TreeStore",Ext.data.NodeStore,{isTreeStore:!0,config:{root:null,rootVisible:!1,recursive:!0,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:!1},lazyFill:!1,fillCount:0,bulkUpdate:0,_silentOptions:{silent:!0},constructor:function(n){var t=this;t.byIdMap={};Ext.data.NodeStore.prototype.constructor.call(this,n)},applyFields:function(n){var t=this;n&&(t.defaultRootProperty!==t.self.prototype.config.defaultRootProperty&&(n=n.concat({name:t.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),t.setModel(Ext.define(null,{extend:"Ext.data.TreeModel",fields:n,proxy:t.getProxy()})),t.implicitModel=!0)},onSorterEndUpdate:function(){var n=this,r=n.getSorters(),t=r.getRange(),i=n.getRoot(),u=n.getFolderSort();i&&(u||t.length)?n.getRemoteSort()?t.length&&n.attemptLoad({callback:function(){n.fireEvent("sort",n,t)}}):(i.sort(this.getSortFn(),!0),n.fireEvent("datachanged",n),n.fireEvent("refresh",n),n.fireEvent("sort",n,t)):n.fireEvent("sort",n,t)},updateRemoteFilter:function(){var n=this.getData(),t=this.getFilters();n.setFilters(null);t.on("endupdate",this.onFilterEndUpdate,this)},updateRemoteSort:function(){var n=this.getData(),t=this.getSorters();n.setSorters(null);t.on("endupdate",this.onSorterEndUpdate,this)},updateFolderSort:function(n){this.needsFolderSort=n;this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var n=this,t=this.sorters.getSortFn();return function(i,r){var f,e,u=0;return n.needsFolderSort&&(f=i.data.leaf?1:0,e=r.data.leaf?1:0,u=f-e),n.needsIndexSort&&u===0&&(u=i.data.index-r.data.index),u||t(i,r)}},afterEdit:function(n,t){var i=this;i.needsLocalFilter()&&i.doFilter(n);Ext.data.NodeStore.prototype.afterEdit.call(this,n,t)},fireChangeEvent:function(n){return!!this.byIdMap[n.id]},updateRootVisible:function(n){var t=this.getRoot(),i;t&&(i=this.getData(),n?i.insert(0,t):i.remove(t))},updateTrackRemoved:function(){Ext.data.NodeStore.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=null},getRemovedRecords:function(){return this.removedNodes},onDestroyRecords:function(n,t,i){i&&(this.removedNodes.length=0)},updateProxy:function(n){var t;n&&(n.setIdParam&&n.setIdParam(this.getNodeParam()),t=n.getReader(),Ext.isEmpty(t.getRootProperty())&&t.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(n){this.changingProxy=!0;(arguments.callee.$previous||Ext.data.NodeStore.prototype.setProxy).call(this,n);this.changingProxy=!1},applyModel:function(){return Ext.data.NodeStore.prototype.applyModel.apply(this,arguments)||Ext.data.TreeModel},updateModel:function(n){var t=n.prototype.isNode;Ext.data.NodeInterface.decorate(n);t||this.changingProxy||this.getProxy().getReader().buildExtractors(!0)},onFilterEndUpdate:function(n){var t=this,u=n.length,i=t.getRoot(),e,o,r,f;if(t.getRemoteFilter())Ext.data.NodeStore.prototype.onFilterEndUpdate.call(this,n);else{if(u?t.doFilter(i):i.cascadeBy({after:function(n){n.set("visible",!0,t._silentOptions)}}),u)for(r=[],e=i.childNodes,f=0,u=e.length;f<u;f++)o=e[f],o.get("visible")&&r.push(o);else r=i.childNodes;t.onNodeFilter(i,r);i.fireEvent("filterchange",i,r);t.fireEvent("filterchange",t,n);t.suppressNextFilter=!0;Ext.data.NodeStore.prototype.onFilterEndUpdate.call(this,n);t.suppressNextFilter=!1}},onNodeFilter:function(n,t){var i=this,u=i.getData(),r=[];i.getRootVisible()&&(t.length?r.push(n):n.set("visible",!1,i._silentOptions));i.handleNodeExpand(n,t,r);i.suspendEvents();u.splice(0,u.getCount(),r);i.resumeEvents();i.suppressNextFilter||(i.fireEvent("datachanged",i),i.fireEvent("refresh",i))},onBeforeNodeExpand:function(n,t,i,r){var f=this,c,s,e,h,o,u;if(n.isLoaded())u=[n.childNodes],r&&u.push.apply(u,r),Ext.callback(t,i||n,u);else if(n.isLoading())f.on("load",function(){u=[n.childNodes];r&&u.push.apply(u,r);Ext.callback(t,i||n,u)},f,{single:!0,priority:1001});else c=f.getProxy().getReader(),s=n.getProxy(),e=s?s.getReader():null,h=e&&e.initialConfig.rootProperty?e:c,o=h.getRoot(n.raw||n.data),o||n.phantom&&!n.isRoot()?(o&&f.fillNode(n,h.extractData(o,{model:n.childType,recordCreator:f.recordCreator})),u=[n.childNodes],r&&u.push.apply(u,r),Ext.callback(t,i||n,u)):(n.isRoot()&&f.clearLoadTask(),f.read({node:n,onChildNodesAvailable:function(){delete f.lastOptions.onChildNodesAvailable;u=[n.childNodes];r&&u.push.apply(u,r);Ext.callback(t,i||n,u)}}))},onNodeExpand:function(n,t){var i=this,u=i.indexOf(n)+1,r=[];i.handleNodeExpand(n,t,r);i.refreshCounter||!n.isRoot()||n.get("visible")?i.insert(u,r):i.loadRecords(r)},handleNodeExpand:function(n,t,i){var f=this,e=t?t.length:0,u,r;if((n===this.getRoot()||f.isVisible(n))&&e)for(u=0;u<e;u++)r=t[u],r.get("visible")&&(i.push(r),r.isExpanded()&&(r.isLoaded()?f.handleNodeExpand(r,r.childNodes,i):(r.set("expanded",!1),r.expand())))},onNodeCollapse:function(n,t,i,r){var u=this,f=u.indexOf(n)+1,e;(u.recursive||n===u.getRoot())&&(u.needsLocalFilter()&&(t=Ext.Array.filter(t,u.filterVisible)),t.length&&u.data.contains(t[0])&&(e=u.indexOfNextVisibleNode(n),u.removeAt(f,e-f)),Ext.callback(i,r))},indexOfNextVisibleNode:function(n){for(var t;n.parentNode;){for(t=n.nextSibling;t&&!t.get("visible");t=t.nextSibling);if(t)return this.indexOf(t);n=n.parentNode}return this.getCount()},filterNew:function(n){return Ext.data.NodeStore.prototype.filterNew.call(this,n)&&!n.get("root")},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(n,t){Ext.isArray(t)||(t=[t]);for(var i=this,f=t.length,u,r=0;!u&&r<f;r++)t[r].get("visible")&&(u=t[r]);u?(i.startRemoveIndex=i.indexOf(t[0]),i.lastRemoveIndexPlusOne=i.indexOfNextVisibleNode(t[t.length-1])):(i.startRemoveIndex=-1,i.lastRemoveIndexPlusOne=0)},afterDrop:Ext.emptyFn,onNodeRemove:function(n,t,i){var r=this,e=r.removedNodes,o=t.length,f=r.startRemoveIndex,s=r.lastRemoveIndexPlusOne,u;for(r.suspendAutoSync(),f!==-1&&(r.removeIsMove=i,r.removeAt(f,s-f),r.removeIsMove=!1),u=0;u<o;u++)t[u].cascadeBy(function(n){r.unregisterNode(n);e&&!i&&(n.phantom||n.erasing||r.loading||(n.removedFrom=r.indexOf(n),e.push(n),r.needsSync=!0))});r.resumeAutoSync()},onNodeAppend:function(n,t,i){this.onNodeInsert(n,t,i)},onNodeInsert:function(n,t,i){var r=this,l=t.raw||t.data,e,u,c,o,f,s,h;if(n&&r.needsLocalFilter()&&r.doFilter(n),r.beginUpdate(),r.isVisible(t)){if(i!==0&&t.previousSibling){for(u=t.previousSibling;u&&!u.get("visible");u=u.previousSibling);while(u.isExpanded()&&u.lastChild)u=u.lastChild;e=u}else e=n;if(r.insert(r.indexOf(e)+1,t),!t.isLeaf()&&t.isExpanded())if(t.isLoaded())r.onNodeExpand(t,t.childNodes);else r.fillCount||(t.set("expanded",!1),t.expand())}r.needsSync=r.needsSync||t.phantom||t.dirty;t.isLeaf()||t.isLoaded()||r.lazyFill||(c=r.getProxy().getReader(),o=t.getProxy(),f=o?o.getReader():null,s=f&&f.initialConfig.rootProperty?f:c,h=s.getRoot(l),h&&r.fillNode(t,s.extractData(h,{model:t.childType,recordCreator:r.recordCreator})));r.endUpdate()},registerNode:function(n,t){var u=this,r,f,i;if(u.byIdMap[n.id]=n,t===!0)for(r=n.childNodes,f=r.length,i=0;i<f;i++)u.registerNode(r[i],!0)},unregisterNode:function(n,t){var u=this,r,f,i;if(delete u.byIdMap[n.id],t===!0)for(r=n.childNodes,f=r.length,i=0;i<f;i++)u.unregisterNode(r[i],!0)},onNodeSort:function(n,t){var i=this;if(i.suspendAutoSync(),i.indexOf(n)!==-1||n===i.getRoot()&&!i.getRootVisible()&&n.isExpanded()){Ext.suspendLayouts();i.onNodeCollapse(n,t);i.onNodeExpand(n,t);Ext.resumeLayouts(!0)}i.resumeAutoSync(i.autoSync)},applyRoot:function(n){var t=this,i=t.getModel(),r=i.prototype.idProperty,u=t.getDefaultRootId();return n&&!n.isNode&&(n=Ext.apply({text:t.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},n),u&&n[r]===undefined&&(n[r]=u),n=new i(n),n.store=n.treeStore=t),n},updateRoot:function(n,t){var i=this,r,f=!t,u;if(i.byIdMap={},i.getTrackRemoved(),i.suspendEvent("add","remove"),t&&t.isModel){u=i.rootVisible?[t]:t.childNodes;i.beforeNodeRemove(null,u);t.set("root",!1);i.onNodeRemove(null,u);t.fireEvent("remove",null,t,!1);t.fireEvent("rootchange",null);t.clearListeners();t.store=t.treeStore=null}if(i.getData().clear(),n)if(n.fireEventArgs("beforeappend",[null,n])===!1)n=null;else{if(r=n.parentNode,r){if(!r.removeChild(n,!1,!1,r.getTreeStore()===i))return}else(r=n.getTreeStore())&&r!==i&&n===r.getRoot()&&r.setRoot(null);n.set("root",!0);n.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});i.registerNode(n,!0);n.fireEvent("append",null,n,!1);n.fireEvent("rootchange",n);i.onNodeAppend(null,n,0);n.phantom=!0}if(i.fireEvent("rootchange",n,t),n&&(i.getAutoLoad()||n.isExpanded()))if(n.isLoaded()){i.onNodeExpand(n,n.childNodes);i.fireEvent("datachanged",i);i.fireEvent("refresh",i)}else n.data.expanded=!1,n.expand(!1,function(){i.fireEvent("datachanged",i);i.fireEvent("refresh",i)});else f||(i.fireEvent("datachanged",i),i.fireEvent("refresh",i));return i.resumeEvent("add","remove"),n},getNodeById:function(n){return this.byIdMap[n]||null},findNode:function(n,t,i,r,u){if(Ext.isEmpty(t,!1))return null;if(t===this.model.idProperty&&arguments.length<3)return this.byIdMap[t];var e=Ext.String.createRegex(t,i,r,u),f=null;return Ext.Object.eachValue(this.byIdMap,function(t){if(t&&e.test(t.get(n)))return f=t,!1}),f},load:function(n){n=n||{};n.params=n.params||{};var t=this,i=n.node||t.getRoot(),o=t.getProxy(),s=n.callback,h=n.scope,r=t.getClearOnLoad(),u=i&&i.isRoot()&&i.isLoaded()&&r,f,e;if(!i){t.setRoot({expanded:!0});return}return i.data.expanded&&!u&&(i.data.loaded=!1,r&&(i.data.expanded=!1),n.callback=function(n,t,u){r||i.collapse();i.expand();Ext.callback(s,h,[n,t,u])}),n.id=i.getId(),n=Ext.apply({filters:t.getFilters().items,sorters:t.getSorters().items,node:n.node||i,internalScope:t,internalCallback:t.onProxyLoad},n),t.lastOptions=Ext.apply({},n),n.isReload=u,f=o.createOperation("read",n),t.fireEvent("beforeload",t,f)!==!1&&(t.loading=!0,t.clearLoadTask(),u?(t.getClearRemovedOnLoad()&&(t.removedNodes.length=0),t.unregisterNode(i,!0),i.childNodes.length=0,e=!0):r&&(t.getTrackRemoved()&&t.getClearRemovedOnLoad()&&t.clearRemoved(i),i.removeAll(!1)),t.loading&&i&&i.set("loading",!0),e&&(t.clearData(!0),t.getRootVisible()&&(t.suspendEvents(),t.add(i),t.resumeEvents())),f.execute()),t},onProxyLoad:function(n){var t=this,u=n.initialConfig,f=n.wasSuccessful(),i=n.getRecords(),r=u.node,e=u.isReload,o=n.getScope()||t,s=[i,n,f];t.isDestroyed||(t.loading=!1,r.set("loading",!1),f&&(++t.loadCount,t.getClearOnLoad()||(i=t.cleanRecords(r,i)),t.parentIdProperty&&(i=t.treeify(r,i)),e&&t.suspendEvent("add","update"),i=t.fillNode(r,i)),e?(t.resumeEvent("add","update"),t.callObservers("BeforePopulate"),t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.callObservers("AfterPopulate")):Ext.callback(u.onChildNodesAvailable,o,s),t.fireEvent("load",t,i,f,n,r))},clearRemoved:function(n){var u=this,f=u.removedNodes,l=n.getId(),e=f.length,i=e,s={},h=[],c={},t,r,o;if(n===u.getRoot()){u.removedNodes.length=0;return}for(;i--;)t=f[i],c[t.getId()]=t;for(i=e;i--;){for(t=f[i],r=t;r&&r.getId()!==l;)o=r.get("parentId")||r.get("lastParentId"),r=r.parentNode||u.getNodeById(o)||c[o];r&&(s[t.getId()]=t)}for(i=0;i<e;i++)t=f[i],s[t.getId()]||h.push(t);u.removedNodes=h},fillNode:function(n,t){var i=this,e=t?t.length:0,h=i.getSorters(),o=!1,c=i.sortOnLoad&&e>1&&!i.remoteSort&&i.getFolderSort()||h.length,u,s,r,f;if(++i.bulkUpdate,e){for(i.needsLocalFilter()&&(f=i.getFilters().getFilterFn(),t[0].set("visible",f(t[0]))),r=1;r<e;r++)u=t[r],s=t[r-1],f&&u.set("visible",f(u)),o=u.data.index!==s.data.index;c?(i.needsIndexSort=!0,Ext.Array.sort(t,i.getSortFn()),i.needsIndexSort=!1):o&&Ext.Array.sort(t,i.sortByIndex)}return i.bulkUpdate===1?n.set("loaded",!0):n.data.loaded=!0,t.length&&n.appendChild(t,undefined,!0),--i.bulkUpdate,t},beginFill:function(){var n=this;n.fillCount++||(n.beginUpdate(),n.suspendEvent("add","update"),n.suspendAutoSync(),n.fillArray=[])},endFill:function(n,t){var i=this,u=i.fillArray,r,e,f;if(u.push(t),!--i.fillCount){for(i.resumeAutoSync(),i.resumeEvent("add","update"),r=0,e=u.length;r<e;r++)f=i.indexOf(u[r][0]),f!==-1&&i.fireEvent("add",i,u[r],f);i.fillArray=null;i.endUpdate()}},sortByIndex:function(n,t){return n.data.index-t.data.index},onIdChanged:function(n,t,i){var u=n.childNodes,f=u&&u.length,r;for(Ext.data.NodeStore.prototype.onIdChanged.apply(this,arguments),delete this.byIdMap[t],this.byIdMap[i]=n,r=0;r<f;r++)u[r].set("parentId",i)},treeify:function(n,t){for(var s=this,h=n.getId(),f=t.length,r,u,e=[],o={},i=0;i<f;i++)r=t[i],o[r.getId()]=r;for(i=0;i<f;i++)r=t[i],u=r.data[s.parentIdProperty],u&&u!==h?o[u].appendChild(r):e.push(r);return e},cleanRecords:function(n,t){for(var f={},e=n.childNodes,i=0,r=e.length,o=[],u;i<r;++i)f[e[i].getId()]=!0;for(i=0,r=t.length;i<r;++i)u=t[i],f[u.getId()]||o.push(u);return o},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();Ext.data.NodeStore.prototype.removeAll.call(this)},doSort:function(n){var t=this;t.remoteSort?t.load():(t.tree.sort(n,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t));t.fireEvent("sort",t,t.sorters.getRange())},filterVisible:function(n){return n.get("visible")},isVisible:function(n){for(var t=n.parentNode,i=n.data.visible,r=this.getRoot();i&&t;)i=t.data.expanded&&t.data.visible,t=t.parentNode;return i&&!(n===r&&!this.getRootVisible())},commitChanges:function(){var n=this.removedNodes;n&&(n.length=0);Ext.data.NodeStore.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(n){return this.setRoot(n),this.getRoot()},privates:{recordCreator:function(n,t){return new t(n)},doFilter:function(n){var t=this.getRoot(),i=this.getFilters().getFilterFn();this.filterNodes(t,n,i)},filterNodes:function(n,t,i){var u=!1,f=t.childNodes,e=f&&f.length,r;if(e)for(r=0;r<e;++r)this.filterNodes(n,f[r],i);return u=t===n||i(t),t.set("visible",u,this._silentOptions),u},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters().length}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],0);Ext.cmd.derive("Ext.data.Types",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext.data,"Types"],function(n){var t=Ext.data.SortTypes;Ext.apply(n,{stripRe:/[\$,%]/g,AUTO:{sortType:t.none,type:"auto"},STRING:{convert:function(n){var t=this.getAllowNull()?null:"";return n===undefined||n===null?t:String(n)},sortType:t.asUCString,type:"string"},INT:{convert:function(t){return typeof t=="number"?parseInt(t,10):t!==undefined&&t!==null&&t!==""?parseInt(String(t).replace(n.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"int"},FLOAT:{convert:function(t){return typeof t=="number"?t:t!==undefined&&t!==null&&t!==""?parseFloat(String(t).replace(n.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"float"},BOOL:{convert:function(n){return typeof n=="boolean"?n:this.getAllowNull()&&(n===undefined||n===null||n==="")?null:n==="true"||n==1},sortType:t.none,type:"bool"},DATE:{convert:function(n){var i=this.getDateReadFormat()||this.getDateFormat(),t;return n?n instanceof Date?n:i?Ext.Date.parse(n,i):(t=Date.parse(n),t?new Date(t):null):null},sortType:t.asDate,type:"date"}});n.BOOLEAN=n.BOOL;n.INTEGER=n.INT;n.NUMBER=n.FLOAT});Ext.cmd.derive("Ext.data.Validation",Ext.data.Model,{isValidation:!0,syncGeneration:0,attach:function(n){this.record=n;delete this.data.id},getValidation:function(){return null},isValid:function(){var n=this;return n.syncGeneration!==n.record.generation&&n.refresh(),!n.dirty},refresh:function(n){var r=this,s=r.data,f=r.record,l=f.fields,a=f.generation,w=f.data,b=f.validationSeparator,e=null,v,h,t,u,o,y,c,p,i;if(n||r.syncGeneration!==a){for(r.syncGeneration=a,o=0,y=l.length;o<y;++o)u=l[o],i=u.name,p=w[i],v=u.defaultInvalidMessage,t=0,i in s?h=s[i]:s[i]=h=!0,u.validate!==Ext.emptyFn&&(c=u.validate(p,b),c!==!0&&(t=c||v)),t||(t=!0),t!==h&&((e||(e={}))[i]=t);e&&r.set(e)}}},0,0,0,0,0,0,[Ext.data,"Validation"],0);Ext.cmd.derive("Ext.dom.Helper",Ext.Base,function(){var n="afterbegin",i="afterend",t="beforebegin",r="beforeend",u=["BeforeBegin","previousSibling"],f=["AfterEnd","nextSibling"],e={beforebegin:u,afterend:f},o={beforebegin:u,afterend:f,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){function i(n,t,i){return t+"-"+i.toLowerCase()}var t=/([a-z])([A-Z])/g,n={};return function(r){return n[r]||(n[r]=r.replace(t,i))}}(),generateMarkup:function(n,t){var r=this,s=typeof n,u,i,f,e,o;if(s==="string"||s==="number")t.push(n);else if(Ext.isArray(n))for(e=0;e<n.length;e++)n[e]&&r.generateMarkup(n[e],t);else{f=n.tag||"div";t.push("<",f);for(u in n)n.hasOwnProperty(u)&&(i=n[u],i===undefined||r.confRe.test(u)||(typeof i=="object"?(t.push(" ",u,'="'),r.generateStyles(i,t,!0).push('"')):t.push(" ",r.attributeTransform[u]||u,'="',i,'"')));r.emptyTags.test(f)?t.push("/>"):(t.push(">"),(i=n.tpl)&&i.applyOut(n.tplData,t),(i=n.html)&&t.push(i),(i=n.cn||n.children)&&r.generateMarkup(i,t),o=r.closeTags,t.push(o[f]||(o[f]="<\/"+f+">")))}return t},generateStyles:function(n,t,i){var f=t||[],r,u;for(r in n)n.hasOwnProperty(r)&&(u=n[r],r=this.decamelizeName(r),i&&Ext.String.hasHtmlCharacters(u)&&(u=Ext.String.htmlEncode(u)),f.push(r,":",u,";"));return t||f.join("")},markup:function(n){if(typeof n=="string")return n;var t=this.generateMarkup(n,[]);return t.join("")},applyStyles:function(n,t){Ext.fly(n).applyStyles(t)},createContextualFragment:function(n){var i=this.detachedDiv,r=document.createDocumentFragment(),u,t;for(i.innerHTML=n,t=i.childNodes,u=t.length;u--;)r.appendChild(t[0]);return r},createDom:function(n){var i=this,u=i.markup(n),r=i.detachedDiv,t;return r.innerHTML=u,t=r.firstChild,Ext.supports.ChildContentClearedWhenSettingInnerHTML?t.cloneNode(!0):t},insertHtml:function(u,f,s){var y=this,l,c,a,v,h;if(u=u.toLowerCase(),f.insertAdjacentHTML){if(y.ieInsertHtml&&(h=y.ieInsertHtml(u,f,s),h))return h;if(l=o[u],l)return f.insertAdjacentHTML(l[0],s),f[l[1]]}else{if(f.nodeType===3&&(u=u===n?t:u,u=u===r?i:u),c=Ext.supports.CreateContextualFragment?f.ownerDocument.createRange():undefined,v="setStart"+(this.endRe.test(u)?"After":"Before"),e[u])return c?(c[v](f),h=c.createContextualFragment(s)):h=this.createContextualFragment(s),f.parentNode.insertBefore(h,u===t?f:f.nextSibling),f[(u===t?"previous":"next")+"Sibling"];if(a=(u===n?"first":"last")+"Child",f.firstChild){if(c)try{c[v](f[a]);h=c.createContextualFragment(s)}catch(p){h=this.createContextualFragment(s)}else h=this.createContextualFragment(s);u===n?f.insertBefore(h,f.firstChild):f.appendChild(h)}else f.innerHTML=s;return f[a]}},insertBefore:function(n,i,r){return this.doInsert(n,i,r,t)},insertAfter:function(n,t,r){return this.doInsert(n,t,r,i)},insertFirst:function(t,i,r){return this.doInsert(t,i,r,n)},append:function(n,t,i){return this.doInsert(n,t,i,r)},overwrite:function(n,t,i){var u=this,r;return n=Ext.getDom(n),t=u.markup(t),u.ieOverwrite&&(r=u.ieOverwrite(n,t)),r||(n.innerHTML=t,r=n.firstChild),i?Ext.get(r):r},doInsert:function(u,f,o,s){var c=this,h;return u=u.dom||Ext.getDom(u),"innerHTML"in u?h=c.insertHtml(s,u,c.markup(f)):(h=c.createDom(f,null),u.nodeType===3&&(s=s===n?t:s,s=s===r?i:s),e[s]?u.parentNode.insertBefore(h,s===t?u:u.nextSibling):u.firstChild&&s===n?u.insertBefore(h,u.firstChild):u.appendChild(h)),o?Ext.get(h):h},createTemplate:function(n){var t=this.markup(n);return new Ext.Template(t)},createHtml:function(n){return this.markup(n)}}},0,0,0,0,0,0,[Ext.dom,"Helper",Ext,"DomHelper",Ext.core,"DomHelper"],0);Ext.define("Ext.overrides.dom.Helper",function(){var n=/^(?:table|thead|tbody|tr|td)$/i,f=/td|tr|tbody|thead/i,t="<table>",i="<\/table>",r=t+"<tbody>",u="<\/tbody>"+i,e=r+"<tr>",o="<\/tr>"+u;return{override:"Ext.dom.Helper",ieInsertHtml:function(t,i,r){var u=null;return Ext.isIE9m&&n.test(i.tagName)&&(u=this.insertIntoTable(i.tagName.toLowerCase(),t,i,r)),u},ieOverwrite:function(t,i){if(Ext.isIE9m&&n.test(t.tagName)){while(t.firstChild)t.removeChild(t.firstChild);if(i)return this.insertHtml("afterbegin",t,i)}},ieTable:function(n,t,i,r){var o=-1,u=this.detachedDiv,f,e;for(u.innerHTML=[t,i,r].join("");++o<n;)u=u.firstChild;if(f=u.nextSibling,f)for(f=u,u=document.createDocumentFragment();f;)e=f.nextSibling,u.appendChild(f),f=e;return u},insertIntoTable:function(n,s,h,c){var y,w,l=s==="beforebegin",a=s==="afterbegin",p=s==="beforeend",v=s==="afterend";return n==="td"&&(a||p)||!f.test(n)&&(l||v)?null:(w=l?h:v?h.nextSibling:a?h.firstChild:null,(l||v)&&(h=h.parentNode),y=n==="td"||n==="tr"&&(p||a)?this.ieTable(4,e,c,o):(n==="tbody"||n==="thead")&&(p||a)||n==="tr"&&(l||v)?this.ieTable(3,r,c,u):this.ieTable(2,t,c,i),h.insertBefore(y,w),y)}}}());Ext.cmd.derive("Ext.dom.Query",Ext.Base,function(){function children(n){for(var t=n.firstChild,r=-1,i;t;)i=t.nextSibling,t.nodeType!=3||nonSpace.test(t.nodeValue)?t.nodeIndex=++r:n.removeChild(t),t=i;return this}function attrValue(n,t){return(n.tagName||typeof n.length=="undefined"||(n=n[0]),!n)?null:t=="for"?n.htmlFor:t=="class"||t=="className"?n.className:n.getAttribute(t)||n[t]}function getNodes(n,t,i){var e=[],h=-1,l,r,o,f,c,v,s,u,a;if(!n)return e;if(i=i.replace("|",":")||"*",typeof n.getElementsByTagName!="undefined"&&(n=[n]),t){if(t=="/"||t==">")for(s=i.toUpperCase(),r=0;o=n[r];r++)for(v=o.childNodes,f=0;a=v[f];f++)(a.nodeName==s||a.nodeName==i||i=="*")&&(e[++h]=a);else if(t=="+")for(s=i.toUpperCase(),r=0;u=n[r];r++){while((u=u.nextSibling)&&u.nodeType!=1);u&&(u.nodeName==s||u.nodeName==i||i=="*")&&(e[++h]=u)}else if(t=="~")for(s=i.toUpperCase(),r=0;u=n[r];r++)while(u=u.nextSibling)(u.nodeName==s||u.nodeName==i||i=="*")&&(e[++h]=u)}else if(i=unescapeCssSelector(i),!supportsColonNsSeparator&&DQ.isXml(n[0])&&i.indexOf(":")!==-1)for(r=0;o=n[r];r++)for(l=o.getElementsByTagName(i.split(":").pop()),f=0;c=l[f];f++)c.tagName===i&&(e[++h]=c);else for(r=0;o=n[r];r++)for(l=o.getElementsByTagName(i),f=0;c=l[f];f++)e[++h]=c;return e}function concat(n,t){return n.push.apply(n,t),n}function byTag(n,t){if((n.tagName||n===doc)&&(n=[n]),!t)return n;var u=[],f=-1,r,i;for(t=t.toLowerCase(),r=0;i=n[r];r++)i.nodeType==1&&i.tagName.toLowerCase()==t&&(u[++f]=i);return u}function byId(n,t){if(t=unescapeCssSelector(t),(n.tagName||n===doc)&&(n=[n]),!t)return n;for(var r=[],f=-1,i,u=0;i=n[u];u++)if(i&&i.id==t)return r[++f]=i,r;return r}function byAttribute(n,t,i,r,u){var h=[],a=-1,v=u=="{",e=DQ.operators[r],o,c,l,s,f;for(i=unescapeCssSelector(i),s=0;f=n[s];s++)f.nodeType===1&&(l||(c=DQ.isXml(f),l=!0),o=c?f.getAttribute(t):v?DQ.getStyle(f,t):t=="class"||t=="className"?f.className:t=="for"?f.htmlFor:t=="href"?f.getAttribute("href",2):f.getAttribute(t),(e&&e(o,i)||!e&&o)&&(h[++a]=f));return h}function byPseudo(n,t,i){return i=unescapeCssSelector(i),DQ.pseudos[t](n,i)}function nodupIEXml(n){var f=++key,i,t,r,u;for(n[0].setAttribute("_nodup",f),i=[n[0]],t=1,r=n.length;t<r;t++)u=n[t],!u.getAttribute("_nodup")!=f&&(u.setAttribute("_nodup",f),i[i.length]=u);for(t=0,r=n.length;t<r;t++)n[t].removeAttribute("_nodup");return i}function nodup(n){if(!n)return[];var o=n.length,e,r,u=n,f,s=-1,i,t;if(!o||typeof n.nodeType!="undefined"||o==1)return n;if(isIE&&typeof n[0].selectSingleNode!="undefined")return nodupIEXml(n);for(i=++key,n[0]._nodup=i,r=1;e=n[r];r++)if(e._nodup!=i)e._nodup=i;else{for(u=[],t=0;t<r;t++)u[++s]=n[t];for(t=r+1;f=n[t];t++)f._nodup!=i&&(f._nodup=i,u[++s]=f);return u}return u}function quickDiffIEXml(n,t){for(var f=++key,u=[],i=0,r=n.length;i<r;i++)n[i].setAttribute("_qdiff",f);for(i=0,r=t.length;i<r;i++)t[i].getAttribute("_qdiff")!=f&&(u[u.length]=t[i]);for(i=0,r=n.length;i<r;i++)n[i].removeAttribute("_qdiff");return u}function quickDiff(n,t){var u=n.length,f=++key,r=[],i,e;if(!u)return t;if(isIE&&typeof n[0].selectSingleNode!="undefined")return quickDiffIEXml(n,t);for(i=0;i<u;i++)n[i]._qdiff=f;for(i=0,e=t.length;i<e;i++)t[i]._qdiff!=f&&(r[r.length]=t[i]);return r}function quickId(n,t,i,r){if(n==i){r=unescapeCssSelector(r);var u=i.ownerDocument||i;return u.getElementById(r)}return n=getNodes(n,t,"*"),byId(n,r)}var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var n=doc.createElement("div");return n.innerHTML="<!-- -->text<!-- -->",n.children&&n.children.length===0}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var n,t='<r><a:b xmlns:a="n"><\/a:b><\/r>';return window.DOMParser?n=(new DOMParser).parseFromString(t,"application/xml"):(n=new ActiveXObject("Microsoft.XMLDOM"),n.loadXML(t)),!!n.getElementsByTagName("a:b").length}(),longHexToChar=function(n,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(n,t){while(t.length<6)t="0"+t;return"\\"+t},charToLongHex=function(n,t){return num=t.charCodeAt(0).toString(16),num.length===1&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(n){return hasEscapes?n.replace(longHex,longHexToChar):n},setupEscapes=function(n){return hasEscapes=n.indexOf("\\")>-1,hasEscapes&&(n=n.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),n};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(n,t){return n.children[t]}:function(n,t){for(var r=0,i=n.firstChild;i;){if(i.nodeType==1&&++r==t)return i;i=i.nextSibling}return null},next=useElementPointer?function(n){return n.nextElementSibling}:function(n){while((n=n.nextSibling)&&n.nodeType!=1);return n},prev=useElementPointer?function(n){return n.previousElementSibling}:function(n){while((n=n.previousSibling)&&n.nodeType!=1);return n},byClassName=useClassList?function(n,t){if(t=unescapeCssSelector(t),!t)return n;for(var r=[],e=-1,i,f,u=0;i=n[u];u++)f=i.classList,f?f.contains(t)&&(r[++e]=i):(" "+i.className+" ").indexOf(t)!==-1&&(r[++e]=i);return r}:function(n,t){if(t=unescapeCssSelector(t),!t)return n;for(var u=[],f=-1,r,i=0;r=n[i];i++)(" "+r.className+" ").indexOf(t)!==-1&&(u[++f]=r);return u},{singleton:!0,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],_init:function(){DQ=this;DQ.operators=Ext.Object.chain(Ext.util.Operators);DQ._cache=cache=new Ext.util.LruCache({maxSize:200});DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200});DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear();valueCache.clear();simpleCache.clear()},getStyle:function(n,t){return Ext.fly(n,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));path.substr(0,1)=="/";)path=path.substr(1);while(path&&lastPath!=path){for(lastPath=path,tokenMatch=path.match(tagTokenRe),type=="select"?tokenMatch?(fn[fn.length]=tokenMatch[1]=="#"?'n = quickId(n, mode, root, "'+tokenMatch[2]+'");':'n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):path.substr(0,1)!="@"&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&(fn[fn.length]=tokenMatch[1]=="#"?'n = byId(n, "'+tokenMatch[2]+'");':'n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re),m){fn[fn.length]=t.select.replace(tplRe,function(n,t){return m[t]});path=path.replace(m[0],"");matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(n,t,i){t=t||doc;typeof t=="string"&&(t=doc.getElementById(t));for(var s=Ext.splitAndUnescape(n,","),f=[],r,u,o,e=0,h=s.length;e<h;e++)u=s[e].replace(trimRe,""),r=cache.get(u),r?setupEscapes(u):(r=DQ.compile(u,i),r||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:u+" is not a valid selector"}),cache.add(u,r)),o=r(t),o&&o!==doc&&(f=f.concat(o));return s.length>1?nodup(f):f},isXml:function(n){var t=(n?n.ownerDocument||n:0).documentElement;return t?t.nodeName!=="HTML":!1},select:doc.querySelectorAll?function(n,t,i,r){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&t.nodeType!==9&&n.indexOf(",")===-1&&!startIdRe.test(n)&&(n=Ext.makeIdSelector(Ext.id(t))+" "+n,t=t.parentNode),r?[t.querySelector(n)]:Ext.Array.toArray(t.querySelectorAll(n))}catch(u){}return DQ.jsSelect.call(this,n,t,i)}:function(n,t,i){return DQ.jsSelect.call(this,n,t,i)},selectNode:function(n,t){return Ext.DomQuery.select(n,t,null,!0)[0]},selectValue:function(n,t){n=n.replace(trimRe,"");var i=valueCache.get(n),r;return i?setupEscapes(n):(i=DQ.compile(n,"select"),valueCache.add(n,i)),r=i(t),DQ.getNodeValue(r[0]?r[0]:r)},getNodeValue:function(n,t){typeof n.normalize=="function"&&n.normalize();var i=n&&n.firstChild?n.firstChild.nodeValue:null;return i===null||i===undefined||i===""?t:i},selectNumber:function(n,t,i){var r=DQ.selectValue(n,t,i||0);return parseFloat(r)},is:function(n,t){typeof n=="string"&&(n=doc.getElementById(n));var i=Ext.isArray(n),r=DQ.filter(i?n:[n],t);return i?r.length==n.length:r.length>0},filter:function(n,t,i){t=t.replace(trimRe,"");var r=simpleCache.get(t),u;return r?setupEscapes(t):(r=DQ.compile(t,"simple"),simpleCache.add(t,r)),u=r(n),i?quickDiff(u,n):u},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(n){for(var r=[],f=-1,t,u,i=0;u=t=n[i];i++){while((t=t.previousSibling)&&t.nodeType!=1);t||(r[++f]=u)}return r},"last-child":function(n){for(var r=[],f=-1,t,u,i=0;u=t=n[i];i++){while((t=t.nextSibling)&&t.nodeType!=1);t||(r[++f]=u)}return r},"nth-child":function(n,t){for(var f=[],s=-1,h=nthRe.exec(t=="even"&&"2n"||t=="odd"&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),c=(h[1]||1)-0,e=h[2]-0,i,l,r,u,o=0;i=n[o];o++){if(u=i.parentNode,batch!=u._batch){for(l=0,r=u.firstChild;r;r=r.nextSibling)r.nodeType==1&&(r.nodeIndex=++l);u._batch=batch}c==1?(e===0||i.nodeIndex==e)&&(f[++s]=i):(i.nodeIndex+e)%c==0&&(f[++s]=i)}return f},"only-child":function(n){for(var r=[],u=-1,t,i=0;t=n[i];i++)prev(t)||next(t)||(r[++u]=t);return r},empty:function(n){for(var e=[],s=-1,i,o,r,u,f,t=0;i=n[t];t++){for(o=i.childNodes,r=0,f=!0;u=o[r];)if(++r,u.nodeType==1||u.nodeType==3){f=!1;break}f&&(e[++s]=i)}return e},contains:function(n,t){for(var u=[],f=-1,i,r=0;i=n[r];r++)(i.textContent||i.innerText||i.text||"").indexOf(t)!=-1&&(u[++f]=i);return u},nodeValue:function(n,t){for(var u=[],f=-1,i,r=0;i=n[r];r++)i.firstChild&&i.firstChild.nodeValue==t&&(u[++f]=i);return u},checked:function(n){for(var r=[],u=-1,i,t=0;i=n[t];t++)i.checked===!0&&(r[++u]=i);return r},not:function(n,t){return DQ.filter(n,t,!0)},any:function(n,t){for(var o=t.split("|"),f=[],s=-1,e,r,u,i=0;r=n[i];i++)for(u=0;e=o[u];u++)if(DQ.is(r,e)){f[++s]=r;break}return f},odd:function(n){return this["nth-child"](n,"odd")},even:function(n){return this["nth-child"](n,"even")},nth:function(n,t){return n[t-1]||[]},first:function(n){return n[0]||[]},last:function(n){return n[n.length-1]||[]},has:function(n,t){for(var f=DQ.select,u=[],e=-1,r,i=0;r=n[i];i++)f(t,r).length>0&&(u[++e]=r);return u},next:function(n,t){for(var e=DQ.is,f=[],o=-1,r,u,i=0;r=n[i];i++)u=next(r),u&&e(u,t)&&(f[++o]=r);return f},prev:function(n,t){for(var e=DQ.is,f=[],o=-1,r,u,i=0;r=n[i];i++)u=prev(r),u&&e(u,t)&&(f[++o]=r);return f},focusable:function(n){for(var u=n.length,r=[],t=0,i;t<u;t++)i=n[t],Ext.fly(i,"_DomQuery").isFocusable()&&r.push(i);return r},visible:function(n,t){for(var f=n.length,u=[],i=0,r;i<f;i++)r=n[i],Ext.fly(r,"_DomQuery").isVisible(t)&&u.push(r);return u},isScrolled:function(n){for(var u=[],f=-1,i,r,t=0;i=n[t];t++)r=Ext.fly(i,"_DomQuery").getScroll(),(r.top>0||r.left>0)&&(u[++f]=i);return u}}}},0,0,0,0,0,0,[Ext.dom,"Query",Ext.core,"DomQuery",Ext,"DomQuery"],function(){this._init()});Ext.cmd.derive("Ext.data.reader.Xml",Ext.data.reader.Reader,{alternateClassName:"Ext.data.XmlReader",config:{record:"",namespace:""},createAccessor:function(n){var t=this;return Ext.isEmpty(n)?Ext.emptyFn:Ext.isFunction(n)?n:function(i){return t.getNodeValue(Ext.DomQuery.selectNode(n,i))}},getNodeValue:function(n){return n&&(typeof n.normalize=="function"&&n.normalize(),n=n.firstChild,n)?n.nodeValue:undefined},getResponseData:function(n){var t=n.responseXML,i="XML data not found in the response";return t?t:(Ext.Logger.warn(i),this.createReadError(i))},getData:function(n){return n.documentElement||n},getRoot:function(n){var i=n.nodeName,t=this.getRootProperty();return!t||i&&i==t?n:Ext.DomQuery.isXml(n)?Ext.DomQuery.selectNode(t,n):void 0},extractData:function(n,t){var i=this.getRecord();return n=i!==n.nodeName?Ext.DomQuery.select(i,n):[n],Ext.data.reader.Reader.prototype.extractData.call(this,n,t)},readRecords:function(n,t){return Ext.isArray(n)&&(n=n[0]),this.xmlData=n,Ext.data.reader.Reader.prototype.readRecords.call(this,n,t)},createFieldAccessor:function(n){var t=this,r=t.getNamespace(),i;return i=n.mapping||(r?r+"|":"")+n.name,typeof i=="function"?function(i){return n.mapping(i,t)}:function(n){return t.getNodeValue(Ext.DomQuery.selectNode(i,n))}}},0,0,0,0,["reader.xml"],0,[Ext.data.reader,"Xml",Ext.data,"XmlReader"],0);Ext.cmd.derive("Ext.data.writer.Xml",Ext.data.writer.Writer,{alternateClassName:"Ext.data.XmlWriter",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},selectorRe:/[^>\s]+/g,writeRecords:function(n,t){var f=this,r=[],i=0,c=t.length,u=f.getDocumentRoot(),o=f.getRecord(),e=o.match(this.selectorRe),s=e.length,l=t.length!==1&&s===1,h;for(h=this.getTransform(),h&&(t=h(t,n)),r.push(f.getHeader()||""),!u&&l&&(u=f.getDefaultDocumentRoot()),u&&r.push("<",u,">"),i=0;i<s-1;i++)r.push("<",e[i],">");for(o=e[i],i=0;i<c;++i)this.objectToElement(o,t[i],r);for(i=s-2;i>-1;i--)r.push("<\/",e[i],">");return u&&r.push("<\/",u,">"),n.setXmlData(r.join("")),n},objectToElement:function(n,t,i){var r,u,h=[],c,l,o,e,f,a,s;i||(i=[]);i.push("<",n);for(r in t)if(u=t[r],r[0]==="@")i.push(" ",r.substr(1),'="',u,'"');else if(typeof u=="object")this.objectToElement(r,u,h);else if(c=r.match(this.selectorRe),(l=c.length)>1){for(f=f||{},e=f,o=0;o<l;o++)a=e,s=c[o],e=e[s]||(e[s]={});a[s]=u}else h.push("<",r,">",u,"<\/",r,">");if(i.push(">"),i.push.apply(i,h),f)for(r in f)u=f[r],this.objectToElement(r,u,i);return i.push("<\/",n,">"),i}},0,0,0,0,["writer.xml"],0,[Ext.data.writer,"Xml",Ext.data,"XmlWriter"],0);Ext.cmd.derive("Ext.data.XmlStore",Ext.data.Store,{constructor:function(n){n=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},n);Ext.data.Store.prototype.constructor.call(this,n)}},1,0,0,0,["store.xml"],0,[Ext.data,"XmlStore"],0);Ext.cmd.derive("Ext.data.identifier.Negative",Ext.data.identifier.Sequential,{config:{increment:-1,seed:-1}},0,0,0,0,["data.identifier.negative"],0,[Ext.data.identifier,"Negative"],0);Ext.cmd.derive("Ext.data.identifier.Uuid",Ext.data.identifier.Generator,{isUnique:!0,config:{id:null},constructor:function(n){Ext.data.identifier.Generator.prototype.constructor.call(this,n);this.reconfigure(n)},reconfigure:function(n){var t=this.self;this.generate=n&&n.version===1?t.createSequential(n.salt,n.timestamp,n.clockSeq):t.createRandom()},clone:null,statics:{createRandom:function(){var n="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),i="0123456789abcdef".split(""),r=n.length,t=[];return function(){for(var f,u,e=0;e<r;++e)u=n[e],u!=="-"&&u!=="4"&&(f=Math.random()*16,f=u==="R"?f&3|8:f|(u==="M"?1:0),u=i[f]),t[e]=u;return t.join("")}},createSequential:function(n,t,i){var u=[],f=Math.pow(2,32),h=n.lo,s=n.hi,e=t.lo,o=t.hi,r=function(n,t){var i=n.toString(16).toLowerCase();return i.length>t?i=i.substring(i.length-t):i.length<t&&(i=Ext.String.leftPad(i,t,"0")),i};return typeof n=="number"&&(s=Math.floor(n/f),h=Math.floor(n-s*f)),typeof t=="number"&&(o=Math.floor(t/f),e=Math.floor(t-o*f)),s|=256,u[3]=r(128|i>>>8&63,2)+r(i&255,2),u[4]=r(s,4)+r(h,8),function(){return u[0]=r(e,8),u[1]=r(o&65535,4),u[2]=r(o>>>16&4095|4096,4),++e,e>=f&&(e=0,++o),u.join("-")}}}},1,0,0,0,["data.identifier.uuid"],0,[Ext.data.identifier,"Uuid"],function(){this.Global=new this({id:"uuid"})});Ext.cmd.derive("Ext.data.proxy.WebStorage",Ext.data.proxy.Client,{alternateClassName:"Ext.data.WebStorageProxy",config:{id:undefined},constructor:function(){Ext.data.proxy.Client.prototype.constructor.apply(this,arguments);this.cache={};this.initialize()},create:function(n){var t=this,f=n.getRecords(),s=f.length,o=t.getIds(),r,i,u,e;for(t.isHierarchical===undefined&&(t.isHierarchical=!!f[0].isNode,t.isHierarchical&&t.getStorageObject().setItem(t.getTreeKey(),!0)),u=0;u<s;u++)i=f[u],i.phantom?(i.phantom=!1,e=i.identifier,r=e&&e.isUnique?i.getId():t.getNextId()):r=i.getId(),t.setRecord(i,r),i.commit(),o.push(r);t.setIds(o);n.setSuccessful(!0)},read:function(n){var u=this,e,f=[],b=!0,o=u.getModel(),k=0,s=n.getRecordCreator(),h,l,a,d,v,t,y,p,r,w,i,c;if(u.isHierarchical)f=u.getTreeData();else if(y=u.getIds(),p=y.length,w=n.getId(),w)r=u.getRecord(w),r!==null&&(t=s?s(r,o):new o(r)),t?f.push(t):b=!1;else{for(l=n.getSorters(),h=n.getFilters(),a=n.getLimit(),e=[],i=0;i<p;i++)r=u.getRecord(y[i]),t=s?s(r,o):new o(r),e.push(t);for(l&&Ext.Array.sort(e,Ext.util.Sorter.createComparator(l)),i=n.getStart()||0;i<p;i++){if(t=e[i],v=!0,h)for(c=0,d=h.length;c<d;c++)v=h[c].filter(t);if(v&&(f.push(t),k++),a&&k===a)break}}b?(n.setResultSet(new Ext.data.ResultSet({records:f,total:f.length,loaded:!0})),n.setSuccessful(!0)):n.setException("Unable to load records")},update:function(n){for(var f=n.getRecords(),e=f.length,u=this.getIds(),t,i,r=0;r<e;r++)t=f[r],this.setRecord(t),t.commit(),i=t.getId(),i!==undefined&&Ext.Array.indexOf(u,i)===-1&&u.push(i);this.setIds(u);n.setSuccessful(!0)},erase:function(n){for(var i=this,u=n.getRecords(),f=i.getIds(),s=f.length,e=[],o={},t=u.length,r;t--;)Ext.apply(o,i.removeRecord(u[t]));for(t=0;t<s;t++)r=f[t],o[r]||e.push(r);i.setIds(e);n.setSuccessful(!0)},getRecord:function(n){var t=this,r=t.cache,i=r[n]?r[n]:Ext.decode(t.getStorageObject().getItem(t.getRecordKey(n)));return i?(r[n]=i,i[t.getModel().prototype.idProperty]=n,Ext.merge({},i)):null},setRecord:function(n,t){t?n.set("id",t,{commit:!0}):t=n.getId();for(var r=this,l=n.getData(),i={},h=r.getModel(),c=h.getFields(),a=c.length,u=0,f,e,o,s;u<a;u++)f=c[u],e=f.name,f.persist&&(i[e]=l[e]);delete i[h.prototype.idProperty];n.isNode&&n.get("depth")===1&&delete i.parentId;o=r.getStorageObject();s=r.getRecordKey(t);r.cache[t]=i;o.removeItem(s);o.setItem(s,Ext.encode(i))},removeRecord:function(n){var t=this,i=n.getId(),r={},u,f;if(r[i]=n,t.getStorageObject().removeItem(t.getRecordKey(i)),delete t.cache[i],n.childNodes)for(f=n.childNodes,u=f.length;u--;)Ext.apply(r,t.removeRecord(f[u]));return r},getRecordKey:function(n){return n.isModel&&(n=n.getId()),Ext.String.format("{0}-{1}",this.getId(),n)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var i=this,n=(i.getStorageObject().getItem(i.getId())||"").split(","),r=n.length,u=this.getIdField().isStringField,t;if(r===1&&n[0]==="")n=[];else for(t=0;t<r;t++)n[t]=u?n[t]:+n[t];return n},getIdField:function(){return this.getModel().prototype.idField},setIds:function(n){var t=this.getStorageObject(),i=n.join(","),r=this.getId();t.removeItem(r);Ext.isEmpty(i)||t.setItem(r,i)},getNextId:function(){var t=this,i=t.getStorageObject(),r=t.getRecordCounterKey(),u=t.getIdField().isStringField,n;return n=t.idGenerator.generate(),i.setItem(r,n),u&&(n=n+""),n},getTreeData:function(){for(var r=this,c=r.getIds(),e=c.length,u=[],l={},i=[],n=0,a=r.getModel(),y=a.prototype.idProperty,o,t,f,s,v,h;n<e;n++)h=c[n],t=r.getRecord(h),u.push(t),l[h]=t,t.parentId||i.push(t);for(o=i.length,Ext.Array.sort(u,r.sortByParentId),n=o;n<e;n++)t=u[n],s=t.parentId,f&&f[y]===s||(f=l[s],f.children=v=[]),v.push(t);for(n=e;n--;)t=u[n],t.children||t.leaf||(t.loaded=!0);for(n=o;n--;)t=i[n],i[n]=new a(t);return i},sortByParentId:function(n,t){return(n.parentId||0)-(t.parentId||0)},initialize:function(){var n=this,t=n.getStorageObject(),i=+t.getItem(n.getRecordCounterKey()),r=n.getId();t.setItem(r,t.getItem(r)||"");t.getItem(n.getTreeKey())&&(n.isHierarchical=!0);n.idGenerator=new Ext.data.identifier.Sequential({seed:i?i+1:1})},clear:function(){for(var n=this,t=n.getStorageObject(),r=n.getIds(),u=r.length,i=0;i<u;i++)t.removeItem(n.getRecordKey(r[i]));t.removeItem(n.getRecordCounterKey());t.removeItem(n.getTreeKey());t.removeItem(n.getId());n.cache={}},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,"WebStorage",Ext.data,"WebStorageProxy"],0);Ext.cmd.derive("Ext.data.proxy.LocalStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}},0,0,0,0,["proxy.localstorage"],0,[Ext.data.proxy,"LocalStorage",Ext.data,"LocalStorageProxy"],0);Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(n){var t=this,e=n.getOperation(),o=e.getRecords(),r=o?o[0]:null,s=t.getFormat(),i=t.getUrl(n),u,f;return u=r&&!r.phantom?r.getId():e.getId(),t.getAppendId()&&t.isValidId(u)&&(i.match(t.slashRe)||(i+="/"),i+=encodeURIComponent(u),f=n.getParams(),f&&delete f[t.getIdParam()]),s&&(i.match(t.periodRe)||(i+="."),i+=s),n.setUrl(i),Ext.data.proxy.Ajax.prototype.buildUrl.call(this,n)},isValidId:function(n){return n||n===0}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0);Ext.cmd.derive("Ext.data.proxy.SessionStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}},0,0,0,0,["proxy.sessionstorage"],0,[Ext.data.proxy,"SessionStorage",Ext.data,"SessionStorageProxy"],0);Ext.cmd.derive("Ext.data.validator.Bound",Ext.data.validator.Validator,{type:"bound",config:{min:undefined,max:undefined,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){var n=this;n.preventConfigure=!0;Ext.data.validator.Validator.prototype.constructor.apply(this,arguments);delete n.preventConfigure;n.configure()},setConfig:function(){var n=this;n.preventConfigure=!0;n.callParent(arguments);delete n.preventConfigure;n.configure()},configure:function(){var n=this,r,u,t,i;n.preventConfigure||(t=n.getMin(),i=n.getMax(),r=n.hasMin=t!==undefined,u=n.hasMax=i!==undefined,r&&u?n._bothMsg=Ext.String.format(n.getBothMessage(),t,i):r?n._minMsg=Ext.String.format(n.getMinOnlyMessage(),t):u&&(n._maxMsg=Ext.String.format(n.getMaxOnlyMessage(),i)))},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(n){var t=this,r=t.hasMin,u=t.hasMax,f=t.getMin(),e=t.getMax(),i=this.validateValue(n);return i!==!0?i:(n=t.getValue(n),r&&u?(n<f||n>e)&&(i=t._bothMsg):r?n<f&&(i=t._minMsg):u&&n>e&&(i=t._maxMsg),i)},validateValue:function(n){return n===undefined||n===null?this.getEmptyMessage():!0},getValue:Ext.identityFn},1,0,0,0,["data.validator.bound"],0,[Ext.data.validator,"Bound"],0);Ext.cmd.derive("Ext.data.validator.Format",Ext.data.validator.Validator,{type:"format",config:{message:"Is in the wrong format",matcher:undefined},validate:function(n){var t=this.getMatcher(),i=t&&t.test(n);return i?i:this.getMessage()}},0,0,0,0,["data.validator.format"],0,[Ext.data.validator,"Format"],0);Ext.cmd.derive("Ext.data.validator.Email",Ext.data.validator.Format,{type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}},0,0,0,0,["data.validator.email"],0,[Ext.data.validator,"Email"],0);Ext.cmd.derive("Ext.data.validator.List",Ext.data.validator.Validator,{type:"list",config:{list:null},inclusion:null,validate:function(n){var t=Ext.Array.contains(this.getList(),n),i=this.inclusion,u=!i,r;return r=i&&t||u&&!t,r||this.getMessage()}},0,0,0,0,["data.validator.list"],0,[Ext.data.validator,"List"],0);Ext.cmd.derive("Ext.data.validator.Exclusion",Ext.data.validator.List,{type:"exclusion",config:{message:"Is a value that has been excluded"},inclusion:!1},0,0,0,0,["data.validator.exclusion"],0,[Ext.data.validator,"Exclusion"],0);Ext.cmd.derive("Ext.data.validator.Inclusion",Ext.data.validator.List,{type:"inclusion",config:{message:"Is not in the list of acceptable values"},inclusion:!0},0,0,0,0,["data.validator.inclusion"],0,[Ext.data.validator,"Inclusion"],0);Ext.cmd.derive("Ext.data.validator.Length",Ext.data.validator.Bound,{type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(n){return String(n).length}},0,0,0,0,["data.validator.length"],0,[Ext.data.validator,"Length"],0);Ext.cmd.derive("Ext.data.validator.Presence",Ext.data.validator.Validator,{type:"presence",config:{message:"Must be present",allowEmpty:!1},validate:function(n){var t=!(n===undefined||n===null);return t&&!this.getAllowEmpty()&&(t=!(n==="")),t?!0:this.getMessage()}},0,0,0,0,["data.validator.presence"],0,[Ext.data.validator,"Presence"],0);Ext.cmd.derive("Ext.data.validator.Range",Ext.data.validator.Bound,{type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(n){var t=Ext.data.validator.Bound.prototype.validateValue.call(this,n);return t===!0&&isNaN(n)&&(t=this.getNanMessage()),t}},0,0,0,0,["data.validator.range"],0,[Ext.data.validator,"Range"],0);Ext.cmd.derive("Ext.direct.Event",Ext.Base,{status:!0,constructor:function(n){Ext.apply(this,n)},getName:function(){return this.name},getData:function(){return this.data}},1,0,0,0,["direct.event"],0,[Ext.direct,"Event"],0);Ext.cmd.derive("Ext.direct.RemotingEvent",Ext.direct.Event,{getTransaction:function(){var n=this;return n.transaction||Ext.direct.Manager.getTransaction(n.tid)}},0,0,0,0,["direct.rpc"],0,[Ext.direct,"RemotingEvent"],0);Ext.cmd.derive("Ext.direct.ExceptionEvent",Ext.direct.RemotingEvent,{status:!1},0,0,0,0,["direct.exception"],0,[Ext.direct,"ExceptionEvent"],0);Ext.cmd.derive("Ext.direct.JsonProvider",Ext.direct.Provider,{parseResponse:function(n){var t=n&&n.responseText;return t?Ext.isObject(t)||Ext.isArray(t)?t:Ext.decode(t):null},createEvents:function(n){var r=this,t=null,u=[],f,i,e;try{t=r.parseResponse(n)}catch(o){return f=new Ext.direct.ExceptionEvent({data:o,xhr:n,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+o}),[f]}if(Ext.isArray(t))for(i=0,e=t.length;i<e;++i)u.push(r.createEvent(t[i]));else Ext.isObject(t)&&u.push(r.createEvent(t));return u},createEvent:function(n){return typeof n!="object"||!("type"in n)?new Ext.direct.ExceptionEvent({data:n,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"}):Ext.create("direct."+n.type,n)}},0,0,0,0,["direct.jsonprovider"],0,[Ext.direct,"JsonProvider"],0);Ext.cmd.derive("Ext.direct.PollingProvider",Ext.direct.JsonProvider,{type:"polling",interval:3e3,constructor:function(n){var t=this;Ext.direct.JsonProvider.prototype.constructor.call(this,n);t.pollTask=Ext.TaskManager.newTask({run:t.runPoll,interval:t.interval,scope:t})},destroy:function(){this.pollTask=null;Ext.direct.JsonProvider.prototype.destroy.call(this)},doConnect:function(){var n=this,i=n.url,t=n.pollFn;t&&Ext.isString(t)?n.pollFn=t=Ext.direct.Manager.parseMethod(t):Ext.isFunction(i)&&(n.pollFn=t=i,n.url=i=null);(i||t)&&(n.setInterval(n.interval),n.pollTask.start())},doDisconnect:function(){this.pollTask.stop()},getInterval:function(){return this.pollTask.interval},setInterval:function(n){var t=this,i=t.pollTask;t.interval=i.interval=n;t.isConnected()&&i.restart(n)},runPoll:function(){var n=this,u=n.url,t=n.pollFn,i=n.baseParams,r;n.fireEvent("beforepoll",n)!==!1&&(t?(r=t.directCfg.method.getArgs({params:i!==undefined?i:{},callback:n.onPollFn,scope:n}),t.apply(window,r)):Ext.Ajax.request({url:u,callback:n.onData,scope:n,params:i}),n.fireEvent("poll",n))},onData:function(n,t,i){var r=this,f,e,u;if(t)for(u=r.createEvents(i),f=0,e=u.length;f<e;++f)r.fireEvent("data",r,u[f]);else u=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),r.fireEvent("data",r,u)},onPollFn:function(n,t,i){this.onData(null,i,{responseText:n})},inheritableStatics:{checkConfig:function(n){return n&&n.type==="polling"&&(n.url||n.pollFn)}}},1,0,0,0,["direct.pollingprovider"],0,[Ext.direct,"PollingProvider"],0);Ext.cmd.derive("Ext.direct.RemotingMethod",Ext.Base,{constructor:function(n){var t=this,r=n.params,e=n.len,o=n.metadata,u={},h,s,i,f;if(t.name=n.name,n.formHandler)t.formHandler=n.formHandler;else if(Ext.isNumeric(e))t.len=e,t.ordered=!0;else for(t.named=!0,t.strict=n.strict!==undefined?n.strict:!0,t.params={},s=r&&r.length,i=0;i<s;i++)f=r[i],h=Ext.isObject(f)?f.name:f,t.params[h]=!0;if(o){if(r=o.params,e=o.len,Ext.isNumeric(e))u.ordered=!0,u.len=e;else if(Ext.isArray(r)){for(u.named=!0,u.params={},i=0,s=r.length;i<s;i++)f=r[i],u.params[f]=!0;u.strict=o.strict!==undefined?o.strict:!0}t.metadata=u}},getArgs:function(n){var o=this,u=n.params,f=n.paramOrder,h=n.paramsAsHash,e=n.metadata,i=n.options,t=[],r,s;if(o.ordered){if(o.len>0)if(f)for(r=0,s=f.length;r<s;r++)t.push(u[f[r]]);else h&&t.push(u)}else t.push(u);return t.push(n.callback,n.scope||window),(i||e)&&(i=Ext.apply({},i),e&&(i.metadata=e),t.push(i)),t},getCallData:function(n){var t=this,u=null,e=t.len,c=t.params,l=t.strict,h,o,s,r,i,f;if(t.ordered)o=n[e],s=n[e+1],i=n[e+2],e!==0&&(u=n.slice(0,e));else if(t.formHandler)h=n[0],o=n[1],s=n[2],i=n[3];else if(u=Ext.apply({},n[0]),o=n[1],s=n[2],i=n[3],l)for(r in u)u.hasOwnProperty(r)&&!c[r]&&delete u[r];if(t.metadata&&i&&i.metadata){if(t.metadata.ordered)f=i.metadata.slice(0,t.metadata.len);else if(f=Ext.apply({},i.metadata),t.metadata.strict)for(r in f)f.hasOwnProperty(r)&&!t.metadata.params[r]&&delete f[r];delete i.metadata}return{form:h,data:u,metadata:f,callback:o,scope:s,options:i}}},1,0,0,0,0,0,[Ext.direct,"RemotingMethod"],0);Ext.cmd.derive("Ext.direct.Transaction",Ext.Base,{alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(n){var t=this;Ext.apply(t,n);t.id=t.tid=++t.self.TRANSACTION_ID;t.retryCount=0},send:function(){var n=this;n.provider.queueTransaction(n)},retry:function(){var n=this;n.retryCount++;n.send()},getProvider:function(){return this.provider}},1,0,0,0,["direct.transaction"],0,[Ext.direct,"Transaction",Ext.Direct,"Transaction"],0);Ext.cmd.derive("Ext.direct.RemotingProvider",Ext.direct.JsonProvider,{type:"remoting",enableBuffer:10,maxRetries:1,constructor:function(){var n=this;Ext.direct.JsonProvider.prototype.constructor.apply(this,arguments);n.namespace=Ext.isString(n.namespace)?Ext.ns(n.namespace):n.namespace||Ext.global;n.transactions=new Ext.util.MixedCollection;n.callBuffer=[]},doConnect:function(){this.apiCreated||(this.initAPI(),this.apiCreated=!0)},getNamespace:function(n,t){var r,u,i,f;for(n=n||Ext.global,r=t.toString().split("."),i=0,f=r.length;i<f;i++)if(u=r[i],n=n[u],typeof n=="undefined")return n;return n},createNamespaces:function(n,t){var u,i,r,f;for(n=n||Ext.global,u=t.toString().split("."),r=0,f=u.length;r<f;r++)i=u[r],n[i]=n[i]||{},n=n[i];return n},initAPI:function(){var i=this,f=i.actions,r=i.namespace,c=Ext.direct.Manager,n,t,e,u,h,o,s;for(n in f)if(f.hasOwnProperty(n))for(i.disableNestedActions?(t=r[n],t||(t=r[n]={})):(t=i.getNamespace(r,n),t||(t=i.createNamespaces(r,n))),e=f[n],u=0,h=e.length;u<h;++u)o=new Ext.direct.RemotingMethod(e[u]),t[o.name]=s=i.createHandler(n,o),c.registerMethod(s.$name,s)},createHandler:function(n,t){var r=this,u=Array.prototype.slice,i;return i=t.formHandler?function(){r.configureFormRequest(n,t,u.call(arguments,0))}:function(){r.configureRequest(n,t,u.call(arguments,0))},i.name=i.$name=n+"."+t.name,i.$directFn=!0,i.directCfg=i.$directCfg={action:n,method:t},i},connect:function(){var n=this;Ext.direct.JsonProvider.prototype.connect.call(this)},runCallback:function(n,t){var r=!!t.status,e=r?"success":"failure",i,u,f;n&&n.callback&&(i=n.callback,u=n.callbackOptions,f=typeof t.result!="undefined"?t.result:t.data,Ext.isFunction(i)?i(f,t,r,u):(Ext.callback(i[e],i.scope,[f,t,r,u]),Ext.callback(i.callback,i.scope,[f,t,r,u])))},onData:function(n,t,i){var r=this,f,o,s,e,u,h;if(t)for(s=r.createEvents(i),f=0,o=s.length;f<o;++f)e=s[f],u=r.getTransaction(e),r.fireEvent("data",r,e),u&&r.fireEvent("beforecallback",r,e,u)!==!1&&(r.runCallback(u,e,!0),Ext.direct.Manager.removeTransaction(u));else for(h=[].concat(n.transaction),f=0,o=h.length;f<o;++f)u=r.getTransaction(h[f]),u&&u.retryCount<r.maxRetries?u.retry():(e=new Ext.direct.ExceptionEvent({data:null,transaction:u,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),r.fireEvent("data",r,e),u&&r.fireEvent("beforecallback",r,u)!==!1&&(r.runCallback(u,e,!1),Ext.direct.Manager.removeTransaction(u)))},getTransaction:function(n){return n&&n.tid?Ext.direct.Manager.getTransaction(n.tid):null},getPayload:function(n){var t={action:n.action,method:n.method,data:n.data,type:"rpc",tid:n.id};return n.metadata&&(t.metadata=n.metadata),t},sendRequest:function(n){var t=this,i,r,f,e=t.enableUrlEncode,o,u,s;if(i={url:t.url,callback:t.onData,scope:t,transaction:n,timeout:t.timeout},n.timeout&&(i.timeout=n.timeout),Ext.isArray(n))for(r=[],u=0,s=n.length;u<s;++u)o=t.getPayload(n[u]),r.push(o);else r=t.getPayload(n);e?(f={},f[Ext.isString(e)?e:"data"]=Ext.encode(r),i.params=f):i.jsonData=r;Ext.Ajax.request(i)},queueTransaction:function(n){var t=this,i=t.enableBuffer;if(n.form){t.sendFormRequest(n);return}if(i===!1||typeof n.timeout!="undefined"){t.sendRequest(n);return}t.callBuffer.push(n);i?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(i)?i:10)):t.combineAndSend()},combineAndSend:function(){var n=this,t=n.callBuffer,i=t.length;i>0&&(n.sendRequest(i===1?t[0]:t),n.callBuffer=[])},configureTransaction:function(n,t,i,r){var u,f,o,e,s;return u=t.getCallData(i),f=u.callback,o=u.scope,e=u.options,f=f&&o?Ext.Function.bind(f,o):f,s=Ext.apply({},{provider:this,args:i,action:n,method:t.name,form:u.form,data:u.data,metadata:u.metadata,callbackOptions:e,callback:f,isForm:r}),e&&e.timeout!=null&&(s.timeout=e.timeout),new Ext.direct.Transaction(s)},configureRequest:function(n,t,i){var r=this,u;u=r.configureTransaction(n,t,i);r.fireEvent("beforecall",r,u,t)!==!1&&(Ext.direct.Manager.addTransaction(u),r.queueTransaction(u),r.fireEvent("call",r,u,t))},configureFormRequest:function(n,t,i){var u=this,r,f,e,o;r=u.configureTransaction(n,t,i,!0);u.fireEvent("beforecall",u,r,t)!==!1&&(Ext.direct.Manager.addTransaction(r),f=r.form,e=String(f.getAttribute("enctype")).toLowerCase()==="multipart/form-data",o={extTID:r.id,extAction:n,extMethod:t.name,extType:"rpc",extUpload:String(e)},r.metadata&&(o.extMetadata=Ext.JSON.encode(r.metadata)),Ext.apply(r,{form:f,isUpload:e,params:o}),u.sendFormRequest(r),u.fireEvent("call",u,r,t))},sendFormRequest:function(n){var t=this;Ext.Ajax.request({url:t.url,params:n.params,callback:t.onData,scope:t,form:n.form,isUpload:n.isUpload,transaction:n})},inheritableStatics:{checkConfig:function(n){return n&&n.type==="remoting"&&n.url&&Ext.isArray(n.actions)}}},1,0,0,0,["direct.remotingprovider"],0,[Ext.direct,"RemotingProvider"],0);Ext.cmd.derive("Ext.dom.GarbageCollector",Ext.Base,{singleton:!0,interval:3e4,constructor:function(){var n=this;n.collect=Ext.Function.bind(n.collect,n);n.lastTime=Ext.now();n.resume()},collect:function(){var e=this,t=Ext.cache,n,u,i,r,f;for(n in t)if(t.hasOwnProperty(n)&&(i=t[n],!i.skipGarbageCollection)){u=i.dom;try{f=Ext.isGarbage(u)}catch(o){delete t[n];continue}f&&i&&i.dom&&i.collect()}if(Ext.isIE9m){r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);Ext.cache=Ext.dom.Element.cache=r}e.lastTime=Ext.now()},pause:function(){clearTimeout(this.timerId)},resume:function(){var n=this,t=n.lastTime;Ext.enableGarbageCollector&&Ext.now()-t>n.interval&&n.collect();n.timerId=Ext.interval(n.collect,n.interval)}},1,0,0,0,0,0,[Ext.dom,"GarbageCollector"],0);Ext.cmd.derive("Ext.event.gesture.Recognizer",Ext.Base,{priority:0,handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(n){this.initConfig(n);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},reset:Ext.emptyFn},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,"Recognizer"],0);Ext.cmd.derive("Ext.event.gesture.SingleTouch",Ext.event.gesture.Recognizer,{inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(n){if(n.touches.length>1)return this.fail(this.self.NOT_SINGLE_TOUCH)},onTouchCancel:function(){return!1}},0,0,0,0,0,0,[Ext.event.gesture,"SingleTouch"],0);Ext.cmd.derive("Ext.event.gesture.DoubleTap",Ext.event.gesture.SingleTouch,{priority:300,inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(n){var t=this,i;if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1)return!1;i=t.lastStartPoint=n.changedTouches[0].point;t.startPoint=t.startPoint||i;t.startTime=n.time;clearTimeout(t.singleTapTimer)},onTouchMove:function(n){var t=this,i=n.changedTouches[0].point;if(Math.abs(i.getDistanceTo(t.lastStartPoint))>=t.getMoveDistance())return t.startPoint=null,t.fail(t.self.TOUCH_MOVED)},onTouchEnd:function(n){var t=this,u=t.getMaxDuration(),i=n.time,f=n.target,e=t.lastTapTime,o=t.lastTarget,s=n.changedTouches[0].point,r;if(t.lastTapTime=i,t.lastTarget=f,e&&(r=i-e,r<=u&&Math.abs(s.getDistanceTo(t.startPoint))<=t.getTapDistance())){if(f!==o)return t.fail(t.self.DIFFERENT_TARGET);t.lastTarget=null;t.lastTapTime=0;t.fire("doubletap",n,{touch:n.changedTouches[0],duration:r});t.startPoint=null;return}i-t.startTime>u?t.fireSingleTap(n):t.setSingleTapTimer(n)},setSingleTapTimer:function(n){var t=this;t.singleTapTimer=Ext.defer(function(){t.fireSingleTap(n)},t.getMaxDuration())},fireSingleTap:function(n,t){this.fire("singletap",n,{touch:t});this.startPoint=null},reset:function(){var n=this;n.startTime=n.lastTapTime=0;n.lastStartPoint=n.startPoint=n.singleTapTimer=null}},0,0,0,0,0,0,[Ext.event.gesture,"DoubleTap"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.doubleTap)});Ext.cmd.derive("Ext.event.gesture.Drag",Ext.event.gesture.SingleTouch,{priority:100,isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(n){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1){if(this.isStarted&&this.lastMoveEvent!==null){this.lastMoveEvent.isStopped=!1;this.onTouchEnd(this.lastMoveEvent)}return!1}this.startTime=n.time;this.startPoint=n.changedTouches[0].point},tryDragStart:function(n){var u=this.startPoint,t=n.changedTouches[0],i=t.point,f=this.getMinDistance(),r=this.info;Math.abs(i.getDistanceTo(u))>=f&&(this.isStarted=!0,this.previousPoint=this.lastPoint=i,this.resetInfo("x",n,t),this.resetInfo("y",n,t),r.time=n.time,this.fire("dragstart",n,r))},onTouchMove:function(n){if(this.isStarted||this.tryDragStart(n),this.isStarted){var t=n.changedTouches[0],i=t.point;this.lastPoint&&(this.previousPoint=this.lastPoint);this.lastPoint=i;this.lastMoveEvent=n;this.updateInfo("x",n,t);this.updateInfo("y",n,t);this.info.time=n.time;this.fire("drag",n,this.info)}},onAxisDragEnd:function(n,t){var i=t.time-t.previousTime[n];i>0&&(t.flick.velocity[n]=(t[n]-t.previous[n])/i)},resetInfo:function(n,t,i){var f=this.lastPoint[n],e=this.startPoint[n],o=f-e,u=n.toUpperCase(),r=this.info;r.touch=i;r.delta[n]=o;r.absDelta[n]=Math.abs(o);r.previousTime[n]=this.startTime;r.previous[n]=e;r[n]=f;r.direction[n]=0;r["start"+u]=this.startPoint[n];r["previous"+u]=r.previous[n];r["page"+u]=r[n];r["delta"+u]=r.delta[n];r["absDelta"+u]=r.absDelta[n];r["previousDelta"+u]=0;r.startTime=this.startTime},updateInfo:function(n,t,i){var e=this,u=e.lastPoint[n],s=e.previousPoint[n],o=e.startPoint[n],h=u-o,r=e.info,c=r.direction,f=n.toUpperCase(),l=r.previous[n];r.touch=i;r.delta[n]=h;r.absDelta[n]=Math.abs(h);u!==l&&u!==r[n]&&(r.previous[n]=r[n],r.previousTime[n]=r.time);r[n]=u;u>s?c[n]=1:u<s&&(c[n]=-1);r["start"+f]=o;r["previous"+f]=r.previous[n];r["page"+f]=r[n];r["delta"+f]=r.delta[n];r["absDelta"+f]=r.absDelta[n];r["previousDelta"+f]=r.previous[n]-o;r.startTime=e.startTime},onTouchEnd:function(n){this.doEnd(n)},onTouchCancel:function(n){return this.doEnd(n,!0),!1},doEnd:function(n,t){if(this.isStarted||this.tryDragStart(n),this.isStarted){var r=n.changedTouches[0],u=r.point,i=this.info;this.isStarted=!1;this.lastPoint=u;this.updateInfo("x",n,r);this.updateInfo("y",n,r);i.time=n.time;this.onAxisDragEnd("x",i);this.onAxisDragEnd("y",i);this.fire(t?"dragcancel":"dragend",n,i);this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}},reset:function(){var n=this;n.isStarted=n.lastPoint=n.startPoint=n.previousPoint=n.lastPoint=n.lastMoveEvent=null;n.initInfo()}},1,0,0,0,0,0,[Ext.event.gesture,"Drag"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.drag)});Ext.cmd.derive("Ext.event.gesture.Swipe",Ext.event.gesture.SingleTouch,{priority:500,handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(n){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1)return!1;var t=n.changedTouches[0];this.startTime=n.time;this.isHorizontal=!0;this.isVertical=!0;this.startX=t.pageX;this.startY=t.pageY},onTouchMove:function(n){var i=n.changedTouches[0],e=i.pageX,o=i.pageY,h=e-this.startX,c=o-this.startY,r=Math.abs(e-this.startX),u=Math.abs(o-this.startY),l=n.time-this.startTime,s=this.getMinDistance(),a=n.time,t,f;return a-this.startTime>this.getMaxDuration()?this.fail(this.self.MAX_DURATION_EXCEEDED):(this.isHorizontal&&u>this.getMaxOffset()&&(this.isHorizontal=!1),this.isVertical&&r>this.getMaxOffset()&&(this.isVertical=!1),this.isVertical&&this.isHorizontal||(this.isHorizontal&&r<s?(t=h<0?"left":"right",f=r):this.isVertical&&u<s&&(t=c<0?"up":"down",f=u)),t&&!this.started&&(this.started=!0,this.fire("swipestart",n,{touch:i,direction:t,distance:f,duration:l})),!this.isHorizontal&&!this.isVertical?this.fail(this.self.MAX_OFFSET_EXCEEDED):void 0)},onTouchEnd:function(n){if(this.onTouchMove(n)===!1)return!1;var t=n.changedTouches[0],h=t.pageX,c=t.pageY,u=h-this.startX,f=c-this.startY,e=Math.abs(u),o=Math.abs(f),s=this.getMinDistance(),l=n.time-this.startTime,i,r;if(this.isVertical&&o<s&&(this.isVertical=!1),this.isHorizontal&&e<s&&(this.isHorizontal=!1),this.isHorizontal)i=u<0?"left":"right",r=e;else if(this.isVertical)i=f<0?"up":"down",r=o;else return this.fail(this.self.DISTANCE_NOT_ENOUGH);this.started=!1;this.fire("swipe",n,{touch:t,direction:i,distance:r,duration:l})},onTouchCancel:function(n){return this.fire("swipecancel",n),!1},reset:function(){var n=this;n.startTime=n.isHorizontal=n.isVertical=n.startX=n.startY=null}},0,0,0,0,0,0,[Ext.event.gesture,"Swipe"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.swipe)});Ext.cmd.derive("Ext.event.gesture.EdgeSwipe",Ext.event.gesture.Swipe,{priority:800,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(n){if(Ext.event.gesture.Swipe.prototype.onTouchStart.apply(this,arguments)===!1)return!1;var t=n.changedTouches[0];this.started=!1;this.direction=null;this.isHorizontal=!0;this.isVertical=!0;this.startX=t.pageX;this.startY=t.pageY},onTouchMove:function(n){var r=n.changedTouches[0],o=r.pageX,s=r.pageY,f=o-this.startX,e=s-this.startY,h=Math.abs(s-this.startY),c=Math.abs(o-this.startX),u=this.getMinDistance(),l=this.getMaxOffset(),a=n.time-this.startTime,v=Ext.Viewport&&Ext.Element.getViewportWidth(),y=Ext.Viewport&&Ext.Element.getViewportHeight(),t,i;if(this.isVertical&&c>l&&(this.isVertical=!1),this.isHorizontal&&h>l&&(this.isHorizontal=!1),this.isVertical&&this.isHorizontal&&(h>c?this.isHorizontal=!1:this.isVertical=!1),this.isHorizontal?(t=f<0?"left":"right",i=f):this.isVertical&&(t=e<0?"up":"down",i=e),t=this.direction||(this.direction=t),t==="up"?i=e*-1:t==="left"&&(i=f*-1),this.distance=i,!i)return this.fail(this.self.DISTANCE_NOT_ENOUGH);if(this.started)this.fire("edgeswipe",n,{touch:r,direction:t,distance:i,duration:a});else{if(t==="right"&&this.startX>u||t==="down"&&this.startY>u||t==="left"&&v-this.startX>u||t==="up"&&y-this.startY>u)return this.fail(this.self.NOT_NEAR_EDGE);this.started=!0;this.startTime=n.time;this.fire("edgeswipestart",n,{touch:r,direction:t,distance:i,duration:a})}},onTouchEnd:function(n){var t;this.onTouchMove(n)!==!1&&(t=n.time-this.startTime,this.fire("edgeswipeend",n,{touch:n.changedTouches[0],direction:this.direction,distance:this.distance,duration:t}))},onTouchCancel:function(n){return this.fire("edgeswipecancel",n,{touch:n.changedTouches[0]}),!1},reset:function(){var n=this;n.started=n.direction=n.isHorizontal=n.isVertical=n.startX=n.startY=n.startTime=n.distance=null}},0,0,0,0,0,0,[Ext.event.gesture,"EdgeSwipe"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.edgeSwipe)});Ext.cmd.derive("Ext.event.gesture.LongPress",Ext.event.gesture.SingleTouch,{priority:400,inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress","taphold"],fireLongPress:function(n){this.fire("longpress",n,{touch:n.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=!0},onTouchStart:function(n){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===!1)return!1;this.startPoint=n.changedTouches[0].point;this.isLongPress=!1;this.setLongPressTimer(n)},setLongPressTimer:function(n){var t=this;t.timer=Ext.defer(function(){t.fireLongPress(n)},t.getMinDuration())},onTouchMove:function(n){var t=n.changedTouches[0].point;if(Math.abs(t.getDistanceTo(this.startPoint))>=this.getMoveDistance())return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress)return this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){return clearTimeout(this.timer),Ext.event.gesture.SingleTouch.prototype.fail.apply(this,arguments)},reset:function(){this.isLongPress=this.startPoint=null},fire:function(n){if(n==="longpress"){var t=Array.prototype.slice.call(arguments);t[0]="taphold";this.fire.apply(this,t)}return Ext.event.gesture.SingleTouch.prototype.fire.apply(this,arguments)}},0,0,0,0,0,0,[Ext.event.gesture,"LongPress"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.longPress)});Ext.cmd.derive("Ext.event.gesture.MultiTouch",Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(n){var t=this.requiredTouchesCount,r=n.touches,i=r.length;i===t?this.start(n):i>t&&this.end(n)},onTouchEnd:function(n){this.end(n)},onTouchCancel:function(n){return this.end(n,!0),!1},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},end:function(n,t){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this[t?"fireCancel":"fireEnd"](n)))},reset:function(){this.isTracking=this.isStarted=!1}},0,0,0,0,0,0,[Ext.event.gesture,"MultiTouch"],0);Ext.cmd.derive("Ext.event.gesture.Pinch",Ext.event.gesture.MultiTouch,{priority:600,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(n){if(this.isTracking){var i=n.touches,r,u,t;(r=i[0].point,u=i[1].point,t=r.getDistanceTo(u),t!==0)&&(this.isStarted?this.fire("pinch",n,{touches:i,distance:t,scale:t/this.startDistance}):(this.isStarted=!0,this.startDistance=t,this.fire("pinchstart",n,{touches:i,distance:t,scale:1})))}},fireEnd:function(n){this.fire("pinchend",n)},fireCancel:function(n){this.fire("pinchcancel",n)},fail:function(){return Ext.event.gesture.MultiTouch.prototype.fail.apply(this,arguments)},reset:function(){this.lastTouches=null;this.startDistance=0;Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Pinch"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.pinch)});Ext.cmd.derive("Ext.event.gesture.Rotate",Ext.event.gesture.MultiTouch,{priority:700,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(n){if(this.isTracking){var i=n.touches,r=this.lastAngle,o,s,t,u,f,e;o=i[0].point;s=i[1].point;t=o.getAngleTo(s);r!==null&&(e=Math.abs(r-t),u=t+360,f=t-360,Math.abs(u-r)<e?t=u:Math.abs(f-r)<e&&(t=f));this.lastAngle=t;this.isStarted?this.fire("rotate",n,{touches:i,angle:t,rotation:t-this.startAngle}):(this.isStarted=!0,this.startAngle=t,this.fire("rotatestart",n,{touches:i,angle:t,rotation:0}));this.lastTouches=Ext.Array.clone(i)}},fireEnd:function(n){this.lastAngle=null;this.fire("rotateend",n)},fireCancel:function(n){this.lastAngle=null;this.fire("rotatecancel",n)},reset:function(){var n=this;n.lastTouches=n.lastAngle=n.startAngle=null;Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Rotate"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.rotate)});Ext.cmd.derive("Ext.event.gesture.Tap",Ext.event.gesture.SingleTouch,{priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(n){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,n)===!1)return!1;this.startPoint=n.changedTouches[0].point},onTouchMove:function(n){var t=n.changedTouches[0],i=t.point;if(Math.abs(i.getDistanceTo(this.startPoint))>=this.getMoveDistance())return this.fire("tapcancel",n,{touch:t}),this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(n){this.fire("tap",n,{touch:n.changedTouches[0]})},onTouchCancel:function(n){return this.fire("tapcancel",n,{touch:n.changedTouches[0]}),!1},reset:function(){this.startPoint=null}},0,0,0,0,0,0,[Ext.event.gesture,"Tap"],function(n){var t=Ext.manifest.gestures;n.instance=new n(t&&t.tap)});Ext.cmd.derive("Ext.fx.State",Ext.Base,{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(n){this.data={};this.set(n)},setConfig:function(n){return this.set(n),this},setRaw:function(n){return this.data=n,this},clear:function(){return this.setRaw({})},setTransform:function(n,t){var e=this.data,u=Ext.isArray(t),i=e.transform,r,f;if(i||(i=e.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}),typeof n=="string")switch(n){case"translate":if(u){if(r=t.length,r==0)break;if(i.translateX=t[0],r==1)break;if(i.translateY=t[1],r==2)break;i.translateZ=t[2]}else i.translateX=t;break;case"rotate":if(u){if(r=t.length,r==0)break;if(i.rotateX=t[0],r==1)break;if(i.rotateY=t[1],r==2)break;i.rotateZ=t[2]}else i.rotate=t;break;case"scale":if(u){if(r=t.length,r==0)break;if(i.scaleX=t[0],r==1)break;if(i.scaleY=t[1],r==2)break;i.scaleZ=t[2]}else i.scaleX=t,i.scaleY=t;break;case"skew":if(u){if(r=t.length,r==0)break;if(i.skewX=t[0],r==1)break;i.skewY=t[1]}else i.skewX=t;break;default:i[n]=t}else for(f in n)n.hasOwnProperty(f)&&(t=n[f],this.setTransform(f,t))},set:function(n,t){var r=this.data,i;if(typeof n!="string")for(i in n)t=n[i],i==="transform"?this.setTransform(t):r[i]=t;else n==="transform"?this.setTransform(t):r[n]=t;return this},unset:function(n){var t=this.data;return t.hasOwnProperty(n)&&delete t[n],this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,"State"],0);Ext.cmd.derive("Ext.fx.animation.Abstract",Ext.Evented,{isAnimation:!0,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},Ext.Evented.prototype.constructor.apply(this,arguments),this},applyElement:function(n){return Ext.get(n)},applyBefore:function(n,t){if(n)return Ext.factory(n,Ext.fx.State,t)},applyAfter:function(n,t){if(n)return Ext.factory(n,Ext.fx.State,t)},setFrom:function(n){return this.setState(this.STATE_FROM,n)},setTo:function(n){return this.setState(this.STATE_TO,n)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(n){var i=this.stateNameRegex;for(var t in n)i.test(t)&&this.setState(t,n[t]);return this},getStates:function(){return this.states},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();Ext.Evented.prototype.destroy.call(this)},setState:function(n,t){var r=this.getStates(),i;return i=Ext.factory(t,Ext.fx.State,r[n]),i&&(r[n]=i),this},getState:function(n){return this.getStates()[n]},getData:function(){var n=this.getStates(),i={},r=this.getBefore(),u=this.getAfter(),s=n[this.STATE_FROM],h=n[this.STATE_TO],f=s.getData(),c=h.getData(),e,t,o;for(t in n)n.hasOwnProperty(t)&&(o=n[t],e=o.getData(),i[t]=e);return Ext.browser.is.AndroidStock2&&(i["0.0001%"]=f),{before:r?r.getData():{},after:u?u.getData():{},states:i,from:f,to:c,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}},1,0,0,0,0,0,[Ext.fx.animation,"Abstract"],0);Ext.cmd.derive("Ext.fx.animation.Slide",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.SlideIn",config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(n){return n==="auto"?"ease-"+(this.getOut()?"in":"out"):n},getContainerBox:function(){var n=this._containerBox;return n==="auto"&&(n=this.getElement().getParent().getBox()),n},getElementBox:function(){var n=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():(n==="auto"&&(n=this.getElement().getBox()),n)},getData:function(){var v=this.getElementBox(),t=this.getContainerBox(),n=v?v:t,e=this.getFrom(),o=this.getTo(),i=this.getOut(),r=this.getOffset(),s=this.getDirection(),y=this.getUseCssTransform(),p=this.getReverse(),u=0,f=0,h,c,l,a;p&&(s=this.reverseDirectionMap[s]);switch(s){case this.DIRECTION_UP:f=i?t.top-n.top-n.height-r:t.bottom-n.bottom+n.height+r;break;case this.DIRECTION_DOWN:f=i?t.bottom-n.bottom+n.height+r:t.top-n.height-n.top-r;break;case this.DIRECTION_RIGHT:u=i?t.right-n.right+n.width+r:t.left-n.left-n.width-r;break;case this.DIRECTION_LEFT:u=i?t.left-n.left-n.width-r:t.right-n.right+n.width+r}return h=i?0:u,c=i?0:f,y?e.setTransform({translateX:h,translateY:c}):(e.set("left",h),e.set("top",c)),l=i?u:0,a=i?f:0,y?o.setTransform({translateX:l,translateY:a}):(o.set("left",l),o.set("top",a)),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.slide","animation.slideIn"],0,[Ext.fx.animation,"Slide",Ext.fx.animation,"SlideIn"],0);Ext.cmd.derive("Ext.fx.animation.SlideOut",Ext.fx.animation.Slide,{config:{out:!0}},0,0,0,0,["animation.slideOut"],0,[Ext.fx.animation,"SlideOut"],0);Ext.cmd.derive("Ext.fx.animation.Fade",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.FadeIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(n){var t=this.getTo(),i=this.getFrom();n?(i.set("opacity",1),t.set("opacity",0)):(i.set("opacity",0),t.set("opacity",1))}},0,0,0,0,["animation.fade","animation.fadeIn"],0,[Ext.fx.animation,"Fade",Ext.fx.animation,"FadeIn"],0);Ext.cmd.derive("Ext.fx.animation.FadeOut",Ext.fx.animation.Fade,{config:{out:!0,before:{}}},0,0,0,0,["animation.fadeOut"],0,[Ext.fx.animation,"FadeOut"],0);Ext.cmd.derive("Ext.fx.animation.Flip",Ext.fx.animation.Abstract,{config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var s=this.getFrom(),h=this.getTo(),c=this.getDirection(),t=this.getOut(),l=this.getHalf(),n=l?90:180,e=1,o=1,i=0,r=0,u=0,f=0;t?o=.8:e=.8;switch(c){case this.DIRECTION_UP:t?u=n:i=-n;break;case this.DIRECTION_DOWN:t?u=-n:i=n;break;case this.DIRECTION_RIGHT:t?f=n:r=-n;break;case this.DIRECTION_LEFT:t?f=-n:r=n}return s.setTransform({rotateX:i,rotateY:r,scale:e}),h.setTransform({rotateX:u,rotateY:f,scale:o}),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.flip"],0,[Ext.fx.animation,"Flip"],0);Ext.cmd.derive("Ext.fx.animation.Pop",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var n=this.getTo(),t=this.getFrom(),i=this.getOut();return i?(t.set("opacity",1),t.setTransform({scale:1}),n.set("opacity",0),n.setTransform({scale:0})):(t.set("opacity",0),t.setTransform({scale:0}),n.set("opacity",1),n.setTransform({scale:1})),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.pop","animation.popIn"],0,[Ext.fx.animation,"Pop",Ext.fx.animation,"PopIn"],0);Ext.cmd.derive("Ext.fx.animation.PopOut",Ext.fx.animation.Pop,{config:{out:!0,before:{}}},0,0,0,0,["animation.popOut"],0,[Ext.fx.animation,"PopOut"],0);Ext.cmd.derive("Ext.fx.Animation",Ext.Base,{constructor:function(n){var i=Ext.fx.animation.Abstract,t;return typeof n=="string"?(t=n,n={}):n&&n.type&&(t=n.type),t&&(Ext.browser.is.AndroidStock2&&(t=="pop"&&(t="fade"),t=="popIn"&&(t="fadeIn"),t=="popOut"&&(t="fadeOut")),i=Ext.ClassManager.getByAlias("animation."+t)),Ext.factory(n,i)}},1,0,0,0,0,0,[Ext.fx,"Animation"],0);Ext.cmd.derive("Ext.fx.runner.Css",Ext.Evented,{prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var n=Ext.feature.has.Css3dTransforms;this.transformMethods=n?["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"];this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var n=this.styleSheet,t,i;return n||(t=document.createElement("style"),t.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(t),i=document.styleSheets,this.styleSheet=n=i[i.length-1]),n},applyRules:function(n){var s=this.getStyleSheet(),h=this.ruleStylesCache,c=s.cssRules,r,e,i,u,o,t,f;for(r in n){e=n[r];i=h[r];i===undefined&&(o=c.length,s.insertRule(r+"{}",o),i=h[r]=c.item(o).style);u=i.$cache;u||(u=i.$cache={});for(t in e)f=this.formatValue(e[t],t),t=this.formatName(t),u[t]!==f&&(u[t]=f,f===null?i.removeProperty(t):i.setProperty(t,f,"important"))}return this},applyStyles:function(n){var i,u,f,r,t,e;for(i in n)if(n.hasOwnProperty(i)){if(u=document.getElementById(i),!u)return this;f=u.style;r=n[i];for(t in r)r.hasOwnProperty(t)&&(e=this.formatValue(r[t],t),t=this.formatName(t),e===null?f.removeProperty(t):f.setProperty(t,e,"important"))}return this},formatName:function(n){var i=this.formattedNameCache,t=i[n];return t||(t=(Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[n]?this.vendorPrefix+n:n,i[n]=t),t},formatValue:function(n,t){var s=typeof n,h=this.DEFAULT_UNIT_LENGTH,e,r,i,u,o,f,c;if(n===null)return"";if(s=="string")return this.lengthProperties[t]&&(c=n.match(this.lengthUnitRegex)[1],!(c.length>0))?n+h:n;if(s=="number"){if(n==0)return"0";if(this.lengthProperties[t])return n+h;if(this.angleProperties[t])return n+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[t])return n+this.DEFAULT_UNIT_DURATION}else{if(t==="transform"){for(e=this.transformMethods,o=[],i=0,u=e.length;i<u;i++)r=e[i],o.push(r+"("+this.formatValue(n[r],r)+")");return o.join(" ")}if(Ext.isArray(n)){for(f=[],i=0,u=n.length;i<u;i++)f.push(this.formatValue(n[i],t));return f.length>0?f.join(", "):"none"}}return n}},1,0,0,0,0,0,[Ext.fx.runner,"Css"],0);Ext.cmd.derive("Ext.fx.runner.CssTransition",Ext.fx.runner.Css,{alternateClassName:"Ext.Animator",singleton:!0,listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(n){var t=n.target,i=t.id;i&&this.runningAnimationsData.hasOwnProperty(i)&&this.refreshRunningAnimationsData(Ext.get(t),[n.browserEvent.propertyName])},onAnimationEnd:function(n,t,i,r,u){var c=n.getId(),l=this.runningAnimationsData[c],a={},e={},o,s,f,v,h;if(i.un("stop","onAnimationStop",this),l&&(o=l.nameMap),a[c]=e,t.onBeforeEnd&&t.onBeforeEnd.call(t.scope||this,n,r),i.fireEvent("animationbeforeend",i,n,r),this.fireEvent("animationbeforeend",this,i,n,r),u||!r&&!t.preserveEndState)for(s=t.toPropertyNames,f=0,v=s.length;f<v;f++)h=s[f],o&&!o.hasOwnProperty(h)&&(e[h]=null);t.after&&Ext.merge(e,t.after);this.applyStyles(a);t.onEnd&&t.onEnd.call(t.scope||this,n,r);i.fireEvent("animationend",i,n,r);this.fireEvent("animationend",this,i,n,r);Ext.AnimationQueue.stop(Ext.emptyFn,i)},onAllAnimationsEnd:function(n){var t=n.getId(),i={};delete this.runningAnimationsData[t];i[t]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(i);this.fireEvent("animationallend",this,n)},hasRunningAnimations:function(n){var t=n.getId(),i=this.runningAnimationsData;return i.hasOwnProperty(t)&&i[t].sessions.length>0},refreshRunningAnimationsData:function(n,t,i,r){var b=n.getId(),k=this.runningAnimationsData,s=k[b];if(s){var a=s.nameMap,v=s.nameList,e=s.sessions,h,c,y,o,u,f,l,p,w=!1;if((i=Boolean(i),r=Boolean(r),!e)||(h=e.length,h===0))return this;if(r){for(s.nameMap={},v.length=0,u=0;u<h;u++){f=e[u];this.onAnimationEnd(n,f.data,f.animation,i,r)}e.length=0}else for(u=0;u<h;u++){for(f=e[u],l=f.map,p=f.list,c=0,y=t.length;c<y;c++)o=t[c],l[o]&&(delete l[o],Ext.Array.remove(p,o),f.length--,--a[o]==0&&(delete a[o],Ext.Array.remove(v,o)));if(f.length==0){e.splice(u,1);u--;h--;w=!0;this.onAnimationEnd(n,f.data,f.animation,i)}}if(!r&&!i&&e.length==0&&w)this.onAllAnimationsEnd(n)}},getRunningData:function(n){var t=this.runningAnimationsData;return t.hasOwnProperty(n)||(t[n]={nameMap:{},nameList:[],sessions:[]}),t[n]},getTestElement:function(){var t=this.testElement,r,i,n;return t||(r=document.createElement("iframe"),r.setAttribute("tabindex",-1),n=r.style,n.setProperty("visibility","hidden","important"),n.setProperty("width","0px","important"),n.setProperty("height","0px","important"),n.setProperty("position","absolute","important"),n.setProperty("border","0px","important"),n.setProperty("zIndex","-1000","important"),document.body.appendChild(r),i=r.contentDocument,i.open(),i.writeln("<\/body>"),i.close(),this.testElement=t=i.createElement("div"),t.style.setProperty("position","absolute","important"),i.body.appendChild(t),this.testElementComputedStyle=window.getComputedStyle(t)),t},getCssStyleValue:function(n,t){var i=this.getTestElement(),u=this.testElementComputedStyle,r=i.style;return r.setProperty(n,t),Ext.browser.is.Firefox&&i.offsetHeight,t=u.getPropertyValue(n),r.removeProperty(n),t},run:function(n){var lt=this,at=this.lengthProperties,ft={},h={},r={},e,f,l,c,et,o,u,v,y,p,w,b,k,ot,i,d,it,st,s,t,a,ht,g,rt,nt,tt,ut,ct;for(this.listenersAttached||this.attachListeners(),n=Ext.Array.from(n),b=0,ot=n.length;b<ot;b++){i=n[b];i=Ext.factory(i,Ext.fx.Animation);e=i.getElement();Ext.AnimationQueue.start(Ext.emptyFn,i);st=window.getComputedStyle(e.dom);f=e.getId();r=Ext.merge({},i.getData());i.onBeforeStart&&i.onBeforeStart.call(i.scope||this,e);i.fireEvent("animationstart",i);this.fireEvent("animationstart",this,i);r[f]=r;et=r.before;l=r.from;c=r.to;r.fromPropertyNames=o=[];r.toPropertyNames=u=[];for(t in c)c.hasOwnProperty(t)&&(c[t]=a=this.formatValue(c[t],t),s=this.formatName(t),rt=at.hasOwnProperty(t),rt||(a=this.getCssStyleValue(s,a)),l.hasOwnProperty(t)?(l[t]=g=this.formatValue(l[t],t),rt||(g=this.getCssStyleValue(s,g)),a!==g&&(o.push(s),u.push(s))):(ht=st.getPropertyValue(s),a!==ht&&u.push(s)));if(d=u.length,d===0){this.onAnimationEnd(e,r,i);continue}for(p=this.getRunningData(f),ut=p.sessions,ut.length>0&&this.refreshRunningAnimationsData(e,Ext.Array.merge(o,u),!0,r.replacePrevious),nt=p.nameMap,tt=p.nameList,it={},k=0;k<d;k++)t=u[k],it[t]=!0,nt.hasOwnProperty(t)?nt[t]++:(nt[t]=1,tt.push(t));ct={element:e,map:it,list:u.slice(),length:d,data:r,animation:i};ut.push(ct);i.on("stop","onAnimationStop",this);w=Ext.apply({},et);Ext.apply(w,l);tt.length>0&&(o=Ext.Array.difference(tt,o),u=Ext.Array.merge(o,u),w["transition-property"]=o);ft[f]=w;h[f]=Ext.apply({},c);h[f]["transition-property"]=u;h[f]["transition-duration"]=r.duration;h[f]["transition-timing-function"]=r.easing;h[f]["transition-delay"]=r.delay;i.startTime=Date.now()}y=this.$className;this.applyStyles(ft);v=function(n){n.data===y&&n.source===window&&(window.removeEventListener("message",v,!1),lt.applyStyles(h))};Ext.browser.is.IE?Ext.Function.requestAnimationFrame(function(){window.addEventListener("message",v,!1);window.postMessage(y,"*")}):(window.addEventListener("message",v,!1),window.postMessage(y,"*"))},onAnimationStop:function(n){var r=this.runningAnimationsData,u,e,f,t,o,i;for(u in r)if(r.hasOwnProperty(u))for(e=r[u],f=e.sessions,t=0,o=f.length;t<o;t++)i=f[t],i.animation===n&&this.refreshRunningAnimationsData(i.element,i.list.slice(),!1)}},1,0,0,0,0,0,[Ext.fx.runner,"CssTransition",Ext,"Animator"],0);Ext.cmd.derive("Ext.fx.Runner",Ext.Base,{constructor:function(){return new Ext.fx.runner.CssTransition}},1,0,0,0,0,0,[Ext.fx,"Runner"],0);Ext.cmd.derive("Ext.fx.animation.Cube",Ext.fx.animation.Abstract,{config:{before:{},after:{},direction:"right",out:!1},getData:function(){var i=this.getTo(),r=this.getFrom(),c=this.getBefore(),l=this.getAfter(),u=this.getOut(),f=this.getDirection(),e=this.getElement(),o=e.getWidth(),v=e.getHeight(),a=u?"100% 100%":"0% 0%",s=1,h=1,n={rotateY:0,translateZ:0},t={rotateY:0,translateZ:0};return(f=="left"||f=="right")&&(u?(h=.5,t.translateZ=o,t.rotateY=-90):(s=.5,n.translateZ=o,n.rotateY=90)),c["transform-origin"]=a,l["transform-origin"]=null,i.set("transform",t),r.set("transform",n),r.set("opacity",s),i.set("opacity",h),Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.cube"],0,[Ext.fx.animation,"Cube"],0);Ext.cmd.derive("Ext.fx.animation.Wipe",Ext.fx.Animation,{alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var f=this,v=f.getElement(),l=v.dom.getBoundingClientRect(),e=l.width,t=l.height,h=f.getFrom(),a=f.getTo(),o=f.getOut(),y=f.getDirection(),s=0,i=0,r=0,u=0,n,c;switch(y){case"up":o?(n="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",i=t*3+"px",u=t+"px"):(n="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",i=-t*2+"px",u=0);break;case"down":o?(n="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",i=-t*2+"px",u=0):(n="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",i=t*3+"px",u=t+"px");break;case"right":o?(n="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",s=-e*2+"px",r=0):(n="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",r=-e*2+"px");break;case"left":o?(n="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",r=-e*2+"px"):(n="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",s=-e*2+"px",r=0)}o||(c=i,i=u,u=c,c=s,s=r,r=c);h.set("mask-image",n);h.set("mask-size",e*3+"px "+t*3+"px");h.set("mask-position-x",s);h.set("mask-position-y",i);a.set("mask-position-x",r);a.set("mask-position-y",u)}},0,0,0,0,0,0,[Ext.fx.animation,"Wipe",Ext.fx.animation,"WipeIn"],0);Ext.cmd.derive("Ext.fx.animation.WipeOut",Ext.fx.animation.Wipe,{config:{out:!0}},0,0,0,0,0,0,[Ext.fx.animation,"WipeOut"],0);Ext.cmd.derive("Ext.fx.easing.EaseIn",Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var n=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),i=this.getStartValue(),r=this.getEndValue(),u=this.distance,f=n/t,e=Math.pow(f,this.getExponent()),o=i+e*u;return n>=t?(this.isEnded=!0,r):o}},0,0,0,0,["easing.ease-in"],0,[Ext.fx.easing,"EaseIn"],0);Ext.cmd.derive("Ext.fx.easing.Easing",Ext.Base,{constructor:function(n){return Ext.factory(n,Ext.fx.easing.Linear,null,"easing")}},1,0,0,0,0,0,[Ext.fx.easing,"Easing"],0);Ext.cmd.derive("Ext.fx.layout.card.Abstract",Ext.Evented,{isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var n=this.getLayout();if(n)n.onBefore("activeitemchange","onActiveItemChange",this)},disable:function(){var n=this.getLayout();this.isAnimating&&this.stopAnimation();n&&n.unBefore("activeitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var n=this.getLayout();this.isAnimating&&this.stopAnimation();n&&n.unBefore("activeitemchange","onActiveItemChange",this);this.setLayout(null);this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())}},0,0,0,0,0,0,[Ext.fx.layout.card,"Abstract"],0);Ext.cmd.derive("Ext.fx.layout.card.Style",Ext.fx.layout.card.Abstract,{config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(n){var t,i;Ext.fx.layout.card.Abstract.prototype.constructor.call(this,n);this.endAnimationCounter=0;t=this.getInAnimation();i=this.getOutAnimation();t.on("animationend","incrementEnd",this);i.on("animationend","incrementEnd",this)},updateDirection:function(n){this.getInAnimation().setDirection(n);this.getOutAnimation().setDirection(n)},updateDuration:function(n){this.getInAnimation().setDuration(n);this.getOutAnimation().setDuration(n)},updateReverse:function(n){this.getInAnimation().setReverse(n);this.getOutAnimation().setReverse(n)},incrementEnd:function(){this.endAnimationCounter++;this.endAnimationCounter>1&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(n,t){return Ext.factory(n,Ext.fx.Animation,t)},applyOutAnimation:function(n,t){return Ext.factory(n,Ext.fx.Animation,t)},updateInAnimation:function(n){n.setScope(this)},updateOutAnimation:function(n){n.setScope(this)},onActiveItemChange:function(n,t,i,r,u){var o=this.getInAnimation(),f=this.getOutAnimation(),e,s;t&&i&&i.isPainted()&&(e=t.renderElement,s=i.renderElement,o.setElement(e),f.setElement(s),f.setOnBeforeEnd(function(n,t){(t||Ext.Animator.hasRunningAnimations(n))&&(u.firingArguments[1]=null,u.firingArguments[2]=null)}),f.setOnEnd(function(){u.resume()}),e.dom.style.setProperty("visibility","hidden","important"),t.show(),Ext.Animator.run([f,o]),u.pause())},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation());Ext.fx.layout.card.Abstract.prototype.destroy.apply(this,arguments)}},1,0,0,0,0,0,[Ext.fx.layout.card,"Style"],0);Ext.cmd.derive("Ext.fx.layout.card.Slide",Ext.fx.layout.card.Style,{config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(n){this.getInAnimation().setReverse(n);this.getOutAnimation().setReverse(n)}},0,0,0,0,["fx.layout.card.slide"],0,[Ext.fx.layout.card,"Slide"],0);Ext.cmd.derive("Ext.fx.layout.card.Cover",Ext.fx.layout.card.Style,{config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(n){this.getInAnimation().setReverse(n);this.getOutAnimation().setReverse(n)}},0,0,0,0,["fx.layout.card.cover"],0,[Ext.fx.layout.card,"Cover"],0);Ext.cmd.derive("Ext.fx.layout.card.Reveal",Ext.fx.layout.card.Style,{config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(n){this.getInAnimation().setReverse(n);this.getOutAnimation().setReverse(n)}},0,0,0,0,["fx.layout.card.reveal"],0,[Ext.fx.layout.card,"Reveal"],0);Ext.cmd.derive("Ext.fx.layout.card.Fade",Ext.fx.layout.card.Style,{config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}},0,0,0,0,["fx.layout.card.fade"],0,[Ext.fx.layout.card,"Fade"],0);Ext.cmd.derive("Ext.fx.layout.card.Flip",Ext.fx.layout.card.Style,{config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(n,t){var i=t.element.getParent();i.addCls("x-layout-card-perspective");this.on("animationend",function(){i.removeCls("x-layout-card-perspective")},this,{single:!0});Ext.fx.layout.card.Style.prototype.onActiveItemChange.apply(this,arguments)},updateDuration:function(n){var t=n/2,i=this.getInAnimation(),r=this.getOutAnimation();i.setDelay(t);i.setDuration(t);r.setDuration(t)}},0,0,0,0,["fx.layout.card.flip"],0,[Ext.fx.layout.card,"Flip"],0);Ext.cmd.derive("Ext.fx.layout.card.Pop",Ext.fx.layout.card.Style,{config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(n){var t=n/2,i=this.getInAnimation(),r=this.getOutAnimation();i.setDelay(t);i.setDuration(t);r.setDuration(t)}},0,0,0,0,["fx.layout.card.pop"],0,[Ext.fx.layout.card,"Pop"],0);Ext.cmd.derive("Ext.fx.layout.card.Scroll",Ext.fx.layout.card.Abstract,{config:{duration:150},constructor:function(n){this.initConfig(n)},getEasing:function(){var n=this.easing;return n||(this.easing=n=new Ext.fx.easing.Linear),n},updateDuration:function(n){this.getEasing().setDuration(n)},onActiveItemChange:function(n,t,i,r,u){var h=this.getDirection(),c=this.getEasing(),e,l,a,o,s,f;t&&i&&(this.isAnimating&&this.stopAnimation(),t.setWidth("100%"),t.setHeight("100%"),e=this.getLayout().container.innerElement,o=e.getWidth(),s=e.getHeight(),l=t.renderElement,a=i.renderElement,this.oldItem=i,this.newItem=t,this.currentEventController=u,this.containerElement=e,this.isReverse=f=this.getReverse(),t.show(),h=="right"?(h="left",this.isReverse=f=!f):h=="down"&&(h="up",this.isReverse=f=!f),h=="left"?f?(c.setConfig({startValue:o,endValue:0}),e.dom.scrollLeft=o,a.setLeft(o)):(c.setConfig({startValue:0,endValue:o}),l.setLeft(o)):f?(c.setConfig({startValue:s,endValue:0}),e.dom.scrollTop=s,a.setTop(s)):(c.setConfig({startValue:0,endValue:s}),l.setTop(s)),this.startAnimation(),u.pause())},startAnimation:function(){this.isAnimating=!0;this.getEasing().setStartTime(Date.now());Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var n=this.getEasing(),t=this.getDirection(),i="scrollTop",r;(t=="left"||t=="right")&&(i="scrollLeft");n.isEnded?this.stopAnimation():(r=n.getValue(),this.containerElement.dom[i]=r)},stopAnimation:function(){var n=this,u=n.getDirection(),r="setTop",t=n.oldItem,i=n.newItem;(u=="left"||u=="right")&&(r="setLeft");n.currentEventController.resume();n.isReverse&&t&&t.renderElement&&t.renderElement.dom?t.renderElement[r](null):i&&i.renderElement&&i.renderElement.dom&&i.renderElement[r](null);Ext.AnimationQueue.stop(this.doAnimationFrame,this);n.isAnimating=!1;n.fireEvent("animationend",n)}},1,0,0,0,["fx.layout.card.scroll"],0,[Ext.fx.layout.card,"Scroll"],0);Ext.cmd.derive("Ext.fx.layout.Card",Ext.Base,{constructor:function(n){var i=Ext.fx.layout.card.Abstract,t;return n?(typeof n=="string"?(t=n,n={}):n.type&&(t=n.type),n.elementBox=!1,t&&(Ext.browser.is.AndroidStock2&&t!="fade"&&(t="scroll"),i=Ext.ClassManager.getByAlias("fx.layout.card."+t)),Ext.factory(n,i)):null}},1,0,0,0,0,0,[Ext.fx.layout,"Card"],0);Ext.cmd.derive("Ext.fx.layout.card.Cube",Ext.fx.layout.card.Style,{config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}},0,0,0,0,["fx.layout.card.cube"],0,[Ext.fx.layout.card,"Cube"],0);Ext.cmd.derive("Ext.fx.layout.card.ScrollCover",Ext.fx.layout.card.Scroll,{onActiveItemChange:function(n,t,i,r,u){var o,s,e,h,f,c;if(this.lastController=u,this.inItem=t,t&&i){o=this.getLayout().container.innerElement;s=o.getSize();e=this.calculateXY(s);h={easing:this.getEasing(),duration:this.getDuration()};t.renderElement.dom.style.setProperty("visibility","hidden","important");f=t.setTranslatable(!0).getTranslatable();c=i.setTranslatable(!0).getTranslatable();c.translate({x:0,y:0});f.translate({x:e.left,y:e.top});f.getWrapper().dom.style.setProperty("z-index","100","important");t.show();f.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this});f.translateAnimated({x:0,y:0},h);u.pause()}},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index");this.lastController.resume()}},0,0,0,0,["fx.layout.card.scrollcover"],0,[Ext.fx.layout.card,"ScrollCover"],0);Ext.cmd.derive("Ext.fx.layout.card.ScrollReveal",Ext.fx.layout.card.Scroll,{onActiveItemChange:function(n,t,i,r,u){var o,s,e,h,f,c;if(this.lastController=u,this.outItem=i,this.inItem=t,t&&i){o=this.getLayout().container.innerElement;s=o.getSize();e=this.calculateXY(s);h={easing:this.getEasing(),duration:this.getDuration()};f=i.setTranslatable(!0).getTranslatable();c=t.setTranslatable(!0).getTranslatable();f.getWrapper().dom.style.setProperty("z-index","100","important");f.translate({x:0,y:0});c.translate({x:0,y:0});t.show();f.on({animationend:"onOutAnimationEnd",scope:this});f.translateAnimated({x:e.x,y:e.y},h);u.pause()}},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index");this.lastController.resume()}},0,0,0,0,["fx.layout.card.scrollreveal"],0,[Ext.fx.layout.card,"ScrollReveal"],0);Ext.cmd.derive("Ext.fx.runner.CssAnimation",Ext.fx.runner.Css,{constructor:function(){return this.runningAnimationsMap={},this.elementEndStates={},this.animationElementMap={},this.keyframesRulesCache={},this.uniqueId=0,Ext.fx.runner.Css.prototype.constructor.apply(this,arguments)},attachListeners:function(){this.listenersAttached=!0;Ext.getWin().on({animationstart:"onAnimationStart",animationend:"onAnimationEnd",scope:this})},onAnimationStart:function(n){var r=n.browserEvent.animationName,t=this.animationElementMap[r],u=this.runningAnimationsMap[t][r],f=this.elementEndStates,e=f[t],i={};e&&(delete f[t],i[t]=e,this.applyStyles(i));u.before&&(i[t]=u.before,this.applyStyles(i))},onAnimationEnd:function(n){var r=n.target,i=n.browserEvent.animationName,u=this.animationElementMap,e=u[i],o=this.runningAnimationsMap,f=o[e],t=f[i];t.onBeforeEnd&&t.onBeforeEnd.call(t.scope||this,r);t.onEnd&&t.onEnd.call(t.scope||this,r);delete u[i];delete f[i];this.removeKeyframesRule(i)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(n){var p={},k=this.elementEndStates,d=this.animationElementMap,w=this.runningAnimationsMap,i,s,r,f,e,b,t,o,u,h,c,l,a,v,y;for(this.listenersAttached||this.attachListeners(),n=Ext.Array.from(n),e=0,b=n.length;e<b;e++){t=n[e];t=Ext.factory(t,Ext.fx.Animation);r=t.getElement().getId();f=t.getName()||this.generateAnimationId();d[f]=r;t=t.getData();s=t.states;this.addKeyframesRule(f,s);i=w[r];i||(i=w[r]={});i[f]=t;h=[];c=[];l=[];a=[];v=[];y=[];for(o in i)i.hasOwnProperty(o)&&(u=i[o],h.push(o),c.push(u.duration),l.push(u.easing),a.push(u.delay),v.push(u.direction),y.push(u.iteration));p[r]={"animation-name":h,"animation-duration":c,"animation-timing-function":l,"animation-delay":a,"animation-direction":v,"animation-iteration-count":y};t.preserveEndState&&(k[r]=s["100%"])}this.applyStyles(p)},addKeyframesRule:function(n,t){var f,e,o,s,r,h,u,i,c;s=this.getStyleSheet();r=s.cssRules;u=r.length;s.insertRule("@"+this.vendorPrefix+"keyframes "+n+"{}",u);o=r[u];for(f in t){e=t[f];r=o.cssRules;u=r.length;h=[];for(i in e)c=this.formatValue(e[i],i),i=this.formatName(i),h.push(i+":"+c);o.insertRule(f+"{"+h.join(";")+"}",u)}return this},removeKeyframesRule:function(n){for(var i=this.getStyleSheet(),r=i.cssRules,f,t=0,u=r.length;t<u;t++)if(f=r[t],f.name===n){i.removeRule(t);break}return this}},1,0,0,0,0,0,[Ext.fx.runner,"CssAnimation"],0);Ext.cmd.derive("Ext.mixin.Hookable",Ext.Mixin,{mixinConfig:{id:"hookable"},bind:function(n,t,i,r,u){i||(i=t);var f=n[t],e,o;return f&&f.hasOwnProperty("$binding")&&(o=f.$binding,o.bindingMethod===i&&o.bindingScope===this)?this:(n[t]=e=function(){var n=e.$binding,i=n.bindingScope,t=Array.prototype.slice.call(arguments);return t.push(arguments),u&&t.push.apply(t,u),!n.preventDefault&&i[n.bindingMethod].apply(i,t)!==!1?n.boundFn.apply(this,arguments):void 0},e.$binding={preventDefault:!!r,boundFn:f,bindingMethod:i,bindingScope:this},this)},unbind:function(n,t,i){i||(i=t);for(var e=n[t],r=e.$binding,u,f;r;){if(u=r.boundFn,r.bindingMethod===i&&r.bindingScope===this)return f?f.boundFn=u:n[t]=u,this;f=r;r=u.$binding}return this}},0,0,0,0,0,0,[Ext.mixin,"Hookable"],0);Ext.define("Ext.mixin.Mashup",function(n){return{extend:"Ext.Mixin",mixinConfig:{id:"mashup",extended:function(t,i){n.process(i)}},statics:{process:function(n){var i=n.prototype,r=i.requiredScripts,t=n._classHooks,u=t.onCreated;r&&(delete i.requiredScripts,t.onCreated=function(){var n=this,i=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:r,cache:!0,onLoad:function(){t.onCreated=u;t.onCreated.call(n,i)}})})}},onClassMixedIn:function(t){n.process(t)}}});Ext.cmd.derive("Ext.mixin.Responsive",Ext.Mixin,function(n){return{mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(n,t,i,r){if(!n)return t;var u=t?Ext.Object.chain(t):{};for(var f in n)r&&f in u||(u[f]={fn:null,config:n[f]});return u}},responsiveFormulas:{$value:0,merge:function(n,t,i,r){return this.mergeNew(n,t,i,r)}}},destroy:function(){n.unregister(this);this.callParent()},privates:{statics:{active:!1,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){n.active=!0;n.updateContext();Ext.on("resize",n.onResize,n)},deactivate:function(){n.active=!1;Ext.un("resize",n.onResize,n)},notify:function(){var t=n.all,r=n.context,u=Ext.GlobalEvents,f=n.timer,i;f&&(n.timer=null,Ext.Function.cancelAnimationFrame(f));n.updateContext();Ext.suspendLayouts();u.fireEvent("beforeresponsiveupdate",r);for(i in t)t[i].setupResponsiveContext();u.fireEvent("beginresponsiveupdate",r);for(i in t)t[i].updateResponsiveState();u.fireEvent("responsiveupdate",r);Ext.resumeLayouts(!0)},onResize:function(){n.timer||(n.timer=Ext.Function.requestAnimationFrame(n.onTimer))},onTimer:function(){n.timer=null;n.notify()},processConfig:function(n,t,i){var r=t&&t[i],u=n.config,f,e;r&&(e=n.getConfigurator(),f=e.configs[i],u[i]=f.merge(r,u[i],n))},register:function(t){var i=t.$responsiveId;i||(t.$responsiveId=i=++n.nextId,n.all[i]=t,++n.count==1&&n.activate())},unregister:function(t){var i=t.$responsiveId;i in n.all&&(t.$responsiveId=null,delete n.all[i],--n.count==0&&n.deactivate())},updateContext:function(){var i=Ext.Element,r=i.getViewportWidth(),u=i.getViewportHeight(),t=n.context;t.width=r;t.height=u;t.tall=r<u;t.wide=!t.tall;t.landscape=t.portrait=!1;t.platform||(t.platform=Ext.platformTags);t[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(n){var t=n.prototype,r=t.responsiveConfig,u=t.responsiveFormulas,i;(r||u)&&(i={},r&&(delete t.responsiveConfig,i.responsiveConfig=r),u&&(delete t.responsiveFormulas,i.responsiveFormulas=u),n.getConfigurator().add(i))},applyResponsiveConfig:function(n){for(var t in n)n[t].fn=Ext.createRuleFn(t);return n},applyResponsiveFormulas:function(n){var r={},t,i;if(n)for(i in n)Ext.isString(t=n[i])&&(t=Ext.createRuleFn(t)),r[i]=t;return r},getResponsiveState:function(){var f=n.context,t=this.getResponsiveConfig(),r={},i,u;if(t)for(u in t)i=t[u],i.fn.call(this,f)&&Ext.merge(r,i.config);return r},setupResponsiveContext:function(){var t=this.getResponsiveFormulas(),r=n.context,i;if(t)for(i in t)r[i]=t[i].call(this,r)},transformInstanceConfig:function(t){var r=this,i;return n.register(r),t&&(n.processConfig(r,t,"responsiveConfig"),n.processConfig(r,t,"responsiveFormulas")),r.setupResponsiveContext(),i=r.getResponsiveState(),t&&(i=Ext.merge({},t,i),delete i.responsiveConfig,delete i.responsiveFormulas),i},updateResponsiveState:function(){var n=this.getResponsiveState();this.setConfig(n)}}}},0,0,0,0,0,0,[Ext.mixin,"Responsive"],0);Ext.cmd.derive("Ext.mixin.Selectable",Ext.Mixin,{mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection;this.callParent(arguments)},applyMode:function(n){return n=n?n.toUpperCase():"SINGLE",this.modes[n]?n:"SINGLE"},updateStore:function(n,t){var i=this,r=Ext.apply({},i.selectableEventHooks,{scope:i});if(t&&Ext.isObject(t)&&t.isStore&&(t.autoDestroy?t.destroy():(t.un(r),n&&n.un("clear","onSelectionStoreClear",this))),n){n.on(r);n.onBefore("clear","onSelectionStoreClear",this);i.refreshSelection()}},selectAll:function(n){var t=this,i=t.getStore().getRange();t.select(i,!0,n)},deselectAll:function(n){var t=this,i=t.getStore().getRange();t.deselect(i,n);t.selected.clear();t.setLastSelected(null);t.setLastFocused(null)},selectWithEvent:function(n){var t=this,i=t.isSelected(n);switch(t.getMode()){case"MULTI":case"SIMPLE":i?t.deselect(n):t.select(n,!0);break;case"SINGLE":t.getAllowDeselect()&&i?t.deselect(n):t.select(n,!1)}},selectRange:function(n,t,i){var u=this,o=u.getStore(),f=[],e,r;if(!u.getDisableSelection()){for(n>t&&(e=t,t=n,n=e),r=n;r<=t;r++)f.push(o.getAt(r));this.doMultiSelect(f,i)}},select:function(n,t,i){var r=this,u;r.getDisableSelection()||(typeof n=="number"&&(n=[r.getStore().getAt(n)]),n)&&(r.getMode()=="SINGLE"&&n?(u=n.length?n[0]:n,r.doSingleSelect(u,i)):r.doMultiSelect(n,t,i))},doSingleSelect:function(n,t){var i=this,r=i.selected;if(!i.getDisableSelection()&&!i.isSelected(n)){r.getCount()>0&&i.deselect(i.getLastSelected(),t);r.add(n);i.setLastSelected(n);i.onItemSelect(n,t);i.setLastFocused(n);t||i.fireSelectionChange([n])}},doMultiSelect:function(n,t,i){if(n!==null&&!this.getDisableSelection()){n=Ext.isArray(n)?n:[n];var r=this,o=r.selected,s=n.length,f=!1,e=0,u;for(!t&&o.getCount()>0&&(f=!0,r.deselect(r.getSelection(),!0));e<s;e++)if(u=n[e],!t||!r.isSelected(u)){f=!0;r.setLastSelected(u);o.add(u);i||r.setLastFocused(u);r.onItemSelect(u,i)}f&&!i&&this.fireSelectionChange(n)}},deselect:function(n,t){var r=this;if(!r.getDisableSelection()){n=Ext.isArray(n)?n:[n];for(var f=r.selected,e=!1,u=0,o=r.getStore(),s=n.length,i;u<s;u++)if(i=n[u],typeof i=="number"&&(i=o.getAt(i)),f.remove(i)&&(r.getLastSelected()==i&&r.setLastSelected(f.last()),e=!0),i)r.onItemDeselect(i,t);e&&!t&&r.fireSelectionChange(n)}},updateLastFocused:function(n,t){this.onLastFocusChanged(t,n)},fireSelectionChange:function(n){var t=this;t.fireAction("beforeselectionchange",[t],function(){t.fireAction("selectionchange",[t,n],"getSelection")})},getSelection:function(){return this.selected.getRange()},isSelected:function(n){return n=Ext.isNumber(n)?this.getStore().getAt(n):n,this.selected.indexOf(n)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var n=this,t=n.getSelection();n.deselectAll(!0);t.length&&n.select(t,!1,!0)},onSelectionStoreRemove:function(n,t){var i=this,f=i.selected,e=t.length,r,u;if(!i.getDisableSelection())for(u=0;u<e;u++)r=t[u],f.remove(r)&&(i.getLastSelected()==r&&i.setLastSelected(null),i.getLastFocused()==r&&i.setLastFocused(null),i.fireSelectionChange([r]))},onSelectionStoreClear:function(n){var t=n.getData().items;this.onSelectionStoreRemove(n,t)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},1,0,0,0,0,0,[Ext.mixin,"Selectable"],function(){});Ext.cmd.derive("Ext.mixin.Traversable",Ext.Mixin,{mixinConfig:{id:"traversable"},setParent:function(n){return this.parent=n,this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){for(var t=[],n=this.getParent();n;)t.push(n),n=n.getParent();return t},getAncestorIds:function(){for(var t=[],n=this.getParent();n;)t.push(n.getId()),n=n.getParent();return t}},0,0,0,0,0,0,[Ext.mixin,"Traversable"],0);Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){function u(n,t){n.sum+=t;n.min=Math.min(n.min,t);n.max=Math.max(n.max,t)}function o(i){var f=i?i:n()-this.time,e=this,r=e.accum;++r.count;--r.depth||u(r.total,f);u(r.pure,f-e.childTime);t=e.parent;t&&(++t.accum.childCount,t.childTime+=f)}function f(){return{min:Number.MAX_VALUE,max:0,sum:0}}function s(n,t){return function(){var i=n.enter(),r=t.apply(this,arguments);return i.leave(),r}}function e(n,t,i,r){var u={avg:0,min:r.min,max:r.max,sum:0};return n&&(i=i||0,u.sum=r.sum-t*i,u.avg=u.sum/n),u}var t=null,i=Ext.global.chrome,r,n=function(){n=Ext.now;var t,r;if(Ext.isChrome&&i&&i.Interval)t=new i.Interval,t.start(),n=function(){return t.microseconds()/1e3};else if(window.ActiveXObject)try{r=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=r;n=function(){return r.milliseconds}}catch(u){}return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=n,n()};return{constructor:function(n){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0;t.pure=f();t.total=f();t.name=n},statics:{getTimestamp:n},format:function(n){r||(r=new Ext.XTemplate('{name} - {count} call(s)<tpl if="count"><tpl if="childCount"> ({childCount} children)<\/tpl><tpl if="depth - 1"> ({depth} deep)<\/tpl><tpl for="times">, {type}: {[this.time(values.sum)]} msec (avg={[this.time(values.sum / parent.count)]})<\/tpl><\/tpl>',{time:function(n){return Math.round(n*100)/100}}));var t=this.getData(n);return t.name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],r.apply(t)},getData:function(n){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:e(t.count,t.childCount,n,t.pure),total:e(t.count,t.childCount,n,t.total)}},enter:function(){var i=this,r={accum:i,leave:o,childTime:0,parent:t};return++i.depth,i.maxDepth<i.depth&&(i.maxDepth=i.depth),t=r,r.time=n(),r},monitor:function(n,t,i){var r=this.enter();i?n.apply(t,i):n.call(t);r.leave()},report:function(){Ext.log(this.format())},tap:function(n,t){var o=this,l=typeof t=="string"?[t]:t,r,f,i,h,e,u,c,a=function(){if(typeof n=="string")for(r=Ext.global,h=n.split("."),i=0,e=h.length;i<e;++i)r=r[h[i]];else r=n;for(i=0,e=l.length;i<e;++i)u=l[i],f=u.charAt(0)==="!",f?u=u.substring(1):f=!(u in r.prototype),c=f?r:r.prototype,c[u]=s(o,c[u])};Ext.ClassManager.onCreated(a,o,n);return o}}},1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var n=new Ext.perf.Accumulator("$"),f=n.total,t=Ext.perf.Accumulator.getTimestamp,i=0,r,u,e=t();do r=n.enter(),r.leave(),++i;while(f.sum<100);return u=t(),(u-e)/i},get:function(n){var i=this,t=i.accumulatorsByName[n];return t||(i.accumulatorsByName[n]=t=new Ext.perf.Accumulator(n),i.accumulators.push(t)),t},enter:function(n){return this.get(n).enter()},monitor:function(n,t,i){this.get(n).monitor(t,i)},report:function(){var n=this,t=n.accumulators,i=n.calibrate();t.sort(function(n,t){return n.name<t.name?-1:t.name<n.name?1:0});n.updateGC();Ext.log("Calibration: "+Math.round(i*100)/100+" msec/sample");Ext.each(t,function(n){Ext.log(n.format(i))})},getData:function(n){var t={},i=this.accumulators;return Ext.each(i,function(i){(n||i.count)&&(t[i.name]=i.getData())}),t},reset:function(){Ext.each(this.accumulators,function(n){var t=n;t.count=t.childCount=t.depth=t.maxDepth=0;t.pure={min:Number.MAX_VALUE,max:0,sum:0};t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var t=this.accumulatorsByName.GC,i=Ext.senchaToolbox,n;t&&(t.count=i.garbageCollectionCounter||0,t.count&&(n=t.pure,t.total.sum=n.sum=i.garbageCollectionMilliseconds,n.min=n.max=n.sum/t.count,n=t.total,n.min=n.max=n.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var n=Ext.senchaToolbox;n&&(this.get("GC"),n.watchGarbageCollector(!1))},setup:function(n){n||(n={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}});this.currentConfig=n;var t,i,u,r,f;for(t in n)if(n.hasOwnProperty(t)){i=n[t];u=Ext.Perf.get(t);for(r in i)i.hasOwnProperty(r)&&(f=i[r],u.tap(r,f))}this.watchGC()}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0);Ext.cmd.derive("Ext.plugin.Abstract",Ext.Base,{alternateClassName:"Ext.AbstractPlugin",isPlugin:!0,constructor:function(n){n&&(this.pluginConfig=n,this.initConfig(n))},clonePlugin:function(n){return new this.self(Ext.apply({},n,this.pluginConfig))},setCmp:function(n){this.cmp=n},getCmp:function(){return this.cmp},init:Ext.emptyFn,onClassExtended:function(n,t){var i=t.alias;i&&!t.ptype&&(Ext.isArray(i)&&(i=i[0]),n.prototype.ptype=i.split("plugin.")[1])},resolveListenerScope:function(n){var t=this,i=t.getCmp(),r;return i&&(r=i.resolveSatelliteListenerScope(t,n)),r||t.mixins.observable.resolveListenerScope.call(t,n)}},1,0,0,0,0,0,[Ext.plugin,"Abstract",Ext,"AbstractPlugin"],0);Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:!1,$configPrefixed:!1,disabled:!1,getState:null,applyState:null,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}});Ext.cmd.derive("Ext.plugin.LazyItems",Ext.plugin.Abstract,{init:function(n){Ext.plugin.Abstract.prototype.init.apply(this,arguments);this.items&&this.eagerInstantiation&&(this.items=n.prepareItems(this.items));n.beforeRender=Ext.Function.createInterceptor(n.beforeRender,this.beforeComponentRender,this)},beforeComponentRender:function(){this.cmp.add(this.items);delete this.cmp.beforeComponentRender}},0,0,0,0,["plugin.lazyitems"],0,[Ext.plugin,"LazyItems"],0);Ext.cmd.derive("Ext.util.Base64",Ext.Base,{singleton:!0,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){var t=this,e="",o,i,r,h,c,s,u,f=0,l;for(n=t._utf8_encode(n),l=n.length;f<l;)o=n.charCodeAt(f++),i=n.charCodeAt(f++),r=n.charCodeAt(f++),h=o>>2,c=(o&3)<<4|i>>4,s=(i&15)<<2|r>>6,u=r&63,isNaN(i)?s=u=64:isNaN(r)&&(u=64),e=e+t._str.charAt(h)+t._str.charAt(c)+t._str.charAt(s)+t._str.charAt(u);return e},decode:function(n){var i=this,t="",o,s,h,c,f,u,e,r=0,l;for(n=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),l=n.length;r<l;)c=i._str.indexOf(n.charAt(r++)),f=i._str.indexOf(n.charAt(r++)),u=i._str.indexOf(n.charAt(r++)),e=i._str.indexOf(n.charAt(r++)),o=c<<2|f>>4,s=(f&15)<<4|u>>2,h=(u&3)<<6|e,t=t+String.fromCharCode(o),u!==64&&(t=t+String.fromCharCode(s)),e!==64&&(t=t+String.fromCharCode(h));return i._utf8_decode(t)},_utf8_encode:function(n){var t;n=n.replace(/\r\n/g,"\n");for(var i="",r=0,u=n.length;r<u;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i},_utf8_decode:function(n){for(var r="",t=0,i=0,f=0,u=0,e=n.length;t<e;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(u=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|u&63),t+=2):(u=n.charCodeAt(t+1),f=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(u&63)<<6|f&63),t+=3);return r}},0,0,0,0,0,0,[Ext.util,"Base64"],0);Ext.cmd.derive("Ext.util.DelimitedValue",Ext.Base,{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',parseREs:{},quoteREs:{},lineBreakRe:/\r?\n/g,constructor:function(n){n&&Ext.apply(this,n)},decode:function(n,t){for(var f=this,r=t||f.delimiter,e=[],s=[e],i=f.quote,h=f.quoteREs,c=f.parseREs,a=c[r]||(c[r]=new RegExp("(\\"+r+"|\\r?\\n|\\r|^)(?:\\"+i+"([^\\"+i+"]*(?:\\"+i+"\\"+i+"[^\\"+i+"]*)*)\\"+i+'|([^"\\'+r+"\\r\\n]*))","gi")),v=h[i]||(h[i]=new RegExp("\\"+i+"\\"+i,"g")),u,o,l;u=a.exec(n);)o=u[1],o.length&&o!==r&&s.push(e=[]),l=u[2]?u[2].replace(v,'"'):u[3],e.push(l);return s},encode:function(n,t){for(var u=this,h=t||u.delimiter,l=u.dateFormat,r=u.quote,a=r+r,e=n.length,v=u.lineBreakRe,c=[],o=[],i,f,s;e-->0;){for(s=n[e],o.length=f=s.length;f-->0;)i=s[f],i==null?i="":typeof i=="string"?i&&(i.indexOf(r)>-1?i=r+i.split(r).join(a)+r:(i.indexOf(h)>-1||v.test(i))&&(i=r+i+r)):Ext.isDate(i)&&(i=Ext.Date.format(i,l)),o[f]=i;c[e]=o.join(h)}return c.join(u.lineBreak)}},1,0,0,0,0,0,[Ext.util,"DelimitedValue"],0);Ext.cmd.derive("Ext.util.CSV",Ext.util.DelimitedValue,{singleton:!0,delimiter:","},0,0,0,0,0,0,[Ext.util,"CSV"],0);Ext.cmd.derive("Ext.util.LocalStorage",Ext.Base,{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(n){var r=this,u=r.cache,t={_users:1},i;return Ext.isString(n)?t.id=n:Ext.apply(t,n),(i=u[t.id])?++i._users:i=new r(t),i},supported:!0},constructor:function(n){var t=this;Ext.apply(t,n);t._users&&(Ext.util.LocalStorage.cache[t.id]=t);t.init()},init:function(){var n=this,t=n.id;!n.prefix&&t&&(n.prefix=t+"-");n._store=n.session?window.sessionStorage:window.localStorage},destroy:function(){var n=this;delete Ext.util.LocalStorage.cache[n.id];n._store=n._keys=null;n.destroyed=!0;n.destroy=Ext.emptyFn},getKeys:function(){var n=this,f=n._store,e=n.prefix,t=n._keys,r=e.length,u,i;if(!t)for(n._keys=t=[],u=f.length;u--;)i=f.key(u),i.length>r&&e===i.substring(0,r)&&t.push(i.substring(r));return t},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){for(var n=this,r=n._store,u=n.prefix,t=n._keys||n.getKeys(),i=t.length;i--;)r.removeItem(u+t[i]);t.length=0},key:function(n){var t=this._keys||this.getKeys();return 0<=n&&n<t.length?t[n]:null},getItem:function(n){var t=this.prefix+n;return this._store.getItem(t)},removeItem:function(n){var t=this,u=t.prefix+n,i=t._store,r=t._keys,f=i.length;i.removeItem(u);r&&f!==i.length&&(t.lazyKeys?t._keys=null:Ext.Array.remove(r,n))},setItem:function(n,t){var i=this,f=i.prefix+n,r=i._store,e=r.length,u=i._keys;r.setItem(f,t);u&&e!==r.length&&u.push(n)}},1,0,0,0,0,0,[Ext.util,"LocalStorage"],function(){var n=this;if(!("localStorage"in window)){if(!Ext.isIE){n.supported=!1;return}n.override({data:null,flushDelay:1,init:function(){var n=this,i=n.data,t;n.el=t=document.createElement("div");t.id=n.id||(n.id="extjs-localstore");t.addBehavior("#default#userdata");Ext.getHead().dom.appendChild(t);t.load(n.id);i=t.getAttribute("xdata");n.data=i=i?Ext.decode(i):{};n._flushFn=function(){n._timer=null;n.save(0)}},destroy:function(){var n=this,t=n.el;t&&(n._timer&&n.save(),t.parentNode.removeChild(t),n.data=n.el=null,n.callParent())},getKeys:function(){var n=this,t=n._keys;return t||(n._keys=t=Ext.Object.getKeys(n.data)),t},save:function(n){var t=this;n?t._timer||(t._timer=Ext.defer(t._flushFn,n)):(t._timer&&(clearTimeout(t._timer),t._timer=null),t.el.setAttribute("xdata",Ext.encode(t.data)),t.el.save(t.id))},clear:function(){var n=this;n.data={};n._keys=null;n.save(n.flushDelay)},getItem:function(n){var t=this.data;return n in t?t[n]:null},removeItem:function(n){var t=this,i=t._keys,r=t.data;n in r&&(delete r[n],i&&(t.lazyKeys?t._keys=null:Ext.Array.remove(i,n)),t.save(t.flushDelay))},setItem:function(n,t){var i=this,r=i.data,u=i._keys;!u||n in r||u.push(n);r[n]=t;i.save(i.flushDelay)}})}});Ext.cmd.derive("Ext.util.TSV",Ext.util.DelimitedValue,{singleton:!0,delimiter:"\t"},0,0,0,0,0,0,[Ext.util,"TSV"],0);Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:!0},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0);Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(n,t,i){var u=this,r=u.shared;return r||(r=u.shared=new u(n,i)),r.bind(n),r.setFixedWidth(i||"auto"),r.getSize(t)},destroy:function(){var n=this;Ext.destroy(n.shared);n.shared=null}},constructor:function(n,t){var r=this,i=Ext.getBody().createChild({role:"presentation",cls:"x-textmetrics"});r.measure=i;n&&r.bind(n);i.position("absolute");i.setLocalXY(-1e3,-1e3);i.hide();t&&i.setWidth(t)},getSize:function(n){var t=this.measure,i;return t.setHtml(n),i=t.getSize(),t.setHtml(""),i},bind:function(n){var t=this;t.el=Ext.get(n);t.measure.setStyle(t.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(n){this.measure.setWidth(n)},getWidth:function(n){return this.measure.dom.style.width="auto",this.getSize(n).width},getHeight:function(n){return this.getSize(n).height},destroy:function(){var n=this;n.measure.destroy();delete n.el;delete n.measure}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.override({getTextWidth:function(n,t,i){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(n,this.dom.innerHTML,!0)).width,t||0,i||1e6)}})});Ext.cmd.derive("Ext.Action",Ext.Base,{constructor:function(n){this.initialConfig=n;this.itemId=n.itemId=n.itemId||n.id||Ext.id();this.items=[]},isAction:!0,setText:function(n){this.initialConfig.text=n;this.callEach("setText",[n])},getText:function(){return this.initialConfig.text},setIconCls:function(n){this.initialConfig.iconCls=n;this.callEach("setIconCls",[n])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(n){this.initialConfig.disabled=n;this.callEach("setDisabled",[n])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(n){this.initialConfig.hidden=n;this.callEach("setVisible",[!n])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(n,t){this.initialConfig.handler=n;this.initialConfig.scope=t;this.callEach("setHandler",[n,t])},each:function(n,t){Ext.each(this.items,n,t)},callEach:function(n,t){var u=this.items,i=0,f=u.length,r;for(Ext.suspendLayouts();i<f;i++)r=u[i],r[n].apply(r,t);Ext.resumeLayouts(!0)},addComponent:function(n){this.items.push(n);n.on("destroy",this.removeComponent,this)},removeComponent:function(n){Ext.Array.remove(this.items,n)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,"Action"],0);Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(n,t,i){return n.getTarget().setHtml(t.responseText,i.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(n){var t=this,i;n=n||{};Ext.apply(t,n);t.mixins.observable.constructor.call(t);t.setTarget(t.target);t.autoLoad&&(i=t.autoLoad,i===!0&&(i=null),t.load(i))},setTarget:function(n){var t=this;n=Ext.get(n);t.target&&t.target!==n&&t.abort();t.target=n},getTarget:function(){return this.target||null},abort:function(){var n=this.active;n!==undefined&&(Ext.Ajax.abort(n.request),n.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(n){this.target.mask(n===!0?null:n)},load:function(n){n=Ext.apply({},n);var t=this,i=Ext.isDefined(n.loadMask)?n.loadMask:t.loadMask,r=Ext.apply({},n.params),u=Ext.apply({},n.ajaxOptions),f=n.callback||t.callback,e=n.scope||t.scope||t,o=n.rendererScope||t.rendererScope||t;(Ext.applyIf(u,t.ajaxOptions),Ext.applyIf(n,u),Ext.applyIf(r,t.params),Ext.apply(r,t.baseParams),Ext.applyIf(n,{url:t.url}),Ext.apply(n,{scope:t,params:r,callback:t.onComplete}),t.fireEvent("beforeload",t,n)!==!1)&&(i&&t.addMask(i),t.active={options:n,mask:i,scope:e,rendererScope:o,callback:f,success:n.success||t.success,failure:n.failure||t.failure,renderer:n.renderer||t.renderer,scripts:Ext.isDefined(n.scripts)?n.scripts:t.scripts},t.active.request=Ext.Ajax.request(n),t.setOptions(t.active,n))},setOptions:Ext.emptyFn,onComplete:function(n,t,i){var r=this,u=r.active,e,f;u&&(f=u.scope,e=u.rendererScope,t&&(t=r.getRenderer(u.renderer).call(e,r,i,u)!==!1),t?(Ext.callback(u.success,f,[r,i,n]),r.fireEvent("load",r,i,n)):(Ext.callback(u.failure,f,[r,i,n]),r.fireEvent("exception",r,i,n)),Ext.callback(u.callback,f,[r,t,i,n]),u.mask&&r.removeMask());delete r.active},getRenderer:function(n){return Ext.isFunction(n)?n:this.statics().Renderer.Html},startAutoRefresh:function(n,t){var i=this;i.stopAutoRefresh();i.autoRefresh=Ext.interval(function(){i.load(t)},n)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var n=this;n.stopAutoRefresh();delete n.target;n.abort();n.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"ElementLoader"],0);Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(n,t){var i=!0;try{n.getTarget().update(Ext.decode(t.responseText))}catch(r){i=!1}return i},Component:function(n,t,i){var u=!0,r=n.getTarget(),f=[];try{f=Ext.decode(t.responseText)}catch(e){u=!1}return u&&(r.suspendLayouts(),i.removeAll&&r.removeAll(),r.add(f),r.resumeLayouts(!0)),u}}},target:null,loadOnRender:!1,loadMask:!1,renderer:"html",setTarget:function(n){var t=this;Ext.isString(n)&&(n=Ext.getCmp(n));t.target&&t.target!==n&&t.abort();t.target=n;n&&t.loadOnRender&&(n.rendered?t.doLoadOnRender():t.mon(n,"render",t.doLoadOnRender,t))},doLoadOnRender:function(){var n=this.loadOnRender;this.load(Ext.isObject(n)?n:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(n){this.target.setLoading(n)},setOptions:function(n,t){n.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(n){if(Ext.isFunction(n))return n;var t=this.statics().Renderer;switch(n){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0);Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(n){var t=this,i=t.self,u=i.sizeModelsArray,r;Ext.apply(t,n);t[r=t.name]=!0;t.fixed=!(t.auto=t.natural||t.shrinkWrap);u[t.ordinal=u.length]=i[r]=i.sizeModels[r]=t},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var n=this,r=n.sizeModelsArray,t,i,u,e,f;for(new n({name:"calculated"}),new n({name:"configured",names:{width:"width",height:"height"}}),new n({name:"natural"}),new n({name:"shrinkWrap"}),new n({name:"calculatedFromConfigured",configured:!0,calculatedFrom:!0,names:{width:"width",height:"height"}}),new n({name:"calculatedFromNatural",natural:!0,calculatedFrom:!0}),new n({name:"calculatedFromShrinkWrap",shrinkWrap:!0,calculatedFrom:!0}),new n({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new n({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new n({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),t=0,u=r.length;t<u;++t)for(f=r[t],f.pairsByHeightOrdinal=e=[],i=0;i<u;++i)e.push({width:f,height:r[i]})});Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(n){var t=this;t.id=Ext.id(null,t.type+"-");t.initConfig(n);delete t.type;t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(n){var t=this,r=t.context,i;t.lastWidthModel!==n.widthModel&&(t.lastWidthModel&&(i=!0),t.lastWidthModel=n.widthModel);t.lastHeightModel!==n.heightModel&&(t.lastWidthModel&&(i=!0),t.lastHeightModel=n.heightModel);i&&((r=n.context).clearTriggers(t,!1),r.clearTriggers(t,!0),t.triggerCount=0)},finishedLayout:function(n){this.lastWidthModel=n.widthModel;this.lastHeightModel=n.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(){return!1},isItemLayoutRoot:function(n){var t=n.getSizeModel(),i=t.width,r=t.height;return!n.componentLayout.lastComponentSize&&(i.calculated||r.calculated)?!1:!i.shrinkWrap&&!r.shrinkWrap},isItemShrinkWrap:function(n){return n.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(n,t){var e=n.length,u,i,r,f;if(e)for(f=[],u=0;u<e;++u)i=n[u],i.rendered||(t&&t[i.id]!==undefined?r=t[i.id]:(this.configureItem(i),r=i.getRenderTree(),t&&(t[i.id]=r)),r&&f.push(r));return f},finishRender:Ext.emptyFn,finishRenderItems:function(n,t){for(var u=t.length,r,i=0;i<u;i++)r=t[i],r.rendering&&r.finishRender(i)},renderChildren:function(){var n=this,t=n.getLayoutItems(),i=n.getRenderTarget();n.renderItems(t,i)},renderItems:function(n,t){var u=this,f=n.length,r=0,i;if(f){for(Ext.suspendLayouts();r<f;r++)i=n[r],i&&!i.rendered?u.renderItem(i,t,r):u.isValidParent(i,t,r)?u.configureItem(i):u.moveItem(i,t,r);Ext.resumeLayouts(!0)}},isValidParent:function(n,t,i){var r=t&&t.dom||t,u=this.getItemLayoutEl(n);return u&&r?typeof i=="number"?(i=this.getPositionOffset(i),u===r.childNodes[i]):u.parentNode===r:!1},getItemLayoutEl:function(n){var t=n.el?n.el.dom:Ext.getDom(n),r=t.parentNode,i;return r&&(i=r.className,i&&i.indexOf("x-resizable-wrap")!==-1&&(t=t.parentNode)),t},getPositionOffset:function(n){return n},configureItem:function(n){n.ownerLayout=this},renderItem:function(n,t,i){var r=this;n.rendered||(r.configureItem(n),n.render(t,i))},moveItem:function(n,t,i){t=t.dom||t;typeof i=="number"&&(i=t.childNodes[i]);t.insertBefore(n.el.dom,i||null);n.container=Ext.get(t);this.configureItem(n)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(n){this.owner=n},getLayoutItems:function(){return[]},onAdd:function(n){n.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(n){var i=this,u=n.el,r=i.owner,t;n.rendered&&(t=[].concat(i.itemCls||[]),r.itemCls&&(t=Ext.Array.push(t,r.itemCls)),t.length&&u.removeCls(t));delete n.ownerLayout},afterCollapse:function(n,t){if(t)this.onContentChange(n)},afterExpand:function(n,t){if(t)this.onContentChange(n)},destroy:function(){var n=this,t;n.targetCls&&(t=n.getTarget(),t&&t.removeCls(n.targetCls));n.onDestroy()},sortWeightedItems:function(n,t){for(var i=0,r=n.length;i<r;++i)n[i].$i=i;for(Ext.Array.sort(n,function(n,i){var r=i.weight-n.weight;return r||(r=n.$i-i.$i,n[t]&&(r=-r)),r}),i=0;i<r;++i)delete n[i].$i}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,"Layout"],function(){var n=this;n.prototype.sizeModels=n.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){Ext.layout.Layout.prototype.destroy.call(this);this.mixins.elementCt.destroy.call(this)},beginLayout:function(n){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);n.targetContext=n.paddingContext=n.getEl("getTarget",this);this.cacheChildItems(n)},beginLayoutCycle:function(n,t){var i=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);t&&(i.usesContainerHeight&&++n.consumersContainerHeight,i.usesContainerWidth&&++n.consumersContainerWidth)},cacheChildItems:function(n){var i=this,u,f,r,e,t;if(i.needsItemSize||i.setsItemSize)for(u=n.context,f=n.childItems=[],r=n.visibleItems=i.getVisibleItems(),e=r.length,t=0;t<e;++t)f.push(u.getCmp(r[t]))},cacheElements:function(){var n=this.owner;this.attachChildEls(n.el,n)},calculate:function(n){var t=n.props,i=n.el;n.widthModel.shrinkWrap&&isNaN(t.width)&&n.setContentWidth(i.getWidth());n.heightModel.shrinkWrap&&isNaN(t.height)&&n.setContentHeight(i.getHeight())},configureItem:function(n){var r=this,i=r.itemCls,u=r.owner.itemCls,f,t;n.ownerLayout=r;i&&(typeof i=="string"?t=[i]:(t=i,f=!!t));u&&(f&&(t=Ext.Array.clone(t)),t=Ext.Array.push(t||[],u));t&&n.addCls(t)},doRenderBody:function(n,t){this.renderItems(n,t);this.renderContent(n,t)},doRenderContainer:function(n,t){var i=t.$comp.layout,r=i.getRenderTpl(),u=i.getRenderData();r.applyOut(u,n)},doRenderItems:function(n,t){var r=t.$layout,i=r.getRenderTree();i&&Ext.DomHelper.generateMarkup(i,n)},finishRender:function(){var n=this,t,i;Ext.layout.Layout.prototype.finishRender.call(this);n.cacheElements();t=n.getRenderTarget();i=n.getLayoutItems();n.finishRenderItems(t,i)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(n,t){var u=n.targetContext,h=u.getFrameInfo(),c=n.paddingContext.getPaddingInfo(),f=0,e=0,o,s,i,r;return n.widthModel.shrinkWrap||(++e,i=t?u.getDomProp("width"):u.getProp("width"),o=typeof i=="number",o&&(++f,i-=h.width+c.width,i<0&&(i=0))),n.heightModel.shrinkWrap||(++e,r=t?u.getDomProp("height"):u.getProp("height"),s=typeof r=="number",s&&(++f,r-=h.height+c.height,r<0&&(r=0))),{width:i,height:r,needed:e,got:f,gotAll:f===e,gotWidth:o,gotHeight:s}},getPositionOffset:function(n){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;t&&(n+=t)}return n},getLayoutItems:function(){var n=this.owner,t=n&&n.items;return t&&t.items||[]},getRenderData:function(){var n=this.owner;return{$comp:n,$layout:this,ownerId:n.id}},getRenderedItems:function(){for(var i=this,f=i.getRenderTarget(),r=i.getLayoutItems(),e=r.length,u=[],t,n=0;n<e;n++)t=r[n],t.rendered&&i.isValidParent(t,f,n)&&u.push(t);return u},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var t=this,n=Ext.XTemplate.getTpl(this,"renderTpl");return n.renderContent||t.owner.setupRenderTpl(n),n},getRenderTree:function(){var n,t=this.owner.items,i,r={};do i=t.generation,n=this.getItemsRenderTree(this.getLayoutItems(),r);while(t.generation!==i);return n},renderChildren:function(){var n=this,t=n.owner.items,u=n.getRenderTarget(),i,r;do i=t.generation,r=n.getLayoutItems(),n.renderItems(r,u);while(t.generation!==i)},getScrollbarsNeeded:function(n,t,i,r){var f=Ext.getScrollbarSize(),s=typeof n=="number",e=typeof t=="number",o=0,u=0;return f.width?(e&&t<r&&(u=2,n-=f.width),s&&n<i&&(o=1,!u&&e&&(t-=f.height,t<r&&(u=2))),u+o):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){for(var u=this.getRenderTarget(),i=this.getLayoutItems(),f=i.length,r=[],n,t=0;t<f;t++)n=i[t],n.rendered&&this.isValidParent(n,u,t)&&n.hidden!==!0&&!n.floated&&r.push(n);return r},getMoveAfterIndex:function(n){return this.owner.items.indexOf(n)+1},moveItemBefore:function(n,t){var u=this.owner,r=u.items,f=r.indexOf(n),i;return n===t?n:(t?(i=r.indexOf(t),f>-1&&f<i&&--i):i=r.length,u.insert(i,n))},setupRenderTpl:function(n){n.renderBody=this.doRenderBody;n.renderContainer=this.doRenderContainer;n.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(n){n.liquidLayout||++this.activeItemCount;Ext.layout.Layout.prototype.onAdd.call(this,n)},onRemove:function(n){n.liquidLayout||--this.activeItemCount;Ext.layout.Layout.prototype.onRemove.call(this,n)}},1,0,0,0,["layout.container"],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0);Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:"x-autocontainer-outerCt",innerCtCls:"x-autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}","<\/div>","<\/div>"],beginLayout:function(n){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);this.initContextItems(n)},beforeLayoutCycle:function(n){var t=this.owner,i=t.inheritedState,r=t.inheritedStateInner;(!i||i.invalid)&&(i=t.getInherited(),r=t.inheritedStateInner);n.widthModel.shrinkWrap?r.inShrinkWrapTable=!0:delete r.inShrinkWrapTable},beginLayoutCycle:function(n){var t=this,f=t.outerCt,h=t.lastOuterCtWidth||"",c=t.lastOuterCtHeight||"",l=t.lastOuterCtTableLayout||"",o=n.state,e,i,r,u,s;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);i=r=u="";n.widthModel.shrinkWrap||(i="100%",s=t.owner.inheritedStateInner,e=t.getOverflowXStyle(n),u=s.inShrinkWrapTable||e==="auto"||e==="scroll"?"":"fixed");n.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(r="100%");(i!==h||t.hasOuterCtPxWidth)&&(f.setStyle("width",i),t.lastOuterCtWidth=i,t.hasOuterCtPxWidth=!1);u!==l&&(f.setStyle("table-layout",u),t.lastOuterCtTableLayout=u);(r!==c||t.hasOuterCtPxHeight)&&(f.setStyle("height",r),t.lastOuterCtHeight=r,t.hasOuterCtPxHeight=!1);t.hasInnerCtPxHeight&&(t.innerCt.setStyle("height",""),t.hasInnerCtPxHeight=!1);o.overflowAdjust=o.overflowAdjust||t.lastOverflowAdjust},calculate:function(n){var t=this,r=n.state,i=t.getContainerSize(n,!0),u=r.calculatedItems||(r.calculatedItems=t.calculateItems?t.calculateItems(n,i):!0);if(t.setCtSizeIfNeeded(n,i),u&&n.hasDomProp("containerChildrenSizeDone")&&(t.calculateContentSize(n),i.gotAll)){!t.manageOverflow||n.state.secondPass||t.reserveScrollbar||t.calculateOverflow(n,i);return}t.done=!1},calculateContentSize:function(n){var t=this,f=(n.widthModel.shrinkWrap?1:0)|(n.heightModel.shrinkWrap?2:0),i=f&1||undefined,r=f&2||undefined,u=0,e=n.props;i&&(isNaN(e.contentWidth)?++u:i=undefined);r&&(isNaN(e.contentHeight)?++u:r=undefined);u&&(i&&!n.setContentWidth(t.measureContentWidth(n))&&(t.done=!1),r&&!n.setContentHeight(t.measureContentHeight(n))&&(t.done=!1))},calculateOverflow:function(n){var i=this,u,f,e,t,o,s,r;o=i.getOverflowXStyle(n)==="auto";s=i.getOverflowYStyle(n)==="auto";(o||s)&&(e=Ext.getScrollbarSize(),r=n.overflowContext.el.dom,t=0,r.scrollWidth>r.clientWidth&&(t|=1),r.scrollHeight>r.clientHeight&&(t|=2),u=s&&t&2?e.width:0,f=o&&t&1?e.height:0,(u!==i.lastOverflowAdjust.width||f!==i.lastOverflowAdjust.height)&&(i.done=!1,n.invalidate({state:{overflowAdjust:{width:u,height:f},overflowState:t,secondPass:!0}})))},completeLayout:function(n){this.lastOverflowAdjust=n.state.overflowAdjust},doRenderBody:function(n,t){var i=t.$layout,r=Ext.XTemplate,u=i.beforeBodyTpl,f=i.afterBodyTpl;u&&r.getTpl(i,"beforeBodyTpl").applyOut(t,n);this.renderItems(n,t);this.renderContent(n,t);f&&r.getTpl(i,"afterBodyTpl").applyOut(t,n)},doRenderPadding:function(n,t){var u=t.$layout,i=t.$layout.owner,r=i[i.contentPaddingProperty];u.managePadding&&r&&n.push("padding:",i.unitizeBox(r))},finishedLayout:function(){var n=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);Ext.isIE8&&n.repaint();Ext.isOpera&&(n.setStyle("position","relative"),n.dom.scrollWidth,n.setStyle("position",""))},getContainerSize:function(n){var t=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),i=n.state.overflowAdjust;return i&&(t.width-=i.width,t.height-=i.height),t},getRenderData:function(){var t=this,n=Ext.layout.container.Container.prototype.getRenderData.call(this);return n.innerCtCls=t.innerCtCls,n.outerCtCls=t.outerCtCls,n},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(n){return n.overflowXStyle||(n.overflowXStyle=this.owner.scrollFlags.overflowX||n.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(n){return n.overflowYStyle||(n.overflowYStyle=this.owner.scrollFlags.overflowY||n.overflowContext.getStyle("overflow-y"))},initContextItems:function(n){var t=this,i=n.target,r=t.owner.getOverflowEl();n.outerCtContext=n.getEl("outerCt",t);n.innerCtContext=n.getEl("innerCt",t);n.overflowContext=r===n.el?n:n.getEl(r);i[i.contentPaddingProperty]!==undefined&&(n.paddingContext=n.innerCtContext)},initLayout:function(){var n=this,t=Ext.getScrollbarSize().width,i=n.owner;Ext.layout.container.Container.prototype.initLayout.call(this);t&&n.manageOverflow&&!n.hasOwnProperty("lastOverflowAdjust")&&(i.scrollable||n.reserveScrollbar)&&(n.lastOverflowAdjust={width:t,height:0})},measureContentHeight:function(n){var t=this.outerCt.getHeight(),i=n.target;return this.managePadding&&i[i.contentPaddingProperty]===undefined&&(t+=n.targetContext.getPaddingInfo().height),t},measureContentWidth:function(n){var t,i,r,u,f;return this.chromeCellMeasureBug&&(t=this.innerCt.dom,i=t.style,r=i.display,r==="table-cell"&&(i.display="",t.offsetWidth,i.display=r)),Ext.isSafari&&(t=this.outerCt.dom,i=t.style,i.display="table-cell",t.offsetWidth,t.style.display=""),u=this.outerCt.getWidth(),f=n.target,this.managePadding&&f[f.contentPaddingProperty]===undefined&&(u+=n.targetContext.getPaddingInfo().width),u},setCtSizeIfNeeded:function(n,t){var r=this,i=t.height,s=n.paddingContext.getPaddingInfo(),e=r.getTarget(),o=r.getOverflowXStyle(n),h=o==="auto"||o==="scroll",c=Ext.getScrollbarSize(),u,f;i&&!n.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(u=!0),Ext.isIE8&&(f=!0),(u||f)&&h&&e.dom.scrollWidth>e.dom.clientWidth&&(i=Math.max(i-c.height,0)),u&&(n.outerCtContext.setProp("height",i+s.height),r.hasOuterCtPxHeight=!0),f&&(n.innerCtContext.setProp("height",i),r.hasInnerCtPxHeight=!0))},setupRenderTpl:function(n){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);n.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3,activeCounter:0},constructor:function(n){var t=this;if(t.id=Ext.id(null,"zindex-mgr-"),t.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(n,t){var i=(n.alwaysOnTop||0)-(t.alwaysOnTop||0);return i||(i=n.getActiveCounter()-t.getActiveCounter()),i}},filters:{filterFn:function(n){return n.isVisible()}}}),t.zIndexStack.addObserver(t),t.front=null,t.globalListeners=Ext.GlobalEvents.on({hide:t.onComponentShowHide,show:t.onComponentShowHide,scope:t,destroyable:!0}),n)if(n.isContainer){n.on("resize",t.onContainerResize,t);t.zseed=Ext.Number.from(t.rendered?n.getEl().getStyle("zIndex"):undefined,t.getNextZSeed());t.targetEl=n.getTargetEl();t.container=n}else{Ext.on("resize",t.onContainerResize,t);t.zseed=t.getNextZSeed();t.targetEl=Ext.get(n)}else{t.zseed=t.getNextZSeed();Ext.onInternalReady(function(){Ext.on("resize",t.onContainerResize,t);t.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(n){return this.zseed=n,this.onCollectionSort()},onCollectionSort:function(){for(var t=this,i=t.front,f=t.zseed,o=t.zIndexStack.getRange(),h=o.length,r,e,n,s=!1,u=0;u<h;u++)r=o[u],f=r.setZIndex(f),r.hidden||(n=r,r.modal&&(e=r));return n!==i&&(i&&!i.destroying&&i.setActive(!1),n&&(s=n.modal||(!i||i.isVisible())&&n.focusOnToFront&&!n.preventFocusOnActivate&&n.isFocusable(!0),n.setActive(!0,s))),t.front=n,e?t.showModalMask(e):t.hideModalMask(),f},onComponentUpdate:function(n){this.zIndexStack.contains(n)&&this.zIndexStack.sort()},onComponentRender:function(n){this.zIndexStack.itemChanged(n,"hidden")},onComponentShowHide:function(n){var t=this.zIndexStack;n.isFloating()&&!this.hidingAll&&(t.getSource()||t).contains(n)&&(t.itemChanged(n,"hidden"),t.sort())},register:function(n){var t=this;if(n.zIndexManager&&n.zIndexManager.unregister(n),n.zIndexManager=t,!n.rendered)n.on("render",t.onComponentRender,t,{single:!0});t.zIndexStack.add(n)},unregister:function(n){var t=this;delete n.zIndexManager;n.un("render",t.onComponentRender,t);t.zIndexStack.remove(n);t.onCollectionSort()},get:function(n){return n.isComponent?n:this.zIndexStack.get(n)},bringToFront:function(n,t){var u=this,i=u.zIndexStack,e=i.last(),r,f;return(n=u.get(n),!n||i.find("alwaysOnTop",!0))?!1:(f=n.preventFocusOnActivate,n.preventFocusOnActivate=t,n.setActiveCounter(++Ext.ZIndexManager.activeCounter),n.preventFocusOnActivate=f,r=i.last(),r===n&&r!==e)},sendToBack:function(n){return n=this.get(n),n&&n.setActiveCounter(0),n||null},hideAll:function(){var t=this.zIndexStack.getRange(),i=t.length,n;for(this.hidingAll=!0,n=0;n<i;n++)t[n].hide();this.hidingAll=!1},hide:function(){var n=this,r=Ext.Element.getActiveElement(),u=n.tempHidden=n.zIndexStack.getRange(),f=u.length,t,i;for(n.focusRestoreElement=null,t=0;t<f;t++)i=u[t],i.el.contains(r)&&(n.focusRestoreElement=r),i.el.hide(),i.hidden=!0},show:function(){for(var t=this,r=t.tempHidden,u=r?r.length:0,n,i=0;i<u;i++)n=r[i],n.el.show(),n.hidden=!1,n.setPosition(n.x,n.y);t.tempHidden=null;t.focusRestoreElement&&t.focusRestoreElement.focus()},getActive:function(){return this.zIndexStack.last()},getBy:function(n,t){return this.zIndexStack.filterBy(n,t).getRange()},each:function(n,t){this.zIndexStack.each(n,t)},eachBottomUp:function(n,t){for(var u=this.zIndexStack.getRange(),f=u.length,r,i=0;i<f;i++)if(r=u[i],r.isComponent&&n.call(t||r,r)===!1)return},eachTopDown:function(n,t){for(var u=this.zIndexStack.getRange(),i,r=u.length;r-->0;)if(i=u[r],i.isComponent&&n.call(t||i,i)===!1)return},destroy:function(){for(var n=this,i=n.zIndexStack.getRange(),r=i.length,t=0;t<r;t++)Ext.destroy(i[t]);Ext.destroy(n.mask,n.maskShim,n.zIndexStack,n.globalListeners);n.zIndexStack=n.container=n.targetEl=n.globalListeners=null},privates:{getMaskBox:function(){var n=this.mask.maskTarget;return n.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:n.getBox()},hideModalMask:function(){var n=this.mask,r=this.maskShim,t,i;n&&n.isVisible()&&(t=n.maskTarget,i="data-savedtabindex-"+t.getId(),t.restoreChildrenTabbableState(i),t.restoreTabbableState(i),n.maskTarget=undefined,n.hide(),r&&r.hide())},onContainerResize:function(){var i=this,n=i.mask,t=i.maskShim,r;n&&n.isVisible()&&(n.hide(),t&&t.hide(),r=i.getMaskBox(),t&&(t.setSize(r),t.show()),n.setSize(r),n.show())},onMaskClick:function(){this.front&&this.front.focus()},showModalMask:function(n){var i=this,r=n.el,c=r.getStyle("zIndex")-4,f=n.floatParent?n.floatParent.getTargetEl():n.container,t=i.mask,e=i.maskShim,s,o,u,h;if(t)i.hideModalMask();else{i.mask=t=Ext.getBody().createChild({role:"presentation",cls:"x-mask x-border-box",style:"height:0;width:0"});t.setVisibilityMode(Ext.Element.DISPLAY);t.on("click",i.onMaskClick,i)}t.maskTarget=f;s=i.getMaskBox();e&&(e.setStyle("zIndex",c),e.show(),e.setBox(s));t.setStyle("zIndex",c);o="data-savedtabindex-"+f.getId();u=o+"-temp";h=r.findTabbableElements();h.length&&(r.saveTabbableState(u),r.saveChildrenTabbableState(u));f.saveTabbableState(o);f.saveChildrenTabbableState(o);h.length&&(r.restoreChildrenTabbableState(u),r.restoreTabbableState(u));t.show();t.setBox(s)}}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this});Ext.cmd.derive("Ext.container.Container",Ext.Component,{alternateClassName:["Ext.Container","Ext.AbstractContainer"],renderTpl:"{%this.renderContainer(out,values)%}",isContainer:!0,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,items:undefined,layout:"auto",suspendLayout:!1,_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:"presentation",baseCls:"x-container",layoutCounter:0,add:function(){var n=this,u=Ext.Array.slice(arguments),h=typeof u[0]=="number"?u.shift():-1,a=n.getLayout(),c=!1,l,r,f,e,t,i,o,s;for(u.length===1&&Ext.isArray(u[0])?(r=u[0],l=!0):r=u,n.rendered&&Ext.suspendLayouts(),o=r=n.prepareItems(r,!0),e=r.length,l||e!==1||(o=r[0]),f=0;f<e;f++)if(t=r[f],i=h<0?n.items.length:h+f,s=!!t.instancedCmp,delete t.instancedCmp,t.floating){n.floatingItems.add(t);t.onAdded(n,i,s);delete t.initOwnerCt;n.hasListeners.add&&n.fireEvent("add",n,t,i)}else if((!n.hasListeners.beforeadd||n.fireEvent("beforeadd",n,t,i)!==!1)&&n.onBeforeAdd(t)!==!1){n.items.insert(i,t);t.onAdded(n,i,s);delete t.initOwnerCt;n.onAdd(t,i);a.onAdd(t,i);c=!0;n.hasListeners.add&&n.fireEvent("add",n,t,i)}return c&&n.updateLayout(),n.rendered&&Ext.resumeLayouts(!0),o},onAdded:function(n,t,i){Ext.Component.prototype.onAdded.apply(this,arguments);i&&Ext.ComponentManager.markReferencesDirty()},onRemoved:function(n){var t;n||(t=this.lookupReferenceHolder(),t&&(Ext.ComponentManager.markReferencesDirty(),t.clearReferences()));Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var i=this.floatingItems.items,r=i.length,n,t;for(Ext.Component.prototype.afterComponentLayout.apply(this,arguments),n=0;n<r;n++)t=i[n],!t.rendered&&t.autoShow&&t.show()},afterLayout:function(n){var t=this,i=t.getScrollable();++t.layoutCounter;i&&t.layoutCounter>1&&i.refresh();t.hasListeners.afterlayout&&t.fireEvent("afterlayout",t,n)},onDestroy:function(){Ext.Component.prototype.onDestroy.call(this);this.refs=null},beforeDestroy:function(){var n=this,i=n.items,r=n.floatingItems,t;if(i)while(t=i.first())n.doRemove(t,!0);if(r)while(t=r.first())n.doRemove(t,!0);Ext.destroy(n.layout);Ext.Component.prototype.beforeDestroy.call(this)},beforeRender:function(){var n=this,t=n.getLayout(),i;n.preventChildDisable=!0;Ext.Component.prototype.beforeRender.call(this);n.preventChildDisable=!1;t.initialized||t.initLayout();i=t.targetCls;i&&n.applyTargetCls(i)},cascade:function(n,t,i){var r=this,o=r.items?r.items.items:[],s=o.length,e=0,u,f=i?i.concat(r):[r],h=f.length-1;if(n.apply(t||r,f)!==!1)for(;e<s;e++)u=o[e],u.cascade?u.cascade(n,t,i):(f[h]=u,n.apply(t||u,f));return this},contains:function(n,t){var i=!1;return t?(this.cascade(function(t){if(t.contains&&t.contains(n))return i=!0,!1}),i):this.items.contains(n)||this.floatingItems.contains(n)},disable:function(n,t){var i=this,e=i.disabled,u,f,r;if(Ext.Component.prototype.disable.call(this,n,t),!t&&!i.preventChildDisable&&!e)for(u=i.getChildItemsToDisable(),f=u.length,r=0;r<f;r++)u[r].disable(n,!0);return i},doLayout:function(){return this.updateLayout(),this},enable:function(n,t){var r=this,e=r.disabled,u,f,i;if(Ext.Component.prototype.enable.call(this,n,t),e)for(u=r.getChildItemsToDisable(),f=u.length,i=0;i<f;i++)u[i].enable(n,!0);return r},getChildByElement:function(n,t){var i,r,u=0,f=this.getRefItems(),e=f.length;for(n=Ext.getDom(n);u<e;u++)if(i=f[u],r=i.getEl(),r&&(r.dom===n||r.contains(n)))return t&&i.getChildByElement?i.getChildByElement(n,t):i;return null},getComponent:function(n){Ext.isObject(n)&&(n=n.getItemId());var t=this.items.get(n);return t||typeof n=="number"||(t=this.floatingItems.get(n)),t},getFocusEl:function(){var n=this.getDefaultFocus();return n?n:this.focusable?this.getTargetEl():undefined},getLayout:function(){var n=this,t=n.layout;return t&&t.isLayout||n.setLayout(t),n.layout},getRefItems:function(n){for(var e=this,u=e.items.items,f=u.length,r=0,i,t=[];r<f;r++)i=u[r],t[t.length]=i,n&&i.getRefItems&&t.push.apply(t,i.getRefItems(!0));for(u=e.floatingItems.items,f=u.length,r=0;r<f;r++)i=u[r],t[t.length]=i,n&&i.getRefItems&&t.push.apply(t,i.getRefItems(!0));return t},getDefaultFocus:function(){var n=this.defaultFocus,t;return n&&(t=this.down(n)),t},initComponent:function(){var n=this;Ext.Component.prototype.initComponent.call(this);n.getLayout();n.constructing=!0;n.initItems();n.disabled&&(n.disabled=!1,n.disable(!0));delete n.constructing},getReferences:function(){var n=Ext.ComponentManager;return n.referencesDirty&&n.fixReferences(),this.refs||null},lookupReference:function(n){var t=this.getReferences();return t&&t[n]||null},initItems:function(){var t=this,n=t.items;n&&n.isMixedCollection||(t.items=new Ext.util.AbstractMixedCollection(!1,t.getComponentId),t.floatingItems=new Ext.util.MixedCollection(!1,t.getComponentId),n&&(Ext.isArray(n)||(n=[n]),t.add(n)))},initInheritedState:function(n,t){var i=this,f=i.controller,r=i.layout,e=i.session,s=i.viewModel,o=i.reference,u=i.referenceHolder;Ext.Component.prototype.initInheritedState.call(this,n,t);i.collapsed&&(n.collapsed=!0);f?(n.referenceHolder=f,u=!0):u&&(n.referenceHolder=i);u?n.referencePath="":o&&i.isParentReference&&(n.referencePath=i.referenceKey+".");e&&(n.session=e);s?n.viewModelPath="":o&&i.isParentReference&&(n.viewModelPath=i.viewModelKey+".");r&&r.initInheritedState&&r.initInheritedState(n,t)},insert:function(n,t){var i;return t&&t.isComponent&&(i=this.items.indexOf(t),i!==-1)?this.move(i,n):this.add(n,t)},lookupComponent:function(n){return n.isComponent||(n=typeof n=="string"?Ext.ComponentManager.get(n):Ext.ComponentManager.create(n,this.defaultType)),n},move:function(n,t){var r=this,u=r.items,i;if(n.isComponent&&(n=u.indexOf(n)),i=u.getAt(n),n!==t){if(i=u.removeAt(n),i===!1)return!1;t=Math.min(t,u.getCount());u.insert(t,i);r.onMove(i,n,t);r.hasListeners.childmove&&r.fireEvent("childmove",r,i,n,t);r.updateLayout()}return i},moveBefore:function(n,t){return n!==t&&(n=this.layout.moveItemBefore(n,t)),n},moveAfter:function(n,t){var i=this.layout,r;return n!==t&&(r=t?i.getMoveAfterIndex(t):0,n=i.moveItemBefore(n,this.items.getAt(r))),n},nextChild:function(n,t){var r=this,u=r.items,f=u.indexOf(n),e=0,o=u.length,i;if(f!==-1){if(t){for(;e<o;e++)if(i=u.getAt(f+e),!i||Ext.ComponentQuery.is(i,t))break}else i=u.getAt(f+1);!i&&r.ownerCt&&(i=r.ownerCt.nextChild(r,t))}return i},onAdd:Ext.emptyFn,onBeforeAdd:function(n){var t=n.ownerCt;t&&t!==this&&t.remove(n,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prevChild:function(n,t){var r=this,u=r.items,f=u.indexOf(n),e=0,o=u.length,i;if(f!==-1){if(t){for(;e<o;e++)if(i=u.getAt(f-e),!i||Ext.ComponentQuery.is(i,t))break}else i=u.getAt(f-1);!i&&r.ownerCt&&(i=r.ownerCt.nextChild(r,t))}return i},remove:function(n,t){var i=this,r=i.getComponent(n);return r&&(!i.hasListeners.beforeremove||i.fireEvent("beforeremove",i,r)!==!1)&&(i.doRemove(r,t),i.hasListeners.remove&&i.fireEvent("remove",i,r),i.destroying||r.floating||i.updateLayout()),r},removeAll:function(n){var t=this,u=t.items.items.slice().concat(t.floatingItems.items),f=[],r=0,e=u.length,i;for(Ext.suspendLayouts(),t.removingAll=!0;r<e;r++)i=u[r],t.remove(i,n),i.ownerCt!==t&&f.push(i);return t.removingAll=!1,Ext.resumeLayouts(!!e),f},setLayout:function(n){var i=this,t=i.layout,f=t&&t.isLayout,r,u;typeof n=="string"&&(n={type:n});u=n.type;f&&(!u||u===t.type)?(delete n.type,t.setConfig(n)):(f&&t.setOwner(null),r=i.self.prototype.layout,typeof r=="string"?n.type=u||r:Ext.merge(Ext.merge({},r),n),n=this.layout=Ext.Factory.layout(n),n.setOwner(this));i.rendered&&i.updateLayout()},setActiveItem:function(n){return this.getLayout().setActiveItem(n)},privates:{applyDefaults:function(n){var i=this,t=i.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(i,n)),Ext.isString(n)&&(n=Ext.ComponentManager.get(n)),n.isComponent?n.setConfig(t,null,i._applyDefaultsOptions):n=i.getConfigurator().merge(i,Ext.Object.fork(t),n)),n},applyReference:function(n){var t;return n&&n.charAt(t=n.length-1)===">"&&(this.isParentReference=!0,n=n.substring(0,t)),n},applyTargetCls:function(n){this.layoutTargetCls=n},attachReference:function(n){var t=this,i,r;t.destroying||t.isDestroyed||(r=t.refs||(t.refs={}),i=n.referenceKey,r[i]=n)},clearReference:function(n){var t=this.refs,i=n.referenceKey;t&&i&&(n.viewModelKey=n.referenceKey=t[i]=null)},clearReferences:function(){this.refs=null},detachComponent:function(n){Ext.getDetachedBody().appendChild(n.getEl())},doRemove:function(n,t){t=t===!0||t!==!1&&this.autoDestroy;var i=this,r=i.layout,e=r&&i.rendered,u=n.destroying||t,f=n.floating;if(f?i.floatingItems.remove(n):i.items.remove(n),e&&!f){r.running&&Ext.Component.cancelLayout(n,u);r.onRemove(n,u)}n.onRemoved(u);i.onRemove(n,u);t?n.destroy():(e&&!f&&r.afterRemove(n),i.detachOnRemove&&n.rendered&&i.detachComponent(n))},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var n=this.getLayout();n&&n.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getComponentId:function(n){return n.getItemId&&n.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getScrollerEl:function(){return this.layout.getScrollerEl()||Ext.Component.prototype.getScrollerEl.call(this)},prepareItems:function(n,t){n=Ext.isArray(n)?n.slice():[n];for(var u=this,r=0,f=n.length,i;r<f;r++)i=n[r],i==null?(Ext.Array.erase(n,r,1),--r,--f):(t&&(i=this.applyDefaults(i)),i.initOwnerCt=u,i.isComponent&&(i.instancedCmp=!0),n[r]=u.lookupComponent(i),delete i.initOwnerCt);return n},repositionFloatingItems:function(){for(var i=this.floatingItems.items,r=i.length,n,t=0;t<r;t++)n=i[t],n.el&&!n.hidden&&n.setPosition(n.x,n.y)},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var t=this.items.items,i=t.length,r=this._noMargin,n;i--;)n=t[i],n.margin$=null,n.el.setStyle(r)},setupRenderTpl:function(n){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(n)}}},0,["container"],["component","box","container"],{component:!0,box:!0,container:!0},["widget.container"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.container,"Container",Ext,"Container",Ext,"AbstractContainer"],0);Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(){var r=this,t=r.owner.autoSize,i=t&&t.width,n=r.sizePolicies;return n=n[i]||n.$,i=t&&t.height,n[i]||n.$},calculate:function(n){var r=this,t=r.owner,i=t.autoSize,u,f;i===!0&&(i=r.autoSizeDefault);i&&(u=r.getDimension(t,i.width,"getWidth",t.width),f=r.getDimension(t,i.height,"getHeight",t.height));n.childItems[0].setSize(u,f);n.setWidth(u);n.setHeight(f);n.setContentSize(u||t.field.getWidth(),f||t.field.getHeight())},getDimension:function(n,t,i,r){switch(t){case"boundEl":return n.boundEl[i]();case"field":return undefined;default:return r}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,"Editor"],0);Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,baseCls:"x-editor",editing:!1,preventDefaultAlign:!0,specialKeyDelay:1,initComponent:function(){var n=this,t=n.field=Ext.ComponentManager.create(n.field||{},"textfield");t.msgTarget=t.msgTarget||"qtip";n.mon(t,{scope:n,specialkey:n.onSpecialKey});t.grow&&n.mon(t,"autosize",n.onFieldAutosize,n,{delay:1});n.floating={constrain:n.constrain};n.items=t;Ext.container.Container.prototype.initComponent.apply(this,arguments)},onAdded:function(n){this.ownerCmp=n},onFieldAutosize:function(){this.updateLayout()},afterRender:function(){var t=this,i=t.field,n=i.inputEl;Ext.container.Container.prototype.afterRender.apply(this,arguments);n&&(n.dom.name="",t.swallowKeys&&n.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(n,t){var i=this,u=t.getKey(),f=i.completeOnEnter&&u===t.ENTER,e=i.cancelOnEsc&&u===t.ESC,r=i.specialKeyTask;(f||e)&&(t.stopEvent(),r||(i.specialKeyTask=r=new Ext.util.DelayedTask),r.delay(i.specialKeyDelay,f?i.completeEdit:i.cancelEdit,i));i.fireEvent("specialkey",i,n,t)},startEdit:function(n,t){var i=this,r=i.field,u,f,e;i.completeEdit();i.boundEl=Ext.get(n);u=i.boundEl.dom;t=Ext.isDefined(t)?t:Ext.String.trim(u.textContent||u.innerText||u.innerHTML);i.fireEvent("beforestartedit",i,i.boundEl,t)!==!1&&(Ext.suspendLayouts(),i.rendered||(f=i.ownerCt,e=i.renderTo||f&&f.getEl()||Ext.getBody(),Ext.fly(e).position(),i.renderTo=e),i.startValue=t,i.show(),i.realign(!0),r.suspendEvents(),r.setValue(t),r.resetOriginalValue(),r.resumeEvents(),r.focus(r.selectOnFocus?!0:[Number.MAX_VALUE]),r.autoSize&&r.autoSize(),Ext.resumeLayouts(!0),i.toggleBoundEl(!1),i.editing=!0)},realign:function(n){var t=this;n===!0&&t.updateLayout();t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(n){var t=this,r=t.field,u=t.startValue,i;if(t.editing){if(r.assertValue&&r.assertValue(),i=t.getValue(),!r.isValid()){t.revertInvalid!==!1&&t.cancelEdit(n);return}if(t.ignoreNoChange&&!r.didValueChange(i,u)){t.onEditComplete(n);return}if(t.fireEvent("beforecomplete",t,i,u)!==!1){i=t.getValue();t.updateEl&&t.boundEl&&t.boundEl.setHtml(i);t.onEditComplete(n);t.fireEvent("complete",t,i,u)}}},onShow:function(){var n=this;Ext.container.Container.prototype.onShow.apply(this,arguments);n.fireEvent("startedit",n,n.boundEl,n.startValue)},cancelEdit:function(n){var t=this,r=t.startValue,i=t.field,u;if(t.editing){i&&(u=t.editedValue=t.getValue(),i.suspendEvents(),t.setValue(r),i.resumeEvents());t.onEditComplete(n);t.fireEvent("canceledit",t,u,r);delete t.editedValue}},onEditComplete:function(n){this.editing=!1;n!==!0&&(this.hide(),this.toggleBoundEl(!0))},onFocusLeave:function(n){var t=this;t.allowBlur===!0&&t.editing&&t.selectSameEditor!==!0&&this.completeEdit();Ext.container.Container.prototype.onFocusLeave.call(this,n)},onHide:function(){var n=this,t=n.field;n.editing?n.completeEdit():t.collapse&&t.collapse();Ext.container.Container.prototype.onHide.apply(this,arguments)},getValue:function(){return this.field.getValue()},setValue:function(n){this.field.setValue(n)},toggleBoundEl:function(n){this.hideEl!==!1&&this.boundEl.setVisible(n)},beforeDestroy:function(){var n=this,t=n.specialKeyTask;t&&t.cancel();n.specialKeyTask=n.field=n.boundEl=Ext.destroy(n.field);Ext.container.Container.prototype.beforeDestroy.apply(this,arguments)}},0,["editor"],["component","box","container","editor"],{component:!0,box:!0,container:!0,editor:!0},["widget.editor"],0,[Ext,"Editor"],0);Ext.cmd.derive("Ext.EventManager",Ext.Base,{singleton:!0,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(n,t,i,r,u){Ext.get(n).addListener(t,i,r,u)},onWindowResize:function(n,t,i){Ext.GlobalEvents.on("resize",n,t,i)},onWindowUnload:function(n,t,i){Ext.getWin().on("unload",n,t,i)},purgeElement:function(n){Ext.get(n).clearListeners()},removeAll:function(n){Ext.get(n).clearListeners()},removeListener:function(n,t,i,r,u){Ext.get(n).removeListener(t,i,r,u)},removeResizeListener:function(n,t){Ext.GlobalEvents.un("resize",n,t)},removeUnloadListener:function(n,t){Ext.getWin().un("unload",n,t)},stopEvent:function(n){this.stopPropagation(n);this.preventDefault(n)},stopPropagation:function(n){n=n.browserEvent||n;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},preventDefault:function(n){if(n=n.browserEvent||n,n.preventDefault)n.preventDefault();else{n.returnValue=!1;try{(n.ctrlKey||n.keyCode>111&&n.keyCode<124)&&(n.keyCode=-1)}catch(t){}}},getId:function(n){return n=Ext.get(n),n.id},getRelatedTarget:function(n){n=n.browserEvent||n;var t=n.relatedTarget;return t||(this.mouseLeaveRe.test(n.type)?t=n.toElement:this.mouseEnterRe.test(n.type)&&(t=n.fromElement)),this.resolveTextNode(t)},getPageX:function(n){return this.getPageXY(n)[0]},getPageXY:function(n){n=n.browserEvent||n;var r=n.pageX,u=n.pageY,t=document.documentElement,i=document.body;return r||r===0||(r=n.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),u=n.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)),[r,u]},getPageY:function(n){return this.getPageXY(n)[1]},getTarget:function(n){return n=n.browserEvent||n,Ext.EventManager.resolveTextNode(n.target||n.srcElement)},resolveTextNode:Ext.isGecko?function(n){if(n){var t=HTMLElement.prototype.toString.call(n);if(t!=="[xpconnect wrapped native prototype]"&&t!=="[object XULElement]")return n.nodeType===3?n.parentNode:n}}:function(n){return n&&n.nodeType===3?n.parentNode:n}},0,0,0,0,0,0,[Ext,"EventManager"],function(n){n.on=n.addListener;n.un=n.removeListener});Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(n){var t=this;if(arguments.length!==1||typeof n=="string"||n.dom||n.tagName||n===document||n.isComponent){t.legacyConstructor.apply(t,arguments);return}Ext.apply(t,n);t.bindings=[];t.target.isComponent||(t.target=Ext.get(t.target));t.binding?t.addBinding(t.binding):n.key&&t.addBinding(n);t.enable()},legacyConstructor:function(n,t,i){var r=this;Ext.apply(r,{target:Ext.get(n),eventName:i||r.eventName,bindings:[]});t&&r.addBinding(t);r.enable()},addBinding:function(n){var t=this,u=n.key,i,r;if(t.processing&&(t.bindings=t.bindings.slice(0)),Ext.isArray(n)){for(i=0,r=n.length;i<r;i++)t.addBinding(n[i]);return}t.bindings.push(Ext.apply({keyCode:t.processKeys(u)},n))},removeBinding:function(n){var i=this,u=i.bindings,e=u.length,r,t,f;for(i.processing&&(i.bindings=u.slice(0)),f=i.processKeys(n.key),r=0;r<e;++r)if(t=u[r],(t.fn||t.handler)===(n.fn||n.handler)&&t.scope===n.scope&&n.alt===t.alt&&n.crtl===t.crtl&&n.shift===t.shift&&Ext.Array.equals(t.keyCode,f)){Ext.Array.erase(i.bindings,r,1);return}},processKeys:function(n){var e=!1,r,u,f,i,t;if(n.test)return n;if(Ext.isString(n)){for(u=[],f=n.toUpperCase(),t=0,i=f.length;t<i;++t)u.push(f.charCodeAt(t));n=u;e=!0}if(Ext.isArray(n)||(n=[n]),!e)for(t=0,i=n.length;t<i;++t)r=n[t],Ext.isString(r)&&(n[t]=r.toUpperCase().charCodeAt(0));return n},handleTargetEvent:function(n){var t=this,r,i,u;if(t.enabled&&(r=t.bindings,i=0,u=r.length,n=t.processEvent.apply(t.processEventScope||t,arguments),n)){if(t.lastKeyEvent=n,t.ignoreInputFields&&Ext.fly(n.target).isInputField())return;if(!n.getKey)return n;for(t.processing=!0;i<u;++i)t.processBinding(r[i],n);t.processing=!1}},processEvent:Ext.identityFn,processBinding:function(n,t){if(this.checkModifiers(n,t)){var f=t.getKey(),e=n.fn||n.handler,o=n.scope||this,i=n.keyCode,r=n.defaultEventAction,u,s;if(i.test)i.test(String.fromCharCode(t.getCharCode()))&&e.call(o,f,t)!==!0&&r&&t[r]();else if(i.length)for(u=0,s=i.length;u<s;++u)if(f===i[u]){e.call(o,f,t)!==!0&&r&&t[r]();break}}},checkModifiers:function(n,t){for(var f=["shift","ctrl","alt"],i=0,e=f.length,r,u;i<e;++i)if(u=f[i],r=n[u],!(r===undefined||r===t[u+"Key"]))return!1;return!0},on:function(n,t,i){var r,u,f,e;Ext.isObject(n)&&!Ext.isArray(n)?(r=n.key,u=n.shift,f=n.ctrl,e=n.alt):r=n;this.addBinding({key:r,shift:u,ctrl:f,alt:e,fn:t,scope:i})},un:function(n,t,i){var r,u,f,e;Ext.isObject(n)&&!Ext.isArray(n)?(r=n.key,u=n.shift,f=n.ctrl,e=n.alt):r=n;this.removeBinding({key:r,shift:u,ctrl:f,alt:e,fn:t,scope:i})},isEnabled:function(){return this.enabled},enable:function(){var n=this;if(!n.enabled){n.target.on(n.eventName,n.handleTargetEvent,n,{capture:n.capture});n.enabled=!0}},disable:function(){var n=this;n.enabled&&(n.target.removeListener(n.eventName,n.handleTargetEvent,n),n.enabled=!1)},setDisabled:function(n){n?this.disable():this.enable()},destroy:function(n){var t=this,i=t.target;t.bindings=[];t.disable();n&&i.destroy();delete t.target}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0);Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(n){var t=this;if(arguments.length===2){t.legacyConstructor.apply(t,arguments);return}t.doConstruction(n)},legacyConstructor:function(n,t){this.doConstruction(Ext.apply({target:n},t))},doConstruction:function(n){var t=this,r={target:n.target,ignoreInputFields:n.ignoreInputFields,eventName:t.getKeyEvent("forceKeyDown"in n?n.forceKeyDown:t.forceKeyDown,n.eventName),capture:n.capture},i;t.map&&t.map.destroy();t.initConfig(n);n.processEvent&&(r.processEvent=n.processEvent,r.processEventScope=n.processEventScope||t);n.keyMap?i=t.map=n.keyMap:(i=t.map=new Ext.util.KeyMap(r),t.destroyKeyMap=!0);this.addBindings(n);i.disable();n.disabled||i.enable()},addBindings:function(n){var r=this,i,t,u=r.map,f=Ext.util.KeyNav.keyOptions,e=n.scope||r;for(i in n)t=n[i],t&&(i.length===1||(i=f[i])||!isNaN(i=parseInt(i,10)))&&(typeof t=="function"&&(t={handler:t,defaultEventAction:n.defaultEventAction!==undefined?n.defaultEventAction:r.defaultEventAction}),u.addBinding({key:i,ctrl:t.ctrl,shift:t.shift,alt:t.alt,handler:Ext.Function.bind(r.handleEvent,t.scope||e,[t.handler||t.fn,r],!0),defaultEventAction:t.defaultEventAction!==undefined?t.defaultEventAction:r.defaultEventAction}))},handleEvent:function(n,t,i,r){return r.lastKeyEvent=t,i.call(this,t)},destroy:function(n){this.destroyKeyMap&&this.map.destroy(n);delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable();this.disabled=!0},setDisabled:function(n){this.map.setDisabled(n);this.disabled=n},getKeyEvent:function(n,t){return n||Ext.supports.SpecialKeyDownRepeat&&!t?"keydown":t||this.eventName}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0);Ext.cmd.derive("Ext.FocusManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.FocusMgr"],enabled:!1,focusElementCls:"x-focus-element",focusFrameCls:"x-focus-frame",whitelist:["textfield"],constructor:function(n){var t=this,i=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,n);t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t);Ext.override(Ext.Component,{onBlur:function(){this.callParent(arguments);t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments);t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))},onFocus:function(){this.callParent(arguments);t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}});t.focusData={};t.subscribers=new Ext.util.HashMap;t.focusChain={};Ext.apply(i.pseudos,{nextFocus:function(n,t,i){i=i||1;t=parseInt(t,10);for(var u=n.length,r=t,f;;){if((r+=i)>=u?r=0:r<0&&(r=u-1),r===t)return[];if((f=n[r]).isFocusable())return[f]}return[]},prevFocus:function(n,t){return this.nextFocus(n,t,-1)},root:function(n){for(var u=n.length,r=[],t=0,i;t<u;t++)i=n[t],i.ownerCt||r.push(i);return r}})},getKeyNav:function(){var n=this;return n.keyNav=n.keyNav||new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:n,backspace:n.focusLast,enter:n.navigateIn,esc:n.navigateOut,tab:n.navigateSiblings,space:n.navigateIn,del:n.focusLast,left:n.navigateSiblings,right:n.navigateSiblings,down:n.navigateSiblings,up:n.navigateSiblings}),n.keyNav},addXTypeToWhitelist:function(n){var t=this;if(Ext.isArray(n)){Ext.Array.forEach(n,t.addXTypeToWhitelist,t);return}Ext.Array.contains(t.whitelist,n)||t.whitelist.push(n)},clearComponent:function(n){clearTimeout(this.cmpFocusDelay);n.isDestroyed||n.blur()},disable:function(){var n=this;n.enabled&&(delete n.options,n.enabled=!1,n.removeDOM(),n.getKeyNav().disable(),n.fireEvent("disable",n))},enable:function(n){var t=this;(n===!0&&(n={focusFrame:!0}),t.options=n=n||{},t.enabled)||(t.enabled=Ext.enableFocusManager=!0,t.initDOM(n),t.getKeyNav().enable(),t.focusEl.focus(),delete t.focusedCmp,t.fireEvent("enable",t))},focusLast:function(){var n=this;if(n.isWhitelisted(n.focusedCmp))return!0;n.previousFocusedCmp&&n.previousFocusedCmp.focus()},getRootComponents:function(){var n=Ext.ComponentQuery,i=n.query(":focusable:root:not([floating])"),t=n.query(":focusable:root[floating]");return t.sort(function(n,t){return n.el.getZIndex()>t.el.getZIndex()}),t.concat(i)},initDOM:function(n){var t=this,i=t.focusFrameCls,u=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),r=0,f=u.length;if(!Ext.isReady)return Ext.onInternalReady(t.initDOM,t);for(;r<f;r++)u[r].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1);!t.focusFrame&&n.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:i,children:[{cls:i+"-top"},{cls:i+"-bottom"},{cls:i+"-left"},{cls:i+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(n){return n&&Ext.Array.some(this.whitelist,function(t){return n.isXType(t)})},navigateIn:function(n){var i=this,t=i.focusedCmp,r,u;if(i.isWhitelisted(t))return!0;if(t){if(u=t.hasFocus?Ext.ComponentQuery.query(">:focusable",t)[0]:t,u)u.focus();else if(Ext.isFunction(t.onClick)){n.button=0;t.onClick(n);t.isVisible(!0)?t.focus():i.navigateOut()}}else r=i.getRootComponents()[0],r&&(r.getFocusEl()===i.focusEl&&i.focusEl.blur(),r.focus())},navigateOut:function(){var n=this,t;return n.focusedCmp&&(t=n.focusedCmp.up(":focusable"))?t.focus():n.focusEl.focus(),!0},navigateSiblings:function(n,t,i){var o=this,s=t||o,u=n.getKey(),c=n.shiftKey||u===n.LEFT||u===n.UP,l=u===n.LEFT||u===n.RIGHT||u===n.UP||u===n.DOWN,a=c?"prev":"next",h,f,r,e;return(r=s.focusedCmp&&s.focusedCmp.comp||s.focusedCmp,!r&&!i)?!0:l&&o.isWhitelisted(r)?!0:(!r||r.is(":root")?e=o.getRootComponents():(i=i||r.up("panel")||r.up(":root"),i&&(e=i.getRefItems(!0))),e&&(h=r?Ext.Array.indexOf(e,r):-1,f=Ext.ComponentQuery.query(":"+a+"Focus("+h+")",e)[0],f&&r!==f)?(f.focus(),f):void 0)},onComponentBlur:function(n){var t=this;t.focusedCmp===n&&(t.previousFocusedCmp=n,delete t.focusedCmp);t.focusFrame&&t.focusFrame.hide()},onComponentFocus:function(n){var t=this,r=t.focusChain,i;if(!n.isFocusable()){if(t.clearComponent(n),r[n.id])return;i=n.up();i&&(r[n.id]=!0,i.focus());return}t.focusChain={};t.focusTask.delay(10,null,null,[n,n.getFocusEl()])},handleComponentFocus:function(n,t){var i=this,u,r,f,e,o,s,h,c,l,a,v;if(i.fireEvent("beforecomponentfocus",i,n,i.previousFocusedCmp)===!1){i.clearComponent(n);return}i.focusedCmp=n;i.shouldShowFocusFrame(n)&&(u="."+i.focusFrameCls+"-",r=i.focusFrame,f=(t.dom?t:t.el).getBox(),e=f.top,o=f.left,s=f.width,h=f.height,c=r.child(u+"top"),l=r.child(u+"bottom"),a=r.child(u+"left"),v=r.child(u+"right"),c.setWidth(s).setLocalXY(o,e),l.setWidth(s).setLocalXY(o,e+h-2),a.setHeight(h-2).setLocalXY(o,e+2),v.setHeight(h-2).setLocalXY(o+s-2,e+2),r.show());i.fireEvent("componentfocus",i,n,i.previousFocusedCmp)},onComponentHide:function(n){var t=this,i=!1,u=t.focusedCmp,r;u&&(i=n.hasFocus||n.isContainer&&n.isAncestor(t.focusedCmp));t.clearComponent(n);i&&(r=n.up(":focusable"))?r.focus():t.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var n=this;n.enabled||n.subscribers.length||(Ext.destroy(n.focusFrame),delete n.focusEl,delete n.focusFrame)},removeXTypeFromWhitelist:function(n){var t=this;if(Ext.isArray(n)){Ext.Array.forEach(n,t.removeXTypeFromWhitelist,t);return}Ext.Array.remove(t.whitelist,n)},setupSubscriberKeys:function(n,t){var i=this,u=n.getFocusEl(),f=t.scope,r={backspace:i.focusLast,enter:i.navigateIn,esc:i.navigateOut,scope:i},e=function(t){return i.focusedCmp===n?i.navigateSiblings(t,i,n):i.navigateSiblings(t)};return Ext.iterate(t,function(t,i){r[t]=function(t){var r=e(t);return Ext.isFunction(i)&&i.call(f||n,t,r)===!0?!0:r}},i),new Ext.util.KeyNav(u,r)},shouldShowFocusFrame:function(n){var t=this,i=t.options||{};return!t.focusFrame||!n?!1:i.focusFrame?!0:t.focusData[n.id].focusFrame?!0:!1}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"FocusManager",Ext,"FocusMgr"],0);Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:"x-img",src:"",alt:"",title:"",imgCls:"",ariaRole:"img",maskOnDisable:!1,initComponent:function(){this.glyph&&(this.autoEl="div");Ext.Component.prototype.initComponent.call(this)},getElConfig:function(){var n=this,f=n.autoEl,t=Ext.Component.prototype.getElConfig.call(this),r=Ext._glyphFontFamily,u=n.glyph,i,e;return f==="img"||Ext.isObject(f)&&f.tag==="img"?i=t:n.glyph?(typeof u=="string"&&(e=u.split("@"),u=e[0],r=e[1]||r),t.html="&#"+u+";",r&&(t.style=t.style||{},t.style.fontFamily=r)):t.cn=[i={tag:"img",role:n.ariaRole,id:n.id+"-img"}],i&&(n.imgCls&&(i.cls=(i.cls?i.cls+" ":"")+n.imgCls),i.src=n.src||Ext.BLANK_IMAGE_URL),n.alt&&((i||t).alt=n.alt),n.title&&((i||t).title=n.title),t},onRender:function(){var n=this,t=n.autoEl,i;Ext.Component.prototype.onRender.apply(this,arguments);i=n.el;n.imgEl=t==="img"||Ext.isObject(t)&&t.tag==="img"?i:i.getById(n.id+"-img")},onDestroy:function(){var t=this,n=t.imgEl;n&&t.el!==n&&n.destroy();this.imgEl=null;Ext.Component.prototype.onDestroy.call(this)},setSrc:function(n){var t=this,i=t.imgEl;t.src=n;i&&(i.dom.src=n||Ext.BLANK_IMAGE_URL)},setGlyph:function(n){var t=this,i=Ext._glyphFontFamily,f=t.glyph,u=t.el,r;t.glyph=n;t.rendered&&n!==f&&(typeof n=="string"&&(r=n.split("@"),n=r[0],i=r[1]||i),u.dom.innerHTML="&#"+n+";",i&&u.setStyle("font-family",i))}},0,["image","imagecomponent"],["component","box","image","imagecomponent"],{component:!0,box:!0,image:!0,imagecomponent:!0},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0);Ext.cmd.derive("Ext.util.StoreHolder",Ext.Base,{mixinId:"storeholder",bindStore:function(n,t,i){i=i||"store";var r=this,u=t?null:r[i];if(n!==u){if(u){r.onUnbindStore(u,t,i);r.isComponent&&i==="store"&&u.autoDestroy?u.destroy():r.unbindStoreListeners(u)}if(n){r[i]=n=Ext.data.StoreManager.lookup(n);r.bindStoreListeners(n);r.onBindStore(n,t,i,u)}else r[i]=null}return r},getStore:function(){return this.store},setStore:function(n){this.bindStore(n)},unbindStoreListeners:function(n){var t=this.storeListeners;t&&n.un(t)},bindStoreListeners:function(n){var t=this.getStoreListeners(n);if(t){t=Ext.apply({},t);t.scope||(t.scope=this);this.storeListeners=t;n.on(t)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"StoreHolder"],0);Ext.cmd.derive("Ext.LoadMask",Ext.Component,{isLoadMask:!0,msg:"Loading...",msgCls:"x-mask-loading",msgWrapCls:"x-mask-msg",useMsg:!0,useTargetEl:!1,cls:"x-mask",componentCls:"x-border-box",ariaRole:"status",focusable:!0,tabIndex:0,autoEl:{tag:"div",role:"status"},childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',"x-",'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',"x-","mask-msg-text",'{childElCls}">{msg}<\/div>',"<\/div>","<\/div>"],constructor:function(n){var t=this,i;arguments.length===2?(i=t.target=n,n=arguments[1]):i=n.target;Ext.Component.prototype.constructor.call(this,n);i.isComponent?(t.ownerCt=i,t.hidden=!0,t.renderTo=t.getMaskTarget(),t.external=t.renderTo===Ext.getBody(),t.bindComponent(i)):(i=Ext.get(i),t.isElement=!0,t.renderTo=t.target);t.render(t.renderTo);t.store&&t.bindStore(t.store,!0)},initRenderData:function(){var n=Ext.Component.prototype.initRenderData.apply(this,arguments);return n.msg=this.msg||"",n},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el},bindComponent:function(n){var t=this,i={scope:this,resize:t.sizeMask};if(t.external)if(i.added=t.onComponentAdded,i.removed=t.onComponentRemoved,n.floating)i.move=t.sizeMask,t.activeOwner=n;else if(n.ownerCt)t.onComponentAdded(n.ownerCt);t.mon(n,i);t.external&&t.mon(Ext.GlobalEvents,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(n){var t=this;delete t.activeOwner;t.floatParent=n;n.floating||(n=n.up("[floating]"));n?(t.activeOwner=n,t.mon(n,"move",t.sizeMask,t),t.mon(n,"tofront",t.onOwnerToFront,t)):t.preventBringToFront=!0;n=t.floatParent.ownerCt;t.rendered&&t.isVisible()&&n&&(t.floatOwner=n,t.mon(n,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(){var n=this,t=n.activeOwner,i=n.floatOwner;t&&(n.mun(t,"move",n.sizeMask,n),n.mun(t,"tofront",n.onOwnerToFront,n));i&&n.mun(i,"afterlayout",n.sizeMask,n);delete n.activeOwner;delete n.floatOwner},afterRender:function(){var n=this;if(Ext.Component.prototype.afterRender.apply(this,arguments),Ext.isIE)n.el.on("mousedown",n.onMouseDown,n);this.el.skipGarbageCollection=!0},onMouseDown:function(n){var t=this.el;n.within(t)&&(n.preventDefault(),t.focus())},onOwnerToFront:function(n,t){this.el.setStyle("zIndex",t+1)},onContainerShow:function(){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerHide:function(){this.isHierarchicallyHidden()&&this.onComponentHide()},onContainerExpand:function(){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerCollapse:function(){this.isHierarchicallyHidden()&&this.onComponentHide()},onComponentHide:function(){var n=this;n.rendered&&n.isVisible()&&(n.hide(),n.showNext=!0)},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var n=this,t=n.activeOwner||n.target,i=n.external?n.getOwner().el:n.getMaskTarget();if(n.rendered&&n.isVisible()){if(n.external){if(!n.isElement&&t.floating)n.onOwnerToFront(t,t.el.getZIndex());n.el.setSize(i.getSize()).alignTo(i,"tl-tl")}n.msgWrapEl.center(n.el)}},bindStore:function(n){var t=this;t.mixins.storeholder.bindStore.apply(t,arguments);n=t.store;n&&n.isLoading()&&t.onBeforeLoad()},getStoreListeners:function(n){var i=this.onLoad,r=this.onBeforeLoad,t={cachemiss:r,cachefilled:{fn:i,buffer:100}};return n.loadsSynchronously()||(t.beforeload=r,t.load=i),t},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var n=this.getOwner();return this.isElement?this.target:this.useTargetEl?n.getTargetEl():n.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var n=this,t=n.getOwner(),i;n.disabled||(n.loading=!0,t.componentLayoutCounter?n.maybeShow():(i=t.afterComponentLayout,t.afterComponentLayout=function(){t.afterComponentLayout=i;i.apply(t,arguments);n.maybeShow()}))},maybeShow:function(){var n=this,t=n.getOwner();t.isVisible(!0)?n.loading&&t.rendered&&n.show():n.showNext=!0},hide:function(){var n=this,t=n.ownerCt;if(n.isElement){t.unmask();n.fireEvent("hide",this);return}return t.enableTabbing(),t.setMasked(!1),delete n.showNext,Ext.Component.prototype.hide.apply(this,arguments)},show:function(){var n=this;if(n.isElement){n.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);n.fireEvent("show",this);return}return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var n=this,i=n.ownerCt,t=n.el;n.loading=!0;Ext.Component.prototype.afterShow.apply(this,arguments);n.hasOwnProperty("msgWrapCls")&&(t.dom.className=n.msgWrapCls);n.useMsg?n.msgTextEl.setHtml(n.msg):n.msgEl.hide();n.shim||Ext.useShims?t.enableShim(null,!0):t.disableShim();i.disableTabbing();i.setMasked(!0);t.restoreTabbableState();i.containsFocus&&n.focus();n.sizeMask()},onLoad:function(){this.loading=!1;this.hide()},beforeDestroy:function(){this.ownerCt=null;this.bindStore(null);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var n=this;n.isElement&&n.ownerCt.unmask();Ext.Component.prototype.onDestroy.call(this)},privates:{getFocusEl:function(){return this.el}}},1,["loadmask"],["component","box","loadmask"],{component:!0,box:!0,loadmask:!0},["widget.loadmask"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext,"LoadMask"],0);Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(n,t){var r=this,u=r.owner,p=n.ownerCtContext,o=n.heightModel,s=n.widthModel,y=u.el.dom===document.body,f=u.lastBox||r.nullBox,e=u.el.lastBox||r.nullBox,h=!y,c=n.isTopLevel,l,i,a,v;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,n,t);t&&(r.usesContentWidth&&++n.consumersContentWidth,r.usesContentHeight&&++n.consumersContentHeight,r.usesWidth&&++n.consumersWidth,r.usesHeight&&++n.consumersHeight,p&&!p.hasRawContent&&(l=u.ownerLayout,l&&(l.usesWidth&&++n.consumersWidth,l.usesHeight&&++n.consumersHeight)));s.configured?(a=u[s.names.width],c&&s.calculatedFrom&&(a=f.width),y||(h=r.setWidthInDom||(t?a!==e.width:s.constrained)),n.setWidth(a,h)):c&&(s.calculated&&(i=f.width,n.setWidth(i,i!==e.width)),i=f.x,n.setProp("x",i,i!==e.x));o.configured?(v=u[o.names.height],c&&o.calculatedFrom&&(v=f.height),y||(h=t?v!==e.height:o.constrained),n.setHeight(v,h)):c&&(o.calculated&&(i=f.height,n.setHeight(i,i!==e.height)),i=f.y,n.setProp("y",i,i!==e.y))},finishedLayout:function(n){var u=this,f=n.children,e=u.owner,s,r,o,t,i;if(f)for(s=f.length,r=0;r<s;r++)o=f[r],o.el.lastBox=o.props;n.previousSize=u.lastComponentSize;u.lastComponentSize=e.el.lastBox=i=n.props;t=e.lastBox||(e.lastBox={});t.x=i.x;t.y=i.y;t.width=i.width;t.height=i.height;t.invalid=!1;Ext.layout.Layout.prototype.finishedLayout.call(this,n)},notifyOwner:function(n){var t=this,r=t.lastComponentSize,i=n.previousSize,u=[r.width,r.height];i&&u.push(i.width,i.height);t.owner.afterComponentLayout.apply(t.owner,u)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(n){var t=this,i=t.targetInfo,r;return i||(r=n.getEl("getTarget",t),t.targetInfo=i={padding:r.getPaddingInfo(),border:r.getBorderInfo()}),i},measureAutoDimensions:function(n,t){var o=this,g=o.owner,h=g.layout,nt=n.heightModel,k=n.widthModel,e=n.boxParent,y=n.isBoxParent,c=n.target,p=n.props,d,i={gotWidth:!1,gotHeight:!1,isContainer:d=!n.hasRawContent},tt=t||3,w,b,v=0,r=0,s,u,f,l,a;return k.shrinkWrap&&n.consumersContentWidth?(++v,w=!(tt&1),d?w?(i.contentWidth=0,i.gotWidth=!0,++r):(i.contentWidth=n.getProp("contentWidth"))!==undefined&&(i.gotWidth=!0,++r):(u=p.contentWidth,typeof u=="number"?(i.contentWidth=u,i.gotWidth=!0,++r):(s=w?!0:n.hasDomProp("containerChildrenSizeDone")?y||!e||e.widthModel.shrinkWrap?!0:e.hasDomProp("width"):!1,s&&(w?f=0:h&&h.measureContentWidth?f=h.measureContentWidth(n):c.cacheWidth?(l=c.xtype+"-"+c.ui,a=o.widthCache,f=a[l]||(a[l]=o.measureContentWidth(n))):f=o.measureContentWidth(n),isNaN(i.contentWidth=f)||(n.setContentWidth(f,!0),i.gotWidth=!0,++r))))):k.natural&&n.consumersWidth&&(++v,u=p.width,typeof u=="number"?(i.width=u,i.gotWidth=!0,++r):(s=y||!e?!0:e.hasDomProp("width"),s&&(isNaN(i.width=o.measureOwnerWidth(n))||(n.setWidth(i.width,!1),i.gotWidth=!0,++r)))),nt.shrinkWrap&&n.consumersContentHeight?(++v,b=!(tt&2),d?b?(i.contentHeight=0,i.gotHeight=!0,++r):(i.contentHeight=n.getProp("contentHeight"))!==undefined&&(i.gotHeight=!0,++r):(u=p.contentHeight,typeof u=="number"?(i.contentHeight=u,i.gotHeight=!0,++r):(s=b?!0:n.hasDomProp("containerChildrenSizeDone")?g.noWrap?!0:k.shrinkWrap?y||!e||e.widthModel.shrinkWrap?!0:e.hasDomProp("width"):(n.bodyContext||n).hasDomProp("width"):!1,s&&(b?f=0:h&&h.measureContentHeight?f=h.measureContentHeight(n):c.cacheHeight?(l=c.xtype+"-"+c.ui,a=o.heightCache,f=a[l]||(a[l]=o.measureContentHeight(n))):f=o.measureContentHeight(n),isNaN(i.contentHeight=f)||(n.setContentHeight(f,!0),i.gotHeight=!0,++r))))):nt.natural&&n.consumersHeight&&(++v,u=p.height,typeof u=="number"?(i.height=u,i.gotHeight=!0,++r):(s=y||!e?!0:e.hasDomProp("width"),s&&(isNaN(i.height=o.measureOwnerHeight(n))||(n.setHeight(i.height,!1),i.gotHeight=!0,++r)))),e&&n.onBoxMeasured(),i.gotAll=r===v,i},measureContentWidth:function(n){return n.el.getWidth()-n.getFrameInfo().width},measureContentHeight:function(n){return n.el.getHeight()-n.getFrameInfo().height},measureOwnerHeight:function(n){return n.el.getHeight()},measureOwnerWidth:function(n){return n.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0);Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(n){var t=this,i=t.lastWidthModel,r=t.lastHeightModel,u=t.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);i&&i.fixed&&n.widthModel.shrinkWrap&&u.setWidth(null);r&&r.fixed&&n.heightModel.shrinkWrap&&u.setHeight(null)},calculate:function(n){var t=this,i=t.measureAutoDimensions(n),f=n.heightModel,e=n.widthModel,r,u;i.gotWidth?e.shrinkWrap?t.publishOwnerWidth(n,i.contentWidth):t.publishInnerWidth&&t.publishInnerWidth(n,i.width):!e.auto&&t.publishInnerWidth&&(r=t.waitForOuterWidthInDom?n.getDomProp("width"):n.getProp("width"),r===undefined?t.done=!1:t.publishInnerWidth(n,r));i.gotHeight?f.shrinkWrap?t.publishOwnerHeight(n,i.contentHeight):t.publishInnerHeight&&t.publishInnerHeight(n,i.height):!f.auto&&t.publishInnerHeight&&(u=t.waitForOuterHeightInDom?n.getDomProp("height"):n.getProp("height"),u===undefined?t.done=!1:t.publishInnerHeight(n,u));i.gotAll||(t.done=!1)},calculateOwnerHeightFromContentHeight:function(n,t){return t+n.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(n,t){return t+n.getFrameInfo().width},publishOwnerHeight:function(n,t){var r=this,e=r.owner,i=r.calculateOwnerHeightFromContentHeight(n,t),u,o,f;isNaN(i)?r.done=!1:(u=Ext.Number.constrain(i,e.minHeight,e.maxHeight),u===i?o=r.setHeightInDom:(f=r.sizeModels[u<i?"constrainedMax":"constrainedMin"],i=u,n.heightModel.calculatedFromShrinkWrap?n.heightModel=f:n.invalidate({heightModel:f})),n.setHeight(i,o))},publishOwnerWidth:function(n,t){var r=this,e=r.owner,i=r.calculateOwnerWidthFromContentWidth(n,t),u,o,f;isNaN(i)?r.done=!1:(u=Ext.Number.constrain(i,e.minWidth,e.maxWidth),u===i?o=r.setWidthInDom:(f=r.sizeModels[u<i?"constrainedMax":"constrainedMin"],i=u,n.widthModel.calculatedFromShrinkWrap?n.widthModel=f:n.invalidate({widthModel:f})),n.setWidth(i,o))}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0);Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(n){var r=this,i,t;if(Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments),!n.textEls)if(t=r.owner.textEl,t.isComposite)for(n.textEls=[],t=t.elements,i=t.length;i--;)n.textEls[i]=n.getEl(Ext.get(t[i]));else n.textEls=[n.getEl("textEl")]},calculate:function(n){var u=this,t,i,r;if(Ext.layout.component.Auto.prototype.calculate.apply(this,arguments),Ext.isNumber(r=n.getProp("width")))for(r-=n.getBorderInfo().width,i=n.textEls,t=i.length;t--;)i[t].setWidth(r);else u.done=!1}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0);Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{config:{value:0,textTpl:null},baseCls:"x-progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}<\/div>',"<\/tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}<\/div>","<\/div>","<\/tpl>","<\/div>"],componentLayout:"progressbar",ariaRole:"progressbar",initRenderData:function(){var n=this,t=n.value||0;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{internalText:!n.hasOwnProperty("textEl"),text:n.text||"&#160;",percentage:t*100})},onRender:function(){var n=this;Ext.Component.prototype.onRender.apply(this,arguments);n.textEl?(n.textEl=Ext.get(n.textEl),n.updateText(n.text)):n.textEl=n.el.select("."+n.baseCls+"-text")},applyValue:function(n){return n||0},updateValue:function(n){this.updateProgress(n,Math.round(n*100)+"%")},updateProgress:function(n,t,i){n=n||0;var r=this,f=r.value,u=r.getTextTpl();return r.value=n||(n=0),t!=null?r.updateText(t):u&&r.updateText(u.apply({value:n,percent:n*100})),r.rendered&&!r.isDestroyed&&(i===!0||i!==!1&&r.animate?(r.bar.stopAnimation(),r.bar.animate(Ext.apply({from:{width:f*100+"%"},to:{width:n*100+"%"}},r.animate))):r.bar.setStyle("width",n*100+"%")),r.fireEvent("update",r,n,t),r},updateText:function(n){var t=this;return t.text=n,t.rendered&&t.textEl.setHtml(t.text),t},applyTextTpl:function(n){return n.isTemplate||(n=new Ext.XTemplate(n)),n},applyText:function(n){this.updateText(n)},getText:function(){return this.text},wait:function(n){var t=this,i;return t.waitTimer||(i=t,n=n||{},t.updateText(n.text),t.waitTimer=Ext.TaskManager.start({run:function(i){var r=n.increment||10;i-=1;t.updateProgress(((i+r)%r+1)*(100/r)*.01,null,n.animate)},interval:n.interval||1e3,duration:n.duration,onStop:function(){n.fn&&n.fn.apply(n.scope||t);t.reset()},scope:i})),t},isWaiting:function(){return this.waitTimer!==null},reset:function(n){var t=this;return t.updateProgress(0),t.clearTimer(),n===!0&&t.hide(),t},clearTimer:function(){var n=this;n.waitTimer&&(n.waitTimer.onStop=null,Ext.TaskManager.stop(n.waitTimer),n.waitTimer=null)},onDestroy:function(){var n=this,t=n.bar;n.clearTimer();n.rendered&&(n.textEl.isComposite&&n.textEl.clear(),Ext.destroyMembers(n,"textEl","progressBar"),t&&n.animate&&t.stopAnimation());Ext.Component.prototype.onDestroy.call(this)}},0,["progressbar"],["component","box","progressbar"],{component:!0,box:!0,progressbar:!0},["widget.progressbar"],0,[Ext,"ProgressBar"],0);Ext.cmd.derive("Ext.ProgressBarWidget",Ext.Widget,{config:{text:null,value:0,animate:!1,textTpl:null},cachedConfig:{baseCls:"x-progress",textCls:"x-progress-text",ui:"default"},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",doSetWidth:function(n){var t=this;Ext.Widget.prototype.doSetWidth.call(this,n);n-=t.element.getBorderWidth("lr");t.backgroundEl.setWidth(n);t.textEl.setWidth(n)},updateUi:function(n,t){var r=this.element,u=this.barEl,i=this.getBaseCls()+"-";t&&(r.removeCls(i+t),u.removeCls(i+"bar-"+t));r.addCls(i+n);u.addCls(i+"bar-"+n)},updateBaseCls:function(n){this.element.addCls(n);this.barEl.addCls(n+"-bar")},updateTextCls:function(n){this.backgroundEl.addCls(n+" "+n+"-back");this.textEl.addCls(n)},applyValue:function(n){return n||0},updateValue:function(n,t){var i=this,r=i.barEl,u=i.getTextTpl();u&&i.setText(u.apply({value:n,percent:Math.round(n*100)}));i.getAnimate()?(r.stopAnimation(),r.animate(Ext.apply({from:{width:t*100+"%"},to:{width:n*100+"%"}},i.animate))):r.setStyle("width",n*100+"%")},updateText:function(n){this.backgroundEl.setHtml(n);this.textEl.setHtml(n)},applyTextTpl:function(n){return n.isTemplate||(n=new Ext.XTemplate(n)),n}},0,["progressbarwidget"],["widget","progressbarwidget"],{widget:!0,progressbarwidget:!0},["widget.progressbarwidget"],0,[Ext,"ProgressBarWidget"],0);Ext.cmd.derive("Ext.panel.Bar",Ext.container.Container,{vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var n=this,t=n.vertical;n.dock=n.dock||(t?"left":"top");n.layout=Ext.apply(t?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},n.layout);Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(n,t,i){this.initOrientation();Ext.container.Container.prototype.onAdded.call(this,n,t,i)},onRemoved:function(n){this.removeClsWithUI(this.uiCls);Ext.container.Container.prototype.onRemoved.call(this,n)},beforeRender:function(){var n=this;(n.forceOrientation||!n.ownerCt)&&n.initOrientation();Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(n){var t=this,i,r;n!==t.dock&&(Ext.suspendLayouts(),t.clearOrientation(),Ext.container.Container.prototype.setDock.call(this,n),t.initOrientation(),r=t.vertical,i=t.layout,i.setVertical(r),i.setAlignRoundingMethod(r?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var n=this,t=n.dock,i=n.vertical=t?t in n._verticalSides:n.vertical;n.addClsWithUI([i?"vertical":"horizontal",n.getDockName()])}}},0,0,["component","box","container"],{component:!0,box:!0,container:!0},0,0,[Ext.panel,"Bar"],0);Ext.cmd.derive("Ext.panel.Title",Ext.Component,{isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{unselectable:"on"},childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}<\/tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="headerRole"> role="{headerRole}"<\/tpl>>{text}<\/div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}<\/tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"<\/tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});<\/tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};<\/tpl>"><tpl if="glyph">&#{glyph};<\/tpl><tpl if="iconCls || iconUrl">&#160;<\/tpl><\/div><\/div>',_textAlignClasses:{left:"x-title-align-left",center:"x-title-align-center",right:"x-title-align-right"},_iconAlignClasses:{top:"x-title-icon-top",right:"x-title-icon-right",bottom:"x-title-icon-bottom",left:"x-title-icon-left"},_rotationClasses:{0:"x-title-rotate-none",1:"x-title-rotate-right",2:"x-title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:"x-title",_titleSuffix:"-title",_glyphCls:"x-title-glyph",_iconWrapCls:"x-title-icon-wrap",_baseIconCls:"x-title-icon",_itemCls:"x-title-item",_textCls:"x-title-text",afterComponentLayout:function(){var n=this,i=n.getRotation(),t,r,u;i&&!Ext.isIE8&&(u=n.el,t=n.lastBox,r=t.x,u.setStyle(n._getVerticalAdjustDirection(),r+(i===1?t.width:-t.height)+"px"));Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var n=this,t=n.getRotation(),i=n.el;Ext.Component.prototype.onRender.call(this);t&&i.setVertical(n._rotationAngles[t]);Ext.supports.FixedTableWidthBug&&(i._needsTableWidthFix=!0)},applyText:function(n){return n||(n="&#160;"),n},beforeRender:function(){var n=this;Ext.Component.prototype.beforeRender.call(this);n.addCls(n._rotationClasses[n.getRotation()]);n.addCls(n._textAlignClasses[n.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var n=this,u=n.getIcon(),f=n.getIconCls(),t=n.getGlyph(),r=Ext._glyphFontFamily,e=n.getIconAlign(),i;return typeof t=="string"&&(i=t.split("@"),t=i[0],r=i[1]),{id:n.id,ui:n.ui,itemCls:n._itemCls,iconUrl:u,iconCls:f,iconWrapCls:n._iconWrapCls,baseIconCls:n._baseIconCls,iconAlignCls:n._iconAlignClasses[e],glyph:t,glyphCls:t?n._glyphCls:"",glyphFontFamily:r}},initRenderData:function(){var n=this,i,t;return t=Ext.apply({text:n.getText(),headerRole:n.headerRole,id:n.id,ui:n.ui,itemCls:n._itemCls,textCls:n._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this)),n._hasIcon()&&(i=n.getIconAlign(),t.iconMarkup=n.getIconMarkup(),t.iconBeforeTitle=i==="top"||i==="left"),t},onAdded:function(n,t,i){var r=this,u=r._titleSuffix,f=n.baseCls;r.addCls([f+u,f+u+"-"+n.ui]);Ext.Component.prototype.onAdded.call(this,n,t,i)},updateGlyph:function(n,t){n=n||0;var i=this,e=i._glyphCls,r,u,f;i.glyph=n;i.rendered&&(i._syncIconVisibility(),r=i.iconEl,typeof n=="string"&&(f=n.split("@"),n=f[0],u=f[1]||Ext._glyphFontFamily),n?t!==n&&(r.dom.innerHTML="&#"+n+";",r.addCls(e)):(r.dom.innerHTML="",r.removeCls(e)),u&&r.setStyle("font-family",u),i._didIconStateChange(t,n)&&i.updateLayout())},updateIcon:function(n,t){n=n||"";var i=this,r;i.rendered&&n!==t&&(i._syncIconVisibility(),r=i.iconEl,r.setStyle("background-image",n?"url("+n+")":""),i._didIconStateChange(t,n)&&i.updateLayout())},updateIconAlign:function(n,t){var i=this,r=i.iconWrapEl,u,f;i.iconWrapEl&&(u=i.el,f=i._iconAlignClasses,t&&r.removeCls(f[t]),r.addCls(f[n]),n==="top"||n==="left"?u.insertFirst(r):u.appendChild(r),i.updateLayout())},updateIconCls:function(n,t){n=n||"";var i=this,r;i.rendered&&t!==n&&(i._syncIconVisibility(),r=i.iconEl,t&&r.removeCls(t),r.addCls(n),i._didIconStateChange(t,n)&&i.updateLayout())},updateRotation:function(n,t){var i=this,r,u;i.rendered&&(r=i.el,u=i._rotationClasses,i.removeCls(u[t]),i.addCls(u[n]),r.setHorizontal(),n&&r.setVertical(i._rotationAngles[n]),r.setStyle({right:"",left:"",top:"",height:"",width:""}),i.lastBox=null,i.updateLayout())},updateText:function(n){this.rendered&&this.textEl.setHtml(n)},updateTextAlign:function(n,t){var i=this,r=i._textAlignClasses;i.rendered&&(t&&i.removeCls(r[t]),i.addCls(r[n]),i.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(n,t){var i=Ext.isEmpty(t);return Ext.isEmpty(n)?!i:i},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var n=this,u=n.el,f=n._hasIcon(),t=n.iconWrapEl,i,r;f&&!t&&(r=n.iconAlign,i=r==="left"||r==="top",u.dom.insertAdjacentHTML(i?"afterbegin":"beforeend",n.getIconMarkup()),t=n.iconWrapEl=u[i?"first":"last"](),n.iconEl=t.first());t&&t.setDisplayed(f)}}},0,["title"],["component","box","title"],{component:!0,box:!0,title:!0},["widget.title"],0,[Ext.panel,"Title"],0);Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{isTool:!0,focusable:!0,baseCls:"x-tool",disabledCls:"x-tool-disabled",toolPressedCls:"x-tool-pressed",toolOverCls:"x-tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" data-ref="toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,cacheHeight:!0,cacheWidth:!0,initComponent:function(){var n=this;n.type=n.type||n.id;Ext.applyIf(n.renderData,{baseCls:n.baseCls,blank:Ext.BLANK_IMAGE_URL,type:n.type});n.tooltip=n.tooltip||n.qtip;Ext.Component.prototype.initComponent.call(this)},afterRender:function(){var n=this,t;Ext.Component.prototype.afterRender.apply(this,arguments);n.el.on({click:n.onClick,mousedown:n.onMouseDown,mouseover:n.onMouseOver,mouseout:n.onMouseOut,scope:n});t=n.tooltip;t&&n.setTooltip(t)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(n,t){var i=this,e=i.tooltip,r=i.tooltipType,o=i.id,f=i.el,u;e&&Ext.quickTipsActive&&Ext.isObject(e)&&Ext.tip.QuickTipManager.unregister(o);i.tooltip=n;t&&(i.tooltipType=t);n&&(Ext.quickTipsActive&&Ext.isObject(n)?Ext.tip.QuickTipManager.register(Ext.apply({target:o},n)):f&&(t&&r&&t!==r&&(u=i.tipAttrs[r]||"title",f.dom.removeAttribute(u)),u=i.tipAttrs[t||r]||"title",f.dom.setAttribute(u,n)))},setType:function(n){var t=this,i=t.type;return t.type=n,t.rendered?(i&&t.toolEl.removeCls(t.baseCls+"-"+i),t.toolEl.addCls(t.baseCls+"-"+n)):t.renderData.type=n,t},onDestroy:function(){var n=this,t=n.keyMap;n.setTooltip(null);t&&(t.destroy(),n.keyMap=null);delete n.toolOwner;Ext.Component.prototype.onDestroy.call(this)},privates:{getFocusEl:function(){return this.el},onClick:function(n,t){var i=this;return i.disabled?!1:(i.el.removeCls(i.toolPressedCls+" "+i.toolOverCls),i.stopEvent!==!1&&n.stopEvent(),i.handler?Ext.callback(i.handler,i.scope,[n,t,i.ownerCt,i],0,i):i.callback&&Ext.callback(i.callback,i.scope,[i.toolOwner||i.ownerCt,i,n],0,i),i.fireEvent("click",i,n,i.toolOwner||i.ownerCt),!0)},onMouseDown:function(){if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}},0,["tool"],["component","box","tool"],{component:!0,box:!0,tool:!0},["widget.tool"],0,[Ext.panel,"Tool"],0);Ext.cmd.derive("Ext.panel.Header",Ext.panel.Bar,{isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{ariaRole:"presentation",xtype:"title",flex:1},merge:function(n,t){return typeof n=="string"&&(n={text:n}),Ext.merge(t?Ext.Object.chain(t):{},n)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:"x-header",initComponent:function(){var n=this,t=n.items,r=n.itemPosition,i=[n.headerCls];n.tools=n.tools||[];n.items=t=t?t.slice():[];r!==undefined&&(n._userItems=t.slice(),n.items=t=[]);n.indicateDragCls=n.headerCls+"-draggable";n.indicateDrag&&i.push(n.indicateDragCls);n.addCls(i);n.syncNoBorderCls();Ext.Array.push(t,n.tools);n.tools.length=0;Ext.panel.Bar.prototype.initComponent.call(this);n.on({dblclick:n.onDblClick,click:n.onClick,element:"el",scope:n})},addTool:function(n){this.add(Ext.ComponentManager.create(n,"tool"))},afterLayout:function(){var n=this,u,t,i,r;n.vertical&&(t=n.frameTR,t&&(u=n.frameBR,i=n.frameTL,r=n.getWidth()-t.getPadding("r")-(i?i.getPadding("l"):n.el.getBorderWidth("l"))+"px",u.setStyle("background-position-x",r),t.setStyle("background-position-x",r)));Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(n,t){var i=this,r,u;return n=n||"",r=typeof n=="string",r&&(n={text:n}),t?(Ext.suspendLayouts(),t.setConfig(n),Ext.resumeLayouts(!0),n=t):(r&&(n.xtype="title"),n.ui=i.ui,n.headerRole=i.headerRole,u="rotation"in n,n=Ext.create(n),!u&&i.vertical&&i.titleRotation==="default"&&(n.rotation=1)),n},applyTitlePosition:function(n){var t=this.items.getCount();return this._titleInItems&&--t,Math.max(Math.min(n,t),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},beforeRender:function(){var n=this,t=n.itemPosition;n.protoEl.unselectable();Ext.panel.Bar.prototype.beforeRender.call(this);t!==undefined&&n.insert(t,n._userItems)},getTools:function(){return this.tools.slice()},onAdd:function(n,t){var i=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,n,t);n.isTool&&(i.push(n),i[n.type]=n)},onAdded:function(n,t,i){this.syncNoBorderCls();Ext.panel.Bar.prototype.onAdded.call(this,n,t,i)},onRemoved:function(n,t,i){this.syncNoBorderCls();Ext.panel.Bar.prototype.onRemoved.call(this,n,t,i)},setDock:function(n){var t=this,r=t.getTitle(),i=t.getTitleRotation(),u=r.getRotation();Ext.suspendLayouts();Ext.panel.Bar.prototype.setDock.call(this,n);i==="default"&&(i=t.vertical?1:0,i!==u&&r.setRotation(i),t.rendered&&t.resetItemMargins());Ext.resumeLayouts(!0)},updateGlyph:function(n){this.getTitle().setGlyph(n)},updateIcon:function(n){this.getTitle().setIcon(n)},updateIconAlign:function(n){this.getTitle().setIconAlign(n)},updateIconCls:function(n){this.getTitle().setIconCls(n)},updateTitle:function(n,t){t||(this.insert(this.getTitlePosition(),n),this._titleInItems=!0);this.titleCmp=n},updateTitleAlign:function(n){this.getTitle().setTextAlign(n)},updateTitlePosition:function(n){this.insert(n,this.getTitle())},updateTitleRotation:function(n){n==="default"&&(n=this.vertical?1:0);this.getTitle().setRotation(n)},privates:{fireClickEvent:function(n,t){var i="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(i)||this.fireEvent(n,this,t)},getFocusEl:function(){return this.el},getFramingInfoCls:function(){var n=this,i=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),t=n.ownerCt;return!n.expanding&&t&&(t.collapsed||n.isCollapsedExpander)&&(i+="-"+t.collapsedCls),i+"-"+n.dock},onClick:function(n){this.fireClickEvent("click",n)},onDblClick:function(n){this.fireClickEvent("dblclick",n)},syncBeforeAfterTitleClasses:function(n){var r=this,o=r.items,s=o.items,h=r.getTitlePosition(),l=s.length,c=o.generation,u=r.syncBeforeAfterGen,f,e,i,t;if(n||u!==c)for(r.syncBeforeAfterGen=c,i=0;i<l;++i)t=s[i],f=t.afterTitleCls||(t.afterTitleCls=t.baseCls+"-after-title"),e=t.beforeTitleCls||(t.beforeTitleCls=t.baseCls+"-before-title"),!r.title||i<h?(u&&t.removeCls(f),t.addCls(e)):i>h&&(u&&t.removeCls(e),t.addCls(f))},syncNoBorderCls:function(){var n=this,t=this.ownerCt,i=n.headerCls+"-noborder";(t?t.border!==!1||t.frame:n.border!==!1)?n.removeCls(i):n.addCls(i)}}},0,["header"],["component","box","container","header"],{component:!0,box:!0,container:!0,header:!0},["widget.header"],0,[Ext.panel,"Header"],0);Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(n){this.initConfig(n)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(n){var i=this,r=n.state.boxPlan,t;r&&r.tooNarrow?(t=i.handleOverflow(n),t&&t.reservedSpace&&i.layout.publishInnerCtSize(n,t.reservedSpace)):i.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(){var n=this,i=n.layout.owner,r,t;i.hasListeners.overflowchange&&(r=i.query(">[hidden]"),t=r.length,t!==n.lastHiddenCount&&(i.fireEvent("overflowchange",n.lastHiddenCount,t,r),n.lastHiddenCount=t))},onRemove:Ext.emptyFn,getItem:function(n){return this.layout.owner.getComponent(n)},getOwnerType:function(n){return n.isToolbar?"toolbar":n.isTabBar?"tab-bar":n.isMenu?"menu":n.isBreadcrumb?"breadcrumb":n.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var n=this,t=n.layout,i=t.innerCt;i.removeCls(n.getOverflowCls(t.oppositeDirection));i.addCls(n.getOverflowCls(t.direction))}},1,0,0,0,["box.overflow.None","box.overflow.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0);Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(n,t){var i=this;if(i.el=Ext.get(n),i.el.unselectable(),Ext.apply(i,t),Ext.util.Observable.prototype.constructor.call(this),i.disabled||(i.disabled=!0,i.enable()),i.handler)i.on("click",i.handler,i.scope||i)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8)this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=!1},disable:function(n){(n||!this.disabled)&&(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners());this.disabled=!0},setDisabled:function(n){this[n?"disable":"enable"]()},eventOptions:function(n){this.preventDefault&&n.preventDefault();this.stopDefault&&n.stopEvent()},destroy:function(){this.disable(!0);this.clearListeners()},handleDblClick:function(n){clearTimeout(this.timer);this.fireEvent("mousedown",this,n);this.fireEvent("click",this,n)},handleMouseDown:function(n){clearTimeout(this.timer);this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,n);this.fireEvent("click",this,n);this.accelerate&&(this.delay=400);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[n])},click:function(n){this.fireEvent("click",this,n);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[n])},easeOutExpo:function(n,t,i,r){return n===r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(n){this.el.un("mouseover",this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click(n)},handleMouseUp:function(n){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",this,n)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0);Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:"x-box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(n){var t=this;t.mixins.observable.constructor.call(t,n);t.scrollPosition=0;t.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(n){var i=this,u=i.layout,r=u.owner,f=i.getOwnerType(r),t=i.scrollerCls,e=t+" "+t+"-"+u.names[n]+" "+t+"-"+f+" "+t+"-"+f+"-"+r.ui;return r.plain&&(e+=" "+t+"-plain"),e},getOverflowCls:function(n){return this.scrollerCls+"-body-"+n},beginLayout:function(n){n.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(n){var t=this,u=n.state.boxPlan,f=t.layout,i=f.names,e=Math.min(t.getMaxScrollPosition(),n.innerCtScrollPos),r;u&&u.tooNarrow&&(r=n.childItems[n.childItems.length-1].props,t.scrollSize=r[i.x]+r[i.width],t.updateScrollButtons());f.innerCt[i.setScrollLeft](e);Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,n)},handleOverflow:function(n){var t=this,i=t.layout.names,f=i.getWidth,e=i.parallelMargins,o,s,r,u;return t.showScrollers(),r=t.getBeforeScroller(),u=t.getAfterScroller(),o=r[f]()+u[f]()+r.getMargin(e)+u.getMargin(e),s=n.targetContext.getPaddingInfo()[i.width],{reservedSpace:Math.max(o-s,0)}},getBeforeScroller:function(){var n=this;return n._beforeScroller||(n._beforeScroller=n.createScroller(n.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var n=this;return n._afterScroller||(n._afterScroller=n.createScroller(n.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(n,t,i){var u=this,f=u.layout.owner,e=u.scrollerCls,r;return r=f.el.getById(f.id+n),r.addClsOnOver(e+"-hover"),r.addClsOnClick(e+"-pressed"),r.setVisibilityMode(Ext.Element.DISPLAY),u[t]=new Ext.util.ClickRepeater(r,{interval:u.scrollRepeatInterval,handler:i,scope:u}),r},createWheelListener:function(){var n=this;n.wheelListener=n.layout.innerCt.on("mousewheel",n.onMouseWheel,n,{destroyable:!0})},onMouseWheel:function(n){n.stopEvent();this.scrollBy(this.getWheelDelta(n)*this.wheelIncrement*-1,!1)},getWheelDelta:function(n){return n.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var n=this;n.wheelListener||n.createWheelListener();n.getBeforeScroller().show();n.getAfterScroller().show();n.layout.owner.addClsWithUI(n.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var n=this,t=n.getBeforeScroller(),i=n.getAfterScroller();t&&(t.hide(),i.hide(),n.layout.owner.removeClsWithUI(n.layout.direction==="vertical"?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener")},scrollBy:function(n,t){this.scrollTo(this.getScrollPosition()+n,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var n=this,i=n.getBeforeScroller(),r=n.getAfterScroller(),t;i&&r&&(t=n.scrollerCls+"-disabled",i[n.atExtremeBefore()?"addCls":"removeCls"](t),r[n.atExtremeAfter()?"addCls":"removeCls"](t),n.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var n=this,t=n.layout;return isNaN(n.scrollPosition)?t.innerCt[t.names.getScrollLeft]():n.scrollPosition},getMaxScrollPosition:function(){var n=this,t=n.layout,i=n.scrollSize-t.innerCt[t.names.getWidth]();return i<0?0:i},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var n=this,r=n.getBeforeScroller(),u=n.getAfterScroller(),t=n.layout.names,i=n.scrollerCls;r.removeCls(i+"-"+t.beforeY);u.removeCls(i+"-"+t.afterY);r.addCls(i+"-"+t.beforeX);u.addCls(i+"-"+t.afterX);Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(n,t){var i=this,u=i.layout,f=u.names,e=i.getScrollPosition(),r=Ext.Number.constrain(n,0,i.getMaxScrollPosition());r===e||i.scrolling||(i.scrollPosition=NaN,t===undefined&&(t=i.animateScroll),u.innerCt[f.scrollTo](f.beforeScrollX,r,t?i.getScrollAnim():!1),t?i.scrolling=!0:i.updateScrollButtons(),i.fireEvent("scroll",i,r,t?i.getScrollAnim():!1))},scrollToItem:function(n,t){var r=this,u=r.layout,s=u.owner,f=u.names,h=u.innerCt,e,o,i;n=r.getItem(n);n!==undefined&&(n===s.items.first()?i=0:n===s.items.last()?i=r.getMaxScrollPosition():(e=r.getItemVisibility(n),e.fullyVisible||(o=n.getBox(!1,!0),i=o[f.x],e.hiddenEnd&&(i-=h[f.getWidth]()-o[f.width]))),i!==undefined&&r.scrollTo(i,t))},getItemVisibility:function(n){var t=this,f=t.getItem(n).getBox(!0,!0),e=t.layout,i=e.names,r=f[i.x],o=r+f[i.width],u=t.getScrollPosition(),s=u+e.innerCt[i.getWidth]();return{hiddenStart:r<u,hiddenEnd:o>s,fullyVisible:r>=u&&o<=s}}},1,0,0,0,["box.overflow.Scroller","box.overflow.scroller"],[["observable",Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0);Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:"x-dd-drag-current",_execOnAll:function(n,t){var u=this.ids,f,e,i,r;for(f in u)if(u.hasOwnProperty(f)){r=u[f];for(e in r)if(r.hasOwnProperty(e)){if(i=r[e],!this.isTypeOfDD(i))continue;i[n].apply(i,t)}}},addListeners:function(){var n=this;n.init();Ext.getDoc().on({mouseup:n.handleMouseUp,mousemove:{fn:n.handleMouseMove,capture:!1},dragstart:n.preventDrag,drag:n.preventDrag,dragend:n.preventDrag,capture:!0,scope:n});Ext.getWin().on({unload:n._onUnload,resize:n._onResize,scope:n})},preventDrag:function(n){this.isMouseDown&&n.stopPropagation()},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(n,t){this.initialized||this.init();this.ids[t]||(this.ids[t]={});this.ids[t][n.id]=n},removeDDFromGroup:function(n,t){this.ids[t]||(this.ids[t]={});var i=this.ids[t];i&&i[n.id]&&delete i[n.id]},_remove:function(n,t){var i=this,u=i.ids,f=n.groups,r;if(!i.clearingAll){i.dragCurrent===n&&(i.dragCurrent=null);for(r in f)f.hasOwnProperty(r)&&(t?delete u[r]:u[r]&&delete u[r][n.id]);delete i.handleIds[n.id]}},regHandle:function(n,t){this.handleIds[n]||(this.handleIds[n]={});this.handleIds[n][t]=t},isDragDrop:function(n){return this.getDDById(n)?!0:!1},getRelated:function(n,t){var r=[],u,f,i;for(u in n.groups)for(f in this.ids[u])(i=this.ids[u][f],this.isTypeOfDD(i))&&(!t||i.isTarget)&&(r[r.length]=i);return r},isLegalTarget:function(n,t){for(var r=this.getRelated(n,!0),i=0,u=r.length;i<u;++i)if(r[i].id===t.id)return!0;return!1},isTypeOfDD:function(n){return n&&n.__ygDragDrop},isHandle:function(n,t){return this.handleIds[n]&&this.handleIds[n][t]},getDDById:function(n,t){var r,i;for(r in this.ids)if(i=this.ids[r][n],i instanceof Ext.dd.DDTarget||t)return i;return null},handleMouseDown:function(n,t){var i=this,u,r;i.isMouseDown=!0;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable();i.currentPoint=n.getPoint();i.dragCurrent&&i.handleMouseUp(n);i.mousedownEvent=n;i.currentTarget=n.getTarget();i.dragCurrent=t;r=t.getEl();Ext.fly(r).setCapture();u=n.getXY();i.startX=u[0];i.startY=u[1];i.offsetX=i.offsetY=0;i.deltaX=i.startX-r.offsetLeft;i.deltaY=i.startY-r.offsetTop;i.dragThreshMet=!1},startDrag:function(n,t){var i=this,r=i.dragCurrent,u;clearTimeout(i.clickTimeout);r&&(r.b4StartDrag(n,t),r.startDrag(n,t),u=r.getDragEl(),u&&Ext.fly(u).addCls(i.dragCls));i.dragThreshMet=!0},handleMouseUp:function(n){var t=this;(t.isMouseDown=!1,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),t.dragCurrent)&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(t.clickTimeout),t.dragThreshMet&&t.fireEvents(n,!0),t.stopDrag(n),t.stopEvent(n))},stopEvent:function(n){this.stopPropagation&&n.stopPropagation();this.preventDefault&&n.preventDefault()},stopDrag:function(n){var t=this,i=t.dragCurrent,r;if(i){t.dragThreshMet&&(r=i.getDragEl(),r&&Ext.fly(r).removeCls(t.dragCls),i.b4EndDrag(n),i.endDrag(n));t.dragCurrent.onMouseUp(n)}t.dragCurrent=null;t.dragOvers={}},handleMouseMove:function(n){var t=this,i=t.dragCurrent,r=t.currentPoint=n.getPoint(),e=r.x,o=r.y,u,f;if(t.offsetX=e-t.startX,t.offsetY=o-t.startY,!i)return!0;if(t.dragThreshMet||(u=Math.abs(t.offsetX),f=Math.abs(t.offsetY),(u>t.clickPixelThresh||f>t.clickPixelThresh)&&t.startDrag(t.startX,t.startY)),t.dragThreshMet){i.b4Drag(n);i.onDrag(n);i.moveOnly||t.fireEvents(n,!1)}return t.stopEvent(n),!0},fireEvents:function(n,t){var f=this,b=Ext.supports.Touch,u=f.dragCurrent,a=f.currentPoint,nt=a.x,tt=a.y,c=[],k=[],o=[],h=[],s=[],l=[],d=b?document.documentElement.clientWidth/window.innerWidth:1,p,r,w,g,i,e,v,y;if(u&&!u.isLocked()){y=!(u.deltaX<0||u.deltaY<0);(b||!f.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&y)&&(p=u.getDragEl(),y&&(p.style.visibility="hidden"),n.target=document.elementFromPoint(nt/d,tt/d),y&&(p.style.visibility="visible"));for(i in f.dragOvers)(r=f.dragOvers[i],delete f.dragOvers[i],f.isTypeOfDD(r)&&!r.isDestroyed)&&(f.notifyOccluded?this.isOverTarget(a,r,f.mode)||o.push(r):n.within(r.getEl())||o.push(r),k[i]=!0);for(v in u.groups)if("string"==typeof v)for(i in f.ids[v])if(r=f.ids[v][i],f.isTypeOfDD(r)&&(w=r.getEl())&&r.isTarget&&!r.isLocked()&&Ext.fly(w).isVisible(!0)&&(r!==u||u.ignoreSelf===!1))if(f.notifyOccluded)(r.zIndex=f.getZIndex(w))!==-1&&(g=!0),c.push(r);else if(n.within(r.getEl())){c.push(r);break}for(g&&Ext.Array.sort(c,f.byZIndex),i=0,e=c.length;i<e;i++)if(r=c[i],f.isOverTarget(a,r,f.mode)&&(t?s.push(r):(k[r.id]?h.push(r):l.push(r),f.dragOvers[r.id]=r),!f.notifyOccluded))break;if(f.mode){if(o.length){u.b4DragOut(n,o);u.onDragOut(n,o)}if(l.length)u.onDragEnter(n,l);if(h.length){u.b4DragOver(n,h);u.onDragOver(n,h)}if(s.length){u.b4DragDrop(n,s);u.onDragDrop(n,s)}}else{for(i=0,e=o.length;i<e;++i){u.b4DragOut(n,o[i].id);u.onDragOut(n,o[i].id)}for(i=0,e=l.length;i<e;++i)u.onDragEnter(n,l[i].id);for(i=0,e=h.length;i<e;++i){u.b4DragOver(n,h[i].id);u.onDragOver(n,h[i].id)}for(i=0,e=s.length;i<e;++i){u.b4DragDrop(n,s[i].id);u.onDragDrop(n,s[i].id)}}if(t&&!s.length)u.onInvalidDrop(n)}},getZIndex:function(n){var r=document.body,t,i=-1;for(n=Ext.getDom(n);n!==r;)isNaN(t=Number(Ext.fly(n).getStyle("zIndex")))||(i=t),n=n.parentNode;return i},byZIndex:function(n,t){return n.zIndex<t.zIndex},getBestMatch:function(n){var t=null,u=n.length,r,i;if(u===1)t=n[0];else for(r=0;r<u;++r)if(i=n[r],i.cursorIsOver){t=i;break}else(!t||t.overlap.getArea()<i.overlap.getArea())&&(t=i);return t},refreshCache:function(n){var i,u,t,r;for(i in n)if("string"==typeof i)for(u in this.ids[i])t=this.ids[i][u],this.isTypeOfDD(t)&&(r=this.getLocation(t),r?this.locationCache[t.id]=r:delete this.locationCache[t.id])},verifyEl:function(n){if(n){var t;if(Ext.isIE)try{t=n.offsetParent}catch(i){}else t=n.offsetParent;if(t)return!0}return!1},getLocation:function(n){if(!this.isTypeOfDD(n))return null;if(n.getRegion)return n.getRegion();var i=n.getEl(),t,r,f,u,e,o,s,h,c;try{t=Ext.fly(i).getXY()}catch(l){}return t?(r=t[0],f=r+i.offsetWidth,u=t[1],e=u+i.offsetHeight,o=u-n.padding[0],s=f+n.padding[1],h=e+n.padding[2],c=r-n.padding[3],new Ext.util.Region(o,s,h,c)):null},isOverTarget:function(n,t,i){var u=this.locationCache[t.id],r,f,e,s,o;return(u&&this.useCache||(u=this.getLocation(t),this.locationCache[t.id]=u),!u)?!1:(t.cursorIsOver=u.contains(n),r=this.dragCurrent,!r||!r.getTargetCoord||!i&&!r.constrainX&&!r.constrainY)?t.cursorIsOver:(t.overlap=null,f=r.getTargetCoord(n.x,n.y),e=r.getDragEl(),s=new Ext.util.Region(f.y,f.x+e.offsetWidth,f.y+e.offsetHeight,f.x),o=s.intersect(u),o?(t.overlap=o,i?!0:t.cursorIsOver):!1)},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var n=this,t=n.elementCache,i;n.dragCurrent&&(n.stopDrag(),n.dragCurrent=null);n.clearingAll=!0;n._execOnAll("unreg",[]);delete n.clearingAll;for(i in t)delete t[i];n.elementCache={};n.ids={};n.handleIds={}},elementCache:{},getElWrapper:function(n){var t=this.elementCache[n];return t&&t.el||(t=this.elementCache[n]=new this.ElementWrapper(Ext.getDom(n))),t},getElement:function(n){return Ext.getDom(n)},getCss:function(n){var t=Ext.getDom(n);return t?t.style:null},ElementWrapper:function(n){this.el=n||null;this.id=this.el&&n.id;this.css=this.el&&n.style},getPosX:function(n){return Ext.fly(n).getX()},getPosY:function(n){return Ext.fly(n).getY()},swapNode:function(n,t){if(n.swapNode)n.swapNode(t);else{var i=t.parentNode,r=t.nextSibling;r===n?i.insertBefore(n,t):t===n.nextSibling?i.insertBefore(t,n):(n.parentNode.replaceChild(t,n),i.insertBefore(n,r))}},getScroll:function(){var u=window.document,n=u.documentElement,t=u.body,i=0,r=0;return n&&(n.scrollTop||n.scrollLeft)?(i=n.scrollTop,r=n.scrollLeft):t&&(i=t.scrollTop,r=t.scrollLeft),{top:i,left:r}},getStyle:function(n,t){return Ext.fly(n).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(n,t){var i=Ext.fly(t).getXY();Ext.fly(n).setXY(i)},numericSort:function(n,t){return n-t},handleWasClicked:function(n,t){if(this.isHandle(t,n.id))return!0;for(var i=n.parentNode;i;){if(this.isHandle(t,i.id))return!0;i=i.parentNode}return!1}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(n){Ext.onInternalReady(function(){n.addListeners()})});Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',"x-","collapse-el ","x-",'layout-split-{collapseDir}{childElCls}">&#160;',"<\/div>","<\/tpl>"],isSplitter:!0,baseCls:"x-splitter",collapsedClsInternal:"x-splitter-collapsed",canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,tracker:null,ariaRole:"separator",focusable:!0,tabIndex:0,getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var n=this,t=n.getCollapseTarget(),i=n.collapsible;Ext.Component.prototype.beforeRender.call(this);t.collapsed&&n.addCls(n.collapsedClsInternal);n.canResize||n.addCls(n.baseCls+"-noresize");Ext.applyIf(n.renderData,{collapseDir:n.getCollapseDirection(),collapsible:i!==null?i:t.collapsible});n.protoEl.unselectable()},onRender:function(){var n=this,t;Ext.Component.prototype.onRender.apply(this,arguments);n.performCollapse!==!1&&(n.renderData.collapsible&&n.mon(n.collapseEl,"click",n.toggleTargetCmp,n),n.collapseOnDblClick&&n.mon(n.el,"dblclick",n.toggleTargetCmp,n));n.getCollapseTarget().on({collapse:n.onTargetCollapse,expand:n.onTargetExpand,beforeexpand:n.onBeforeTargetExpand,beforecollapse:n.onBeforeTargetCollapse,scope:n});n.canResize&&(n.tracker=Ext.create(n.getTrackerConfig()),n.relayEvents(n.tracker,["beforedragstart","dragstart","dragend"]));t=n.collapseEl;t&&(t.lastCollapseDirCls=n.collapseDirProps[n.collapseDirection].cls)},getCollapseDirection:function(){var n=this,t=n.collapseDirection,i,r,u,f;return t||(i=n.collapseTarget,i.isComponent&&(t=i.collapseDirection),t||(f=n.ownerCt.layout.type,i.isComponent?(u=n.ownerCt.items,r=Number(u.indexOf(i)===u.indexOf(n)-1)<<1|Number(f==="hbox")):r=Number(n.collapseTarget==="prev")<<1|Number(f==="hbox"),t=["bottom","right","top","left"][r]),n.collapseDirection=t),n.setOrientation(t==="top"||t==="bottom"?"horizontal":"vertical"),t},getCollapseTarget:function(){var n=this;return n.collapseTarget.isComponent?n.collapseTarget:n.collapseTarget==="prev"?n.previousSibling():n.nextSibling()},setCollapseEl:function(n){var t=this.collapseEl;t&&t.setDisplayed(n)},onBeforeTargetExpand:function(){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(n){n===this.getCollapseTarget()&&n[this.orientation==="vertical"?"collapsedHorizontal":"collapsedVertical"]()&&this.el.addCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},onTargetExpand:function(){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},collapseDirProps:{top:{cls:"x-layout-split-top"},right:{cls:"x-layout-split-right"},bottom:{cls:"x-layout-split-bottom"},left:{cls:"x-layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var t=this,n=t.collapseEl,r=t.collapseDirProps[t.collapseDirection],i;n&&(i=n.lastCollapseDirCls,i&&n.removeCls(i),n.addCls(n.lastCollapseDirCls=r.cls))},applyOrientation:function(){var n=this,i=n.orientation,t=n.orientationProps[i],f=n.size,r=t.fixedAxis,u=t.stretchedAxis,e=n.baseCls+"-";n[i]=!0;n[t.opposite]=!1;n.hasOwnProperty(r)&&n[r]!=="100%"||(n[r]=f);n.hasOwnProperty(u)&&n[u]!==f||(n[u]="100%");n.removeCls(e+t.opposite);n.addCls(e+i)},setOrientation:function(n){var t=this;t.orientation!==n&&(t.orientation=n,t.applyOrientation())},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(){var n=this.getCollapseTarget(),t=n.placeholder,i;Ext.isFunction(n.expand)&&Ext.isFunction(n.collapse)&&(i=t&&!t.hidden?!0:!n.hidden,i&&(n.collapsed?n.expand():n.collapseDirection?n.collapse():n.collapse(this.renderData.collapseDir)))},setSize:function(){var n=this;Ext.Component.prototype.setSize.apply(this,arguments);Ext.isIE&&n.el&&n.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.beforeDestroy.call(this)}},0,["splitter"],["component","box","splitter"],{component:!0,box:!0,splitter:!0},["widget.splitter"],0,[Ext.resizer,"Splitter"],0);Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(n,t){return typeof n=="string"&&(n={type:n}),Ext.merge(t?Ext.Object.chain(t):{},n)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:!1,alignRoundingMethod:"round"},itemCls:"x-box-item",targetCls:"x-box-layout-ct",targetElCls:"x-box-target",innerCls:"x-box-inner",manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}<\/div><\/div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(){var n=this,t;Ext.layout.container.Container.prototype.constructor.apply(this,arguments);n.setVertical(n.vertical);n.flexSortFn=n.flexSort.bind(n);t=typeof n.padding;(t==="string"||t==="number")&&(n.padding=Ext.util.Format.parseBox(n.padding),n.padding.height=n.padding.top+n.padding.bottom,n.padding.width=n.padding.left+n.padding.right)},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(n,t){var i=this,r=i.sizePolicy,u=i.align,s=n.flex,f=u,h=i.names,e=h.height,c=h.width,w=n[c],l=n[e],o=i._percentageRe,a=o.test(w),v=u==="stretch",y=u==="stretchmax",p=i.constrainAlign;return!t&&(v||s||a||p&&!y)&&(t=i.owner.getSizeModel()),v?!o.test(l)&&t[e].shrinkWrap&&(f="stretchmax"):y||(f=o.test(l)?"stretch":p&&!t[e].shrinkWrap?"stretchmax":""),(s||a)&&(t[c].shrinkWrap||(r=r.flex)),r[f]},flexSort:function(n,t){var l=this.names.maxWidth,a=this.names.minWidth,v=Infinity,u=n.target,f=t.target,y=u.flex,p=f.flex,i=0,e,o,s,h,c,r;return s=u[l]||v,h=f[l]||v,e=u[a]||0,o=f[a]||0,c=isFinite(e)||isFinite(o),r=isFinite(s)||isFinite(h),(c||r)&&(r&&(i=s-h),i===0&&c&&(i=o-e),i===0&&(i=r?p-y:y-p)),i},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},roundFlex:function(n){return Math.floor(n)},beginCollapse:function(n){var t=this;t.direction==="vertical"&&n.collapsedVertical()?(n.collapseMemento.capture(["flex"]),delete n.flex):t.direction==="horizontal"&&n.collapsedHorizontal()&&(n.collapseMemento.capture(["flex"]),delete n.flex)},beginExpand:function(n){n.collapseMemento.restore(["flex"])},beginLayout:function(n){var t=this,r=t.owner,i=r.stretchMaxPartner,f=t.innerCt.dom.style,o=t.names,e=t.overflowHandler,u=r.getScrollable();n.boxNames=o;e&&e.beginLayout(n);typeof i=="string"&&(i=Ext.getCmp(i)||r.query(i)[0]);n.stretchMaxPartner=i&&n.context.getCmp(i);Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);n.innerCtContext=n.getEl("innerCt",t);n.targetElContext=n.getEl("targetEl",t);n.ownerScrollable=u=r.getScrollable();u&&(n.scrollRestore=u.getPosition());f.width="";f.height=""},beginLayoutCycle:function(n,t){var r=this,e=n.state,o=n.ownerScrollable,i=r.align,f=n.boxNames,u=r.pack,c=r._centerRe,l=r.overflowHandler,a=n.state.canScroll,s,h;l&&l.beginLayoutCycle(n,t);Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);n.parallelSizeModel=s=n[f.widthModel];n.perpendicularSizeModel=h=n[f.heightModel];n.boxOptions={align:i={stretch:i==="stretch",stretchmax:i==="stretchmax",center:c.test(i),bottom:r._endRe.test(i)},pack:u={center:c.test(u),end:u==="end"}};o&&(a||(e.canScroll={parallel:!s.shrinkWrap&&o[f.getX](),perpendicular:!h.shrinkWrap&&o[f.getY]()}),e.actualScroll||(e.actualScroll={parallel:!1,perpendicular:!1}));i.stretch&&h.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1);i.nostretch=!(i.stretch||i.stretchmax);s.shrinkWrap&&(u.center=u.end=!1);r.cacheFlexes(n);r.targetEl.setWidth(2e4)},cacheFlexes:function(n){for(var l=this,i=n.boxNames,tt=i.widthModel,it=i.heightModel,rt=n.boxOptions.align.nostretch,a=0,v=n.childItems,y=v.length,f=[],p=0,e=0,w=0,b=i.minWidth,ut=i.minHeight,k=l._percentageRe,d=0,g=0,t,r,o,u,s,h,nt,c;y--;)r=v[y],t=r.target,h=r[tt],h.calculated&&(r.flex=o=t.flex,o?(a+=o,f.push(r),p+=t[b]||0):(u=k.exec(t[i.width]),r.percentageParallel=parseFloat(u[1])/100,++d)),nt=h.configured?t[i.width]:t[b]||0,w+=nt,s=r[it],rt&&s.calculated&&(u=k.exec(t[i.height]),r.percentagePerpendicular=parseFloat(u[1])/100,++g),c=s.configured?t[i.height]:t[ut]||0,c>e&&(e=c);n.flexedItems=f;n.flexedMinWidth=p;n.smallestWidth=w;n.smallestHeight=e;n.totalFlex=a;n.percentageWidths=d;n.percentageHeights=g;Ext.Array.sort(f,l.flexSortFn)},calculate:function(n){var i=this,u=n.boxNames,t=n.state,o=t.actualScroll,e=t.needsScroll,f=t.canScroll,r=t.boxPlan||(t.boxPlan={}),s=i.overflowHandler;if(r.targetSize=i.getContainerSize(n),f&&!e&&(t.needsScroll=e={parallel:f.parallel&&r.targetSize[u.width]<n.smallestWidth,perpendicular:f.perpendicular&&r.targetSize[u.height]<n.smallestHeight}),t.parallelDone||(t.parallelDone=i.calculateParallel(n,u,r)),t.perpendicularDone||(t.perpendicularDone=i.calculatePerpendicular(n,u,r)),t.parallelDone&&t.perpendicularDone){if(f&&!t.scrollPass&&(e.parallel!==o.parallel||e.perpendicular!==o.perpendicular)){n.invalidate({state:{scrollPass:!0,canScroll:f,needsScroll:o}});i.done=!1;return}i.publishInnerCtSize(n);i.done&&n.boxOptions.align.stretchmax&&!t.stretchMaxDone&&(i.calculateStretchMax(n,u,r),t.stretchMaxDone=!0);s&&s.calculate(n)}else i.done=!1},calculateParallel:function(n,t,i){var it=this,w=n.parallelSizeModel.shrinkWrap,c=t.width,y=n.childItems,rt=t.beforeX,ut=t.afterX,at=t.setWidth,b=y.length,ft=n.flexedItems,vt=ft.length,et=n.boxOptions.pack,ot=it.padding,st=i.targetSize,ht=st[c],k=n.state,p=k.needsScroll,ct=k.canScroll,d=0,f=ot[rt],e=f+ot[ut],lt=Ext.getScrollbarSize(),yt=lt[t.width],pt=lt[t.height],r,l,o,g,u,nt,a,s,h,tt,v;if(!w&&!st[t.gotWidth])return!1;for(r=0;r<b;++r)if(u=y[r],l=u.marginInfo||u.getMarginInfo(),d+=l[c],!u[t.widthModel].calculated&&(h=u.getProp(c),e+=h,isNaN(e)))return!1;if(e+=d,n.percentageWidths){if(tt=ht-d,isNaN(tt))return!1;for(r=0;r<b;++r)u=y[r],u.percentageParallel&&(h=Math.ceil(tt*u.percentageParallel),h=u.setWidth(h),e+=h)}for(w?(v=0,i.tooNarrow=!1):(v=ht-e,p&&p.perpendicular&&(v-=pt),i.tooNarrow=v<n.flexedMinWidth,i.tooNarrow&&ct&&ct.parallel&&(k.actualScroll.parallel=!0)),s=e,o=v,g=n.totalFlex,r=0;r<vt;r++)u=ft[r],nt=u.flex,a=it.roundFlex(nt/g*o),a=u[at](a),s+=a,o=Math.max(0,o-a),g-=nt;for(et.center?(f+=o/2,f<0&&(f=0)):et.end&&(f+=o),r=0;r<b;++r)u=y[r],l=u.marginInfo,f+=l[rt],u.setProp(t.x,f),f+=l[ut]+u.props[c];return s+=n.targetContext.getPaddingInfo()[c],n.state.contentWidth=s,p&&p.perpendicular&&(w&&(s+=yt),n[t.hasOverflowY]=!0,n.target.componentLayout[t.setWidthInDom]=!0,n[t.invalidateScrollY]=Ext.isIE8),n[t.setContentWidth](s),!0},calculatePerpendicular:function(n,t,i){var a=this,d=n.state,st=d.needsScroll,ht=d.canScroll,o=n.perpendicularSizeModel.shrinkWrap,g=i.targetSize,nt=n.childItems,ct=nt.length,v=Math.max,f=t.height,pt=t.setHeight,lt=t.beforeY,wt=t.y,at=a.padding,tt=at[lt],s=g[f]-tt-at[t.afterY],w=n.boxOptions.align,it=w.stretch,bt=w.stretchmax,rt=w.center,ut=w.bottom,vt=a.constrainAlign,u=0,yt=0,kt=a.onBeforeConstrainInvalidateChild,dt=a.onAfterConstrainInvalidateChild,b=Ext.getScrollbarSize().height,y,h,e,c,ft,l,r,k,et,ot,p;if(!o&&!g[t.gotHeight]||(it||(rt||ut)&&!o)&&isNaN(s))return!1;if(st&&st.parallel&&(o?ot=!0:(s-=b,i.targetSize[f]-=b)),it)l=s,u=v(l,n.smallestHeight);else for(h=0;h<ct;h++){if(r=nt[h],c=(r.marginInfo||r.getMarginInfo())[f],p=r.percentagePerpendicular)if(++yt,o)continue;else e=p*s-c,e=r[t.setHeight](e);else e=r.getProp(f);if(!o&&vt&&r[t.heightModel].shrinkWrap&&e>s&&(r.invalidate({before:kt,after:dt,layout:a,childHeight:s,names:t}),n.state.parallelDone=!1),isNaN(u=v(u,e+c,r.target[t.minHeight]||0)))return!1}if(ot&&(u+=b,n[t.hasOverflowX]=!0,n.target.componentLayout[t.setHeightInDom]=!0,n[t.invalidateScrollX]=Ext.isIE8),k=n.stretchMaxPartner,k&&(n.setProp("maxChildHeight",u),et=k.childItems,et&&et.length&&(u=v(u,k.getProp("maxChildHeight")),isNaN(u))))return!1;for(n[t.setContentHeight](u+a.padding[f]+n.targetContext.getPaddingInfo()[f]),ot&&(u-=b),u>g[f]&&ht&&ht.perpendicular&&(d.actualScroll.perpendicular=!0),i.maxSize=u,bt?l=u:(rt||ut||yt)&&(l=(vt?o?u:s:o?u:v(s,u))-n.innerCtContext.getBorderInfo()[f]),h=0;h<ct;h++)r=nt[h],c=r.marginInfo||r.getMarginInfo(),y=tt+c[lt],it?r[pt](l-c[f]):(p=r.percentagePerpendicular,o&&p&&(c=r.marginInfo||r.getMarginInfo(),e=p*l-c[f],e=r.setHeight(e)),rt?(ft=l-r.props[f],ft>0&&(y=tt+Math[a.alignRoundingMethod](ft/2))):ut&&(y=v(0,l-y-r.props[f]))),r.setProp(wt,y);return!0},onBeforeConstrainInvalidateChild:function(n,t){var i=t.names.heightModel;n[i].constrainedMin||(n[i]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(n,t){var i=t.names;n.setProp(i.beforeY,0);n[i.heightModel].calculated&&n[i.setHeight](t.childHeight)},calculateStretchMax:function(n,t,i){for(var e=this,s=t.height,c=t.width,h=n.childItems,l=h.length,a=i.maxSize,v=e.onBeforeStretchMaxInvalidateChild,y=e.onAfterStretchMaxInvalidateChild,r,u,o,f=0;f<l;++f)r=h[f],u=r.props,o=a-r.getMarginInfo()[s],(o!==u[s]||r[t.heightModel].constrained)&&r.invalidate({before:v,after:y,layout:e,childWidth:u[c],childHeight:o,childX:u.x,childY:u.y,names:t})},onBeforeStretchMaxInvalidateChild:function(n,t){var i=t.names.heightModel;n[i].constrainedMax||(n[i]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(n,t){var i=t.names,r=t.childHeight,u=t.childWidth;n.setProp("x",t.childX);n.setProp("y",t.childY);n[i.heightModel].calculated&&n[i.setHeight](r);n[i.widthModel].calculated&&n[i.setWidth](u)},completeLayout:function(n){var h=this,l=n.boxNames,i=n.invalidateScrollX,r=n.invalidateScrollY,c=h.overflowHandler,o=n.scrollRestore,s,u,f,e,t;c&&c.completeLayout(n);(i||r)&&(u=h.getTarget(),s=u.dom,t=s.style,i&&(f=u.getStyle("overflowX"),f==="auto"?(f=t.overflowX,t.overflowX="scroll"):i=!1),r&&(e=u.getStyle("overflowY"),e==="auto"?(e=t.overflowY,t.overflowY="scroll"):r=!1),(i||r)&&(s.scrollWidth,i&&(t.overflowX=f),r&&(t.overflowY=e)));o&&n.ownerScrollable.scrollTo(o.x,o.y)},finishedLayout:function(n){var t=this.overflowHandler;t&&t.finishedLayout(n);Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments)},getLayoutItems:function(){for(var o=Ext.layout.container.Container.prototype.getLayoutItems.call(this),s=o.length,r,i,f,t,e,n,u=0;u<s;++u)if(!(f=o[u]).isSplitter){if(n=f.splitter,f.hidden){n&&(n.hidden||(n.hidden=!0,n.el&&n.el.hide()));continue}e=n?n.collapseTarget==="next":!1;i=null;r&&t?(t.hidden&&(t.hidden=!1,t.el&&t.el.show()),e&&(i=!0)):e&&(i=!r);i!==null&&n.hidden!==i&&(n.hidden=i,n.el&&n.el.setVisible(!i));t=!e&&n;r=f}return r&&t&&!t.hidden&&(t.hidden=!0,t.el&&t.el.hide()),o},getScrollerEl:function(){return this.innerCt},insertSplitter:function(n,t,i,r){var u={xtype:"splitter",id:n.id+"-splitter",hidden:i,splitterFor:n,synthetic:!0},f=t+(r.collapseTarget==="prev"?1:0);u[this.names.height]="100%";r&&Ext.apply(u,r);n.splitter=this.owner.add(f,u)},publishInnerCtSize:function(n,t){t=t||0;var e=this,o=n.state,i=n.boxNames,l=i.height,s=i.width,h=n.boxOptions.align,a=e.padding,f=o.boxPlan,v=f.targetSize,p=f.maxSize,y=o.needsScroll,c=n.innerCtContext,r,u;n.parallelSizeModel.shrinkWrap||f.tooNarrow&&o.canScroll?r=o.contentWidth-n.targetContext.getPaddingInfo()[s]:(r=v[s],y&&y.perpendicular&&(r-=Ext.getScrollbarSize()[s]));r-=t;e.owner.tooNarrow=f.tooNarrow;h.stretch?u=p:(u=f.maxSize+a[i.beforeY]+a[i.afterY]+c.getBorderInfo()[l],!n.perpendicularSizeModel.shrinkWrap&&(h.center||h.bottom)&&(u=Math.max(v[l],u)));c[i.setWidth](r);c[i.setHeight](u);n.targetElContext.setWidth(n.innerCtContext.props.width-(e.vertical?0:t||0));isNaN(r+u)&&(e.done=!1)},onAdd:function(n,t){var r=this,i=r.enableSplitters&&n.split&&!n.isButton;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);i&&(i=i===!0?{collapseTarget:"next"}:Ext.isString(i)?{collapseTarget:i==="before"?"next":"prev"}:Ext.apply({collapseTarget:i.side==="before"?"next":"prev"},i),r.insertSplitter(n,t,!!n.hidden,i))},onRemove:function(n,t){var r=this,e=r.names,u=r.owner,f=n.splitter,o=r.overflowHandler,i;if(Ext.layout.container.Container.prototype.onRemove.apply(this,arguments),f&&u.contains(f)&&(u.doRemove(f,!0),n.splitter=null),o)o.onRemove(n);n.layoutMarginCap===r.id&&delete n.layoutMarginCap;u.destroying||t||!n.rendered||(i=n.getEl(),i&&(i.setStyle(e.beforeY,""),i.setStyle(e.beforeX,""),i.setStyle("margin","")))},applyOverflowHandler:function(n,t){var i;return(typeof n=="string"&&(n={type:n}),i=n.type,t&&t.type===n.type)?(delete n.type,t.setConfig(n),t):(n.layout=this,Ext.Factory.boxOverflow(n))},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var n=this;Ext.destroy(n.innerCt,n.overflowHandler);n.flexSortFn=n.innerCt=null;Ext.layout.container.Container.prototype.destroy.apply(this,arguments)},getRenderData:function(){var n=Ext.layout.container.Container.prototype.getRenderData.call(this);return n.targetElCls=this.targetElCls,n},updateVertical:function(n){var t=this,i=t.overflowHandler,r=t.owner,u=t._props;Ext.apply(t,n?u.vbox:u.hbox);i&&r&&r.rendered&&i.setVertical(n)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0);Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0);Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0);Ext.cmd.derive("Ext.util.FocusableContainer",Ext.Mixin,{mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",destroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave"}},isFocusableContainer:!0,enableFocusableContainer:!0,activeChildTabIndex:0,inactiveChildTabIndex:-1,privates:{initFocusableContainer:function(){this.enableFocusableContainer&&this.doInitFocusableContainer()},doInitFocusableContainer:function(){var n=this,t;t=n.getFocusableContainerEl();n.activateFocusableContainerEl(t);n.mon(t,"mousedown",n.onFocusableContainerMousedown,n);n.focusableKeyNav=n.createFocusableContainerKeyNav(t)},createFocusableContainerKeyNav:function(n){var t=this;return new Ext.util.KeyNav(n,{ignoreInputFields:!0,scope:t,tab:t.onFocusableContainerTabKey,enter:t.onFocusableContainerEnterKey,space:t.onFocusableContainerSpaceKey,up:t.onFocusableContainerUpKey,down:t.onFocusableContainerDownKey,left:t.onFocusableContainerLeftKey,right:t.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.enableFocusableContainer&&this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){var n=this.focusableKeyNav;n&&(n.destroy(),delete this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(n){var i=this,s=i.activeChildTabIndex,o=!1,r,t,u,f,e;if(r=i.getFocusables(),f=r.length,f){for(u=0;u<f;u++)if(t=r[u],t.focusable&&(o=!0,e=t.getTabIndex(),e!=null&&e>=s))return t;if(o)return t=i.findNextFocusableChild(null,!0,r,n),t&&i.activateFocusable(t),t}},clearFocusables:function(){for(var i=this,r=i.getFocusables(),u=r.length,t,n=0;n<u;n++)t=r[n],t.focusable&&i.deactivateFocusable(t)},activateFocusable:function(n,t){var i=t!=null?t:this.activeChildTabIndex;n.setTabIndex(i)},deactivateFocusable:function(n,t){var i=t!=null?t:this.inactiveChildTabIndex;n.setTabIndex(i)},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(n){return this.moveChildFocus(n,!1)},onFocusableContainerLeftKey:function(n){return this.moveChildFocus(n,!1)},onFocusableContainerRightKey:function(n){return this.moveChildFocus(n,!0)},onFocusableContainerDownKey:function(n){return this.moveChildFocus(n,!0)},getFocusableFromEvent:function(n){return Ext.Component.fromElement(n.getTarget())},moveChildFocus:function(n,t){var i=this.getFocusableFromEvent(n);return this.focusChild(i,t,n)},focusChild:function(n,t){var i=this.findNextFocusableChild(n,t);return i&&i.focus(),i},findNextFocusableChild:function(n,t,i,r){var e,f,u,o;for(i=i||this.getFocusables(),f=Ext.Array.indexOf(i,n),t=t===!0?1:t===!1?-1:t,o=i.length,u=t>0?f<o?f+t:0:f>0?f+t:o-1;;u+=t){if(f<0&&(u>=o||u<0))return null;if(u>=o){u=-1;continue}else if(u<0){u=o;continue}else if(u===f)return null;if((e=i[u],e&&e.focusable)&&(r||e.isFocusable&&e.isFocusable()))return e}return null},getFocusableContainerEl:function(){return this.el},onFocusableChildAdd:function(n){return this.doFocusableChildAdd(n)},activateFocusableContainerEl:function(n){n=n||this.getFocusableContainerEl();n.set({tabindex:this.activeChildTabIndex})},deactivateFocusableContainerEl:function(n){n=n||this.getFocusableContainerEl();n.set({tabindex:this.inactiveChildTabIndex})},doFocusableChildAdd:function(n){n.focusable&&(n.focusableContainer=this,this.deactivateFocusable(n))},onFocusableChildRemove:function(n){return this.doFocusableChildRemove(n)},doFocusableChildRemove:function(n){n===this.lastFocusedChild&&(this.lastFocusedChild=null,this.activateFocusableContainerEl());delete n.focusableContainer},onFocusableContainerMousedown:function(n,t){var i=Ext.Component.fromElement(t);this.mousedownTimestamp=i===this?Ext.Date.now():0},onFocusEnter:function(n){var t=this,r=n.toComponent,u=t.mousedownTimestamp,i;return t.mousedownTimestamp=0,r===t?(!u||Ext.Date.now()-u>50)&&(i=t.initDefaultFocusable(),i&&(t.deactivateFocusableContainerEl(),i.focus())):t.deactivateFocusableContainerEl(),r},onFocusLeave:function(){var n=this,t=n.lastFocusedChild;n.isDestroyed||(n.clearFocusables(),t?n.activateFocusable(t):n.activateFocusableContainerEl())},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(n){var t=this;t.clearFocusables();t.activateFocusable(n);n.needArrowKeys&&t.guardFocusableChild(n)},guardFocusableChild:function(n){var i=this,r=i.activeChildTabIndex,t;t=i.findNextFocusableChild(n,-1);t&&t.setTabIndex(r);t=i.findNextFocusableChild(n,1);t&&t.setTabIndex(r)},afterFocusableChildFocus:function(n){this.lastFocusedChild=n},onFocusableChildShow:Ext.privateFn,onFocusableChildHide:Ext.privateFn,onFocusableChildEnable:Ext.privateFn,onFocusableChildDisable:Ext.privateFn,onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}},0,0,0,0,0,0,[Ext.util,"FocusableContainer"],0);Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:"x-toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:undefined,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:"x-toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var n=this,t=n.layout,i=n.vertical;i===undefined&&(n.vertical=i=n.dock==="right"||n.dock==="left");n.layout=t=Ext.applyIf(Ext.isString(t)?{type:t}:t||{},{type:i?"vbox":"hbox",align:i?"stretchmax":"middle"});n.overflowHandler?t.overflowHandler=n.overflowHandler:n.enableOverflow&&(t.overflowHandler="menu");i&&n.addClsWithUI("vertical");n.ui==="footer"&&(n.ignoreBorderManagement=!0);Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(n){var i=this,r=Ext.container.Container.prototype.getRefItems.apply(this,arguments),u=i.layout,t;return n&&(i.enableOverflow||i.overflowHandler==="menu")&&(t=u.overflowHandler,t&&t.menu&&(r=r.concat(t.menu.getRefItems(n)))),r},lookupComponent:function(n){var r=arguments,t,i;return typeof n=="string"&&(i=Ext.toolbar.Toolbar,t=i.shortcutsHV[this.vertical?1:0][n]||i.shortcuts[n],n=typeof t=="string"?{xtype:t}:t?Ext.apply({},t):{xtype:"tbtext",text:n},this.applyDefaults(n),r=[n]),Ext.container.Container.prototype.lookupComponent.apply(this,r)},onBeforeAdd:function(n){var t=this,i=t.ui==="footer",r=i?t.defaultFooterButtonUI:t.defaultButtonUI;n.isSegmentedButton?n.getDefaultUI()!=="default"||n.config.hasOwnProperty("defaultUI")||n.setDefaultUI(r):n.ui!=="default"||n.hasOwnProperty("ui")||(n.isButton?n.ui=r:n.isFormField&&(n.ui=i?t.defaultFooterFieldUI:t.defaultFieldUI));n instanceof Ext.toolbar.Separator&&n.setUI(t.vertical?"vertical":"horizontal");Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(n){Ext.container.Container.prototype.onAdd.apply(this,arguments);this.trackMenu(n)},onRemove:function(n){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(n,!0)},privates:{applyDefaults:function(n){return Ext.isString(n)||(n=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)),n},trackMenu:function(n,t){var i=this;i.trackMenus&&n.menu&&n[t?"un":"on"]({mouseover:i.onButtonOver,menushow:i.onButtonMenuShow,menuhide:i.onButtonMenuHide,scope:i})},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(n,t){var i=this.activeMenuBtn;i&&i!==n&&(i.hideMenu(),n.focus(),n.showMenu(t),this.activeMenuBtn=n)},onButtonMenuShow:function(n){this.activeMenuBtn=n},onButtonMenuHide:function(){this.activeMenuBtn=null}}},0,["toolbar"],["component","box","container","toolbar"],{component:!0,box:!0,container:!0,toolbar:!0},["widget.toolbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0);Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(n,t,i){n&&this.init(n,t,i)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(n,t){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t});t=t||this.defaultPadding;var r=Ext.get(this.getEl()).getBox(),u=Ext.get(n),h=u.getScroll(),i,f=u.dom,e,o,s;f===document.body?i={x:h.left,y:h.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}:(e=u.getXY(),i={x:e[0],y:e[1],width:f.clientWidth,height:f.clientHeight});o=r.y-i.y;s=r.x-i.x;this.resetConstraints();this.setXConstraint(s-(t.left||0),i.width-s-r.width-(t.right||0),this.xTickSize);this.setYConstraint(o-(t.top||0),i.height-o-r.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(n,t,i){var r=this;r.el=r.el||Ext.get(n);r.initTarget(n,t,i);Ext.get(r.id).on(r.triggerEvent,r.handleMouseDown,r)},initTarget:function(n,t,i){this.config=i||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};typeof n!="string"&&(n=Ext.id(n));this.id=n;this.addToGroup(t?t:"default");this.handleElId=n;this.setDragElId(n);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==!1;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},setPadding:function(n,t,i,r){this.padding=t||0===t?i||0===i?[n,t,i,r]:[n,t,n,t]:[n,n,n,n]},setInitPosition:function(n,t){var r=this.getEl(),u,f,i;this.DDMInstance.verifyEl(r)&&(u=n||0,f=t||0,i=Ext.fly(r).getXY(),this.initPageX=i[0]-u,this.initPageY=i[1]-f,this.lastPageX=i[0],this.lastPageY=i[1],this.setStartPosition(i))},setStartPosition:function(n){var t=n||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=t[0];this.startPageY=t[1]},addToGroup:function(n){this.groups[n]=!0;this.DDMInstance.regDragDrop(this,n)},removeFromGroup:function(n){this.groups[n]&&delete this.groups[n];this.DDMInstance.removeDDFromGroup(this,n)},setDragElId:function(n){this.dragElId=n},setHandleElId:function(n){typeof n!="string"&&(n=Ext.id(n));this.handleElId=n;this.DDMInstance.regHandle(this.id,n)},setOuterHandleElId:function(n){typeof n!="string"&&(n=Ext.id(n));Ext.get(n).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(n);this.hasOuterHandles=!0},unreg:function(){var n=this,t;n._domRef&&(t=Ext.fly(n.id),t&&t.un(n.triggerEvent,n.handleMouseDown,n));n._domRef=null;n.DDMInstance._remove(n,n.autoGroup)},destroy:function(){this.unreg();this.isDestroyed=!0},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(n){var t=this;if((!t.primaryButtonOnly||!n.button)&&!t.isLocked()&&(t.DDMInstance.refreshCache(t.groups),(t.hasOuterHandles||t.DDMInstance.isOverTarget(n.getPoint(),t))&&t.clickValidator(n))){t.setStartPosition();t.b4MouseDown(n);t.onMouseDown(n);t.DDMInstance.handleMouseDown(n,t);t.DDMInstance.stopEvent(n)}},clickValidator:function(n){var t=n.getTarget();return this.isValidHandleChild(t)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(n){var t=n.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(n){typeof n!="string"&&(n=Ext.id(n));this.invalidHandleIds[n]=n},addInvalidHandleClass:function(n){this.invalidHandleClasses.push(n)},removeInvalidHandleType:function(n){var t=n.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(n){typeof n!="string"&&(n=Ext.id(n));delete this.invalidHandleIds[n]},removeInvalidHandleClass:function(n){for(var i=this.invalidHandleClasses,r=i.length,t=0;t<r;++t)i[t]===n&&delete i[t]},isValidHandleChild:function(n){var t=!0,r,i,u;try{r=n.nodeName.toUpperCase()}catch(f){r=n.nodeName}for(t=t&&!this.invalidHandleTypes[r],t=t&&!this.invalidHandleIds[n.id],i=0,u=this.invalidHandleClasses.length;t&&i<u;++i)t=!Ext.fly(n).hasCls(this.invalidHandleClasses[i]);return t},setXTicks:function(n,t){this.xTicks=[];this.xTickSize=t;for(var r={},i=this.initPageX;i>=this.minX;i=i-t)r[i]||(this.xTicks[this.xTicks.length]=i,r[i]=!0);for(i=this.initPageX;i<=this.maxX;i=i+t)r[i]||(this.xTicks[this.xTicks.length]=i,r[i]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(n,t){this.yTicks=[];this.yTickSize=t;for(var r={},i=this.initPageY;i>=this.minY;i=i-t)r[i]||(this.yTicks[this.yTicks.length]=i,r[i]=!0);for(i=this.initPageY;i<=this.maxY;i=i+t)r[i]||(this.yTicks[this.yTicks.length]=i,r[i]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(n,t,i){this.leftConstraint=n;this.rightConstraint=t;this.minX=this.initPageX-n;this.maxX=this.initPageX+t;i&&this.setXTicks(this.initPageX,i);this.constrainX=!0},clearConstraints:function(){this.constrainX=!1;this.constrainY=!1;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(n,t,i){this.topConstraint=n;this.bottomConstraint=t;this.minY=this.initPageY-n;this.maxY=this.initPageY+t;i&&this.setYTicks(this.initPageY,i);this.constrainY=!0},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var n=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(n,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(n,t){if(t){if(t[0]>=n)return t[0];for(var r,f,e,i=0,u=t.length;i<u;++i)if(r=i+1,t[r]&&t[r]>=n)return f=n-t[i],e=t[r]-n,e>f?t[i]:t[r];return t[t.length-1]}return n},toString:function(){return"DragDrop "+this.id}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0);Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(n,t,i){n&&this.init(n,t,i)},scroll:!0,autoOffset:function(n,t){var i=n-this.startPageX,r=t-this.startPageY;this.setDelta(i,r)},setDelta:function(n,t){this.deltaX=n;this.deltaY=t},setDragElPos:function(n,t){var i=this.getDragEl();this.alignElWithMouse(i,n,t)},alignElWithMouse:function(n,t,i){var r=this.getTargetCoord(t,i),f=n.dom?n:Ext.fly(n,"_dd"),e=f.getSize(),o=Ext.Element,u,s,h,c;return this.deltaSetXY?(u=this.cachedViewportSize,this.setLocalXY(f,Math.max(0,Math.min(r.x+this.deltaSetXY[0],u.width-e.width)),Math.max(0,Math.min(r.y+this.deltaSetXY[1],u.height-e.height)))):(u=this.cachedViewportSize={width:o.getDocumentWidth(),height:o.getDocumentHeight()},s=[Math.max(0,Math.min(r.x,u.width-e.width)),Math.max(0,Math.min(r.y,u.height-e.height))],f.setXY(s),h=this.getLocalX(f),c=f.getLocalY(),this.deltaSetXY=[h-r.x,c-r.y]),this.cachePosition(r.x,r.y),this.autoScroll(r.x,r.y,n.offsetHeight,n.offsetWidth),r},cachePosition:function(n,t){if(n)this.lastPageX=n,this.lastPageY=t;else{var i=Ext.fly(this.getEl()).getXY();this.lastPageX=i[0];this.lastPageY=i[1]}},autoScroll:function(n,t,i,r){if(this.scroll){var s=Ext.Element.getViewportHeight(),h=Ext.Element.getViewportWidth(),u=this.DDMInstance.getScrollTop(),f=this.DDMInstance.getScrollLeft(),c=i+t,l=r+n,a=s+u-t-this.deltaY,v=h+f-n-this.deltaX,e=40,o=document.all?80:30;c>s&&a<e&&window.scrollTo(f,u+o);t<u&&u>0&&t-u<e&&window.scrollTo(f,u-o);l>h&&v<e&&window.scrollTo(f+o,u);n<f&&f>0&&n-f<e&&window.scrollTo(f-o,u)}},getTargetCoord:function(n,t){var i=n-this.deltaX,r=t-this.deltaY;return this.constrainX&&(i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX)),this.constrainY&&(r<this.minY&&(r=this.minY),r>this.maxY&&(r=this.maxY)),i=this.getTick(i,this.xTicks),r=this.getTick(r,this.yTicks),{x:i,y:r}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=this.config.scroll!==!1},b4MouseDown:function(n){var t=n.getXY();this.autoOffset(t[0],t[1])},b4Drag:function(n){var t=n.getXY();this.setDragElPos(t[0],t[1])},toString:function(){return"DD "+this.id},getLocalX:function(n){return n.getLocalX()},setLocalXY:function(n,t,i){n.setLocalXY(t,i)}},3,0,0,0,0,0,[Ext.dd,"DD"],0);Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(n,t,i){n&&(this.init(n,t,i),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var r=this,i=document.body,n,t;if(!i||!i.firstChild){Ext.defer(function(){r.createFrame()},50);return}n=this.getDragEl();n||(n=document.createElement("div"),n.id=this.dragElId,n.setAttribute("role","presentation"),t=n.style,t.position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,i.insertBefore(n,i.firstChild))},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=this.config.resizeFrame!==!1;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(n,t){var i=this,r=i.getDragEl(),u=r.style;i._resizeProxy();i.centerFrame&&i.setDelta(Math.round(parseInt(u.width,10)/2),Math.round(parseInt(u.height,10)/2));i.setDragElPos(n,t);Ext.fly(r).show()},_resizeProxy:function(){if(this.resizeFrame){var n=this.getEl();Ext.fly(this.getDragEl()).setSize(n.offsetWidth,n.offsetHeight)}},b4MouseDown:function(n){var t=n.getXY(),i=t[0],r=t[1];this.autoOffset(i,r);this.setDragElPos(i,r)},b4StartDrag:function(n,t){this.showFrame(n,t)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var n=this.getEl(),t=this.getDragEl();t.style.visibility="";this.beforeMove();n.style.visibility="hidden";Ext.dd.DDM.moveToEl(n,t);t.style.visibility="hidden";n.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0);Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:!1,childEls:["ghost"],renderTpl:['<div class="x-dd-drop-icon" role="presentation"><\/div><div id="{id}-ghost" data-ref="ghost" class="x-dd-drag-ghost" role="presentation"><\/div>'],repairCls:"x-dd-drag-repair",ariaRole:"presentation",constructor:function(n){var t=this;n=n||{};Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:"x-dd-drag-proxy "+this.dropNotAllowed,shadow:n.shadow||!1,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(n){n=n||this.dropNotAllowed;this.dropStatus!==n&&(this.el.replaceCls(this.dropStatus,n),this.dropStatus=n)},reset:function(n){var t=this,i="x-dd-drag-proxy ";t.el.replaceCls(i+t.dropAllowed,i+t.dropNotAllowed);t.dropStatus=t.dropNotAllowed;n&&t.ghost.setHtml("")},update:function(n){typeof n=="string"?this.ghost.setHtml(n):(this.ghost.setHtml(""),n.style.margin="0",this.ghost.dom.appendChild(n));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(n){Ext.Component.prototype.hide.call(this);n&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.syncUnderlays()},repair:function(n,t,i){var r=this;r.callback=t;r.scope=i;n&&r.animRepair!==!1?(r.el.addCls(r.repairCls),r.el.setUnderlaysVisible(!1),r.anim=r.el.animate({duration:r.repairDuration||500,easing:"ease-out",to:{x:n[0],y:n[1]},stopAnimation:!0,callback:r.afterRepair,scope:r})):r.afterRepair()},afterRepair:function(){var n=this;n.hide(!0);n.el.removeCls(n.repairCls);typeof n.callback=="function"&&n.callback.call(n.scope||n);delete n.callback;delete n.scope}},1,0,["component","box"],{component:!0,box:!0},0,0,[Ext.dd,"StatusProxy"],0);Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(n,t){this.el=Ext.get(n);this.dragData||(this.dragData={});Ext.apply(this,t);this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair}));Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0});this.dragging=!1},getDragData:function(){return this.dragData},onDragEnter:function(n,t){var i=Ext.dd.DragDropManager.getDDById(t),r;this.cachedTarget=i;this.beforeDragEnter(i,n,t)!==!1&&(i.isNotifyTarget?(r=i.notifyEnter(this,n,this.dragData),this.proxy.setStatus(r)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(i,n,t))},beforeDragEnter:function(){return!0},onDragOver:function(n,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t),r;this.beforeDragOver(i,n,t)!==!1&&(i.isNotifyTarget&&(r=i.notifyOver(this,n,this.dragData),this.proxy.setStatus(r)),this.afterDragOver&&this.afterDragOver(i,n,t))},beforeDragOver:function(){return!0},onDragOut:function(n,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOut(i,n,t)!==!1&&(i.isNotifyTarget&&i.notifyOut(this,n,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(i,n,t));this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(n,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);if(this.beforeDragDrop(i,n,t)!==!1){if(i.isNotifyTarget)if(i.notifyDrop(this,n,this.dragData)!==!1)this.onValidDrop(i,n,t);else this.onInvalidDrop(i,n,t);else this.onValidDrop(i,n,t);this.afterDragDrop&&this.afterDragDrop(i,n,t)}delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(n,t,i){this.hideProxy();this.afterValidDrop&&this.afterValidDrop(n,t,i)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(n,t,i){var r=this;t||(t=n,n=null,i=t.getTarget().id);r.beforeInvalidDrop(n,t,i)!==!1&&(r.cachedTarget&&(r.cachedTarget.isNotifyTarget&&r.cachedTarget.notifyOut(r,t,r.dragData),r.cacheTarget=null),r.proxy.repair(r.getRepairXY(t,r.dragData),r.afterRepair,r),r.afterInvalidDrop&&r.afterInvalidDrop(t,i))},afterRepair:function(){var n=this;Ext.enableFx&&n.el.highlight(n.repairHighlightColor);n.dragging=!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(n){if(!this.dragging){var t=this.getDragData(n);t&&this.onBeforeDrag(t,n)!==!1&&(this.dragData=t,this.proxy.stop(),Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(n,t){this.proxy.reset();this.proxy.hidden=!1;this.dragging=!0;this.proxy.update("");this.onInitDrag(n,t);this.proxy.show()},onInitDrag:function(n,t){var i=this.el.dom.cloneNode(!0);i.id=Ext.id();this.proxy.update(i);this.onStartDrag(n,t);return!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(n){this.onEndDrag(this.dragData,n)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DDProxy.prototype.destroy.call(this);Ext.destroy(this.proxy)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0);Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(n,t){var i=this;i.panel=n;i.id=i.panel.id+"-ddproxy";Ext.apply(i,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var n=this;n.ghost&&(n.proxy&&(n.proxy.destroy(),delete n.proxy),n.panel.unghost(null,n.moveOnDrag),delete n.ghost)},show:function(){var n=this,t;n.ghost||(t=n.panel.getSize(),n.panel.el.setVisibilityMode(Ext.Element.DISPLAY),n.ghost=n.panel.ghost(),n.insertProxy&&(n.proxy=n.panel.el.insertSibling({role:"presentation",cls:"x-panel-dd-spacer"}),n.proxy.setSize(t)))},repair:function(n,t,i){this.hide();Ext.callback(t,i||this)},moveProxy:function(n,t){this.proxy&&n.insertBefore(this.proxy.dom,t)}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0);Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(n,t){var i=this;i.panel=n;i.dragData={panel:n};i.panelProxy=new Ext.panel.Proxy(n,t);i.proxy=i.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,n.el,t);i.setupEl(n)},setupEl:function(n){var t=this,i=n.header,r=n.body;if(i&&(t.setHandleElId(i.id),r=i.el),r)r.setStyle("cursor","move"),t.scroll=!1;else n.on("boxready",t.setupEl,t,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},b4MouseDown:function(n){var t=n.getXY(),i=t[0],r=t[1];this.autoOffset(i,r)},onInitDrag:function(n,t){this.onStartDrag(n,t);return!0},createFrame:Ext.emptyFn,getDragEl:function(){var n=this.panelProxy.ghost;if(n)return n.el.dom},endDrag:function(){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(n,t){n-=this.startPageX;t-=this.startPageY;this.setDelta(n,t)},onInvalidDrop:function(n,t,i){var r=this;r.beforeInvalidDrop(n,t,i)!==!1&&(r.cachedTarget&&(r.cachedTarget.isNotifyTarget&&r.cachedTarget.notifyOut(r,t,r.dragData),r.cacheTarget=null),r.afterInvalidDrop&&r.afterInvalidDrop(t,i))}},1,0,0,0,0,0,[Ext.panel,"DD"],0);Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var n=this,t,i;Ext.layout.component.Component.prototype.finishRender.call(this);t=n.getRenderTarget();i=n.getDockedItems();n.finishRenderItems(t,i)},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},noBorderClasses:["x-docked-noborder-top","x-docked-noborder-right","x-docked-noborder-bottom","x-docked-noborder-left"],noBorderClassesSides:{top:"x-docked-noborder-top",right:"x-docked-noborder-right",bottom:"x-docked-noborder-bottom",left:"x-docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:"x-docked",handleItemBorders:function(){var t=this,i=t.owner,n,s,h=t.lastDockedItems,c=t.borders,a=i.dockedItems.generation,l=t.noBorderClassesSides,v=t.borderWidthProps,r,o,u,e,f,y=t.collapsed;if(t.initializedBorders!==a&&(!i.border||i.manageBodyBorders)){for(t.initializedBorders=a,t.collapsed=!1,t.lastDockedItems=s=t.getLayoutItems(),t.collapsed=y,n={top:[],right:[],bottom:[],left:[]},r=0,o=s.length;r<o;r++)(u=s[r],e=u.dock,u.ignoreBorderManagement)||(n[e].satisfied||(n[e].push(u),n[e].satisfied=!0),n.top.satisfied||e==="bottom"||n.top.push(u),n.right.satisfied||e==="left"||n.right.push(u),n.bottom.satisfied||e==="top"||n.bottom.push(u),n.left.satisfied||e==="right"||n.left.push(u));if(h)for(r=0,o=h.length;r<o;r++)u=h[r],u.isDestroyed||u.ignoreBorderManagement||i.manageBodyBorders||u.removeCls(t.noBorderClasses);if(c)for(f in c)i.manageBodyBorders&&c[f].satisfied&&i.setBodyStyle(v[f],"");for(f in n)if(o=n[f].length,i.manageBodyBorders)n[f].satisfied&&i.setBodyStyle(v[f],"1px");else{for(r=0;r<o;r++)n[f][r].addCls(l[f]);(n[f].satisfied||i.bodyBorder)&&i.bodyBorder!==!1?i.removeBodyCls(l[f]):i.addBodyCls(l[f])}t.borders=n}},beforeLayoutCycle:function(n){var f=this,i=f.owner,e=f.sizeModels.shrinkWrap,t=i.shrinkWrapDock,r,u;i.collapsed&&(i.collapsedVertical()?(u=!0,n.measureDimensions=1):(r=!0,n.measureDimensions=2));n.collapsedVert=u;n.collapsedHorz=r;u?n.heightModel=e:r&&(n.widthModel=e);t=t===!0?3:t||0;n.shrinkWrapDockHeight=t&1&&n.heightModel.shrinkWrap;n.shrinkWrapDockWidth=t&2&&n.widthModel.shrinkWrap},beginLayout:function(n){var i=this,r=i.owner,h=i.getLayoutItems(),a=n.context,v=h.length,c=i.lastCollapsedState,l,e,u,f,t,o,s;for(Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments),o=r.getCollapsed(),o!==c&&c!==undefined&&(i.owner.collapsed?(n.isCollapsingOrExpanding=1,r.addClsWithUI(r.collapsedCls)):(n.isCollapsingOrExpanding=2,r.removeClsWithUI(r.collapsedCls),n.lastCollapsedState=i.lastCollapsedState)),i.lastCollapsedState=o,n.dockedItems=l=[],e=0;e<v;e++)u=h[e],u.rendered&&(s=u.dock,f=a.getCmp(u),f.dockedAt={x:0,y:0},f.offsets=t=Ext.Element.parseBox(u.offsets||0),f.horizontal=s==="top"||s==="bottom",t.width=t.left+t.right,t.height=t.top+t.bottom,l.push(f));n.bodyContext=n.getEl("body")},beginLayoutCycle:function(n){var t=this,o=n.dockedItems,h=o.length,i=t.owner,r=i.frameBody,s=t.lastHeightModel,u,f,e;for(Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments),t.owner.manageHeight?t.lastBodyDisplay&&(i.body.dom.style.display=t.lastBodyDisplay=""):(t.lastBodyDisplay!=="inline-block"&&(i.body.dom.style.display=t.lastBodyDisplay="inline-block"),s&&s.shrinkWrap&&!n.heightModel.shrinkWrap&&(i.body.dom.style.marginBottom="")),n.widthModel.auto&&(n.widthModel.shrinkWrap&&i.el.setWidth(null),i.body.setWidth(null),r&&r.setWidth(null)),n.heightModel.auto&&(i.body.setHeight(null),r&&r.setHeight(null)),n.collapsedVert?n.setContentHeight(0):n.collapsedHorz&&n.setContentWidth(0),u=0;u<h;u++)if(f=o[u].target,e=f.dock,e==="right")f.setLocalX(0);else if(e!=="left")continue},calculate:function(n){var t=this,l=t.measureAutoDimensions(n,n.measureDimensions),e=n.state,u=e.horzDone,f=e.vertDone,o=n.bodyContext,c,i,r,s,h;for(n.borderInfo||n.getBorderInfo(),n.paddingInfo||n.getPaddingInfo(),n.frameInfo||n.getFrameInfo(),o.borderInfo||o.getBorderInfo(),o.paddingInfo||o.getPaddingInfo(),n.frameBorder||((c=n.framing)?(n.frameBorder=c.border,n.framePadding=c.padding):(n.frameBorder=n.borderInfo,n.framePadding=n.paddingInfo)),i=!u&&t.createAxis(n,l.contentWidth,n.widthModel,t.horzAxisProps,n.collapsedHorz),r=!f&&t.createAxis(n,l.contentHeight,n.heightModel,t.vertAxisProps,n.collapsedVert),s=0,h=n.dockedItems.length;h--;++s)i&&t.dockChild(n,i,h,s),r&&t.dockChild(n,r,h,s);i&&t.finishAxis(n,i)&&(e.horzDone=u=i);r&&t.finishAxis(n,r)&&(e.vertDone=f=r);u&&f&&t.finishConstraints(n,u,f)?t.finishPositions(n,u,f):t.done=!1},createAxis:function(n,t,i,r,u){var a=this,e=0,v=a.owner,y=v[r.maxSize],p=v[r.minSize]||0,o=r.dockBegin,s=r.dockEnd,w=r.pos,h=r.size,b=y!=null,d=i.shrinkWrap,k,c,l,f;return d?u?f=0:(k=n.bodyContext,f=t+k.borderInfo[h]):(c=n.frameBorder,l=n.framePadding,e=c[o]+l[o],f=n.getProp(h)-(c[s]+l[s])),{shrinkWrap:i.shrinkWrap,sizeModel:i,initialBegin:e,begin:e,end:f,collapsed:u,horizontal:r.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:f-e,maxChildSize:0,hasMinMaxConstraints:(p||b)&&i.shrinkWrap,minSize:p,maxSize:b?y:1e9,bodyPosProp:a.owner.manageHeight?w:r.marginBegin,dockBegin:o,dockEnd:s,posProp:w,sizeProp:h,setSize:r.setSize,shrinkWrapDock:n[r.shrinkWrapDock],sizeModelName:r.sizeModel,dockedPixelsEnd:0}},dockChild:function(n,t,i,r){var e=this,u=n.dockedItems[t.shrinkWrap?i:r],f=u.target,s=f.dock,h=t.sizeProp,o,c;f.ignoreParentFrame&&n.isCollapsingOrExpanding&&u.clearMarginCache();u.marginInfo||u.getMarginInfo();s===t.dockBegin?o=t.shrinkWrap?e.dockOutwardBegin(n,u,f,t):e.dockInwardBegin(n,u,f,t):s===t.dockEnd?o=t.shrinkWrap?e.dockOutwardEnd(n,u,f,t):e.dockInwardEnd(n,u,f,t):t.shrinkWrapDock?(c=u.getProp(h)+u.marginInfo[h],t.maxChildSize=Math.max(t.maxChildSize,c),o=0):o=e.dockStretch(n,u,f,t);u.dockedAt[t.posProp]=o},dockInwardBegin:function(n,t,i,r){var e=r.begin,o=r.sizeProp,s=i.ignoreParentFrame,u,h,f;return s&&(r.ignoreFrameBegin=t,f=i.dock,u=n.frameBorder[f],e-=u+n.framePadding[f]),i.overlay||(h=t.getProp(o)+t.marginInfo[o],r.begin+=h,s&&(r.begin-=u)),e},dockInwardEnd:function(n,t,i,r){var e=r.sizeProp,o=t.getProp(e)+t.marginInfo[e],u=r.end-o,f;return i.overlay||(r.end=u),i.ignoreParentFrame&&(r.ignoreFrameEnd=t,f=n.frameBorder[i.dock],u+=f+n.framePadding[i.dock],r.end+=f),u},dockOutwardBegin:function(n,t,i,r){var u=r.begin,f=r.sizeProp,e;return r.collapsed?r.ignoreFrameBegin=r.ignoreFrameEnd=t:i.ignoreParentFrame&&(r.ignoreFrameBegin=t),i.overlay||(e=t.getProp(f)+t.marginInfo[f],u-=e,r.begin=u),u},dockOutwardEnd:function(n,t,i,r){var f=r.end,e=r.sizeProp,u;return u=t.getProp(e)+t.marginInfo[e],r.collapsed?r.ignoreFrameBegin=r.ignoreFrameEnd=t:i.ignoreParentFrame&&(r.ignoreFrameEnd=t),i.overlay||(r.end=f+u,r.dockedPixelsEnd+=u),f},dockStretch:function(n,t,i,r){var s=i.dock,f=r.sizeProp,h=s==="top"||s==="bottom",c=n.frameBorder,l=t.offsets,a=n.framePadding,y=h?"right":"bottom",e=h?"left":"top",o=r.begin+l[e],v,u;return i.stretch!==!1&&(u=r.end-o-l[y],i.ignoreParentFrame&&(o-=a[e]+c[e],u+=a[f]+c[f]),v=t.marginInfo,u-=v[f],t[r.setSize](u)),o},finishAxis:function(n,t){if(isNaN(t.maxChildSize))return!1;var e=t.begin,f=t.end-e,h=t.collapsed,nt=t.setSize,c=t.dockBegin,y=t.dockEnd,l=n.framePadding,p=n.frameBorder,i=p[c],s=n.framing,a=s&&s[c],o=h?0:l[c],tt=t.sizeProp,w=t.ignoreFrameBegin,b=t.ignoreFrameEnd,k=n.bodyContext,d=Math.max(i+o-a,0),r,v,u,g;return t.shrinkWrap?(v=t.initialSize,s?(u=-e+i+o,r=u-a-d):(r=-e,u=r+o),h||(f+=l[tt]),w?(u-=i,r-=i,w.dockedAt[t.posProp]-=o):f+=i,h||(b?b.dockedAt[t.posProp]+=l[y]:f+=p[y]),t.size=f,t.horizontal||this.owner.manageHeight||(g=!1)):(s?(u=0,r=e-a-d):(u=-i,r=e-o-i),v=f),t.delta=u,k[nt](v,g),k.setProp(t.bodyPosProp,r),!isNaN(f)},beforeInvalidateShrinkWrapDock:function(n,t){var i=t.axis.sizeModelName;n[i].constrainedMin||(n[i]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(n,t){var i=t.axis,u=t.layout,r;n[i.sizeModelName].calculated&&(r=u.dockStretch(t.ownerContext,n,n.target,i),n.setProp(i.posProp,i.delta+r))},finishConstraints:function(n,t,i){var v=this,o=v.sizeModels,p=t.shrinkWrap,w=i.shrinkWrap,y=v.owner,b,l,a,u,r,f,s,h,e,c;if(p&&(f=t.size,s=t.collapsed?0:t.minSize,h=t.maxSize,e=t.maxChildSize,c=Math.max(f,e),c>h?(r=o.constrainedMax,a=h):c<s?(r=o.constrainedMin,a=s):f<e?(r=o.constrainedDock,y.dockConstrainedWidth=a=e):a=f),w&&(f=i.size,s=i.collapsed?0:i.minSize,h=i.maxSize,e=i.maxChildSize,c=Math.max(f,e+f-i.initialSize),c>h?(u=o.constrainedMax,l=h):c<s?(u=o.constrainedMin,l=s):f<e?(u=o.constrainedDock,y.dockConstrainedHeight=l=e):(n.collapsedVert||y.manageHeight||(b=!1,n.bodyContext.setProp("margin-bottom",i.dockedPixelsEnd)),l=f)),r||u){if(r&&u&&r.constrainedMax&&u.constrainedByMin)return n.invalidate({widthModel:r}),!1;if(!n.widthModel.calculatedFromShrinkWrap&&!n.heightModel.calculatedFromShrinkWrap)return n.invalidate({widthModel:r,heightModel:u}),!1}else v.invalidateAxes(n,t,i);return p&&(n.setWidth(a),r&&(n.widthModel=r)),w&&(n.setHeight(l,b),u&&(n.heightModel=u)),!0},invalidateAxes:function(n,t,i){var p=this.beforeInvalidateShrinkWrapDock,w=this.afterInvalidateShrinkWrapDock,l=t.end-t.begin,a=i.initialSize,v=t.shrinkWrapDock&&t.maxChildSize<=l,s=i.shrinkWrapDock&&i.maxChildSize<=a,h,y,f,r,e,c,u,o;if(v||s)for(s&&(i.begin=i.initialBegin,i.end=i.begin+i.initialSize),h=n.dockedItems,f=0,y=h.length;f<y;++f)r=h[f],c=r.horizontal,u=null,v&&c?(o=t.sizeProp,e=l,u=t):s&&!c&&(o=i.sizeProp,e=a,u=i),u&&(e-=r.getMarginInfo()[o],e!==r.props[o]&&r.invalidate({before:p,after:w,axis:u,ownerContext:n,layout:this}))},finishPositions:function(n,t,i){for(var f=n.dockedItems,e=f.length,o=t.delta,s=i.delta,r,u=0;u<e;++u)r=f[u],r.setProp("x",o+r.dockedAt.x),r.setProp("y",s+r.dockedAt.y)},finishedLayout:function(n){var i=this,t=n.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);n.animatePolicy||(n.isCollapsingOrExpanding===1?t.afterCollapse(!1):n.isCollapsingOrExpanding===2&&t.afterExpand(!1))},getAnimatePolicy:function(n){var i=this,t,r;return n.isCollapsingOrExpanding===1?t=i.lastCollapsedState:n.isCollapsingOrExpanding===2&&(t=n.lastCollapsedState),t==="left"||t==="right"?r=i.horizontalCollapsePolicy:(t==="top"||t==="bottom")&&(r=i.verticalCollapsePolicy),r},getDockedItems:function(n,t){var r=this,h=n==="visual",i=h?Ext.ComponentQuery.query("[rendered]",r.owner.dockedItems.items):r.owner.dockedItems.items,e=i&&i.length&&n!==!1,c,o,u,f,s,l;if(t==null)u=e&&!h?i.slice():i;else{for(u=[],f=0,l=i.length;f<l;++f)o=i[f].dock,s=o==="top"||o==="left",(t?s:!s)&&u.push(i[f]);e=e&&u.length}return e&&(c=(n=n||"render")==="render",Ext.Array.sort(u,function(t,i){var u,f;return c&&(u=r.owner.dockOrder[t.dock])!==(f=r.owner.dockOrder[i.dock])&&!(u+f)?u-f:(u=r.getItemWeight(t,n),f=r.getItemWeight(i,n),u!==undefined&&f!==undefined)?u-f:0})),u||[]},getItemWeight:function(n,t){var i=n.weight||this.owner.defaultDockWeights[n.dock];return i[t]||i},getLayoutItems:function(){var i=this,r,f,u,n,t;if(i.owner.collapsed)t=i.owner.getCollapsedDockedItems();else for(r=i.getDockedItems("visual"),f=r.length,t=[],n=0;n<f;n++)u=r[n],u.hidden||t.push(u);return t},measureContentWidth:function(n){var t=n.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(n){var t=n.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(n){var i=this,t=i.owner;n.isCollapsingOrExpanding===1?(t.reExpander&&t.reExpander.el.show(),t.addClsWithUI(t.collapsedCls),n.redo(!0)):n.isCollapsingOrExpanding===2&&(t.removeClsWithUI(t.collapsedCls),n.bodyContext.redo())},renderChildren:function(){var n=this,t=n.getDockedItems(),i=n.getRenderTarget();n.handleItemBorders();n.renderItems(t,i)},renderItems:function(n,t){for(var f=this,h=n.length,e=0,r=0,c=0,l=f.getRenderTarget().dom.childNodes,a=l.length,s,i,o=0,u=0;o<a;o++){if(s=l[o],s.nodeType===1&&Ext.fly(s).hasCls("x-resizable-handle"))break;for(u=0;u<h;u++)if(i=n[u],i.rendered&&i.el.dom===s)break;u===h&&c++}for(;e<h;e++,r++)i=n[e],e===r&&(i.dock==="right"||i.dock==="bottom")&&(r+=c),i&&!i.rendered?f.renderItem(i,t,r):f.isValidParent(i,t,r)||f.moveItem(i,t,r)},undoLayout:function(n){var i=this,t=i.owner;n.isCollapsingOrExpanding===1?(t.reExpander&&t.reExpander.el.hide(),t.removeClsWithUI(t.collapsedCls),n.undo(!0)):n.isCollapsingOrExpanding===2&&(t.addClsWithUI(t.collapsedCls),n.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(n,t){var u=this,r=u.sizePolicy,i=u.owner.shrinkWrapDock,f,e;return n.stretch===!1?r.nostretch:(f=n.dock,e=f==="left"||f==="right",i=i===!0?3:i||0,e?(r=r.vert,i=i&1):(r=r.horz,i=i&2),i&&(t||(t=u.owner.getSizeModel()),t[e?"height":"width"].shrinkWrap))?r.shrinkWrap:r.stretch},configureItem:function(n){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);n.addCls(this._itemCls);n.ignoreBorderManagement||n.addClsWithUI(this.getDockCls(n.dock))},getDockCls:function(n){return"docked-"+n},afterRemove:function(n){var t;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);n.removeCls(this._itemCls);n.ignoreBorderManagement||n.removeClsWithUI(this.getDockCls(n.dock));t=n.el.dom;!n.destroying&&t&&t.parentNode.removeChild(t);this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var u=this,t=u.borderCollapseMap,f=u.owner,n=f.baseCls,r=f.ui,i;return t=t[n]||(t[n]={}),i=t[r],i||(n+="-"+r+"-outer-border-",t[r]=i=[0,n+"l",n+"b",n+"bl",n+"r",n+"rl",n+"rb",n+"rbl",n+"t",n+"tl",n+"tb",n+"tbl",n+"tr",n+"trl",n+"trb",n+"trbl"]),i}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0);Ext.cmd.derive("Ext.util.Memento",Ext.Base,function(){function i(n,t,i,r){n[r?r+i:i]=t[i]}function r(n,t,i){delete n[i]}function u(n,i,r,u){var f=u?u+r:r,e=n[f];(e||n.hasOwnProperty(f))&&t(i,r,e)}function t(n,t,i){Ext.isDefined(i)?n[t]=i:delete n[t]}function n(n,t,i,r,u){if(t)if(Ext.isArray(r))for(var e=r.length,f=0;f<e;f++)n(t,i,r[f],u);else n(t,i,r,u)}return{data:null,target:null,constructor:function(n,t){this.data={};n&&(this.target=n,t&&this.capture(t))},capture:function(t,r,u){var f=this;n(i,f.data||(f.data={}),r||f.target,t,u)},remove:function(t){n(r,this.data,null,t)},restore:function(t,i,r,f){n(u,this.data,r||this.target,t,f);i!==!1&&this.remove(t)},restoreAll:function(n,i){var f=this,e=i||this.target,u=f.data,r;n=n!==!1;for(r in u)u.hasOwnProperty(r)&&(t(e,r,u[r]),n&&delete u[r])}}}(),1,0,0,0,0,0,[Ext.util,"Memento"],0);Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(n,t){var i=this,c=i.rendered,u=0,e=i.dockedItems,o=e.getCount(),f,s,r,h;for(n=i.prepareItems(n),h=n.length,c&&Ext.suspendLayouts(),t=t===undefined?o:Math.min(t,o);u<h;u++){r=n[u];r.dock=r.dock||"top";(r.dock==="left"||r.dock==="right")&&i.horizontalDocks++;f=t+u;e.insert(f,r);s=!!r.instancedCmp;delete r.instancedCmp;r.onAdded(i,f,s);if(delete r.initOwnerCt,i.onDockedAdd!==Ext.emptyFn)i.onDockedAdd(r);i.hasListeners.dockedadd&&i.fireEvent("dockedadd",i,r,f)}return i.rendered&&(i.updateLayout(),Ext.resumeLayouts(!0)),n},destroyDockedItems:function(){var n=this.dockedItems,t;if(n)while(t=n.first())this.removeDocked(t,!0)},doRenderDockedItems:function(n,t,i){var e=t.$comp,r=e.componentLayout,u,f;r.getDockedItems&&!t.$skipDockedItems&&(u=r.getDockedItems("render",!i),f=u&&r.getItemsRenderTree(u),f&&Ext.DomHelper.generateMarkup(f,n))},getDockedComponent:function(n){return Ext.isObject(n)&&(n=n.getItemId()),this.dockedItems.get(n)},getDockedItems:function(n,t){var i=this.getComponentLayout().getDockedItems("render",t);return n&&i.length&&(i=Ext.ComponentQuery.query(n,i)),i},getDockingRefItems:function(n,t){var r=n&&"*,* *",i=this.getDockedItems(r,!0),u;return i.push.apply(i,t),u=this.getDockedItems(r,!1),i.push.apply(i,u),i},initDockingItems:function(){var n=this,t=n.dockedItems;t&&t.isMixedCollection||(n.dockedItems=new Ext.util.AbstractMixedCollection(!1,n.getComponentId),t&&n.addDocked(t))},insertDocked:function(n,t){this.addDocked(t,n)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(n,t){var i=this,r,u;if(t=t===!0||t!==!1&&i.autoDestroy,!i.dockedItems.contains(n))return n;if((n.dock==="left"||n.dock==="right")&&i.horizontalDocks--,r=i.componentLayout,u=r&&i.rendered,u)r.onRemove(n);i.dockedItems.remove(n);n.onRemoved(n.destroying||t);i.onDockedRemove(n);return t?n.destroy():u&&r.afterRemove(n),i.hasListeners.dockedremove&&i.fireEvent("dockedremove",i,n),i.destroying||i.updateLayout(),n},moveDocked:function(n,t){var i=this;i.rendered&&Ext.suspendLayouts();i.removeDocked(n,!1);n.dock=t;i.addDocked(n);i.rendered&&(n.frame&&(Ext.getDetachedBody().appendChild(n.el),n.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(n){n.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0);Ext.cmd.derive("Ext.panel.Panel",Ext.container.Container,{alternateClassName:"Ext.Panel",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}<\/tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}<\/tpl>','<\/tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"<\/tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"<\/tpl>>',"{%this.renderContainer(out,values);%}","<\/div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:"destroy",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:undefined,constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:undefined,baseCls:"x-panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(n){var t=this,i=t.rendered?t.body:t.getProtoBody();return i.addCls(n),t},addTool:function(n){Ext.isArray(n)||(n=[n]);var t=this,i=t.header,e=n.length,f=t.tools,r,u;for(i&&i.isHeader||(i=null,f||(t.tools=f=[])),r=0;r<e;r++)u=n[r],u.toolOwner=t,i?i.addTool(u):f.push(u);t.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(n){var t=this,r=t.collapsible,i=t.collapseTool;t.collapsible=n;n&&!r?(t.updateCollapseTool(),i=t.collapseTool,i&&i.show()):!n&&r&&i&&i.hide()},addUIClsToElement:function(n){var t=this,i=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);return t.addBodyCls(["x-"+n,t.baseCls+"-body-"+n,t.baseCls+"-body-"+t.ui+"-"+n]),i},afterCollapse:function(n){var t=this,i=t.ownerLayout;t.isCollapsingOrExpanding=0;t.updateCollapseTool();n&&t.removeCls("x-animating-size");i&&i.afterCollapse(t,n);t.setHiddenDocked();t.fireEvent("collapse",t)},afterExpand:function(n){var t=this,i=t.ownerLayout;t.isCollapsingOrExpanding=0;t.updateCollapseTool();n&&t.removeCls("x-animating-size");i&&i.afterExpand(t,n);t.fireEvent("expand",t);t.fireHierarchyEvent("expand")},beforeDestroy:function(){var n=this;Ext.destroy(n.placeholder,n.ghostPanel,n.dd);this.destroyDockedItems();Ext.container.Container.prototype.beforeDestroy.call(this)},beforeRender:function(){var n=this,t;Ext.container.Container.prototype.beforeRender.call(this);n.initTools();n.preventHeader||n.header===!1||n.updateHeader();n.afterHeaderInit=!0;n.collapsed&&(n.isPlaceHolderCollapse()?n.hidden||(n.setHiddenState(!0),n.preventCollapseFire=!0,n.placeholderCollapse(),delete n.preventCollapseFire,t=n.collapsed,n.collapsed=!1):(n.beginCollapse(),n.addClsWithUI(n.collapsedCls)));t&&(n.collapsed=t)},getMemento:function(n){var t=this;if(n&&typeof n=="string")return n+="Memento",t[n]||(t[n]=new Ext.util.Memento(t))},beginCollapse:function(){var n=this,r=n.lastBox,u=n.rendered,f=n.getMemento("collapse"),e=n.getSizeModel(),t=n.header,i;f.capture(["height","minHeight","width","minWidth"]);r&&f.capture(n.restoreDimension(),r,"last.");n.collapsedVertical()?(e.width.shrinkWrap&&(n.width=u?n.getWidth():n.width||n.minWidth||100),delete n.height,n.minHeight=0):n.collapsedHorizontal()&&(e.height.shrinkWrap&&(n.height=u?n.getHeight():n.height||n.minHeight||100),delete n.width,n.minWidth=0);n.ownerCt&&n.ownerCt.getLayout().beginCollapse(n);n.isPlaceHolderCollapse()||t===!1||(t===(i=n.getReExpander())?(t.collapseImmune=!0,t.getInherited().collapseImmune=!0,t.addClsWithUI(n.getHeaderCollapsedClasses(t)),t.rendered&&t.updateFrame()):i.el&&(i.el.show(),i.hidden=!1));n.resizer&&n.resizer.disable()},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var n=this,u=n.lastBox,i=n.getMemento("collapse"),f=n.restoreDimension(),t=n.header,r;i&&(i.restore(["minHeight","minWidth",f]),u&&i.restore(f,!0,u,"last."));n.ownerCt&&n.ownerCt.getLayout().beginExpand(n);n.isPlaceHolderCollapse()||t===!1||(t===(r=n.getReExpander())?(delete t.collapseImmune,delete t.getInherited().collapseImmune,t.removeClsWithUI(n.getHeaderCollapsedClasses(t)),t.rendered&&(t.expanding=!0,t.updateFrame(),delete t.expanding)):(r.hidden=!0,r.el.hide()));n.resizer&&n.resizer.enable()},bridgeToolbars:function(){function r(t,i,r){return Ext.isArray(t)?t={xtype:"toolbar",items:t}:t.xtype||(t.xtype="toolbar"),t.dock=i,r&&(t.layout=Ext.applyIf(t.layout||{},{pack:{left:"start",center:"center"}[n.buttonAlign]||"end"})),t}var n=this,t=[],u=n.minButtonWidth,i,f;n.tbar&&(t.push(r(n.tbar,"top")),n.tbar=null);n.bbar&&(t.push(r(n.bbar,"bottom")),n.bbar=null);n.buttons&&(n.fbar=n.buttons,n.buttons=null);n.fbar&&(i=r(n.fbar,"bottom",!0),i.ui="footer",u&&(f=i.defaults,i.defaults=function(n){var t=f||{},i=!n.xtype||n.isButton,r;return i||(r=Ext.ClassManager.getByAlias("widget."+n.xtype),r&&(i=r.prototype.isButton)),!i||"minWidth"in t||(t=Ext.apply({minWidth:u},t)),t}),t.push(i),n.fbar=null);n.lbar&&(t.push(r(n.lbar,"left")),n.lbar=null);n.rbar&&(t.push(r(n.rbar,"right")),n.rbar=null);n.dockedItems?n.dockedItems.isMixedCollection?n.addDocked(t):(Ext.isArray(n.dockedItems)||(n.dockedItems=[n.dockedItems]),n.dockedItems=n.dockedItems.concat(t)):n.dockedItems=t},close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},collapse:function(n,t){var i=this,f=n||i.collapseDirection,e=i.ownerCt,r=i.ownerLayout,u=i.rendered;return i.isCollapsingOrExpanding?i:(arguments.length<2&&(t=i.animCollapse),i.collapsed||i.fireEvent("beforecollapse",i,n,t)===!1)?i:r&&r.onBeforeComponentCollapse&&r.onBeforeComponentCollapse(i)===!1?i:u&&e&&i.isPlaceHolderCollapse()?i.placeholderCollapse(n,t):(i.collapsed=f,u&&i.beginCollapse(),i.getInherited().collapsed=!0,i.fireHierarchyEvent("collapse"),u&&i.doCollapseExpand(1,t),i)},collapsedHorizontal:function(){var n=this.getCollapsed();return n==="left"||n==="right"},collapsedVertical:function(){var n=this.getCollapsed();return n==="top"||n==="bottom"},convertCollapseDir:function(n){return n.substr(0,1)},createGhost:function(n){var t=this,i=t.header,r=t.frame&&!t.alwaysFramed;return{xtype:"panel",hidden:!1,header:i?{titleAlign:i.getTitleAlign()}:null,ui:r?t.ui.replace(/-framed$/,""):t.ui,id:t.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,floating:!0,shadow:!1,frame:r,shim:t.shim,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.getHeaderPosition(),titleRotation:t.getTitleRotation(),baseCls:t.baseCls,getRefOwner:function(){return t.getRefOwner()},cls:t.baseCls+"-ghost "+(n||"")}},createReExpander:function(n,t){var i=this,u=n==="left",f=n==="right",e=u||f,o=i.ownerCt,r=Ext.apply({hideMode:"offsets",title:i.getTitle(),titleAlign:i.getTitleAlign(),vertical:e,textCls:i.headerTextCls,icon:i.getIcon(),iconCls:i.getIconCls(),iconAlign:i.getIconAlign(),glyph:i.getGlyph(),baseCls:i.self.prototype.baseCls+"-header",ui:i.ui,frame:i.frame&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,ignoreBorderManagement:i.frame||i.ignoreHeaderBorderManagement,indicateDrag:i.draggable,collapseImmune:!0,headerRole:i.headerRole,ownerCt:o&&i.collapseMode==="placeholder"?o:i,ownerLayout:i.componentLayout,forceOrientation:!0,margin:i.margin},t);return i.collapseMode==="mini"&&(e?r.width=1:r.height=1),i.hideCollapseTool||((u||f&&i.isPlaceHolderCollapse())&&(r.titlePosition=1),r.tools=[{xtype:"tool",type:"expand-"+i.getOppositeDirection(n),uiCls:["top"],handler:i.toggleCollapse,scope:i}]),r=new Ext.panel.Header(r),r.addClsWithUI(i.getHeaderCollapsedClasses(r)),r},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(n,t){var i=this,u=i.animCollapse,r=i.ownerLayout;if(i.animCollapse=t,i.isCollapsingOrExpanding=n,t&&i.addCls("x-animating-size"),r&&!t)r.onContentChange(i);else i.updateLayout({isRoot:!0});return i.animCollapse=u,i},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},expand:function(n){var t=this,i=t.ownerLayout,r=t.rendered;return t.isCollapsingOrExpanding?t:(arguments.length||(n=t.animCollapse),!t.collapsed&&!t.floatedFromCollapse)?t:t.fireEvent("beforeexpand",t,n)===!1?t:i&&i.onBeforeComponentExpand&&i.onBeforeComponentExpand(t)===!1?t:(delete t.getInherited().collapsed,r&&t.isPlaceHolderCollapse())?t.placeholderExpand(n):(t.restoreHiddenDocked(),r&&t.beginExpand(),t.collapsed=!1,t.rendered&&t.doCollapseExpand(2,n),t)},findReExpander:function(n){var f=this,r=Ext.Component,u=f.dockedItems.items,e=u.length,t,i;if(f.collapseMode!=="mini")switch(n){case r.DIRECTION_TOP:case r.DIRECTION_BOTTOM:for(i=0;i<e;i++)if(t=u[i],!t.hidden&&t.isHeader&&(!t.dock||t.dock==="top"||t.dock==="bottom"))return t;break;case r.DIRECTION_LEFT:case r.DIRECTION_RIGHT:for(i=0;i<e;i++)if(t=u[i],!t.hidden&&t.isHeader&&(t.dock==="left"||t.dock==="right"))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";}},floatCollapsedPanel:function(){var n=this,i=n.placeholder,r=i.getSize(),u="x-border-region-slide-in",f=n.collapsed,e=n.ownerCt||n,o,s,t;if(!n.isSliding){if(n.el.hasCls(u)){n.slideOutFloatedPanel();return}if(n.isSliding=!0,i.el.hide(),i.hidden=!0,n.el.show(),n.setHiddenState(!1),n.collapsed=!1,e.updateLayout(),i.el.show(),i.hidden=!1,n.el.hide(),n.setHiddenState(!0),n.collapsed=f,e.updateLayout(),t=n.getBox(!1,!0),n.slideOutTask=n.slideOutTask||new Ext.util.DelayedTask(n.slideOutFloatedPanel,n),Ext.supports.Touch)Ext.on("mousedown",s=function(t){t.within(n.el)||(Ext.un("mousedown",s),n.slideOutFloatedPanel())});n.placeholderListener||(n.placeholderListener=i.on({resize:n.onPlaceholderResize,scope:n,destroyable:!0}));i.el.on("mouseleave",n.onMouseLeaveFloated,n);n.el.on("mouseleave",n.onMouseLeaveFloated,n);i.el.on("mouseenter",n.onMouseEnterFloated,n);n.el.on("mouseenter",n.onMouseEnterFloated,n);n.el.addCls(u);n.floated=f;n.collapseTool&&n.collapseTool.el.hide();switch(n.collapsed){case"top":n.width=r.width;n.setLocalXY(t.x,t.y+r.height);break;case"right":n.height=r.height;n.setLocalXY(t.x-r.width,t.y);break;case"bottom":n.width=r.width;n.setLocalXY(t.x,t.y-r.height);break;case"left":n.height=r.height;n.setLocalXY(t.x+r.width,t.y)}o=n.convertCollapseDir(n.collapsed);n.floatedFromCollapse=n.collapsed;n.collapsed=!1;n.setHiddenState(!1);n.el.slideIn(o,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.isSliding=!1;n.fireEvent("float",n)}}})}},onPlaceholderResize:function(n,t,i){var r=this,f=r.getBox(!1,!0),u=n.getBox(!1,!0);switch(r.floated){case"top":r.width=t;r.setLocalY(u.y+u.height);break;case"right":r.height=i;r.setLocalX(u.x-f.width);break;case"bottom":r.width=t;r.setLocalY(u.y-f.height);break;case"left":r.height=i;r.setLocalX(u.x+u.width)}r.updateLayout({isRoot:!0})},getAnimationProps:function(){var i=this,t=i.animCollapse,n;return n=Ext.container.Container.prototype.getAnimationProps.call(this),typeof t=="number"&&(n.duration=t),n},getCollapsed:function(){var n=this;return n.collapsed===!0?n.collapseDirection:n.collapsed},getCollapsedDockedItems:function(){var n=this;return n.header===!1||n.collapseMode==="placeholder"?n.emptyArray:[n.getReExpander()]},getComponent:function(n){var t=Ext.container.Container.prototype.getComponent.apply(this,arguments);return t!==undefined||Ext.isNumber(n)||(t=this.getDockedComponent(n)),t},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(n){var t=this,i=t.collapsedCls,r;return r=[i,i+"-"+n.getDockName()],t.border&&(!t.frame||t.frame&&Ext.supports.CSS3BorderRadius)&&r.push(i+"-border-"+n.getDockName()),r},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(n){var t=Ext.Component;switch(n){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getPlaceholder:function(n){var t=this,r=n||t.collapseDirection,u=null,i=t.placeholder,f=t.floatable,e=t.titleCollapse;return i||((f||t.collapsible&&e)&&(u={click:{fn:!e&&f?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=i=Ext.widget(t.createReExpander(r,{id:t.id+"-placeholder",listeners:u}))),i.placeholderFor||(i.isComponent||(t.placeholder=i=t.lookupComponent(i)),Ext.applyIf(i,{margin:t.margin,placeholderFor:t,synthetic:!0}),i.addCls(["x-region-collapsed-placeholder","x-region-collapsed-"+r+"-placeholder",t.collapsedCls])),i},getProtoBody:function(){var n=this,t=n.protoBody;return t||(n.protoBody=t=new Ext.util.ProtoElement({cls:n.bodyCls,style:n.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},getReExpander:function(n){var t=this,i=n||t.collapseDirection,r=t.reExpander||t.findReExpander(i);return t.expandDirection=t.getOppositeDirection(i),r||(t.reExpander=r=t.createReExpander(i,{dock:i,cls:"x-docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0}),t.dockedItems.insert(0,r)),r},getRefItems:function(n){var t=Ext.container.Container.prototype.getRefItems.apply(this,arguments);return this.getDockingRefItems(n,t)},getState:function(){var n=this,t=Ext.container.Container.prototype.getState.call(this)||{},u=n.collapsed,r=n.floated,i;return r&&(n.collapsed=r),t=n.addPropertyToState(t,"collapsed"),r&&(n.collapsed=u),n.getCollapsed()&&(i=n.getMemento("collapse").data,t=n.addPropertyToState(t,"collapsed",i),n.collapsedVertical()?(delete t.height,i&&(t=n.addPropertyToState(t,"height",i.height))):(delete t.width,i&&(t=n.addPropertyToState(t,"width",i.width)))),t},applyState:function(n){var r=this,i={},t;n&&(t=n.collapsed,t&&(i=r.getMemento("collapse"),Ext.Object.merge(i.data,t),n.collapsed=!0),Ext.container.Container.prototype.applyState.apply(this,arguments))},ghost:function(n){var i=this,t=i.ghostPanel,u=i.getBox(),c=i.header,r,f,e,o,s,h;if(t?t.el.show():(i.ghostPanel=t=Ext.widget(i.createGhost(n)),t.el.dom.removeAttribute("tabIndex")),t.setHiddenState(!1),t.floatParent=i.floatParent,t.toFront(),c&&!i.preventHeader){for(r=t.header,r.suspendLayouts(),f=r.query("tool"),h=f.length;h--;)r.remove(f[h]);r.setTitlePosition(0);t.addTool(i.ghostTools());t.setTitle(i.getTitle());r.setTitlePosition(c.titlePosition);o=i.getIconCls();o?t.setIconCls(o):(e=i.getIcon(),e?t.setIcon(e):(s=i.getGlyph(),s&&t.setGlyph(s)));r.addCls("x-header-ghost");r.resumeLayouts()}return t.setPagePosition(u.x,u.y),t.setSize(u.width,u.height),i.el.hide(),t},ghostTools:function(){var t=[],r=this.header,i=r?r.query("tool[hidden=false]"):[],n,u,f;if(i.length)for(n=0,u=i.length;n<u;n++)f=i[n],t.push({type:f.type});else t=[{type:"placeholder"}];return t},initBodyBorder:function(){var n=this;n.frame&&n.bodyBorder&&(Ext.isNumber(n.bodyBorder)||(n.bodyBorder=1),n.getProtoBody().setStyle("border-width",this.unitizeBox(n.bodyBorder)))},initBodyStyles:function(){var n=this,t=n.getProtoBody();n.bodyPadding!==undefined&&(n.layout.managePadding?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(n.bodyPadding===!0?5:n.bodyPadding)));n.initBodyBorder()},initBorderProps:function(){var n=this;n.frame&&n.border&&n.bodyBorder===undefined&&(n.bodyBorder=!1);n.frame&&n.border&&(n.bodyBorder===!1||n.bodyBorder===0)&&(n.manageBodyBorders=!0)},initComponent:function(){var n=this;n.collapsible&&n.addStateEvents(["expand","collapse"]);n.unstyled&&n.setUI("plain");n.frame&&n.setUI(n.ui+"-framed");n.bridgeToolbars();n.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);n.collapseDirection=n.collapseDirection||n.getHeaderPosition()||Ext.Component.DIRECTION_TOP;n.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var n=this,t=Ext.container.Container.prototype.initRenderData.call(this);return n.initBodyStyles(),n.protoBody.writeTo(t),delete n.protoBody,t},calculateConstrainedPosition:function(n,t,i,r){var f=this,o=f.header,u,e;return f.constrainHeader&&(u=o.lastBox,r?r=o.vertical?[u?u.width:r[0],r[1]]:[r[0],u?u.height:r[1]]:u&&(r=[u.width,u.height]),e=f.floatParent,n=n||f.constrainTo||(e?e.getTargetEl():null)||f.container||f.el.parent()),Ext.container.Container.prototype.calculateConstrainedPosition.call(this,n,t,i,r)},initTools:function(){var n=this,i=n.tools,t,r;for(n.tools=[],t=i&&i.length;t;)--t,n.tools[t]=r=i[t],r.toolOwner=n;!n.collapsible||n.hideCollapseTool||n.header===!1||n.preventHeader||(n.updateCollapseTool(),n.collapseFirst&&n.tools.unshift(n.collapseTool));n.addTools();n.pinnable&&n.initPinnable();n.closable&&(n.addClsWithUI("closable"),n.addTool({xtype:"tool",type:"close",scope:n,handler:n.close}));n.collapseTool&&!n.collapseFirst&&n.addTool(n.collapseTool)},isLayoutRoot:function(){return this.floatedFromCollapse?!0:Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return this.collapseMode==="placeholder"},isVisible:function(n){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(n):Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){Ext.container.Container.prototype.onBoxReady.apply(this,arguments);this.collapsed&&this.setHiddenDocked()},onHide:function(n,t,i){var r=this,u=r.dd;r.floatedFromCollapse&&r.slideOutFloatedPanel(!0);r.draggable&&u&&u.endDrag();r.collapsed&&r.placeholder?(r.splitter&&(Ext.suspendLayouts(),r.splitter.hide(),Ext.resumeLayouts()),r.placeholder.hide()):Ext.container.Container.prototype.onHide.call(this,n,t,i)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onRemoved:function(n){var t=this;t.placeholder&&!n&&t.ownerCt.remove(t.placeholder,!1);Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var n=this;n.collapsed&&n.isPlaceHolderCollapse()?(n.splitter&&(Ext.suspendLayouts(),n.splitter.show(),Ext.resumeLayouts()),n.setHiddenState(!0),n.placeholderCollapse()):Ext.container.Container.prototype.onShow.apply(this,arguments)},placeholderCollapse:function(n,t){var i=this,u=i.ownerCt,f=n||i.collapseDirection,o="x-border-region-slide-in",r=i.getPlaceholder(f),e;return i.isCollapsingOrExpanding=1,i.setHiddenState(!0),i.collapsed=f,r.rendered?(r.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(r.el.dom,i.el.dom),r.hidden=!1,r.setHiddenState(!1),r.el.show(),u.updateLayout()):u.insert(u.items.indexOf(i),r),i.rendered?(i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(o),r.el.hide(),e=i.convertCollapseDir(f),i.el.slideOut(e,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o);r.el.show().setStyle("display","none").slideIn(e,{easing:"linear",duration:100,listeners:{afteranimate:function(){r.focus();r.setHiddenState(!1);i.isCollapsingOrExpanding=0;i.fireEvent("collapse",i)}}})}}})):(i.el.hide(),r.setHiddenState(!1),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i))):(i.isCollapsingOrExpanding=0,i.preventCollapseFire||i.fireEvent("collapse",i)),i},placeholderExpand:function(n){var t=this,e=t.collapsed,r="x-border-region-slide-in",u,i,f=t.ownerLayout?t.ownerLayout.centerRegion:null;return Ext.Component.layoutSuspendCount&&(n=!1),t.floatedFromCollapse&&(i=t.getPosition(!0),t.slideOutFloatedPanelBegin(),t.slideOutFloatedPanelEnd(),t.floated=!1),n?(Ext.suspendLayouts(),t.placeholder.hide(),t.el.show(),t.collapsed=!1,t.setHiddenState(!1),f&&!i&&(f.hidden=!0),Ext.resumeLayouts(!0),f.hidden=!1,t.el.addCls(r),t.isCollapsingOrExpanding=2,i?(u=t.getXY(),t.setLocalXY(i[0],i[1]),t.setXY([u[0],u[1]],{duration:Ext.Number.from(n,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r);t.isCollapsingOrExpanding=0;t.fireEvent("expand",t)}}})):(t.el.hide(),t.placeholder.el.show(),t.placeholder.hidden=!1,t.setHiddenState(!1),t.el.slideIn(t.convertCollapseDir(e),{preserveScroll:!0,duration:Ext.Number.from(n,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r);t.placeholder.hide();t.updateLayout();t.isCollapsingOrExpanding=0;t.fireEvent("expand",t)}}}))):(t.floated=t.collapsed=!1,t.el.removeCls(r),Ext.suspendLayouts(),t.placeholder.hide(),t.show(),Ext.resumeLayouts(!0),t.fireEvent("expand",t)),t},remove:function(n,t){return this.dockedItems.contains(n)?this.removeDocked(n,t):Ext.container.Container.prototype.remove.call(this,n,t),n},removeBodyCls:function(n){var t=this,i=t.rendered?t.body:t.getProtoBody();return i.removeCls(n),t},removeUIClsFromElement:function(n){var t=this,i=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);return t.removeBodyCls(["x-"+n,t.baseCls+"-body-"+n,t.baseCls+"-body-"+t.ui+"-"+n]),i},restoreDimension:function(){var n=this.collapseDirection;return n==="top"||n==="bottom"?"height":"width"},restoreHiddenDocked:function(){var n=this.hiddenOnCollapse;n.setStyle("visibility","");n.clear()},setBodyStyle:function(n,t){var i=this,r=i.rendered?i.body:i.getProtoBody();return Ext.isFunction(n)&&(n=n()),arguments.length===1?(Ext.isString(n)&&(n=Ext.Element.parseStyles(n)),r.setStyle(n)):r.setStyle(n,t),i},setBorder:function(n,t){if(!t){var i=this,r=i.header;n=n?n===!0?"1px":i.unitizeBox(n):0;r&&(r.isHeader?r.setBorder(n):r.border=n);i.rendered&&i.bodyBorder!==!1&&i.body.setStyle("border-width",n);i.updateLayout();i.border=n}},setCollapsed:function(n){this[n?"collapse":"expand"]()},setGlyph:function(n){var t=this,u=t.glyph,i=t.header,r=t.placeholder;n!==u&&(t.glyph=n,i?i.isHeader?i.setGlyph(n):i.glyph=n:(t.rendered||t.afterHeaderInit)&&t.updateHeader(),r&&r.setGlyph&&r.setGlyph(n),t.fireEvent("glyphchange",t,n,u))},setIcon:function(n){var t=this,u=t.icon,i=t.header,r=t.placeholder;n!==u&&(t.icon=n,i?i.isHeader?i.setIcon(n):i.icon=n:(t.rendered||t.afterHeaderInit)&&t.updateHeader(),r&&r.setIcon&&r.setIcon(n),t.fireEvent("iconchange",t,n,u))},setIconCls:function(n){var t=this,u=t.iconCls,i=t.header,r=t.placeholder;n!==u&&(t.iconCls=n,i?i.isHeader?i.setIconCls(n):i.iconCls=n:(t.rendered||t.afterHeaderInit)&&t.updateHeader(),r&&r.setIconCls&&r.setIconCls(n),t.fireEvent("iconclschange",t,n,u))},setTitle:function(n){var t=this,u=t.title,i=t.header,f=t.reExpander,r=t.placeholder;n!==u&&(t.title=n,i?i.isHeader&&i.setTitle(n):(t.rendered||t.afterHeaderInit)&&t.updateHeader(),f&&f.setTitle(n),r&&r.setTitle&&r.setTitle(n),t.fireEvent("titlechange",t,n,u))},setHiddenDocked:function(){var n=this,i=n.hiddenOnCollapse,u=n.getDockedItems(),e=u.length,r=0,t,f;for(n.header!==!1&&(f=n.getReExpander()),i.add(n.body);r<e;r++)t=u[r],t&&t!==f&&t.el&&i.add(t.el);i.setStyle("visibility","hidden")},setUI:function(n){var t=this;Ext.container.Container.prototype.setUI.apply(this,arguments);t.header&&t.header.rendered&&t.header.setUI(n)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var n=this,t=n.collapseTool;!t&&n.collapsible&&(n.collapseDirection=n.collapseDirection||n.getHeaderPosition()||"top",n.collapseTool=n.expandTool=t=Ext.widget({xtype:"tool",handler:n.toggleCollapse,scope:n}));t&&(n.collapsed&&!n.isPlaceHolderCollapse()?t.setType("expand-"+n.getOppositeDirection(n.collapseDirection)):t.setType("collapse-"+n.collapseDirection))},updateHeaderPosition:function(n){var t=this.header;t&&t.isHeader&&t.setDock(n)},updateIconAlign:function(n){var t=this.header;t&&t.isHeader&&t.setIconAlign(n)},updateTitleAlign:function(n){var t=this.header;t&&t.isHeader&&t.setTitleAlign(n)},updateTitleRotation:function(n){var t=this.header;t&&t.isHeader&&t.setTitleRotation(n)},unghost:function(n,t,i){var r=this,u=r.ghostPanel;u&&(n!==!1&&(r.el.show(),t!==!1&&(r.setPagePosition(u.getXY()),r.hideMode==="offsets"&&delete r.el.hideModeStyles),i&&r.focus(!1,10)),u.el.hide(),u.setHiddenState(!0))},updateHeader:function(n){var t=this,i=t.header,u=t.getTitle(),r=t.tools,f=t.getIcon(),e=t.getGlyph(),o=t.getIconCls(),h=e||f||o,s=t.getHeaderPosition(),c=s==="left"||s==="right";Ext.isObject(i)||i!==!1&&(n||u||h||r&&r.length||t.collapsible&&!t.titleCollapse)?i&&i.isHeader?i.show():(i=t.header=Ext.widget(Ext.merge({xtype:"header",title:u,titleAlign:t.getTitleAlign(),vertical:c,dock:t.getHeaderPosition()||"top",titleRotation:t.getTitleRotation(),textCls:t.headerTextCls,iconCls:o,iconAlign:t.getIconAlign(),icon:f,glyph:e,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,headerRole:t.headerRole,ownerCt:t,synthetic:!0,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(i,0)):i&&i.hide()},privates:{addUIToElement:function(){var n=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);n.addBodyCls(n.baseCls+"-body-"+n.ui)},applyTargetCls:function(n){this.getProtoBody().addCls(n)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var n=this;return n.body||n.protoBody||n.frameBody||n.el},initDraggable:function(){var n=this;n.simpleDrag?n.initSimpleDraggable():n.dd=new Ext.panel.DD(n,Ext.isBoolean(n.draggable)?null:n.draggable)},initResizable:function(){Ext.container.Container.prototype.initResizable.apply(this,arguments);this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var n=this,t,i;n.header||n.updateHeader(!0);n.header&&(t=Ext.applyIf({el:n.el,delegate:"#"+n.header.id},n.draggable),(n.constrain||n.constrainHeader)&&(t.constrain=n.constrain,t.constrainDelegate=n.constrainHeader,t.constrainTo=n.constrainTo||n.container),i=n.dd=new Ext.util.ComponentDragger(n,t),n.relayEvents(i,["dragstart","drag","dragend"]),n.maximized&&i.disable())},removeUIFromElement:function(){var n=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);n.removeBodyCls(n.baseCls+"-body-"+n.ui)},setupRenderTpl:function(n){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(n)},slideOutFloatedPanel:function(n){var t=this,i=t.el,r,u=function(){t.slideOutFloatedPanelEnd();t.el.removeCls("x-border-region-slide-in")};if(!t.isSliding&&!t.isDestroyed){if(t.isSliding=!0,t.floated=!1,t.slideOutFloatedPanelBegin(),n)return i.hide(),u();typeof t.collapsed=="string"&&(r=t.convertCollapseDir(t.collapsed));i.slideOut(r,{preserveScroll:!0,duration:Ext.Number.from(t.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:u}})}},slideOutFloatedPanelBegin:function(){var n=this,t=n.placeholder.el,i=n.el;n.collapsed=n.floatedFromCollapse;n.setHiddenState(!0);n.floatedFromCollapse=null;t.un("mouseleave",n.onMouseLeaveFloated,n);i.un("mouseleave",n.onMouseLeaveFloated,n);t.un("mouseenter",n.onMouseEnterFloated,n);i.un("mouseenter",n.onMouseEnterFloated,n)},slideOutFloatedPanelEnd:function(n){var t=this;t.collapseTool&&t.collapseTool.el.show();t.slideOutTask.cancel();t.isSliding=!1;n||t.fireEvent("unfloat",t)}}},0,["panel"],["component","box","container","panel"],{component:!0,box:!0,container:!0,panel:!0},["widget.panel"],[["docking",Ext.container.DockingContainer]],[Ext.panel,"Panel",Ext,"Panel"],function(){var n=this.prototype;n.animCollapse=Ext.enableFx;n.placeholderCollapseHideMode=Ext.Element.VISIBILITY});Ext.cmd.derive("Ext.form.Labelable",Ext.Mixin,{isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"<\/tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}<\/tpl>',"<\/tpl>","{afterLabelTextTpl}","<\/span>","<\/label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}<\/tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"<\/tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}","<\/div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="alert" aria-live="polite" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{id}-inputEl">',"<\/div>","<\/div>","<\/tpl>",{disableFormats:!0}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}<\/div><\/tpl>',"<\/tpl>",'<tpl for="errors"><li>{.}<\/li><\/tpl>',"<\/ul>","<\/tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n<\/tpl>',"<\/tpl>",'<tpl for="errors"><tpl if="xindex &gt; 1">\n<\/tpl>{.}<\/tpl>',"<\/tpl>"],isFieldLabelable:!0,formItemCls:"x-form-item",labelCls:"x-form-item-label",topLabelCls:"x-form-item-label-top",rightLabelCls:"x-form-item-label-right",labelInnerCls:"x-form-item-label-inner",topLabelSideErrorCls:"x-form-item-label-top-side-error",errorMsgCls:"x-form-error-msg",errorWrapCls:"x-form-error-wrap",errorWrapSideCls:"x-form-error-wrap-side",errorWrapUnderCls:"x-form-error-wrap-under",errorWrapUnderSideLabelCls:"x-form-error-wrap-under-side-label",baseBodyCls:"x-form-item-body",invalidIconCls:"x-form-invalid-icon",invalidUnderCls:"x-form-invalid-under",noLabelCls:"x-form-item-no-label",fieldBodyCls:"",invalidCls:"x-form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var t=this.tip,n,i;t||(n={id:"ext-form-error-tip",ui:"form-invalid"},Ext.supports.Touch&&(n.dismissDelay=0,n.anchor="top",n.showDelay=0,n.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}),t=this.tip=Ext.create("Ext.tip.QuickTip",n),i=Ext.apply({},t.tagConfig),i.attribute="errorqtip",t.setTagConfig(i))},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var n=this,t=n.padding;t&&(n.padding=undefined,n.extraMargins=Ext.Element.parseBox(t));n.activeErrorsTpl||(n.activeErrorsTpl=n.msgTarget==="title"?n.plaintextActiveErrorsTpl:n.htmlActiveErrorsTpl);n.addCls([n.formItemCls,n.formItemCls+"-"+n.ui]);n.lastActiveError="";n.enableBubble("errorchange")},trimLabelSeparator:function(){var t=this,i=t.labelSeparator,n=t.fieldLabel||"",r=n.substr(n.length-1);return r===i?n.slice(0,-1):n},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(n){n=n||"";var t=this,r=t.labelSeparator,o=t.labelEl,i=t.errorWrapEl,u=t.labelAlign!=="top",f=t.noLabelCls,e=t.errorWrapUnderSideLabelCls;t.fieldLabel=n;t.rendered&&(Ext.isEmpty(n)&&t.hideEmptyLabel?(t.addCls(f),u&&i&&i.removeCls(e)):(r&&(n=t.trimLabelSeparator()+r),o.dom.firstChild.innerHTML=n,t.removeCls(f),u&&i&&i.addCls(e)),t.updateLayout())},setHideLabel:function(n){var t=this;n!==t.hideLabel&&(t.hideLabel=n,t.rendered&&(t[n?"addCls":"removeCls"](t.noLabelCls),t.updateLayout()))},setHideEmptyLabel:function(n){var t=this,i;n!==t.hideEmptyLabel&&(t.hideEmptyLabel=n,t.rendered&&!t.hideLabel&&(i=n&&!t.getFieldLabel(),t[i?"addCls":"removeCls"](t.noLabelCls),t.updateLayout()))},getInsertionRenderData:function(n,t){for(var u=t.length,r,i;u--;)r=t[u],i=this[r],i&&typeof i!="string"&&(i.isTemplate||(i=Ext.XTemplate.getTpl(this,r)),i=i.apply(n)),n[r]=i||"";return n},getLabelableRenderData:function(){var n=this,h=n.labelAlign,c=h==="top",p=h==="right",i=n.msgTarget==="side",u=n.msgTarget==="under",w=n.errorMsgCls,t=n.labelPad,l=n.labelWidth,r=n.labelClsExtra||"",a=i?n.errorWrapSideCls:n.errorWrapUnderCls,f="",e="",b=n.hasVisibleLabel(),v=n.autoFitErrors,o=n.defaultBodyWidth,y,s;return c?(r+=" "+n.topLabelCls,t&&(e="padding-bottom:"+t+"px;"),i&&!v&&(r+=" "+n.topLabelSideErrorCls)):(p&&(r+=" "+n.rightLabelCls),t&&(f+=n.getHorizontalPaddingStyle()+t+"px;"),f+="width:"+(l+(t?t:0))+"px;",e="width:"+l+"px"),b&&!c&&u&&(a+=" "+n.errorWrapUnderSideLabelCls),o&&(y="min-width:"+o+"px;max-width:"+o+"px;"),s={id:n.id,inputId:n.getInputId(),labelCls:n.labelCls,labelClsExtra:r,labelStyle:f+(n.labelStyle||""),labelInnerStyle:e,labelInnerCls:n.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:y,baseBodyCls:n.baseBodyCls,fieldBodyCls:n.fieldBodyCls,extraFieldBodyCls:n.extraFieldBodyCls,errorWrapCls:n.errorWrapCls,errorWrapExtraCls:a,renderError:i||u,invalidMsgCls:i?n.invalidIconCls:u?n.invalidUnderCls:"",errorMsgCls:w,growCls:n.grow?n.growCls:"",errorWrapStyle:i&&!v?"visibility:hidden":"display:none",fieldLabel:n.getFieldLabel(),labelSeparator:n.labelSeparator},n.getInsertionRenderData(s,n.labelableInsertions),s},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var n=this;n.setFieldDefaults(n.getInherited().fieldDefaults);n.ownerLayout&&n.addCls("x-"+n.ownerLayout.type+"-form-item");n.hasVisibleLabel()||n.addCls(n.noLabelCls)},onLabelRender:function(){var n=this,r={},u=Ext.Element,f=n.errorWrapEl,i,t;if(f&&f.setVisibilityMode(n.msgTarget==="side"&&!n.autoFitErrors?u.VISIBILITY:u.DISPLAY),n.extraMargins){i=n.el.getMargin();for(t in i)i.hasOwnProperty(t)&&(r["margin-"+t]=i[t]+n.extraMargins[t]+"px");n.el.setStyle(r)}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(n){this.setActiveErrors(n)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(n){var t=this,e=t.errorWrapEl,i=t.msgTarget,u=i==="side",o=i==="qtip",r,s,f;n=Ext.Array.from(n);s=t.getTpl("activeErrorsTpl");t.activeErrors=n;r=t.activeError=s.apply({fieldLabel:t.fieldLabel,errors:n,listCls:"x-list-plain"});t.renderActiveError();t.rendered&&(u?t.errorEl.dom.setAttribute("data-errorqtip",r):o?t.getActionEl().dom.setAttribute("data-errorqtip",r):i==="title"&&t.getActionEl().dom.setAttribute("title",r),(u||o)&&Ext.form.Labelable.initTip(),t.msgTargets[i]||(f=Ext.get(i),f&&(f.dom.innerHTML=r)));e&&(e.setVisible(n.length>0),u&&t.autoFitErrors&&t.labelEl.addCls(t.topLabelSideErrorCls),t.updateLayout())},unsetActiveError:function(){var n=this,r=n.errorWrapEl,t=n.msgTarget,i;delete n.activeError;delete n.activeErrors;n.renderActiveError();n.rendered&&(t==="qtip"?n.getActionEl().dom.removeAttribute("data-errorqtip"):t==="title"&&n.getActionEl().dom.removeAttribute("title"),n.msgTargets[t]||(i=Ext.get(t),i&&(i.dom.innerHTML="")),r&&(r.hide(),t==="side"&&n.autoFitErrors&&n.labelEl.removeCls(n.topLabelSideErrorCls),n.updateLayout()))},renderActiveError:function(){var n=this,t=n.getActiveError(),i=!!t;t!==n.lastActiveError&&(n.lastActiveError=t,n.fireEvent("errorchange",n,t));!n.rendered||n.isDestroyed||n.preventMark||(n.toggleInvalidCls(i),n.errorEl&&(n.errorEl.dom.innerHTML=t))},toggleInvalidCls:function(n){this.el[n?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(n){for(var t in n)this.hasOwnProperty(t)||(this[t]=n[t])}},0,0,0,0,0,0,[Ext.form,"Labelable"],function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")});Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{mixinId:"field",isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:"change",suspendCheckChange:0,dirty:!1,initField:function(){var n=this,t=n.valuePublishEvent,r,i;if(n.initValue(),Ext.isString(t))n.on(t,n.publishValue,n);else for(i=0,r=t.length;i<r;++i)n.on(t[i],n.publishValue,n)},initValue:function(){var n=this;"value"in n&&(n.suspendCheckChange++,n.setValue(n.value),n.suspendCheckChange--);n.originalValue=n.lastValue=n.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(n){var t=this;return t.value=n,t.checkChange(),t},isEqual:function(n,t){return String(n)===String(t)},isEqualAsString:function(n,t){return String(Ext.valueFrom(n,""))===String(Ext.valueFrom(t,""))},getSubmitData:function(){var n=this,t=null;return!n.disabled&&n.submitValue&&(t={},t[n.getName()]=""+n.getValue()),t},getModelData:function(n,t){var i=this,r=null;return i.disabled||!i.submitValue&&t||(r={},r[i.getFieldIdentifier()]=i.getValue()),r},reset:function(){var n=this;n.beforeReset();n.setValue(n.originalValue);n.clearInvalid();delete n.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var n=this,t,i;if(!n.suspendCheckChange&&(t=n.getValue(),i=n.lastValue,!n.isDestroyed&&n.didValueChange(t,i))){n.lastValue=t;n.fireEvent("change",n,t,i);n.onChange(t,i)}},didValueChange:function(n,t){return!this.isEqual(n,t)},onChange:function(){var n=this;n.validateOnChange&&n.validate();n.checkDirty()},publishValue:function(){var n=this;n.rendered&&!n.getErrors().length&&n.publishState("value",n.getValue())},isDirty:function(){var n=this;return!n.disabled&&!n.isEqual(n.getValue(),n.originalValue)},checkDirty:function(){var n=this,t=n.isDirty();if(t!==n.wasDirty){n.dirty=t;n.fireEvent("dirtychange",n,t);n.onDirtyChange(t);n.wasDirty=t}},onDirtyChange:Ext.emptyFn,getErrors:function(n){var t=[],u=this.getValidationField(),i=this.getValidation(),r;return u&&(r=u.validate(n),r!==!0&&t.push(r)),i&&i!==!0&&t.push(i),t},isValid:function(){var n=this;return n.disabled||Ext.isEmpty(n.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(n){var t=this;return n!==t.wasValid&&(t.wasValid=n,t.fireEvent("validitychange",t,n)),n},batchChanges:function(n){try{this.suspendCheckChange++;n()}catch(t){throw t;}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(n,t){t&&this.validate()}},0,0,0,0,0,0,[Ext.form.field,"Field"],0);Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:!0,shrinkWrap:!0,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"<\/tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"<\/tpl>','<tpl if="placeholder"> placeholder="{placeholder}"<\/tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"<\/tpl>','<tpl if="disabled"> disabled="disabled"<\/tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"<\/tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"<\/tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:"value",subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:!0,invalidText:"The value in this field is invalid",fieldCls:"x-form-field",focusCls:"form-focus",dirtyCls:"x-form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:"x-form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:"x-field",fieldBodyCls:"x-field-body",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){var n=this;Ext.Component.prototype.initComponent.call(this);n.subTplData=n.subTplData||{};n.initLabelable();n.initField();n.name||(n.name=n.getInputId());n.readOnly&&n.addCls(n.readOnlyCls);n.addCls("x-form-type-"+n.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(n){var t=this,r=t.inputType,u=t.getInputId(),i;return i=Ext.apply({ui:t.ui,id:u,cmpId:t.id,name:t.name||u,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:r,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),childElCls:n.childElCls,tabIdx:t.tabIndex,inputCls:t.inputCls,typeCls:"x-form-"+(t.isTextInput?"text":r),role:t.ariaRole},t.subTplData),t.getInsertionRenderData(i,t.subTplInsertions),i},getSubTplMarkup:function(n){var t=this,r=t.getSubTplData(n),u=t.getTpl("preSubTpl"),f=t.getTpl("postSubTpl"),i="";return u&&(i+=u.apply(r)),i+=t.getTpl("fieldSubTpl").apply(r),f&&(i+=f.apply(r)),i},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(n){var t=this,i=t.inputEl;i&&i.applyStyles(n);t.fieldStyle=n},getFieldStyle:function(){var n=this.fieldStyle;return Ext.isObject(n)?Ext.DomHelper.generateStyles(n,null,!0):n||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},onFocusLeave:function(n){Ext.Component.prototype.onFocusLeave.call(this,n);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var n=this,t=null,i;return!n.disabled&&n.submitValue&&(i=n.getSubmitValue(),i!==null&&(t={},t[n.getName()]=i)),t},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var n=this,t=n.inputEl?n.inputEl.getValue():Ext.valueFrom(n.rawValue,"");return n.rawValue=t,t},setRawValue:function(n){var t=this,i=t.rawValue;return t.transformRawValue.$nullFn||(n=t.transformRawValue(n)),n=Ext.valueFrom(n,""),(i===undefined||i!==n)&&(t.rawValue=n,t.inputEl&&(t.bindChangeEvents(!1),t.inputEl.dom.value=n,t.bindChangeEvents(!0)),t.rendered&&t.reference&&t.publishState("rawValue",n)),n},transformRawValue:Ext.identityFn,valueToRaw:function(n){return""+Ext.valueFrom(n,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var n=this,t=n.rawToValue(n.processRawValue(n.getRawValue()));return n.value=t,t},setValue:function(n){var t=this;return t.setRawValue(t.valueToRaw(n)),t.mixins.field.setValue.call(t,n)},onBoxReady:function(){var n=this;Ext.Component.prototype.onBoxReady.apply(this,arguments);n.setReadOnlyOnBoxReady&&n.setReadOnly(n.readOnly)},onDisable:function(){var n=this,t=n.inputEl;Ext.Component.prototype.onDisable.call(this);t&&(t.dom.disabled=!0,n.hasActiveError()&&(n.clearInvalid(),n.hadErrorOnDisable=!0));n.wasValid===!1&&n.checkValidityChange(!0)},onEnable:function(){var n=this,t=n.inputEl,r=n.preventMark,i;Ext.Component.prototype.onEnable.call(this);t&&(t.dom.disabled=!1);n.wasValid!==undefined&&(n.forceValidation=!0,n.preventMark=!n.hadErrorOnDisable,i=n.isValid(),n.forceValidation=!1,n.preventMark=r,n.checkValidityChange(i));delete n.hadErrorOnDisable},setReadOnly:function(n){var t=this,i=t.inputEl,r=t.readOnly;n=!!n;t[n?"addCls":"removeCls"](t.readOnlyCls);t.readOnly=n;i?i.dom.readOnly=n:t.rendering&&(t.setReadOnlyOnBoxReady=!0);n!==r&&t.fireEvent("writeablechange",t,n)},fireKey:function(n){n.isSpecialKey()&&this.fireEvent("specialkey",this,n)},initEvents:function(){var n=this,r=n.inputEl,f=n.onFieldMutation,u=n.checkChangeEvents,e=u.length,t,i;if(r)for(n.mon(r,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",n.fireKey,n),t=0;t<e;++t)i=u[t],i==="propertychange"&&(n.usesPropertychange=!0),i==="textInput"&&(n.usesTextInput=!0),n.mon(r,i,f,n);Ext.Component.prototype.initEvents.call(this)},onFieldMutation:function(n){var t=this,i=t.checkChangeTask;t.readOnly||n.type==="propertychange"&&t.ignoreChangeRe.test(n.browserEvent.propertyName)||(i||(t.checkChangeTask=i=new Ext.util.DelayedTask(t.doCheckChangeTask,t)),t.bindNotifyListener||(t.bindNotifyListener=Ext.on("beforebindnotify",t.onBeforeNotify,t,{destroyable:!0})),i.delay(t.checkChangeBuffer))},doCheckChangeTask:function(){var n=this.bindNotifyListener;n&&(n.destroy(),this.bindNotifyListener=null);this.checkChange()},publishValue:function(){var n=this;n.rendered&&!n.getErrors().length&&n.publishState("value",n.getValue())},onDirtyChange:function(n){var t=this;t[n?"addCls":"removeCls"](t.dirtyCls);t.rendered&&t.reference&&t.publishState("dirty",n)},isValid:function(){var n=this,t=n.disabled,i=n.forceValidation||!t;return i?n.validateValue(n.processRawValue(n.getRawValue())):t},validateValue:function(n){var t=this,i=t.getErrors(n),r=Ext.isEmpty(i);return t.preventMark||(r?t.clearInvalid():t.markInvalid(i)),r},markInvalid:function(n){var t=this,r=t.getActiveError(),i;t.setActiveErrors(Ext.Array.from(n));i=t.getActiveError();r!==i&&t.setError(i)},clearInvalid:function(){var n=this,t=n.hasActiveError();delete n.hadErrorOnDisable;n.unsetActiveError();t&&n.setError("")},setError:function(n){var t=this,i=t.msgTarget,r;t.rendered&&(i==="title"||i==="qtip"?(r=i==="qtip"?"data-errorqtip":"title",t.getActionEl().dom.setAttribute(r,n||"")):t.updateLayout())},renderActiveError:function(){var n=this,i=n.hasActiveError(),t=n.invalidCls+"-field";n.inputEl&&n.inputEl[i?"addCls":"removeCls"]([t,t+"-"+n.ui]);n.mixins.labelable.renderActiveError.call(n)},beforeDestroy:function(){var n=this,t=n.checkChangeTask;t&&t.cancel();n.checkChangeTask=n.bindNotifyListener=Ext.destroy(n.bindNotifyListener);Ext.Component.prototype.beforeDestroy.call(this)},privates:{applyBind:function(n,t){var r=this,f=t&&t.value,i,u;return i=Ext.Component.prototype.applyBind.call(this,n,t),u=i.value,r.hasBindingValue=!!u,u!==f&&r.getInherited().modelValidation&&r.updateValueBinding(i),i},applyRenderSelectors:function(){var n=this;Ext.Component.prototype.applyRenderSelectors.call(this);n.inputEl||(n.inputEl=n.el.getById(n.getInputId()))},bindChangeEvents:function(n){var t=n?"resumeEvent":"suspendEvent",i=this.inputEl;this.usesPropertychange&&i[t]("propertychange");this.usesTextInput&&i[t]("textInput")},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var n=this;return n.hasOwnProperty("renderTpl")||(n.renderTpl=n.getTpl("labelableRenderTpl")),Ext.Component.prototype.initRenderTpl.call(this)},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(n){var i=this,t=n.value,r=n.$fieldBinding;r&&(r.destroy(),n.$fieldBinding=null);t&&t.bindValidationField&&(i.fieldBinding=t.bindValidationField("setValidationField",i))}},deprecated:{"5":{methods:{doComponentLayout:function(){this.bindChangeEvents(!1);this.callParent(arguments);this.bindChangeEvents(!0)}}}}},0,["field"],["component","box","field"],{component:!0,box:!0,field:!0},["widget.field"],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0);Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"<\/tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}<\/div>',{compiled:!0,disableFormats:!0}],focusable:!1,readOnly:!0,fieldCls:"x-form-display-field",fieldBodyCls:"x-form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,getValue:function(){return this.value},valueToRaw:function(n){return n||n===0||n===!1?n:""},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(n){var t=this;return n=Ext.valueFrom(n,""),t.rawValue=n,t.rendered&&(t.inputEl.dom.innerHTML=t.getDisplayValue(),t.updateLayout()),n},getDisplayValue:function(){var n=this,t=this.getRawValue();return n.renderer?n.renderer.call(n.scope||n,t,n):n.htmlEncode?Ext.util.Format.htmlEncode(t):t},getSubTplData:function(){var n=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);return n.value=this.getDisplayValue(),n}},0,["displayfield"],["component","box","field","displayfield"],{component:!0,box:!0,field:!0,displayfield:!0},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0);Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:"x-fit-item",type:"fit",manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(n,t){var i=t||this.owner.getSizeModel(),r=(i.width.shrinkWrap?0:1)|(i.height.shrinkWrap?0:2);return this.sizePolicies[r]},beginLayoutCycle:function(n,t){var e=this,s=e.lastHeightModel&&e.lastHeightModel.calculated,h=e.lastWidthModel&&e.lastWidthModel.calculated,c=h||s,l=0,a=0,i,v,o,r,w,y,u,f,p,b;for(Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments),c&&n.targetContext.el.dom.tagName.toUpperCase()!=="TD"&&(c=h=s=!1),v=n.childItems,w=v.length,o=0;o<w;++o)r=v[o],t&&(i=r.target,u=i.minHeight,f=i.minWidth,(f||u)&&(y=r.marginInfo||r.getMarginInfo(),u+=y.height,f+=y.height,l<u&&(l=u),a<f&&(a=f))),c&&(p=r.el.dom.style,s&&(p.height=""),h&&(p.width=""));t&&(n.maxChildMinHeight=l,n.maxChildMinWidth=a);i=n.target;n.overflowX=!n.widthModel.shrinkWrap&&n.maxChildMinWidth&&i.scrollFlags.x||b;n.overflowY=!n.heightModel.shrinkWrap&&n.maxChildMinHeight&&i.scrollFlags.y||b},calculate:function(n){var t=this,v=n.childItems,o=v.length,i=t.getContainerSize(n),r={length:o,ownerContext:n,targetSize:i},y=n.widthModel.shrinkWrap,p=n.heightModel.shrinkWrap,s=n.overflowX,h=n.overflowY,u,f,c,e,l,a;if(n.state.info=r,(s||h)&&(u=t.getScrollbarsNeeded(s&&i.width,h&&i.height,n.maxChildMinWidth,n.maxChildMinHeight),u&&(f=Ext.getScrollbarSize(),u&1&&(i.height-=f.height),u&2&&(i.width-=f.width))),o>0)for(e=0;e<o;++e)r.index=e,t.fitItem(v[e],r);else r.contentWidth=r.contentHeight=0;(p||y)&&(c=n.targetContext.getPaddingInfo(),y&&(h&&!i.gotHeight?t.done=!1:(l=r.contentWidth+c.width,u&2&&(l+=f.width),n.setContentWidth(l)||(t.done=!1))),p&&(s&&!i.gotWidth?t.done=!1:(a=r.contentHeight+c.height,u&1&&(a+=f.height),n.setContentHeight(a)||(t.done=!1))))},fitItem:function(n,t){var i=this;if(n.invalid){i.done=!1;return}t.margins=n.getMarginInfo();t.needed=t.got=0;i.fitItemWidth(n,t);i.fitItemHeight(n,t);t.got!==t.needed&&(i.done=!1)},fitItemWidth:function(n,t){var i,r;if(t.ownerContext.widthModel.shrinkWrap)r=n.getProp("width")+t.margins.width,i=t.contentWidth,t.contentWidth=i===undefined?r:Math.max(i,r);else if(n.widthModel.calculated)if(++t.needed,t.targetSize.gotWidth)++t.got,this.setItemWidth(n,t);else return;this.positionItemX(n,t)},fitItemHeight:function(n,t){var i,r;if(t.ownerContext.heightModel.shrinkWrap)r=n.getProp("height")+t.margins.height,i=t.contentHeight,t.contentHeight=i===undefined?r:Math.max(i,r);else if(n.heightModel.calculated)if(++t.needed,t.targetSize.gotHeight)++t.got,this.setItemHeight(n,t);else return;this.positionItemY(n,t)},positionItemX:function(n,t){var i=t.margins;(t.index||i.left)&&n.setProp("x",i.left);i.width&&n.setProp("margin-right",i.width)},positionItemY:function(n,t){var i=t.margins;(t.index||i.top)&&n.setProp("y",i.top);i.height&&n.setProp("margin-bottom",i.height)},setItemHeight:function(n,t){n.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(n,t){n.setWidth(t.targetSize.width-t.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0);Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:"x-grid",extraBodyCls:"x-grid-body",defaultBindProperty:"store",layout:"fit",ariaRole:"grid",config:{selection:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:"x-grid-with-col-lines",rowLinesCls:"x-grid-with-row-lines",noRowLinesCls:"x-grid-no-row-lines",hiddenHeaderCtCls:"x-grid-header-ct-hidden",hiddenHeaderCls:"x-grid-header-hidden",resizeMarkerCls:"x-grid-resize-marker",emptyCls:"x-grid-empty",focusable:!0,constructor:function(n){var i=this,t;i.ownerGrid=n&&n.ownerGrid||i;Ext.panel.Panel.prototype.constructor.call(this,n);t=this.store;t.trackStateChanges=!0;i.autoLoad&&(t.unblockLoad(),t.load())},initComponent:function(){var n=this,t=n.columns||n.colModel||[],i,r,s,u,f=n.store=Ext.data.StoreManager.lookup(n.store||"ext-empty-store"),e,o;if(n.enableLocking=n.enableLocking||n.hasLockedColumns(t),n.autoLoad&&n.store.blockLoad(),n.plugins&&(n.plugins=n.constructPlugins()),n.columnLines&&n.addBodyCls(n.colLinesCls),n.addBodyCls(n.rowLines?n.rowLinesCls:n.noRowLinesCls),n.addBodyCls(n.extraBodyCls),n.enableLocking?(n.self.mixin("lockable",Ext.grid.locking.Lockable),n.injectLockable()):(t.isRootHeader?(n.hideHeaders&&(t.setHeight(0),t.hiddenHeaders=!0),n.headerCt=t,n.headerCt.grid=n,n.headerCt.forceFit=!!n.forceFit,n.columnManager=t.columnManager,n.visibleColumnManager=t.visibleColumnManager):(Ext.isArray(t)&&(t={items:t}),Ext.apply(t,{grid:n,forceFit:n.forceFit,sortable:n.sortableColumns,enableColumnMove:n.enableColumnMove,enableColumnResize:n.enableColumnResize,columnLines:n.columnLines,sealed:n.sealedColumns}),n.hideHeaders&&(t.height=0,t.hiddenHeaders=!0),Ext.isDefined(n.enableColumnHide)&&(t.enableColumnHide=n.enableColumnHide),n.headerCt=new Ext.grid.header.Container(t)),n.headerCt.setScrollable({x:!1,y:!1})),n.columns=e=n.headerCt.getGridColumns(),n.scrollTask=new Ext.util.DelayedTask(n.syncHorizontalScroll,n),n.cls=(n.cls||"")+(" "+n.extraBaseCls),delete n.autoScroll,u=n.plugins&&Ext.Array.findBy(n.plugins,function(n){return n.isBufferedRenderer}),u&&(n.bufferedRenderer=u),!n.hasView){if(f.isBufferedStore&&!f.remoteSort)for(r=0,s=e.length;r<s;r++)e[r].sortable=!1;n.hideHeaders&&(n.headerCt.addCls(n.hiddenHeaderCtCls),n.addCls(n.hiddenHeaderCls));n.relayHeaderCtEvents(n.headerCt);n.features=n.features||[];Ext.isArray(n.features)||(n.features=[n.features]);n.dockedItems=[].concat(n.dockedItems||[]);n.dockedItems.unshift(n.headerCt);n.viewConfig=n.viewConfig||{};i=n.getView();n.items=[i];n.hasView=!0;n.hideHeaders||(o=i.getScrollable(),o&&n.headerCt.getScrollable().addPartner(o,"x"));n.bindStore(f,!0);n.mon(i,{viewready:n.onViewReady,refresh:n.onRestoreHorzScroll,scope:n})}if(n.selModel=n.view.getSelectionModel(),n.selModel.isRowModel)n.selModel.on("selectionchange",n.updateBindSelection,n);n.relayEvents(n.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","selectionchange","beforeselect","select","beforedeselect","deselect"]);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);n.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},beforeRender:function(){var n=this,t=n.bufferedRenderer;n.lockable||(t&&n.getSizeModel().height.auto&&(n.bufferedRenderer=t=!1),t&&!t.isBufferedRenderer&&(t={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copyTo(t,n,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer"),n.bufferedRenderer=n.addPlugin(t)));Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getHeaderContainer().getGridColumns()},getVisibleColumns:function(){return this.getHeaderContainer().getVisibleGridColumns()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(n){var t,r,i;for(n.isRootHeader?n=n.items.items:Ext.isObject(n)&&(n=n.items),t=0,r=n.length;t<r;t++)if(i=n[t],!i.processed&&i.locked)return!0},relayHeaderCtEvents:function(n){this.relayEvents(n,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var t=this,n=Ext.panel.Panel.prototype.getState.call(this),i=t.store.getState();return n=t.addPropertyToState(n,"columns",t.headerCt.getColumnsState()),i&&(n.storeState=i),n},applyState:function(n){var r=this,t=n.sort,u=n.storeState,i=r.store,f=n.columns;delete n.columns;Ext.panel.Panel.prototype.applyState.apply(this,arguments);f&&r.headerCt.applyColumnsState(f);t?i.remoteSort?i.sort({property:t.property,direction:t.direction,root:t.root},null,!1):i.sort(t.property,t.direction):u&&i.applyState(u)},getStore:function(){return this.store},getView:function(){var n=this,t,i,r;return n.view||(r=n.viewConfig,t=r.scroll||n.scroll,i=n.scrollable,i==null&&r.scrollable==null&&t!==null&&(t===!0||t==="both"?i=!0:t===!1||t==="none"?i=!1:t==="vertical"?i={x:!1,y:!0}:t==="horizontal"&&(i={x:!0,y:!1})),r=Ext.apply({grid:n,ownerGrid:n.ownerGrid,deferInitialRefresh:n.deferRowRender,variableRowHeight:n.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:n.trackMouseOver!==!1,throttledUpdate:n.throttledUpdate===!0,xtype:n.viewType,store:n.store,headerCt:n.headerCt,columnLines:n.columnLines,rowLines:n.rowLines,navigationModel:"grid",features:n.features,panel:n,emptyText:n.emptyText||""},n.viewConfig),i!=null&&(r.scrollable=i,n.scrollable=null),Ext.create(r),n.view.emptyText&&(n.view.emptyText='<div class="'+n.emptyCls+'">'+n.view.emptyText+"<\/div>"),n.view.getComponentLayout().headerCt=n.headerCt,n.mon(n.view,{uievent:n.processEvent,scope:n}),n.headerCt.view=n.view,n.hasListeners.viewcreated&&n.fireEvent("viewcreated",n,n.view)),n.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(n){return this.view&&this.view.setScrollable(n),n},getScrollable:function(){return null},processEvent:function(n,t,i,r,u,f){var e=f.position.column;if(e)return e.processEvent.apply(e,arguments)},ensureVisible:function(n,t){this.doEnsureVisible(n,t)},scrollByDeltaY:function(n,t){this.getView().scrollBy(0,n,t)},scrollByDeltaX:function(n,t){this.getView().scrollBy(n,0,t)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){var n=this.view.getScrollable(),t;n&&(t=n.getSize(),t&&n.setSize({x:this.headerCt.getTableWidth(),y:t.y}))},onHeaderMove:function(n,t,i,r,u){var f=this;f.optimizedColumnMove===!1?f.view.refreshView():f.view.moveColumn(r,u,i);f.delayScroll()},onHeaderHide:function(n){var t=this.view;!n.childHideCount&&t.refreshCounter&&t.refreshView()},onHeaderShow:function(){var n=this.view;n.refreshCounter&&n.refreshView()},onHeadersChanged:function(){var n=this;n.rendered&&!n.reconfiguring&&(n.view.refreshView(),n.delayScroll())},delayScroll:function(){var n=this.view;n&&this.scrollTask.delay(10,null,null,[n])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var n=this,t=n.scrollXPos;t&&n.syncHorizontalScroll(n,!0)},getScrollerOwner:function(){var n=this;return this.scrollerOwner||(n=this.up("[scrollerOwner]")),n},getLhsMarker:function(){var n=this;return n.lhsMarker||(n.lhsMarker=Ext.DomHelper.append(n.el,{role:"presentation",cls:n.resizeMarkerCls},!0))},getRhsMarker:function(){var n=this;return n.rhsMarker||(n.rhsMarker=Ext.DomHelper.append(n.el,{role:"presentation",cls:n.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(n){var t=this,i;t.ignoreNextSelection||(t.ignoreNextSelection=!0,i=t.getSelectionModel(),n?i.select(n):i.deselectAll(),t.ignoreNextSelection=!1)},updateBindSelection:function(n,t){var i=this,r=null;i.ignoreNextSelection||(i.ignoreNextSelection=!0,t.length&&(r=n.getLastSelected(),i.hasHadSelection=!0),i.hasHadSelection&&i.setSelection(r),i.ignoreNextSelection=!1)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var n=this.getScrollerOwner().query("tableview");return n[n.length-1]},syncHorizontalScroll:function(n,t){var i=this,r=i.view.getScrollX(),u;t=t===!0;i.rendered&&(t||r!==i.scrollXPos)&&(t&&(u=i.getScrollTarget(),u.setScrollX(r)),i.headerCt.setScrollX(r),i.scrollXPos=r)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(n){var t=this,i=t.getView();n?(t.store=n,i.store!==n&&i.bindStore(n,!1),t.mon(n,{load:t.onStoreLoad,scope:t}),t.storeRelayers=t.relayEvents(n,["filterchange","groupchange"])):t.unbindStore()},unbindStore:function(){var n=this,i=n.store,t;i&&(n.store=null,n.mun(i,{load:n.onStoreLoad,scope:n}),Ext.destroy(n.storeRelayers),t=n.view,t.store&&t.bindStore(null))},setColumns:function(n){(n.length||this.getColumnManager().getColumns().length)&&this.reconfigure(undefined,n)},setStore:function(n){this.reconfigure(n)},reconfigure:function(n,t){var i=this,f=i.store,u=i.headerCt,e=i.lockable,o=u?u.items.getRange():i.columns,r=i.getView(),s,h;arguments.length===1&&Ext.isArray(n)&&(t=n,n=null);t&&(t=Ext.Array.slice(t));i.reconfiguring=!0;n&&(n=Ext.StoreManager.lookup(n));i.fireEvent("beforereconfigure",i,n,t,f,o);Ext.suspendLayouts();e?i.reconfigureLockable(n,t):(t&&(delete i.scrollXPos,u.removeAll(),u.add(t)),s=r.blockRefresh,r.blockRefresh=!0,n&&n!==f&&(i.unbindStore(),i.bindStore(n)),r.blockRefresh=s,h=r.refreshCounter);Ext.resumeLayouts(!0);e?i.afterReconfigureLockable():r.refreshCounter===h&&r.refreshView();i.fireEvent("reconfigure",i,n,t,f,o);delete i.reconfiguring},beforeDestroy:function(){var n=this,t=n.scrollTask;t&&(t.cancel(),n.scrollTask=null);Ext.destroy(n.focusEnterLeaveListeners);Ext.panel.Panel.prototype.beforeDestroy.call(this)},onDestroy:function(){var n=this;n.lockable&&n.destroyLockable();n.unbindStore();Ext.panel.Panel.prototype.onDestroy.call(this);n.columns=n.storeRelayers=n.columnManager=n.visibleColumnManager=null},destroy:function(){var n=this;Ext.panel.Panel.prototype.destroy.call(this);n.isDestroyed&&(n.view=n.selModel=n.headerCt=null)},privates:{initFocusableElement:function(){},doEnsureVisible:function(n,t){if(this.lockable)return this.ensureLockedVisible(n,t);typeof n=="number"||n.isEntity||(n=this.store.getById(n));var r=this,u,f,o,s,h,c,i=r.getView(),e=i.getNode(n);t&&(u=t.callback,f=t.scope,o=t.animate,s=t.highlight,h=t.select,c=t.focus);e?(i.getScrollable().scrollIntoView(e,null,o,s),n.isEntity||(n=i.getRecord(e)),h&&i.getSelectionModel().select(n),c&&i.getNavigationModel().setPosition(n,0),Ext.callback(u,f||r,[!0,n,e])):i.bufferedRenderer?i.bufferedRenderer.scrollTo(n,{animate:o,highlight:s,select:h,focus:c,callback:function(n,t,i){Ext.callback(u,f||r,[!0,t,i])}}):Ext.callback(u,f||r,[!1,null])},getFocusEl:function(){return this.getView().getFocusEl()}}},1,["tablepanel"],["component","box","container","panel","tablepanel"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0},["widget.tablepanel"],0,[Ext.panel,"Table"],0);Ext.cmd.derive("Ext.selection.Model",Ext.mixin.Observable,{alternateClassName:"Ext.AbstractSelectionModel",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:!1,$configStrict:!1,config:{store:null,selected:{}},isSelectionModel:!0,allowDeselect:undefined,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(n){var t=this;t.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0};Ext.mixin.Observable.prototype.constructor.call(this,n);t.setSelectionMode(t.mode);t.selectionMode!=="SINGLE"&&(t.allowDeselect=!0)},updateStore:function(n,t){this.bindStore(n,!t)},applySelected:function(n){return n.isCollection||(n=new Ext.util.Collection(Ext.apply({rootProperty:"data"},n))),n},onBindStore:function(n,t){var i=this;i.mixins.storeholder.onBindStore.call(i,[n,t]);n&&!i.preventRefresh&&i.refresh()},getStoreListeners:function(){var n=this;return{add:n.onStoreAdd,clear:n.onStoreClear,remove:n.onStoreRemove,update:n.onStoreUpdate,idchanged:n.onIdChanged,load:n.onStoreLoad,refresh:n.onStoreRefresh,pageadd:n.onPageAdd,pageremove:n.onPageRemove}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(n){var t=this,i=t.store.getRange(),r=t.getSelection().length;t.suspendChanges();t.doSelect(i,!0,n);t.resumeChanges();n||t.isDestroyed||t.maybeFireSelectionChange(t.getSelection().length!==r)},deselectAll:function(n){for(var t=this,i=t.getSelection(),u={},o=t.store,s=i.length,f,r=0,e=i.length;r<e;r++)f=i[r],u[f.id]=o.indexOf(f);i=Ext.Array.sort(i,function(n,t){var i=u[n.id],r=u[t.id];return i<r?-1:1});t.suspendChanges();t.doDeselect(i,n);t.resumeChanges();n||t.isDestroyed||t.maybeFireSelectionChange(t.getSelection().length!==s)},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(n){this.selectionStart=n},selectWithEvent:function(n,t){var i=this,r=i.isSelected(n),u=t.shiftKey;switch(i.selectionMode){case"MULTI":i.selectWithEventMulti(n,t,r);break;case"SIMPLE":i.selectWithEventSimple(n,t,r);break;case"SINGLE":i.selectWithEventSingle(n,t,r)}u||(i.selectionStart=i.isSelected(n)?n:null)},vetoSelection:function(n){if(n.type!=="keydown"&&n.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(n.record))return!0}else return n.type==="mousedown"},onNavigate:function(n){if(n.record&&!this.vetoSelection(n.keyEvent)){this.onBeforeNavigate(n);var t=this,r=n.keyEvent,f=r.ctrlKey||n.ctrlKey,e=n.recordIndex,i=n.record,c=n.previousRecord,s=t.isSelected(i),o=t.selectionStart&&t.isSelected(n.previousRecord)?t.selectionStart:t.selectionStart=n.previousRecord,l=n.previousRecordIndex,u=r.getCharCode(),a=u===r.SPACE,h=u===r.UP||u===r.PAGE_UP?"up":u===r.DOWN||u===r.DOWN?"down":null;switch(t.selectionMode){case"MULTI":u===r.A&&f?(t.selected.beginUpdate(),t.selectRange(0,t.store.getCount()-1),t.selected.endUpdate()):a?r.shiftKey?t.selectRange(o,i,f):s?t.allowDeselect&&t.doDeselect(i):t.doSelect(i,f):r.shiftKey&&o?(h==="up"&&l<=e?t.deselectRange(c,e+1):h==="down"&&l>=e?t.deselectRange(c,e-1):o!==i&&t.selectRange(o,i,f),t.lastSelected=i):u?f||t.doSelect(i,!1):t.selectWithEvent(i,r);break;case"SIMPLE":u===r.A&&f?(t.selected.beginUpdate(),t.selectRange(0,t.store.getCount()-1),t.selected.endUpdate()):s?t.doDeselect(i):t.doSelect(i,!0);break;case"SINGLE":h?f||t.doSelect(i,!1):s?t.allowDeselect&&t.doDeselect(i):t.doSelect(i)}r.shiftKey||t.isDestroyed||t.isSelected(i)&&(t.selectionStart=i)}},selectRange:function(n,t,i){var u=this,s=u.store,a=u.selected.items,h,r,e,o,f,c,l;if(!u.isLocked()){for(h=u.normalizeRowRange(n,t),n=h[0],t=h[1],o=[],r=n;r<=t;r++)u.isSelected(s.getAt(r))||o.push(s.getAt(r));if(!i){for(f=[],u.suspendChanges(),r=0,e=a.length;r<e;++r)l=a[r],c=s.indexOf(l),(c<n||c>t)&&f.push(l);for(r=0,e=f.length;r<e;++r)u.doDeselect(f[r]);u.resumeChanges()}u.isDestroyed||(o.length?u.doMultiSelect(o,!0):f&&u.maybeFireSelectionChange(f.length>0))}},deselectRange:function(n,t){var i=this,o=i.store,f,r,u,e;if(!i.isLocked()){for(f=i.normalizeRowRange(n,t),n=f[0],t=f[1],u=[],r=n;r<=t;r++)e=o.getAt(r),i.isSelected(e)&&u.push(e);u.length&&i.doDeselect(u)}},normalizeRowRange:function(n,t){var i=this.store,r;return Ext.isNumber(n)||(n=i.indexOf(n)),n=Math.max(0,n),Ext.isNumber(t)||(t=i.indexOf(t)),t=Math.min(t,i.getCount()-1),n>t&&(r=t,t=n,n=r),[n,t]},select:function(n,t,i){!Ext.isDefined(n)||Ext.isArray(n)&&!n.length||this.doSelect(n,t,i)},deselect:function(n,t){this.doDeselect(n,t)},doSelect:function(n,t,i){var r=this,u;if(!r.locked){if(typeof n=="number"){if(u=r.store.getAt(n),!u)return;n=[u]}r.selectionMode==="SINGLE"&&n?(u=n.length?n[0]:n,r.doSingleSelect(u,i)):r.doMultiSelect(n,t,i)}},doMultiSelect:function(n,t,i){var r=this,o=r.selected,s=!1,f,e,h,u,c;if(!r.locked){if(n=Ext.isArray(n)?n:[n],h=n.length,!t&&o.getCount()>0){if(f=r.deselectDuringSelect(n,i),r.isDestroyed)return;if(f[0]){r.maybeFireSelectionChange(f[1]>0&&!i);return}s=f[1]>0}for(c=function(){o.getCount()||(r.selectionStart=u);o.add(u);s=!0},e=0;e<h;e++)if(u=n[e],!r.isSelected(u)){r.onSelectChange(u,!0,i,c);if(r.isDestroyed)return}r.lastSelected=u;r.maybeFireSelectionChange(s&&!i)}},deselectDuringSelect:function(n,t){var i=this,o=i.selected.getRange(),s=o.length,u=0,f=!1,e,r;for(i.suspendChanges(),i.deselectingDuringSelect=!0,r=0;r<s;++r)if(e=o[r],Ext.Array.contains(n,e)||(i.doDeselect(e,t)?++u:f=!0),i.isDestroyed){f=!0;u=0;break}return i.deselectingDuringSelect=!1,i.resumeChanges(),[f,u]},doDeselect:function(n,t){var i=this,e=i.selected,u=0,o,r,s=0,f=0,h;if(i.locked||!i.store)return!1;if(typeof n=="number"){if(r=i.store.getAt(n),!r)return!1;n=[r]}else Ext.isArray(n)||(n=[n]);for(h=function(){++f;e.remove(r);r===i.selectionStart&&(i.selectionStart=null)},o=n.length,i.suspendChanges();u<o;u++)if(r=n[u],i.isSelected(r)){i.lastSelected===r&&(i.lastSelected=e.last());++s;i.onSelectChange(r,!1,t,h);if(i.isDestroyed)return!1}return i.resumeChanges(),i.maybeFireSelectionChange(f>0&&!t),f===s},doSingleSelect:function(n,t){var i=this,u=!1,r=i.selected,f;if(!i.locked&&!i.isSelected(n)){f=function(){if(r.getCount()){i.suspendChanges();var f=i.deselectDuringSelect([n],t);if(i.isDestroyed)return;if(i.resumeChanges(),f[0])return!1}i.lastSelected=n;r.getCount()||(i.selectionStart=n);r.add(n);u=!0};i.onSelectChange(n,!0,t,f);u&&!i.isDestroyed&&i.maybeFireSelectionChange(!t)}},maybeFireSelectionChange:function(n){var t=this;n&&!t.suspendChange&&t.fireEvent("selectionchange",t,t.getSelection())},getLastSelected:function(){return this.lastSelected},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(n){n=n?n.toUpperCase():"SINGLE";this.selectionMode=this.modes[n]?n:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(n){this.locked=!!n},isRangeSelected:function(n,t){var r=this,f=r.store,i,u;for(u=r.normalizeRowRange(n,t),n=u[0],t=u[1],i=n;i<=t;i++)if(!r.isSelected(f.getAt(i)))return!1;return!0},isSelected:function(n){return n=Ext.isNumber(n)?this.store.getAt(n):n,this.selected.contains(n)},hasSelection:function(){var n=this.getSelected();return!!(n&&n.getCount())},refresh:function(){var n=this,c=n.store,u=[],i=[],l=n.getSelection(),a=l.length,t=n.getSelected(),e,o,r,s,h,f;if(c&&(t.isCollection||t.isRows)&&t.getCount()){for(r=c.getData(),r.getSource&&(o=r.getSource(),o&&(r=o)),n.refreshing=!0,t.beginUpdate(),n.suspendChanges(),f=0;f<a;f++)if(s=l[f],h=r.get(s.getId()),h?u.push(h):n.pruneRemoved||i.push(s),n.mode==="SINGLE"&&i.length)break;t.getCount()!==u.length+i.length&&(e=!0);n.clearSelections();u.length&&n.doSelect(u,!1,!0);i.length&&(t.add(i),n.lastSelected||(n.lastSelected=i[i.length-1]));n.resumeChanges();e?t.endUpdate():t.updating--;n.refreshing=!1;n.maybeFireSelectionChange(e)}},clearSelections:function(){var n=this.getSelected();n&&n.clear();this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){!this.store.isLoading()&&this.hasSelection()&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(n,t,i,r){var u=this,f=t,e,h,o,s;if(u.selectionStart&&Ext.Array.contains(t,u.selectionStart)&&(u.selectionStart=null),!r&&!u.locked&&u.pruneRemoved){if(s=n.isMoving(null,!0),s)for(f=null,e=0,h=t.length;e<h;++e)o=t[e],s[o.id]||(f||(f=[])).push(o);f&&u.deselect(f)}},onPageRemove:function(n,t,i){this.onStoreRemove(this.store,i)},onPageAdd:function(n,t,i){for(var f=i.length,u,r=0;r<f;r++)u=i[r],this.selected.get(u.id)&&this.selected.replace(u)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var n=this;n.clearListeners();n.clearSelections();n.bindStore(null);n.selected=Ext.destroy(n.selected);Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(n,t,i){this.selected.updateKey(t,i)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(n){var t=this,f=t.getStore(),o=t.lastSelected,s=0,c=t.pruneRemovedOnRefresh(),e,h,i,r,u;if(!f.isBufferedStore){for(e=n.getRange(),h=e.length,o&&(t.lastSelected=f.getById(o.id)),t.refreshing=!0,i=0;i<h;++i)r=e[i],u=f.getById(r.id),u?u!==r&&n.replace(u):c&&(n.remove(r),++s);t.refreshing=!1;t.maybeFireSelectionChange(s>0)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(n,t,i,r){var u=this,f=t?"select":"deselect";(i||u.fireEvent("before"+f,u,n))!==!1&&r()!==!1&&(i||u.fireEvent(f,u,n))},onEditorKey:Ext.emptyFn,beforeViewRender:function(n){Ext.Array.include(this.views||(this.views=[]),n)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(n){var t=this.view,i;return t&&(i=t.resolveSatelliteListenerScope(this,n)),i||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,n)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,selectWithEventMulti:function(n,t,i){var r=this,e=t.shiftKey,u=t.ctrlKey,h=e?r.getSelectionStart():null,c=r.getSelection(),l=c.length,o,f,s;if(e&&h)r.selectRange(h,n,u);else if(u&&i)r.allowDeselect&&r.doDeselect(n,!1);else if(u)r.doSelect(n,!0,!1);else if(i&&!e&&!u&&l>1){if(r.allowDeselect){for(o=[],f=0;f<l;++f)s=c[f],s!==n&&o.push(s);r.doDeselect(o)}}else i||r.doSelect(n,!1)},selectWithEventSimple:function(n,t,i){i?this.doDeselect(n):this.doSelect(n,!0)},selectWithEventSingle:function(n,t,i){var r=this,u=r.allowDeselect;u&&!t.ctrlKey&&(u=r.toggleOnClick);u&&i?r.doDeselect(n):r.doSelect(n,!1)}}},1,0,0,0,["selection.abstract"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0);Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:!0,bindComponent:function(n){var t=this,i;t.view!==n&&(t.view&&(t.navigationModel=null,Ext.destroy(t.viewListeners,t.navigationListeners)),t.view=n,n&&(i=t.getViewListeners(),i.scope=t,i.destroyable=!0,t.navigationModel=n.getNavigationModel(),t.viewListeners=n.on(i),t.navigationListeners=t.navigationModel.on({navigate:t.onNavigate,scope:t,destroyable:!0})))},getViewListeners:function(){var n=this,t={};return t[n.view.triggerCtEvent]=n.onContainerClick,t},onUpdate:function(n){var t=this.view;if(t&&this.isSelected(n))t.onItemSelect(n)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(n,t,i,r){var u=this,f=u.view,e=t?"select":"deselect",o=u.store.indexOf(n);if((i||u.fireEvent("before"+e,u,n,o))!==!1&&r()!==!1){if(f)if(t)f.onItemSelect(n);else f.onItemDeselect(n);i||u.fireEvent(e,u,n,o)}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,["selection.dataviewmodel"],0,[Ext.selection,"DataViewModel"],0);Ext.cmd.derive("Ext.view.NavigationModel",Ext.Base,{focusCls:"x-view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(n){this.view!==n&&(this.view=n,this.bindView(n))},bindView:function(n){var t=this,r=n.dataSource,i;t.initKeyNav(n);t.dataSource!==r&&(t.dataSource=r,i=t.getStoreListeners(),i.destroyable=!0,t.dataSourceListeners=n.dataSource.on(i));i=t.getViewListeners();i.destroyable=!0;t.viewListeners=t.viewListeners||[];t.viewListeners.push(n.on(i))},getStoreListeners:function(){var n=this;return{clear:n.onStoreClear,remove:n.onStoreRemove,scope:n}},getViewListeners:function(){var n=this;return{containermousedown:n.onContainerMouseDown,itemmousedown:n.onItemMouseDown,itemclick:n.onItemClick,itemcontextmenu:n.onItemMouseDown,scope:n}},initKeyNav:function(n){var t=this;t.keyNav=new Ext.util.KeyNav({target:n,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:t.processViewEvent,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t})},processViewEvent:function(n,t,i,r,u){return u},addKeyBindings:function(n){this.keyNav.addBindings(n)},enable:function(){this.keyNav.enable();this.disabled=!1},disable:function(){this.keyNav.disable();this.disabled=!0},onContainerMouseDown:function(n,t){this.view.containsFocus&&t.preventDefault()},onItemMouseDown:function(n,t,i,r,u){var f=u.parentEvent;f&&f.type==="touchstart"||this.setPosition(r)},onItemClick:function(n,t,i,r,u){this.record===t?this.fireNavigateEvent(u):this.setPosition(r,u)},beforeViewRefresh:function(){this.focusRestorePosition=this.view.dataSource.isBufferedStore?this.recordIndex:this.record},onViewRefresh:function(){this.focusRestorePosition!=null&&(this.setPosition(this.focusRestorePosition),this.focusRestorePosition=null)},onStoreClear:function(){this.setPosition()},onStoreRemove:function(){this.setPosition(this.getRecord(),null,null,!0)},setPosition:function(n,t,i,r){var u=this,s=u.view,h=s.getSelectionModel(),o=s.dataSource,f,e;if(n!=null&&s.all.getCount()?typeof n=="number"?(e=Math.max(Math.min(n,o.getCount()-1),0),f=o.getAt(n)):n.isEntity?(f=o.getById(n.id),e=o.indexOf(f),e===-1&&(f=o.getAt(0),e=0)):n.tagName?(f=s.getRecord(n),e=o.indexOf(f)):f=e=null:u.record=u.recordIndex=null,f===u.record)return u.recordIndex=e,u.focusPosition(e);u.item&&u.item.removeCls(u.focusCls);u.previousRecordIndex=u.recordIndex;u.previousRecord=u.record;u.previousItem=u.item;u.recordIndex=e;u.record=f;r=r||u.record===u.lastFocused;f?u.focusPosition(u.recordIndex):u.item=null;i||h.fireEvent("focuschange",h,u.previousRecord,u.record);!r&&t&&u.fireNavigateEvent(t)},focusPosition:function(n){var t=this;n!=null&&n!==-1?(n.isEntity&&(n=t.view.dataSource.indexOf(n)),t.item=t.view.all.item(n),t.item?(t.lastFocused=t.record,t.lastFocusedIndex=t.recordIndex,t.focusItem(t.item)):t.record=null):t.item=null},focusItem:function(n){n.addCls(this.focusCls);n.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){return this.view.dataSource.indexOf(this.lastFocused)===-1?null:this.lastFocused},onKeyUp:function(n){var t=this.recordIndex-1;t<0&&(t=this.view.all.getCount()-1);this.setPosition(t,n)},onKeyDown:function(n){var t=this.recordIndex+1;t>this.view.all.getCount()-1&&(t=0);this.setPosition(t,n)},onKeyRight:function(n){var t=this.recordIndex+1;t>this.view.all.getCount()-1&&(t=0);this.setPosition(t,n)},onKeyLeft:function(n){var t=this.recordIndex-1;t<0&&(t=this.view.all.getCount()-1);this.setPosition(t,n)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(n){this.setPosition(0,n)},onKeyEnd:function(n){this.setPosition(this.view.all.getCount()-1,n)},onKeyTab:function(){var n=this.view;return n.toggleChildrenTabbability(!1),!0},onKeySpace:function(n){this.fireNavigateEvent(n)},onKeyEnter:function(n){n.stopEvent();n.view.fireEvent("itemclick",n.view,n.record,n.item,n.recordIndex,n)},onSelectAllKeyPress:function(n){this.fireNavigateEvent(n)},fireNavigateEvent:function(n){var t=this;t.fireEvent("navigate",{navigationModel:t,keyEvent:n,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,recordIndex:t.recordIndex,record:t.record,item:t.item})},destroy:function(){var n=this;Ext.destroy(n.dataSourceListeners,n.viewListeners,n.keyNav);n.keyNav=n.dataSourceListeners=n.viewListeners=n.dataSource=null;n.callParent()}},1,0,0,0,["view.navigation.default"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.view,"NavigationModel"],0);Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{inheritableStatics:{getRecord:function(n){return this.getBoundView(n).getRecord(n)},getBoundView:function(n){return Ext.getCmp(n.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(n,t,i,r,u){var f=this,h=f.changeQueue||(f.changeQueue={}),c=i.internalId,l,e,v,s,o,a,y;if(l=h[c]||(h[c]={operation:r,record:i,data:{},views:[]}),e=l.data,Ext.Array.include(l.views,n),u&&(v=u.length)){for(s=0;s<v;s++)o=u[s],a=i.data[o],e.hasOwnProperty(o)?i.isEqual(e[o],a)&&(delete e[o],y=!0):e[o]=a;y&&!Ext.Object.getKeys(e).length&&delete h[c]}else Ext.apply(e,i.data);f.flushQueueTask||(f.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(f.onFlushTick,f):Ext.Function.bind(f.onFlushTick,f),interval:Ext.view.AbstractView.updateDelay,repeat:1}));f.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var t=this,u,e,f,n,o,i,r;if(Ext.isScrolling){t.flushQueueTask.start();return}f=t.changeQueue;this.changeQueue={};for(o in f)for(n=f[o],u=n.views,e=u.length,i=0;i<e;i++)r=u[i],r.isDestroyed||r.handleUpdate(r.dataSource,n.record,n.operation,Ext.Object.getKeys(n.data));Ext.AnimationQueue.stop(t.flushChangeQueue,t)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:!1,deferInitialRefresh:!1,itemCls:"x-dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,ariaRole:"listbox",itemAriaRole:"option",last:!1,focusable:!0,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:!0,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(n){n&&n.selModel&&(n.selectionModel=n.selModel);Ext.Component.prototype.constructor.call(this,n)},initComponent:function(){var n=this,r=Ext.isDefined,t=n.itemTpl,i={};t&&(Ext.isArray(t)?t=t.join(""):Ext.isObject(t)&&(i=Ext.apply(i,t.initialConfig),t=t.html),n.itemSelector||(n.itemSelector="."+n.itemCls),t=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}<\/div><\/tpl>',n.itemCls,t,n.itemAriaRole),n.tpl=new Ext.XTemplate(t,i));Ext.Component.prototype.initComponent.call(this);n.tpl=n.getTpl("tpl");n.overItemCls&&(n.trackOver=!0);n.addCmpEvents();n.store=Ext.data.StoreManager.lookup(n.store||"ext-empty-store");n.dataSource||(n.dataSource=n.store);n.getNavigationModel().bindComponent(this);n.bindStore(n.dataSource,!0,"dataSource");n.all||(n.all=new Ext.CompositeElementLite);n.scrollState={top:0,left:0};n.savedTabIndexAttribute="data-savedtabindex-"+n.id},getElConfig:function(){var n=this.mixins.renderable.getElConfig.call(this);return this.focusable&&(n.tabIndex=0),n},onRender:function(){var n=this.loadMask;Ext.Component.prototype.onRender.apply(this,arguments);n&&this.createMask(n)},beforeLayout:function(){var n=this;Ext.Component.prototype.beforeLayout.apply(this,arguments);n.refreshNeeded&&!n.pendingRefresh&&(n.refreshCounter?n.refresh():n.doFirstRefresh(n.dataSource))},onMaskBeforeShow:function(){var n=this,t=n.loadingHeight;t&&t>n.getHeight()&&(n.hasLoadingHeight=!0,n.oldMinHeight=n.minHeight,n.minHeight=t,n.updateLayout())},onMaskHide:function(){var n=this;!n.destroying&&n.hasLoadingHeight&&(n.minHeight=n.oldMinHeight,n.updateLayout(),delete n.hasLoadingHeight)},beforeRender:function(){Ext.Component.prototype.beforeRender.apply(this,arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var n=this.loadMask,t=[];return n&&n.isComponent&&t.push(n),t},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(n){var t=this,i;t.ignoreNextSelection||(t.ignoreNextSelection=!0,i=t.getSelectionModel(),n?i.select(n):i.deselectAll(),t.ignoreNextSelection=!1)},updateBindSelection:function(n,t){var i=this,r=null;i.ignoreNextSelection||(i.ignoreNextSelection=!0,t.length&&(r=n.getLastSelected(),i.hasHadSelection=!0),i.hasHadSelection&&i.setSelection(r),i.ignoreNextSelection=!1)},applySelectionModel:function(n,t){var i=this,r;t?(t.un("selectionchange",i.updateBindSelection,i),Ext.destroy(i.selModelRelayer),n=Ext.Factory.selection(n)):n&&n.isSelectionModel?n.locked=i.disableSelection:(r=i.simpleSelect?"SIMPLE":i.multiSelect?"MULTI":"SINGLE",typeof n=="string"&&(n={type:n}),n=Ext.Factory.selection(Ext.apply({allowDeselect:i.allowDeselect||i.multiSelect,mode:r,locked:i.disableSelection},n)));i.selModelRelayer=i.relayEvents(n,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);n.on("selectionchange",i.updateBindSelection,i);return n},updateSelectionModel:function(n){this.selModel=n},applyNavigationModel:function(n){return Ext.Factory.viewNavigation(n)},onFocusEnter:function(n){var t=this,i=t.getNavigationModel(),r;!t.itemFocused&&t.all.getCount()&&(r=i.getLastFocused(),i.setPosition(r||0,n.event,null,!r),t.itemFocused=i.getPosition()!=null);t.itemFocused&&this.el.dom.setAttribute("tabindex","-1")},onFocusLeave:function(n){var t=this;t.itemFocused&&(t.getNavigationModel().setPosition(null,n.event,null,!0),t.itemFocused=!1,t.el.dom.setAttribute("tabindex",0))},onRemoved:function(n){Ext.Component.prototype.onRemoved.call(this,n);this.onFocusLeave({})},refresh:function(){var n=this,t=n.all,h=t.getCount(),e=n.refreshCounter,i,r,c,u,l=n.getSelectionModel(),o=n.getNavigationModel(),s=e&&t.getCount()&&n.preserveScrollOnRefresh&&!n.bufferedRenderer,f;!n.rendered||n.isDestroyed||n.preventRefresh||n.hasListeners.beforerefresh&&n.fireEvent("beforerefresh",n)===!1||(n.refreshing=!0,o.beforeViewRefresh(n),i=n.getTargetEl(),u=n.getViewRange(),c=i.dom,s&&(r=n.getOverflowEl(),f=r.getScroll()),e?(n.clearViewEl(),n.refreshCounter++):n.refreshCounter=1,n.tpl.append(i,n.collectData(u,t.startIndex||0)),u.length<1?(n.addEmptyText(),t.clear()):(n.collectNodes(i.dom),n.updateIndexes(0)),o.onViewRefresh(),n.refreshSelmodelOnRefresh!==!1&&l.refresh(),n.refreshNeeded=!1,n.refreshSize(t.getCount()!==h),n.fireEvent("refresh",n,u),s&&(r.setScrollLeft(f.left),r.setScrollTop(f.top)),n.viewReady||(n.viewReady=!0,n.fireEvent("viewready",n)),n.refreshing=!1,n.refreshScroll())},addEmptyText:function(){var n=this;n.emptyText&&!n.getStore().isLoading()&&(!n.deferEmptyText||n.refreshCounter>1)&&(n.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",n.getTargetEl().dom,n.emptyText))},toggleChildrenTabbability:function(n){var t=this.savedTabIndexAttribute,i=this.getTargetEl();n?i.restoreChildrenTabbableState(t):i.saveChildrenTabbableState(t)},collectNodes:function(n){var t=this.all;t.fill(Ext.fly(n).query(this.getItemSelector()),t.startIndex||0);this.focusable&&t.set({tabindex:"-1"})},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(n){var t=this,i=t.getSizeModel(),r=t.getScrollable();if(i.height.shrinkWrap||i.width.shrinkWrap||n)t.updateLayout();else if(t.touchScroll&&!t.bufferedRenderer)if(r)r.refresh();else t.on({boxready:t.refreshScroll,scope:t,single:!0})},onResize:function(){var n=this,t=n.getScrollable();if(t&&!n._hasScrollListener){t.on({scroll:n.onViewScroll,scope:n,onFrame:!!Ext.global.requestAnimationFrame});n._hasScrollListener=!0}Ext.Component.prototype.onResize.apply(this,arguments)},clearViewEl:function(){var n=this,t=n.getTargetEl(),i=n.getNodeContainer()===t;n.clearEmptyEl();n.all.clear(!i);i&&(t.dom.innerHTML="")},clearEmptyEl:function(){var n=this.emptyEl;n&&Ext.removeNode(n);this.emptyEl=null},onViewScroll:function(n,t,i){this.fireEvent("scroll",this,t,i)},saveScrollState:function(){var n=this,t=n.scrollState;n.rendered&&(t.left=n.getScrollX(),t.top=n.getScrollY())},restoreScrollState:function(){var n=this,t=n.scrollState;n.rendered&&(n.setScrollX(t.left),n.setScrollY(t.top))},prepareData:function(n,t,i){var r,u,f;if(i){r=i.getAssociatedData();for(u in r)r.hasOwnProperty(u)&&(f||(n=Ext.Object.chain(n),f=!0),n[u]=r[u])}return n},collectData:function(n,t){for(var u=[],i=0,f=n.length,r;i<f;i++)r=n[i],u[i]=this.prepareData(r.data,t+i,r);return u},bufferRender:function(n,t){var i=this,f=i.renderBuffer,e=document.createDocumentFragment(),r,o,u;for(i.tpl.overwrite(f,i.collectData(n,t)),r=Ext.fly(f).query(i.getItemSelector()),u=0,o=r.length;u<o;u++)e.appendChild(r[u]);return{fragment:e,children:r}},nodeContainerSelector:null,getNodeContainer:function(){var n=this.getTargetEl(),t=this.nodeContainerSelector;return t?n.down(t,!0):n},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(n,t,i,r,u){var f=this,e=u&&u.filtered;!e&&f.getNode(t)&&(f.throttledUpdate?f.statics().queueRecordChange(f,n,t,i,r):f.handleUpdate.apply(f,arguments))},handleUpdate:function(n,t){var i=this,r,u,f=i.getSelectionModel();if(i.viewReady&&(r=i.dataSource.indexOf(t),r>-1&&i.getNode(t))){u=i.bufferRender([t],r).children[0];i.all.replaceElement(r,u,!0);i.updateIndexes(r,r);f.onUpdate(t);if(i.refreshSizePending=!0,f.isSelected(t))i.onItemSelect(t);return i.hasListeners.itemupdate&&i.fireEvent("itemupdate",t,r,u),u}},onReplace:function(n,t,i,r){var u=this,o,f=u.all,v=u.getSelectionModel(),s,a,e,h,c,l;if(u.rendered){if(s=u.bufferRender(r,t,!0),c=s.fragment,l=s.children,a=f.item(t),a?f.item(t).insertSibling(c,"before",!0):u.appendNodes(c),f.insert(t,l),t+=r.length,o=t+i.length-1,f.removeRange(t,o,!0),u.refreshSelmodelOnRefresh!==!1&&v.refresh(),u.updateIndexes(t),u.hasListeners.itemremove)for(e=i.length,h=o;e>=0;--e,--h)u.fireEvent("itemremove",i[e],h,u);u.hasListeners.itemadd&&u.fireEvent("itemadd",r,t,l);u.refreshSize()}},onAdd:function(n,t,i){var r=this,u,f=r.getSelectionModel();r.rendered&&(r.all.getCount()===0?(r.refresh(),u=r.all.slice()):(u=r.doAdd(t,i),r.refreshSelmodelOnRefresh!==!1&&f.refresh(),r.updateIndexes(i),r.refreshSizePending=!0),r.hasListeners.itemadd&&r.fireEvent("itemadd",t,i,u))},appendNodes:function(n){this.getNodeContainer().appendChild(n)},doAdd:function(n,t){var r=this,f=r.bufferRender(n,t,!0),e=f.fragment,u=f.children,i=r.all,o=i.getCount(),s=i.startIndex||0,h=i.endIndex||o-1;return o===0||t>h?r.appendNodes(e):t<=s?i.item(s).insertSibling(e,"before",!0):i.item(t).insertSibling(u,"before",!0),i.insert(t,u),u},onRemove:function(n,t,i){var r=this,o=r.all,s=r.hasListeners.itemremove,f,u,c,e,h;if(o.getCount()){if(r.dataSource.getCount()===0)s&&r.fireEvent("itemremove",t,i,r.getNodes(i,i+t.length-1)),r.refresh();else{for(s&&(e=[]),u=t.length-1;u>=0;--u)c=t[u],f=i+u,e&&(h=o.item(f),e[u]=h?h.dom:undefined),o.item(f)&&r.doRemove(c,f);s&&r.fireEvent("itemremove",t,i,e,r);r.updateIndexes(i)}r.refreshSizePending=!0}},doRemove:function(n,t){this.all.removeElement(t,!0)},refreshNode:function(n){Ext.isNumber(n)&&(n=this.store.getAt(n));this.onUpdate(this.dataSource,n)},updateIndexes:function(n,t){var u=this.all.elements,r,f=this.getViewRange(),i,e=this.id;for(n=n||0,t=t||(t===0?0:u.length-1),i=n;i<=t;i++)r=u[i],r.setAttribute("data-recordIndex",i),r.setAttribute("data-recordId",f[i].internalId),r.setAttribute("data-boundView",e)},bindStore:function(n,t){var i=this,r=i.getSelectionModel();r.preventRefresh=!0;r.bindStore(n);r.bindComponent(n?i:null);r.preventRefresh=!1;i.mixins.storeholder.bindStore.apply(i,arguments);n&&i.componentLayoutCounter&&!i.preventRefresh&&i.doFirstRefresh(n,!t)},doFirstRefresh:function(n,t){var i=this;i.deferInitialRefresh&&!t?Ext.defer(i.doFirstRefresh,1,i,[n,!0]):n&&!n.isLoading()&&i.refresh()},onUnbindStore:function(n,t,i){i==="store"&&(this.setMaskBind(null),this.getSelectionModel().bindStore(null))},onBindStore:function(n,t,i){var r=this;r.setMaskBind(n);t||i!=="store"||(r.preventRefresh=!0,r.store=n,r.bindStore(n,!1,"dataSource"),r.preventRefresh=!1)},setMaskBind:function(n){var t=this.loadMask;this.rendered&&t&&n&&!t.bindStore&&(t=this.createMask());t&&t.bindStore&&t.bindStore(n)},getStoreListeners:function(){var n=this;return{refresh:n.onDataRefresh,replace:n.onReplace,add:n.onAdd,remove:n.onRemove,update:n.onUpdate,clear:n.refresh,beginupdate:n.onBeginUpdate,endupdate:n.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){var n=this;n.updateSuspendCounter&&--n.updateSuspendCounter;Ext.resumeLayouts(!0);n.refreshSizePending&&(n.refreshSize(!0),n.refreshSizePending=!1)},onDataRefresh:function(){this.refreshView()},refreshView:function(){var n=this,t=n.blockRefresh||!n.rendered||n.up("[collapsed],[isCollapsingOrExpanding],[hidden]");t?n.refreshNeeded=!0:n.bufferedRenderer&&n.all.getCount()?n.bufferedRenderer.refreshView():n.refresh()},findItemByChild:function(n){return Ext.fly(n).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(n){return n.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var t=[],i=this.getSelectionModel().getSelection(),r=i.length,n=0;n<r;n++)t.push(this.getNode(i[n]));return t},getRecords:function(n){for(var t=[],i=0,r=n.length,u=this.dataSource.data;i<r;i++)t[t.length]=u.getByKey(n[i].getAttribute("data-recordId"));return t},getRecord:function(n){return this.dataSource.getByInternalId(Ext.getDom(n).getAttribute("data-recordId"))},isSelected:function(n){var t=this.getRecord(n);return this.getSelectionModel().isSelected(t)},select:function(n,t,i){this.getSelectionModel().select(n,t,i)},deselect:function(n,t){this.getSelectionModel().deselect(n,t)},getNode:function(n){var t=this,i;return t.rendered&&(n||n===0)&&(Ext.isString(n)?i=document.getElementById(n):n.isModel?i=t.getNodeByRecord(n):Ext.isNumber(n)?i=t.all.elements[n]:(n.target&&(n=n.target),i=Ext.fly(n).findParent(t.itemSelector,t.getTargetEl()))),i||null},getNodeByRecord:function(n){var t=this.store.indexOf(n);return this.all.elements[t]||null},getNodes:function(n,t){var i=this.all;return t!==undefined&&t++,i.slice(n,t)},indexOf:function(n){return(n=this.getNode(n),!n&&n!==0)?-1:n.getAttribute("data-recordIndex")?Number(n.getAttribute("data-recordIndex")):this.all.indexOf(n)},onDestroy:function(){var n=this,t=n.updateSuspendCounter;for(n.all.clear(),n.emptyEl=null,Ext.Component.prototype.onDestroy.call(this),n.bindStore(null),Ext.destroy(n.navigationModel,n.selectionModel);t--;)Ext.resumeLayouts(!0)},onItemSelect:function(n){var t=this.getNode(n);t&&Ext.fly(t).addCls(this.selectedItemCls)},onItemDeselect:function(n){var t=this.getNode(n);t&&Ext.fly(t).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector},addItemCls:function(n,t){var i=this.getNode(n);i&&Ext.fly(i).addCls(t)},removeItemCls:function(n,t){var i=this.getNode(n);i&&Ext.fly(i).removeCls(t)},updateStore:function(n){this.isConfiguring||(delete this.store,this.bindStore(n))},privates:{createMask:function(n){var t=this,r=t.getStore(),i;if(r&&!r.isEmptyStore&&!r.loadsSynchronously()){i={target:t,msg:t.loadingText,useMsg:t.loadingUseMsg,store:r};t.loadingCls&&(i.msgCls=t.loadingCls);Ext.isObject(n)&&(i=Ext.apply(i,n));t.loadMask=new Ext.LoadMask(i);t.loadMask.on({scope:t,beforeshow:t.onMaskBeforeShow,hide:t.onMaskHide})}return t.loadMask},getFocusEl:function(){return this.el},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():Ext.Component.prototype.getTargetEl.call(this)}}},1,0,["component","box"],{component:!0,box:!0},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var n=this.getSelectionModel();return n.select.apply(n,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var n=this.getSelectionModel();return n.deselectAll()}})})});Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var n=this;Ext.view.AbstractView.prototype.afterRender.call(this);n.mon(n.el,{scope:n,click:n.handleEvent,longpress:n.handleEvent,mousedown:n.handleEvent,mouseup:n.handleEvent,dblclick:n.handleEvent,contextmenu:n.handleEvent,keydown:n.handleEvent,keyup:n.handleEvent,keypress:n.handleEvent,mouseover:n.handleMouseOver,mouseout:n.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(n){var t=this,r=t.getTargetSelector(),i=n.getTarget(r);t.isDestroyed||(i?t.mouseOverItem!==i&&t.el.contains(i)&&(t.mouseOverItem=n.item=i,n.newType="mouseenter",t.handleEvent(n)):t.handleEvent(n))},handleMouseOut:function(n){var r=this.getTargetSelector(),t=n.getTarget(r),u=n.getRelatedTarget(r),i;(t!==u||t===null&&u===null)&&(this.isDestroyed||(t&&(i=this.self.getBoundView(t))?(n.item=t,n.newType="mouseleave",i.handleEvent(n),i.mouseOverItem=null):this.handleEvent(n)))},handleEvent:function(n){var t=this,i=t.keyEventRe.test(n.type),r=t.getNavigationModel();n.view=t;i&&(n.item=r.getItem(),n.record=r.getRecord());n.item||(n.item=n.getTarget(t.itemSelector));n.item&&!n.record&&(n.record=t.getRecord(n.item));t.processUIEvent(n)!==!1&&t.processSpecialEvent(n);i&&!Ext.fly(n.target).isInputField()&&(n.getKey()===n.SPACE||n.isNavKeyPress(!0))&&n.preventDefault()},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(n){if(Ext.getBody().isAncestor(n.target)){var t=this,u=n.item,s=t.self,o=s.EventMap,h=s.TouchEventMap,e,f=n.record,i=n.type,r=i;if(n.newType&&(r=n.newType),u){if((r=h[r]||r,e=n.recordIndex=t.indexInStore?t.indexInStore(f):t.indexOf(u),!f||t.processItemEvent(f,u,e,n)===!1)||t["onBeforeItem"+o[r]](f,u,e,n)===!1||t.fireEvent("beforeitem"+r,t,f,u,e,n)===!1||t["onItem"+o[r]](f,u,e,n)===!1)return!1;t.fireEvent("item"+r,t,f,u,e,n)}else{if(i=h[i]||i,t.processContainerEvent(n)===!1||t["onBeforeContainer"+o[i]](n)===!1||t.fireEvent("beforecontainer"+i,t,n)===!1||t["onContainer"+o[i]](n)===!1)return!1;t.fireEvent("container"+i,t,n)}return!0}},onItemMouseEnter:function(n,t){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(n){var t=this,i=t.highlightedItem,r=t.overItemCls;i!==n&&(i&&(Ext.fly(i).removeCls(r),Ext.isIE8&&(t.repaintBorder(i),t.repaintBorder(i.nextSibling)),t.hasListeners.unhighlightitem&&t.fireEvent("unhighlightitem",t,i)),t.highlightedItem=n,n&&(Ext.fly(n).addCls(t.overItemCls),Ext.isIE8&&t.repaintBorder(n.nextSibling),t.hasListeners.highlightitem&&t.fireEvent("highlightitem",t,n)))},highlightItem:function(n){this.setHighlightedItem(n)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(n,t){var i=this,f,r,u;i.viewReady&&(f=i.getNode(t),r=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments),u=i.highlightedItem,u&&u===f&&(delete i.highlightedItem,r&&i.highlightItem(r)))},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(n){var e=this,r=e.getNode(n),o=e.el,u=0,f=0,t=o.getRegion(),i;t.bottom=t.top+o.dom.clientHeight;t.right=t.left+o.dom.clientWidth;r&&(i=Ext.fly(r).getRegion(),i.top<t.top?u=i.top-t.top:i.bottom>t.bottom&&(u=i.bottom-t.bottom),i.left<t.left?f=i.left-t.left:i.right>t.right&&(f=i.right-t.right),(f||u)&&e.scrollBy(f,u,!1),Ext.fly(r).set({tabIndex:-1}),r.focus())},bindStore:function(n,t,i){var u=this,r=u[i],f=u.getSelectionModel();r&&r.isFeatureStore&&u.rendered?(f.bindStore(r.store),f.bindComponent(u),n.isFeatureStore?(u.bindStoreListeners(n),r.bindStore(r.store)):r.bindStore(n)):Ext.view.AbstractView.prototype.bindStore.call(this,n,t,i)},privates:{repaintBorder:function(n){var t=this.getNode(n);t&&(t.className=t.className)}}},0,["dataview"],["component","box","dataview"],{component:!0,box:!0,dataview:!0},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0);Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:!0,constructor:function(n){this.view=n},isEqual:function(n){return n?this.record===n.record&&this.column===n.column:!1},setPosition:function(n,t){var i=this;return arguments.length===1&&(n.length?(t=n[0],t=n[1]):(n.view&&(i.view=n.view),t=n.column,n=n.row)),i.setRow(n),i.setColumn(t),i},setAll:function(n,t,i,r,u){var f=this;return f.view=n,f.rowIdx=t,f.colIdx=i,f.record=r,f.column=u,f},setRow:function(n){var t=this,i=t.view.dataSource;n!==undefined&&(typeof n=="number"?(t.rowIdx=Math.max(Math.min(n,i.getCount()-1),0),t.record=i.getAt(n)):n.isModel?(t.record=n,t.rowIdx=i.indexOf(n)):n.tagName&&(t.record=t.view.getRecord(n),t.rowIdx=i.indexOf(t.record)))},setColumn:function(n){var t=this,i=t.view.getVisibleColumnManager();n!==undefined&&(typeof n=="number"?(t.colIdx=n,t.column=i.getHeaderAtIndex(n)):n.isHeader&&(t.column=n,t.colIdx=i.indexOf(n)))},next:function(){var n=this,t=n.view.getVisibleColumnManager();n.colIdx++;n.colIdx===t.getColumns().length?n.setPosition(Math.min(n.rowIdx+1,n.view.dataSource.getCount()-1),n.colIdx):n.setColumn(n.colIdx)},equal:function(n){return n&&n.isCellContext&&n.view===this.view&&n.record===this.record&&n.column===this.column},clone:function(){var n=this,t=new n.self(n.view);return t.rowIdx=n.rowIdx,t.colIdx=n.colIdx,t.record=n.record,t.column=n.column,t}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0);Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(n){var t=this,i=t.owner.lockingPartner,r=n.context;t.columnFlusherId||(t.columnFlusherId=t.id+"-columns",t.rowHeightFlusherId=t.id+"-rows");Ext.layout.component.Auto.prototype.beginLayout.call(this,n);i&&i.grid.isVisible()&&(n.lockingPartnerContext||((n.lockingPartnerContext=r.getCmp(i)).lockingPartnerContext=n),n.rowHeightSynchronizer=t.owner.syncRowHeightBegin());(n.headerContext=r.getCmp(t.headerCt)).viewContext=n},beginLayoutCycle:function(n,t){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,n,t);n.syncRowHeights&&(n.target.syncRowHeightClear(n.rowHeightSynchronizer),n.syncRowHeights=!1)},calculate:function(n){var t=this,l=n.context,a=n.lockingPartnerContext,w=n.headerContext,u=n.ownerCtContext,f=t.owner,e=w.getProp("columnsChanged"),i=n.state,o,v,r,s,y=f.body.dom,p,h,c;if(!f.all.getCount()&&(!y||!f.body.child("table"))){n.setProp("viewOverflowY",!1);Ext.layout.component.Auto.prototype.calculate.call(this,n);return}if(e===undefined){t.done=!1;return}if(e&&((o=i.columnFlusher)||l.queueFlush(i.columnFlusher=o={ownerContext:n,columnsChanged:e,layout:t,id:t.columnFlusherId,flush:t.flushColumnWidths}),!o.flushed)){t.done=!1;return}if(a){if(!(s=i.rowHeightFlusher)){if((r=i.rowHeights)||(i.rowHeights=r=n.rowHeightSynchronizer,t.owner.syncRowHeightMeasure(r),n.setProp("rowHeights",r)),!(v=a.getProp("rowHeights"))){t.done=!1;return}l.queueFlush(i.rowHeightFlusher=s={ownerContext:n,synchronizer:r,otherSynchronizer:v,layout:t,id:t.rowHeightFlusherId,flush:t.flushRowHeights})}if(!s.flushed){t.done=!1;return}}if(Ext.layout.component.Auto.prototype.calculate.call(this,n),!n.heightModel.shrinkWrap){if(c=!1,!u.heightModel.shrinkWrap){if(h=u.target.layout.getContainerSize(u),!h.gotHeight){t.done=!1;return}p=y.offsetHeight;c=p>h.height}n.setProp("viewOverflowY",c)}},measureContentHeight:function(n){var i=this.owner,r=i.body.dom,u=i.emptyEl,t=0;return u&&(t+=u.offsetHeight),r&&(t+=r.offsetHeight),n.headerContext.state.boxPlan.tooNarrow&&(t+=Ext.getScrollbarSize().height),t},flushColumnWidths:function(){var n=this,e=n.layout,r=n.ownerContext,o=n.columnsChanged,s=r.target,h=o.length,t,i,u,f;if(r.state.columnFlusher===n){for(i=0;i<h;i++)(t=o[i])&&(u=t.props.width,s.body.select(s.getColumnSizerSelector(t.target)).setWidth(u),f=t.lastBox,f&&(f.width=u));n.flushed=!0;e.pending||r.context.queueLayout(e)}},flushRowHeights:function(){var n=this,i=n.layout,t=n.ownerContext;t.state.rowHeightFlusher===n&&(t.target.syncRowHeightFinish(n.synchronizer,n.otherSynchronizer),n.flushed=!0,t.syncRowHeights=!0,i.pending||t.context.queueLayout(i))},finishedLayout:function(n){var t=Ext.fly(this.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.call(this,n);t&&t.setWidth(n.headerContext.props.contentWidth)}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0);Ext.cmd.derive("Ext.grid.locking.RowSynchronizer",Ext.Base,{constructor:function(n,t){var r=this,i;for(r.view=n,r.rowEl=t,r.els={},r.add("data",n.rowSelector),i=n.rowTpl;i;i=i.nextTpl)i.beginRowSync&&i.beginRowSync(r)},add:function(n,t){var i=Ext.fly(this.rowEl).down(t,!0);i&&(this.els[n]={el:i})},finish:function(n){var u=this,f=u.els,h=n.els,e,o=0,s=0,i,r,t;for(r in f)e=h[r],t=e?e.height:0,i=t-f[r].height,i>0?(o+=i,Ext.fly(f[r].el).setHeight(t)):s-=i;t=n.rowHeight+s;u.rowHeight+o<t&&Ext.fly(u.rowEl).setHeight(t)},measure:function(){var n=this,t=n.els,i;n.rowHeight=n.rowEl.offsetHeight;for(i in t)t[i].height=t[i].el.offsetHeight},reset:function(){var n=this.els,t;this.rowEl.style.height="";for(t in n)n[t].el.style.height=""}},1,0,0,0,0,0,[Ext.grid.locking,"RowSynchronizer"],0);Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(n){this.view=n;this.clear();this.el=new Ext.dom.Fly},clear:function(n){var t=this,i=t.elements,r=t.statics().range,u;if(t.count&&n)if(r)r.setStartBefore(i[t.startIndex]),r.setEndAfter(i[t.endIndex]),r.deleteContents();else for(u in i)Ext.removeNode(i[u]);t.elements={};t.count=t.startIndex=0;t.endIndex=-1},fill:function(n,t,i){i=i||0;var u=this,e=u.elements={},r,f=n.length-i;for(t||(t=0),r=0;r<f;r++)e[t+r]=n[r+i];return u.startIndex=t,u.endIndex=t+f-1,u.count=f,this},insert:function(n,t){var r=this,f=r.elements,i,u=t.length;if(r.count){if(n<r.count)for(i=r.endIndex+u;i>=n+u;i--)f[i]=f[i-u],f[i].setAttribute("data-recordIndex",i);r.endIndex=r.endIndex+u}else r.startIndex=n,r.endIndex=n+u-1;for(i=0;i<u;i++,n++)f[n]=t[i],f[n].setAttribute("data-recordIndex",n);r.count+=u},invoke:function(n,t){var i=this,u,r;for(n=Ext.dom.Element.prototype[n],r=i.startIndex;r<=i.endIndex;r++)u=i.item(r),u&&n.apply(u,t);return i},item:function(n,t){var r=this.elements[n],i=null;return r&&(i=t?this.elements[n]:this.el.attach(this.elements[n])),i},first:function(n){return this.item(this.startIndex,n)},last:function(n){return this.item(this.endIndex,n)},moveBlock:function(n){var i=this,r=i.elements,e,u,f,t;n<0?(t=i.startIndex-1,u=i.endIndex,f=1):(t=i.endIndex+1,u=i.startIndex,f=-1);i.startIndex+=n;i.endIndex+=n;do t+=f,e=r[t+n]=r[t],e.setAttribute("data-recordIndex",t+n),(t<i.startIndex||t>i.endIndex)&&delete r[t];while(t!==u);delete r[t]},getCount:function(){return this.count},slice:function(n,t){var u=this.elements,r=[],i;for(t=t?Math.min(this.endIndex,t-1):this.endIndex,i=n||this.startIndex;i<=t;i++)r.push(u[i]);return r},replaceElement:function(n,t,i){var u=this.elements,r=typeof n=="number"?n:this.indexOf(n);return r>-1&&(t=Ext.getDom(t),i&&(n=u[r],n.parentNode.insertBefore(t,n),Ext.removeNode(n),t.setAttribute("data-recordIndex",r)),this.elements[r]=t),this},indexOf:function(n){var i=this.elements,t;for(n=Ext.getDom(n),t=this.startIndex;t<=this.endIndex;t++)if(i[t]===n)return t;return-1},removeRange:function(n,t,i){var r=this,f=r.elements,e,u,s,o;for(t=t==null?r.endIndex+1:Math.min(r.endIndex+1,t+1),n==null&&(n=r.startIndex),s=t-n,u=n,o=t;u<=r.endIndex;u++,o++)e=f[u],i&&u<t&&Ext.removeNode(e),o<=r.endIndex?(e=f[u]=f[o],e.setAttribute("data-recordIndex",u)):delete f[u];r.count-=s;r.endIndex-=s},removeElement:function(n,t){var i=this,h,f,s=i.elements,c,e,r=0,u,o;if(Ext.isArray(n)){for(h=n,n=[],e=h.length,r=0;r<e;r++)f=h[r],typeof f!="number"&&(f=i.indexOf(f)),f>=i.startIndex&&f<=i.endIndex&&(n[n.length]=f);Ext.Array.sort(n);e=n.length}else{if(n<i.startIndex||n>i.endIndex)return;e=1;n=[n]}for(u=o=n[0],r=0;u<=i.endIndex;u++,o++)r<e&&u===n[r]&&(o++,r++,t&&Ext.removeNode(s[u])),o<=i.endIndex&&o>=i.startIndex?(c=s[u]=s[o],c.setAttribute("data-recordIndex",u)):delete s[u];i.endIndex-=e;i.count-=e},scroll:function(n,t,i){var u=this,f=u.view,a=f.store,e=u.elements,y=n.length,p=f.getNodeContainer(),v=f.hasListeners.itemremove,w=f.hasListeners.itemadd,s=u.statics().range,r,o,l,h,c;if(n.length){if(t===-1){if(i){if(s)for(s.setStartBefore(e[u.endIndex-i+1]),s.setEndAfter(e[u.endIndex]),s.deleteContents(),r=u.endIndex-i+1;r<=u.endIndex;r++)o=e[r],delete e[r],v&&f.fireEvent("itemremove",a.getByInternalId(o.getAttribute("data-recordId")),r,o,f);else for(r=u.endIndex-i+1;r<=u.endIndex;r++)o=e[r],delete e[r],Ext.removeNode(o),v&&f.fireEvent("itemremove",a.getByInternalId(o.getAttribute("data-recordId")),r,o,f);u.endIndex-=i}if(n.length){for(c=f.bufferRender(n,u.startIndex-=y),h=c.children,r=0;r<y;r++)e[u.startIndex+r]=h[r];p.insertBefore(c.fragment,p.firstChild);w&&f.fireEvent("itemadd",n,u.startIndex,h)}}else{if(i){if(l=u.startIndex+i,s)for(s.setStartBefore(e[u.startIndex]),s.setEndAfter(e[l-1]),s.deleteContents(),r=u.startIndex;r<l;r++)o=e[r],delete e[r],v&&f.fireEvent("itemremove",a.getByInternalId(o.getAttribute("data-recordId")),r,o,f);else for(r=u.startIndex;r<l;r++)o=e[r],delete e[r],Ext.removeNode(o),v&&f.fireEvent("itemremove",a.getByInternalId(o.getAttribute("data-recordId")),r,o,f);u.startIndex=l}for(c=f.bufferRender(n,u.endIndex+1),h=c.children,r=0;r<y;r++)e[u.endIndex+=1]=h[r];p.appendChild(c.fragment);w&&f.fireEvent("itemadd",n,u.endIndex+1,h)}return u.count=u.endIndex-u.startIndex+1,h}},sumHeights:function(){for(var t=0,i=this.elements,n=this.startIndex;n<=this.endIndex;n++)t+=i[n].offsetHeight;return t}},1,0,0,0,0,0,[Ext.view,"NodeCache"],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)});Ext.cmd.derive("Ext.view.Table",Ext.view.View,{alternateClassName:"Ext.grid.View",isTableView:!0,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","deselect","select","beforedeselect","beforeselect","selectionchange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand"]},scrollable:!0,componentLayout:"tableview",baseCls:"x-grid-view",unselectableCls:"x-unselectable",firstCls:"x-grid-cell-first",lastCls:"x-grid-cell-last",itemCls:"x-grid-item",selectedItemCls:"x-grid-item-selected",selectedCellCls:"x-grid-cell-selected",focusedItemCls:"x-grid-item-focused",overItemCls:"x-grid-item-over",altRowCls:"x-grid-item-alt",dirtyCls:"x-grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)x-grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp("x-grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"grid",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="x-grid-item-container" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","<\/div>",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellPadding="0" cellSpacing="0" {ariaTableAttr} style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","<\/table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}" {rowAttr:attributes} {ariaRowAttr}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","<\/tpl>","<\/tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}<\/tpl>" tabindex="-1" {ariaCellAttr} data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}<\/tpl>" {ariaCellInnerAttr}>{value}<\/div>',"<\/td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:["x-grid-cell x-grid-td"]},constructor:function(n){n.grid.isTree&&(n.baseCls="x-tree-view");Ext.view.View.prototype.constructor.call(this,n)},hasVariableRowHeight:function(n){var t=this;return t.variableRowHeight||t.store.isGrouped()||t.getVisibleColumnManager().hasVariableRowHeight()||!n&&t.lockingPartner&&t.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){var n=this;n.columnLines&&n.addCls(n.grid.colLinesCls);n.rowLines&&n.addCls(n.grid.rowLinesCls);n.body=new Ext.dom.Fly;n.body.id=n.id+"gridBody";n.trackOver||(n.overItemCls=null);n.headerCt.view=n;n.grid.view=n;n.initFeatures(n.grid);n.itemSelector=n.getItemSelector();n.all=new Ext.view.NodeCache(n);Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(n,t){var r=this,i=r.ownerGrid,u=n.type;return t||n&&n.isSelectionModel||(n=i.selModel||n),n&&(n.isSelectionModel?(n.allowDeselect=i.allowDeselect||n.selectionMode!=="SINGLE",n.locked=i.disableSelection):(typeof n=="string"?n={type:n}:n.type=i.selType||n.selType||n.type||u,n.mode||(i.simpleSelect?n.mode="SIMPLE":i.multiSelect&&(n.mode="MULTI")),n=Ext.Factory.selection(Ext.apply({allowDeselect:i.allowDeselect,locked:i.disableSelection},n)))),n},updateSelectionModel:function(n,t){var i=this;t&&(t.un("selectionchange",i.updateBindSelection,i),Ext.destroy(i.selModelRelayer));i.selModelRelayer=i.relayEvents(n,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);n.on("selectionchange",i.updateBindSelection,i);i.selModel=n},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(n,t,i){var u=this,a=i>1,e=a&&document.createRange?document.createRange():null,s=a&&!e?document.createDocumentFragment():null,c=t,y=u.getGridColumns().length,l=y-1,b=(u.firstCls||u.lastCls)&&(t===0||t===y||n===0||n===l),o,h,p,v,f,r,w;if(u.rendered&&t!==n){for(p=u.el.query(u.rowSelector),t>n&&s&&(c-=1),o=0,v=p.length;o<v;o++){if(f=p[o],r=f.childNodes,b){if(r.length===1){Ext.fly(r[0]).addCls(u.firstCls);Ext.fly(r[0]).addCls(u.lastCls);continue}n===0?(Ext.fly(r[0]).removeCls(u.firstCls),Ext.fly(r[1]).addCls(u.firstCls)):n===l&&(Ext.fly(r[l]).removeCls(u.lastCls),Ext.fly(r[l-1]).addCls(u.lastCls));t===0?(Ext.fly(r[0]).removeCls(u.firstCls),Ext.fly(r[n]).addCls(u.firstCls)):t===y&&(Ext.fly(r[l]).removeCls(u.lastCls),Ext.fly(r[n]).addCls(u.lastCls))}if(a){if(e)e.setStartBefore(r[n]),e.setEndAfter(r[n+i-1]),s=e.extractContents();else for(h=0;h<i;h++)s.appendChild(r[n]);f.insertBefore(s,r[c]||null)}else f.insertBefore(r[n],r[c]||null)}for(w=u.el.query("colgroup"),o=0,v=w.length;o<v;o++)if(f=w[o],a){if(e)e.setStartBefore(f.childNodes[n]),e.setEndAfter(f.childNodes[n+i-1]),s=e.extractContents();else for(h=0;h<i;h++)s.appendChild(f.childNodes[n]);f.insertBefore(s,f.childNodes[c]||null)}else f.insertBefore(f.childNodes[n],f.childNodes[c]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(n,t,i){this.mon(this,n,t,i,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(n){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(n)},getCell:function(n,t){var i=this.getRow(n);return Ext.fly(i).down(t.getCellSelector())},getFeature:function(n){var t=this.featuresMC;if(t)return t.get(n)},findFeature:function(n){if(this.features)return Ext.Array.findBy(this.features,function(t){if(t.ftype===n)return!0})},initFeatures:function(n){var t=this,r,u,i,f;for(t.tpl=Ext.XTemplate.getTpl(this,"tpl"),t.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),t.addRowTpl(Ext.XTemplate.getTpl(this,"outerRowTpl")),t.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),t.featuresMC=new Ext.util.MixedCollection,u=t.features=t.constructFeatures(),f=u?u.length:0,r=0;r<f;r++)i=u[r],i.view=t,i.grid=n,t.featuresMC.add(i),i.init(n)},renderTHead:function(n,t,i){var u=n.view.headerFns,f,r;if(u)for(r=0,f=u.length;r<f;++r)u[r].call(this,n,t,i)},addHeaderFn:function(n){var t=this.headerFns;t||(t=this.headerFns=[]);t.push(n)},renderTFoot:function(n,t,i){var u=n.view.footerFns,f,r;if(u)for(r=0,f=u.length;r<f;++r)u[r].call(this,n,t,i)},addFooterFn:function(n){var t=this.footerFns;t||(t=this.footerFns=[]);t.push(n)},addTpl:function(n){return this.insertTpl("tpl",n)},addRowTpl:function(n){return this.insertTpl("rowTpl",n)},addCellTpl:function(n){return this.insertTpl("cellTpl",n)},insertTpl:function(n,t){var u=this,i,r;for(t=t.isTemplate?Ext.Object.chain(t):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",t),i=u[n];t.priority<i.priority;i=i.nextTpl)r=i;return r?r.nextTpl=t:u[n]=t,t.nextTpl=i,t},tplApplyOut:function(n,t,i){this.before&&this.before(n,t,i)===!1||(this.nextTpl.applyOut(n,t,i),this.after&&this.after(n,t,i))},constructFeatures:function(){var f=this,i=f.features,n,r,t=0,u;if(i)for(r=[],u=i.length;t<u;t++)n=i[t],n.isFeature||(n=Ext.create("feature."+n.ftype,n)),r[t]=n;return r},beforeRender:function(){var n=this;Ext.view.View.prototype.beforeRender.call(this);n.enableTextSelection||n.protoEl.unselectable()},onBindStore:function(n){var i=this,t=i.bufferedRenderer;t&&t.store!==n&&t.bindStore(n);i.all&&i.all.getCount()&&(t&&t.setBodyTop(0),i.clearViewEl());Ext.view.View.prototype.onBindStore.apply(this,arguments)},getStoreListeners:function(){var n=Ext.view.View.prototype.getStoreListeners.call(this);return n.beforepageremove=this.beforePageRemove,n},beforePageRemove:function(n,t){var i=this.all,r=n.getPageSize();if(i.startIndex>=(t-1)*r&&i.endIndex<=t*r-1)return n.get(t),!1},onViewScroll:function(n,t,i){this.ignoreScroll||Ext.view.View.prototype.onViewScroll.call(this,n,t,i)},createRowElement:function(n,t,i){var r=this,u=r.renderBuffer,f=r.collectData([n],t);return f.columns=i,r.tpl.overwrite(u,f),Ext.fly(u).down(r.getNodeContainerSelector(),!0).firstChild},bufferRender:function(n,t){var u=this,i=u.renderBuffer,r,f=document.createRange?document.createRange():null;if(u.tpl.overwrite(i,u.collectData(n,t)),i=Ext.fly(i).down(u.getNodeContainerSelector(),!0),f)f.selectNodeContents(i),r=f.extractContents();else for(r=document.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return{fragment:r,children:Ext.Array.toArray(r.childNodes)}},collectData:function(n,t){var i=this;return i.rowValues.view=i,i.tableValues.view=i,i.tableValues.rows=n,i.tableValues.columns=null,i.tableValues.viewStartIndex=t,i.tableValues.touchScroll=i.touchScroll,i.tableValues.tableStyle="width:"+i.headerCt.getTableWidth()+"px",i.tableValues},collectNodes:function(){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(n){var t=this,i=t.getBodySelector();i&&t.body.attach(t.el.down(i,!0));t.hasLoadingHeight||(Ext.suspendLayouts(),Ext.view.View.prototype.refreshSize.apply(this,arguments),(n||t.hasVariableRowHeight()&&t.dataSource.getCount())&&t.grid.updateLayout(),Ext.resumeLayouts(!0))},clearViewEl:function(n){for(var t=this,u=t.all,o=t.getStore(),f,r,e,i=u.startIndex;i<=u.endIndex;i++)f=u.item(i,!0),t.fireEvent("itemremove",o.getByInternalId(f.getAttribute("data-recordId")),i,f,t);Ext.view.View.prototype.clearViewEl.call(this);r=Ext.fly(t.getNodeContainer());r&&!n&&(e=t.getTargetEl(),e.dom!==r.dom&&r.destroy())},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(n){return Ext.getCmp(n.getAttribute("data-boundView"))}},getRecord:function(n){var i=this,t;if(!i.store.isDestroyed)return n.isModel?n:(n=i.getNode(n),n?!i.hasActiveFeature()&&(t=n.getAttribute("data-recordIndex"),t&&(t=parseInt(t,10),t>-1))?i.store.data.getAt(t):i.dataSource.getByInternalId(n.getAttribute("data-recordId")):void 0)},indexOf:function(n){return(n=this.getNode(n),!n&&n!==0)?-1:this.all.indexOf(n)},indexInStore:function(n){return n?this.dataSource.indexOf(this.getRecord(n)):-1},renderRows:function(n,t,i,r){var u=this.rowValues,e=n.length,f;for(u.view=this,u.columns=t,f=0;f<e;f++,i++)u.itemClasses.length=u.rowClasses.length=0,this.renderRow(n[f],i,r);u.view=u.columns=u.record=null},renderColumnSizer:function(n,t){var r=n.columns||this.getGridColumns(),e=r.length,i,u,f;for(t.push('<colgroup role="presentation">'),i=0;i<e;i++)u=r[i],f=u.cellWidth?u.cellWidth:Ext.grid.header.Container.prototype.defaultWidth,t.push('<col role="presentation" class="',"x-","grid-cell-",r[i].getItemId(),'" style="width:'+f+'px">');t.push("<\/colgroup>")},renderRow:function(n,t,i){var r=this,c=t===-1,o=r.selectionModel,u=r.rowValues,f=u.itemClasses,s=u.rowClasses,l=r.itemCls,e,h=r.rowTpl;if(u.rowAttr={},u.record=n,u.recordId=n.internalId,u.recordIndex=r.store.indexOf(n),u.rowIndex=t,u.rowId=r.getRowId(n),u.itemCls=u.rowCls="",u.columns||(u.columns=r.ownerCt.getVisibleColumnManager().getColumns()),f.length=s.length=0,c||(f[0]=l,!r.ownerCt.disableSelection&&o.isRowSelected&&o.isRowSelected(n)&&f.push(r.selectedItemCls),r.stripeRows&&t%2!=0&&f.push(r.altRowCls),r.getRowClass&&(e=r.getRowClass(n,t,null,r.dataSource),e&&s.push(e))),i)h.applyOut(u,i,r.tableValues);else return h.apply(u,r.tableValues)},renderCell:function(n,t,i,r,u,f){var o=this,v,l=o.selectionModel,e=o.cellValues,s=e.classes,y=t.data[n.dataIndex],p=o.cellTpl,c,h,a=o.navigationModel.getPosition();e.record=t;e.column=n;e.recordIndex=i;e.rowIndex=r;e.columnIndex=u;e.cellIndex=u;e.align=n.align;e.innerCls=n.innerCls;e.tdCls=e.tdStyle=e.tdAttr=e.style="";e.unselectableAttr=o.enableTextSelection?"":'unselectable="on"';s[1]=n.getCellId();h=2;n.renderer&&n.renderer.call?(v=o.ownerCt.columnManager.getHeaderIndex(n),c=n.renderer.call(n.usingDefaultRenderer?n:n.scope||o.ownerCt,y,e,t,i,v,o.dataSource,o),e.css&&(t.cssWarning=!0,e.tdCls+=" "+e.css,e.css=null),e.tdCls&&(s[h++]=e.tdCls)):c=y;e.value=c==null||c===""?n.emptyCellText:c;n.tdCls&&(s[h++]=n.tdCls);o.markDirty&&t.dirty&&t.isModified(n.dataIndex)&&(s[h++]=o.dirtyCls);n.isFirstVisible&&(s[h++]=o.firstCls);n.isLastVisible&&(s[h++]=o.lastCls);o.enableTextSelection||(s[h++]=o.unselectableCls);l&&(l.isCellModel||l.isSpreadsheetModel)&&l.isCellSelected(o,i,n)&&(s[h++]=o.selectedCellCls);a&&a.record.id===t.id&&a.column===n&&(s[h++]=o.focusedItemCls);s.length=h;e.tdCls=s.join(" ");p.applyOut(e,f);e.column=null},getRow:function(n){var t;return!n&&n!==0||!this.rendered?null:(n.target&&(n=n.target),Ext.isString(n))?Ext.fly(n).down(this.rowSelector,!0):Ext.isNumber(n)?(t=this.all.item(n),t&&t.down(this.rowSelector,!0)):n.isModel?this.getRowByRecord(n):(t=Ext.fly(n),t.is(this.itemSelector))?this.getRowFromItem(t):t.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(n){return this.id+"-record-"+n.internalId},constructRowId:function(n){return this.id+"-record-"+n},getNodeById:function(n){return n=this.constructRowId(n),this.retrieveNode(n,!1)},getRowById:function(n){return n=this.constructRowId(n),this.retrieveNode(n,!0)},getNodeByRecord:function(n){return this.retrieveNode(this.getRowId(n),!1)},getRowByRecord:function(n){return this.retrieveNode(this.getRowId(n),!0)},getRowFromItem:function(n){for(var i=Ext.getDom(n).tBodies[0].childNodes,r=i.length,t=0;t<r;t++)if(Ext.fly(i[t]).is(this.rowSelector))return i[t]},retrieveNode:function(n,t){var i=this.el.getById(n,!0);return t&&i?Ext.fly(i).down(this.rowSelector,!0):i},updateIndexes:Ext.emptyFn,bodySelector:"div.x-grid-item-container",nodeContainerSelector:"div.x-grid-item-container",itemSelector:"table.x-grid-item",rowSelector:"tr.x-grid-row",cellSelector:"td.x-grid-cell",sizerSelector:".x-grid-cell",innerSelector:"div.x-grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(n){var t=this.sizerSelector+"-"+n.getItemId();return"td"+t+",col"+t},getItemSelector:function(){return this.itemSelector},getCellSelector:function(n){return n?n.getCellSelector():this.cellSelector},getCellInnerSelector:function(n){return this.getCellSelector(n)+" "+this.innerSelector},addRowCls:function(n,t){var i=this.getRow(n);i&&Ext.fly(i).addCls(t)},removeRowCls:function(n,t){var i=this.getRow(n);i&&Ext.fly(i).removeCls(t)},onRowSelect:function(n){var t=this;t.addItemCls(n,t.selectedItemCls);Ext.isIE8&&t.repaintBorder(n+1)},onRowDeselect:function(n){var t=this;t.removeItemCls(n,t.selectedItemCls);Ext.isIE8&&t.repaintBorder(n+1)},onCellSelect:function(n){var t=this.getCellByPosition(n);t&&t.addCls(this.selectedCellCls)},onCellDeselect:function(n){var t=this.getCellByPosition(n,!0);t&&Ext.fly(t).removeCls(this.selectedCellCls)},getCellInclusive:function(n,t){if(n){var i=this.getRow(n.row),r=this.ownerCt.getColumnManager().getHeaderAtIndex(n.column);if(r&&i)return Ext.fly(i).down(this.getCellSelector(r),t)}return!1},getCellByPosition:function(n,t){if(n){var i=n.view||this,r=i.getRow(n.record||n.row),u=n.column.isColumn?n.column:i.getVisibleColumnManager().getHeaderAtIndex(n.column);if(u&&r)return Ext.fly(r).down(i.getCellSelector(u),t)}return!1},onFocusEnter:function(n){var t=this,e,i=t.getNavigationModel(),s,r,o=t.bufferedRenderer,f,u;if(n=n.event,!t.cellFocused&&t.all.getCount()&&t.dataSource.getCount())if(u=n.getTarget(),u&&t.el.contains(u)&&u!==t.el.dom&&!Ext.fly(u).is(t.getCellSelector()))i.lastFocused&&(i.position=i.lastFocused),t.cellFocused=!0;else{if(s=r=t.getLastFocused(),r||(e=t.isNormalView?t.lockingPartner.isVisible()?t.lockingPartner:t.normalView:t,f=t.dataSource.getAt(o?o.getFirstVisibleRowIndex():0),f&&!f.isNonData&&(r=new Ext.grid.CellContext(e).setPosition({row:f,column:0}))),!r){n.stopEvent();n.getTarget().blur();return}i.setPosition(r,null,n,null,!0);t.cellFocused=!!i.getPosition()}t.cellFocused&&t.el.dom.setAttribute("tabindex","-1")},onFocusLeave:function(n){var t=this;t.cellFocused&&(n.toComponent!==t.lockingPartner&&t.getNavigationModel().setPosition(null,null,n.event,null,!0),t.cellFocused=!1,t.focusEl=t.el,t.focusEl.dom.setAttribute("tabindex",0))},onRowFocus:function(n,t,i){var r=this;t?(r.addItemCls(n,r.focusedItemCls),i||r.focusRow(n)):r.removeItemCls(n,r.focusedItemCls);Ext.isIE8&&r.repaintBorder(n+1)},focusRow:function(n,t){var i=this,r=i.getFocusTask();if(t){r.delay(Ext.isNumber(t)?t:10,i.focusRow,i,[n,!1]);return}r.cancel();i.isVisible(!0)&&i.getNavigationModel().setPosition(i.getRecord(n))},focusNode:function(n,t){this.focusRow(n,t)},scrollRowIntoView:function(n,t){n=this.getRow(n);n&&this.scrollElIntoView(n,!1,t)},focusCell:function(n,t){var i=this,u,r=i.getFocusTask();if(t){r.delay(Ext.isNumber(t)?t:10,i.focusCell,i,[n,!1]);return}r.cancel();i.isVisible(!0)&&(u=i.getCellByPosition(n))&&i.getNavigationModel().setPosition(n)},getLastFocused:function(){var t=this,n=t.lastFocused;if(n&&n.record&&n.column&&t.dataSource.indexOf(n.record)!==-1&&t.getVisibleColumnManager().indexOf(n.column)!==-1&&t.getNode(n.record))return n},scrollCellIntoView:function(n,t){n.isCellContext&&(n=this.getCellByPosition(n));n&&this.scrollElIntoView(n,null,t)},scrollElIntoView:function(n,t,i){var r=this.getScrollable();r&&r.scrollIntoView(n,t,i)},syncRowHeightBegin:function(){for(var r=this,t=r.all,e=t.count,u=[],o=Ext.grid.locking.RowSynchronizer,f,n=0,i=t.startIndex;n<e;n++,i++)u[n]=f=new o(r,t.elements[i]),f.reset();return u},syncRowHeightClear:function(n){for(var i=this,r=i.all,u=r.count,t=0;t<u;t++)n[t].reset()},syncRowHeightMeasure:function(n){for(var i=n.length,t=0;t<i;t++)n[t].measure()},syncRowHeightFinish:function(n,t){for(var u=n.length,r=this.bufferedRenderer,i=0;i<u;i++)n[i].finish(t[i]);r&&r.syncRowHeightsFinish()},handleUpdate:function(n,t,i,r){i=i||Ext.data.Model.EDIT;var u=this,y=u.rowTpl,g=u.markDirty,l=u.dirtyCls,nt=i!==Ext.data.Model.EDIT,c=[],w=u.variableRowHeight,tt=0,st=u.ownerCt,a=u.cellFly||(u.self.prototype.cellFly=new Ext.dom.Fly),ht,e,ct,v,b,lt,it,p,rt,k,f,d,h,ut,s,at,o,vt,ft,et,ot;if(u.viewReady&&(e=u.getNodeByRecord(t),e)){for(rt=u.overItemCls,k=u.ownerCt.getVisibleColumnManager().getColumns(),h=0,d=k.length;h<d;h++)f=k[h],f.preventUpdate?(s=Ext.fly(e).down(f.getCellSelector(),!0),!nt&&g&&(a.attach(s),t.isModified(f.dataIndex)?a.addCls(l):a.removeCls(l))):(ut=u.shouldUpdateCell(t,f,r),ut&&(tt=tt|ut,c[c.length]=f,w=w||f.variableRowHeight));if(u.getRowClass||!u.getRowFromItem(e)||tt&1||e.tBodies[0].childNodes.length>1){if(ht=Ext.fly(e,"_internal"),et=e._extData,v=u.createRowElement(t,u.dataSource.indexOf(t),c),ht.hasCls(rt)&&Ext.fly(v).addCls(rt),Ext.isIE9m&&e.mergeAttributes)e.mergeAttributes(v,!0);else for(b=v.attributes,lt=b.length,p=0;p<lt;p++)it=b[p].name,it!=="id"&&e.setAttribute(it,b[p].value);for(et&&(et.isSynchronized=!1),k.length&&(ct=u.getRow(e))&&u.updateColumns(ct,Ext.fly(v).down(u.rowSelector,!0),c);y;){if(y.syncContent&&y.syncContent(e,v,r?c:null)===!1)break;y=y.nextTpl}}else for(h=0,d=c.length;h<d;h++)f=c[h],at=f.dataIndex,o=t.get(at),s=Ext.fly(e).down(f.getCellSelector(),!0),!nt&&g&&(a.attach(s),t.isModified(f.dataIndex)?a.addCls(l):a.removeCls(l)),vt=f.usingDefaultRenderer,ft=vt?f:f.scope,f.updater?Ext.callback(f.updater,ft,[s,o,t,u,u.dataSource],0,f,st):(f.renderer&&(o=Ext.callback(f.renderer,ft,[o,null,t,0,0,u.dataSource,u],0,f,st)),ot=o==null||o==="",o=ot?f.emptyCellText:o,f.producesHTML||ot?s.childNodes[0].innerHTML=o:s.childNodes[0].childNodes[0].data=o),u.highlightClass&&(Ext.fly(s).addCls(u.highlightClass),u.changedCells||(u.self.prototype.changedCells=[],u.prototype.clearChangedTask=new Ext.util.DelayedTask(u.clearChangedCells,u.prototype),u.clearChangedTask.delay(u.unhighlightDelay)),u.changedCells.push({cell:s,cls:u.highlightClass,expires:Ext.Date.now()+1e3}));nt&&g&&!t.dirty&&Ext.fly(e,"_internal").select("."+l).removeCls(l);w&&Ext.suspendLayouts();u.fireEvent("itemupdate",t,u.store.indexOf(t),e);w&&(u.bufferedRenderer?(u.bufferedRenderer.refreshSize(),u.ownerGrid.updateLayout()):u.refreshSize(),Ext.resumeLayouts(!0))}},clearChangedCells:function(){for(var n=this,u=Ext.Date.now(),t,i=0,r=n.changedCells.length;i<r;)if(t=n.changedCells[i],t.expires<=u)Ext.fly(t.cell).removeCls(t.highlightClass),Ext.Array.erase(n.changedCells,i,1),r--;else break;r&&n.clearChangedTask.delay(n.unhighlightDelay)},updateColumns:function(n,t,i){var s=this,u,h,e,r,v=i.length,f,c,l,a,o=s.getCellSelector();if(n.mergeAttributes)n.mergeAttributes(t,!0);else for(u=t.attributes,h=u.length,r=0;r<h;r++)e=u[r].name,e!=="id"&&n.setAttribute(e,u[r].value);for(f=0;f<v;f++)c=i[f],o=s.getCellSelector(c),l=Ext.fly(n).selectNode(o),a=Ext.fly(t).selectNode(o),Ext.fly(l).syncContent(a)},shouldUpdateCell:function(n,t,i){if(!t.preventUpdate){if(t.hasCustomRenderer)return 1;if(i){for(var f=i.length,u,r=0;r<f;++r)if(u=i[r],u===t.dataIndex||u===n.idProperty)return 2}else return 2}return 0},refresh:function(){var n=this,t;Ext.view.View.prototype.refresh.apply(this,arguments);n.headerCt.setSortState();n.touchScroll&&n.el&&!n.all.getCount()&&n.headerCt&&n.headerCt.tooNarrow&&(t=n.getScrollable(),t&&t.setSize({x:n.headerCt.getTableWidth(),y:t.getSize().y}))},processContainerEvent:function(n){var t=Ext.Component.fromElement(n.target.parentNode);if(t&&t.up(this.ownerCt))return!1},processItemEvent:function(n,t,i,r){var u=this,y=u.self,p=y.EventMap,e=r.type,w=u.features,d=w.length,l,s,c,a,h,b=u.getNavigationModel(),v=r.position=u.eventPosition||(u.eventPosition=new Ext.grid.CellContext),k,o,f;if(Ext.isIE&&e==="mouseup"&&!r.within(u.el))return!1;if(u.indexInStore(t)!==-1){if(o=v.rowElement=Ext.fly(t).down(u.rowSelector,!0),Ext.String.startsWith(r.type,"key")&&(k=b.getPosition())&&(f=(f=b.getCell())&&f.dom,h=k.column),f||(f=r.getTarget(u.getCellSelector(),o)),e=y.TouchEventMap[e]||e,f){if(!f.parentNode)return!1;h||(h=u.getHeaderByCell(f));s=u.ownerCt.getColumnManager().getHeaderIndex(h)}else s=-1;if(v.setAll(u,i,h?u.getVisibleColumnManager().getHeaderIndex(h):-1,n,h),v.cellElement=f,c=u.fireEvent("uievent",e,u,f,i,s,r,n,o),c===!1||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===!1)return!1;for(l=0;l<d;++l)if(a=w[l],a.wrapsItem&&a.vetoEvent(n,o,i,r)===!1)return u.processSpecialEvent(r),r.preventDefault(),!1;return f&&e!=="mouseover"&&e!=="mouseout"&&(c=!(u["onBeforeCell"+p[e]](f,s,n,o,i,r)===!1||u.fireEvent("beforecell"+e,u,f,s,n,o,i,r)===!1||u["onCell"+p[e]](f,s,n,o,i,r)===!1||u.fireEvent("cell"+e,u,f,s,n,o,i,r)===!1)),c!==!1&&(c=u.fireEvent("row"+e,u,n,o,i,r)),c}return this.processSpecialEvent(r),r.preventDefault(),!1},processSpecialEvent:function(n){var t=this,c=t.features,l=c.length,i=n.type,u,r,o,f,s,h,e=t.ownerCt;if(Ext.view.View.prototype.processSpecialEvent.apply(this,arguments),i!=="mouseover"&&i!=="mouseout"){for(i=t.self.TouchEventMap[i]||i,u=0;u<l;u++)if(r=c[u],r.hasFeatureEvent&&(f=n.getTarget(r.eventSelector,t.getTargetEl()),f&&(o=r.eventPrefix,s=r.getFireEventArgs("before"+o+i,t,f,n),h=r.getFireEventArgs(o+i,t,f,n),t.fireEvent.apply(t,s)===!1||e.fireEvent.apply(e,s)===!1||t.fireEvent.apply(t,h)===!1||e.fireEvent.apply(e,h)===!1)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(n){this.autoSizeColumn(n)},autoSizeColumn:function(n){if(Ext.isNumber(n)&&(n=this.getGridColumns[n]),n){if(n.isGroupHeader){n.autoSize();return}delete n.flex;n.setWidth(this.getMaxContentWidth(n))}},getMaxContentWidth:function(n){var i=this,r=i.el.query(n.getCellInnerSelector()),h=n.getWidth(),u=0,e=r.length,o=i.body.select(i.getColumnSizerSelector(n)),s=Math.max,f=0,t;for(e>0&&(Ext.supports.ScrollWidthInlinePaddingBug&&(f+=i.getCellPaddingAfter(r[0])),i.columnLines&&(f+=Ext.fly(r[0].parentNode).getBorderWidth("lr"))),o.setWidth(1),n.titleEl.setStyle("text-overflow","clip"),t=n.textEl.dom.offsetWidth+n.titleEl.getPadding("lr"),n.titleEl.setStyle("text-overflow","");u<e;u++)t=s(t,r[u].scrollWidth);return t+=f,t=s(t,40),o.setWidth(h),t},getPositionByEvent:function(n){var t=this,i=n.getTarget(t.cellSelector),r=n.getTarget(t.itemSelector),u=t.getRecord(r),f=t.getHeaderByCell(i);return t.getPosition(u,f)},getHeaderByCell:function(n){return n?this.ownerCt.getVisibleColumnManager().getHeaderById(n.getAttribute("data-columnId")):!1},walkCells:function(n,t,i,r,u,f){if(!n)return!1;var o=this,e=typeof n.row=="number"?n.row:n.rowIdx,l=typeof n.column=="number"?n.column:n.colIdx,a=o.dataSource.getCount(),s=o.ownerCt.getVisibleColumnManager(),y=s.getHeaderIndex(s.getFirst()),p=s.getHeaderIndex(s.getLast()),h=e,c=l,v=s.getHeaderAtIndex(l);if(!v||v.hidden||!a)return!1;i=i||{};t=t.toLowerCase();switch(t){case"right":if(l===p){if(r||e===a-1)return!1;i.ctrlKey||(h=o.walkRows(e,1),h!==e&&(c=y))}else c=i.ctrlKey?p:s.getHeaderIndex(s.getNextSibling(v));break;case"left":if(l===y){if(r||e===0)return!1;i.ctrlKey||(h=o.walkRows(e,-1),h!==e&&(c=p))}else c=i.ctrlKey?y:s.getHeaderIndex(s.getPreviousSibling(v));break;case"up":if(e===0)return!1;h=i.ctrlKey?o.walkRows(-1,1):o.walkRows(e,-1);break;case"down":if(e===a-1)return!1;h=i.ctrlKey?o.walkRows(a,-1):o.walkRows(e,1)}return u&&u.call(f||o,{row:h,column:c})!==!0?!1:(c=s.getHeaderAtIndex(c),new Ext.grid.CellContext(o).setPosition(h,c))},walkRows:function(n,t){var f=this,u=f.dataSource,e=0,o=n,s,r=t<0?0:(u.isBufferedStore?u.getTotalCount():u.getCount())-1,h=r?1:-1,i=n;do{if(r?i>=r:i<=r)return o||r;i+=h;(s=Ext.fly(f.getRow(i)))&&s.isVisible(!0)&&(e+=h,o=i)}while(e!==t);return i},walkRecs:function(n,t){var o=this,i=o.dataSource,s=0,e=n,h,r=t<0?0:(i.isBufferedStore?i.getTotalCount():i.getCount())-1,c=r?1:-1,u=i.indexOf(n),f;do{if(r?u>=r:u<=r)return e;u+=c;f=i.getAt(u);!f.isCollapsedPlaceholder&&(h=Ext.fly(o.getNodeByRecord(f)))&&h.isVisible(!0)&&(s+=c,e=f)}while(s!==t);return e},getFirstVisibleRowIndex:function(){var n=this,i=n.dataSource.isBufferedStore?n.dataSource.getTotalCount():n.dataSource.getCount(),t=n.indexOf(n.all.first())-1;do if(t+=1,t===i)return;while(!Ext.fly(n.getRow(t)).isVisible(!0));return t},getLastVisibleRowIndex:function(){var t=this,n=t.indexOf(t.all.last());do if(n-=1,n===-1)return;while(!Ext.fly(t.getRow(n)).isVisible(!0));return n},getHeaderCt:function(){return this.headerCt},getPosition:function(n,t){return new Ext.grid.CellContext(this).setPosition(n,t)},onDestroy:function(){var t=this,i=t.featuresMC,r,n;if(i)for(n=0,r=i.getCount();n<r;++n)i.getAt(n).destroy();t.cellFly=t.featuresMC=null;Ext.view.View.prototype.onDestroy.apply(this,arguments)},onReplace:function(n,t,i,r){var u=this,f=u.bufferedRenderer;if(u.rendered&&f)f.onReplace(n,t,i,r);else Ext.view.View.prototype.onReplace.apply(this,arguments);u.setPendingStripe(t)},onAdd:function(n,t,i){var r=this,u=r.bufferedRenderer;if(r.rendered&&u)u.onReplace(n,i,[],t);else Ext.view.View.prototype.onAdd.apply(this,arguments);r.setPendingStripe(i)},onRemove:function(n,t,i){var r=this,u=r.bufferedRenderer;if(r.rendered&&u)u.onReplace(n,i,t,[]);else Ext.view.View.prototype.onRemove.apply(this,arguments);r.setPendingStripe(i)},onDataRefresh:function(){var n=this,t=n.ownerCt;if(t&&t.isCollapsingOrExpanding===2){t.on("expand",n.onDataRefresh,n,{single:!0});return}Ext.view.View.prototype.onDataRefresh.call(this)},getViewRange:function(){var n=this;return n.bufferedRenderer?n.bufferedRenderer.getViewRange():Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(n){var t=this.stripeOnUpdate;t=t===null?n:Math.min(t,n);this.stripeOnUpdate=t},onEndUpdate:function(){var n=this,t=n.stripeOnUpdate,i=n.all.startIndex;n.rendered&&(t||t===0)&&(t<i&&(t=i),n.doStripeRows(t),n.stripeOnUpdate=null);Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(n,t){var i=this,f,e,r,u;if(i.rendered&&i.stripeRows)for(f=i.getNodes(n,t),r=0,e=f.length;r<e;r++)u=f[r],u.className=u.className.replace(i.rowClsRe," "),n++,n%2==0&&(u.className+=" "+i.altRowCls)},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(n){return Ext.fly(n).getPadding("r")},privates:{refreshScroll:function(){var t=this,n=t.bufferedRenderer;n?n.refreshSize():Ext.view.View.prototype.refreshScroll.call(this)}}},1,["gridview","tableview"],["component","box","dataview","tableview","gridview"],{component:!0,box:!0,dataview:!0,tableview:!0,gridview:!0},["widget.gridview","widget.tableview"],0,[Ext.view,"Table",Ext.grid,"View"],0);Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",lockable:!1,rowLines:!0},0,["grid","gridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0);Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(n,t){return this.filterBy(function(i){return i.name===n&&i.getFormId()===t})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0);Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:!1,childEls:["boxLabelEl","innerWrapEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" class="{wrapInnerCls} {noBoxLabelCls}" role="presentation">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","<\/label>","{afterBoxLabelTpl}","<\/tpl>",'<input type="button" id="{id}" data-ref="inputEl" role="{role}" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"<\/tpl>','<tpl if="disabled"> disabled="disabled"<\/tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"<\/tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}" autocomplete="off" hidefocus="true" />','<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","<\/label>","{afterBoxLabelTpl}","<\/tpl>","<\/div>",{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:"x-form-cb-wrap",checked:!1,checkedCls:"x-form-cb-checked",boxLabelCls:"x-form-cb-label",boxLabelAlign:"after",afterLabelCls:"x-form-cb-after",wrapInnerCls:"x-form-cb-wrap-inner",noBoxLabelCls:"x-form-cb-wrap-inner-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",isTextInput:!1,ariaRole:"checkbox",onRe:/^on$/i,inputCls:"x-form-cb",initComponent:function(){var n=this,t=n.value;t!==undefined&&(n.checked=n.isChecked(t,n.inputValue));Ext.form.field.Base.prototype.initComponent.apply(this,arguments);n.getManager().add(n)},initValue:function(){var n=this,t=!!n.checked;n.originalValue=n.lastValue=t;n.setValue(t)},getElConfig:function(){var n=this;return n.isChecked(n.rawValue,n.inputValue)&&n.addCls(n.checkedCls),Ext.form.field.Base.prototype.getElConfig.call(this)},getSubTplData:function(){var n=this,t=n.boxLabel,i=n.boxLabelAlign,r=i==="before";return Ext.apply(Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments),{disabled:n.readOnly||n.disabled,wrapInnerCls:n.wrapInnerCls,boxLabel:t,boxLabelCls:n.boxLabelCls,boxLabelAlign:i,labelAlignedBefore:r,afterLabelCls:r?n.afterLabelCls:"",noBoxLabelCls:t?"":n.noBoxLabelCls,role:n.ariaRole})},initEvents:function(){var n=this;Ext.form.field.Base.prototype.initEvents.call(this);n.mon(n.inputEl,"click",n.onBoxClick,n,{translate:!1})},setBoxLabel:function(n){var t=this;t.boxLabel=n;t.rendered&&(t.boxLabelEl.setHtml(n),t.innerWrapEl[n?"removeCls":"addCls"](t.noBoxLabelCls),t.updateLayout())},onBoxClick:function(){var n=this;n.disabled||n.readOnly||n.setValue(!n.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var n=this.uncheckedValue,t=Ext.isDefined(n)?n:null;return this.checked?this.inputValue:t},isChecked:function(n,t){return n===!0||n==="true"||n==="1"||n===1||((Ext.isString(n)||Ext.isNumber(n))&&t?n==t:this.onRe.test(n))},setRawValue:function(n){var t=this,r=t.inputEl,i=t.isChecked(n,t.inputValue);return r&&t[i?"addCls":"removeCls"](t.checkedCls),t.checked=t.rawValue=i,t.duringSetValue||(t.lastValue=i),i},setValue:function(n){var t=this,r,i,f,u;if(Ext.isArray(n))for(r=t.getManager().getByName(t.name,t.getFormId()).items,f=r.length,i=0;i<f;++i)u=r[i],u.setValue(Ext.Array.contains(n,u.inputValue));else t.duringSetValue=!0,Ext.form.field.Base.prototype.setValue.apply(this,arguments),delete t.duringSetValue;return t},valueToRaw:Ext.identityFn,onChange:function(n){var t=this,i=t.handler;i&&Ext.callback(i,t.scope,[t,n],0,t);Ext.form.field.Base.prototype.onChange.apply(this,arguments);t.reference&&t.publishState&&t.publishState("checked",n)},resetOriginalValue:function(n){var i=this,r,u,f,t;if(!n)for(r=i.getManager().getByName(i.name,i.getFormId()).items,f=r.length,t=0;t<f;++t)u=r[t],u!==i&&r[t].resetOriginalValue(!0);Ext.form.field.Base.prototype.resetOriginalValue.call(this)},beforeDestroy:function(){Ext.form.field.Base.prototype.beforeDestroy.call(this);this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var n=this,t=n.inputEl;Ext.form.field.Base.prototype.onEnable.call(this);t&&(t.dom.disabled=n.readOnly)},setReadOnly:function(n){var t=this,i=t.inputEl;i&&(i.dom.disabled=!!n||t.disabled);Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var n=this,t;return n.formId||(t=n.up("form"),t&&(n.formId=t.id)),n.formId}},0,["checkbox","checkboxfield"],["component","box","field","checkboxfield","checkbox"],{component:!0,box:!0,field:!0,checkboxfield:!0,checkbox:!0},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0);Ext.cmd.derive("Ext.app.bindinspector.Util",Ext.Base,{singleton:!0,getChildStub:function(n,t){var r,i;return t&&(i=t.children,i&&(r=i[n])),r||null},valueRenderer:function(n){var t;return n===undefined?"undefined":n===null?"null":Ext.isString(n)?n:Ext.isDate(n)?Ext.Date.format(n,"c"):n&&n.isModel?(t=n.entityName,Ext.String.format("Model({0}, {1})",t.replace("noconflict.",""),n.getId())):n&&n.isStore?(t=n.entityName||"Anonymous","Store{"+t.replace("noconflict.","")+"}"):n},buildBindData:function(n){var r=[],i,t;for(i in n)t=n[i],r.push({key:i,descriptor:t.descriptor,tokens:t.tokens,value:t.value,binding:t});return r}},0,0,0,0,0,0,[Ext.app.bindinspector,"Util"],0);Ext.cmd.derive("Ext.app.bindinspector.ComponentDetail",Ext.panel.Panel,{layout:"border",activeCls:"x-bindinspector-stub-active",descriptorCls:"x-bindinspector-descriptor",multipleCls:"x-bindinspector-mult-val",directCls:"x-bindinspector-direct-val",inheritedCls:"x-bindinspector-inherited-val",componentKeyCls:"x-bindinspector-comp-key",componentDescCls:"x-bindinspector-comp-desc",componentValCls:"x-bindinspector-comp-val",lastItemCls:"x-bindinspector-last-item",vmPreviewDefault:{xtype:"container",region:"east",split:!0,width:"50%",cls:"x-bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with a ViewModel (or inherited ViewModel) from the ComponentList to view the ViewModel details"}]},initComponent:function(){var n=this,t=n.component||{},s=n.env,r=t.publishes,u=t.bindings,f="Bindings &nbsp;&nbsp;&nbsp;⇒ &nbsp;&nbsp;&nbsp;",i=s.getInheritedVM(t),e,o;n.bindingsPreviewDefault={xtype:"panel",border:!1,region:"center",cls:"x-bindinspector-prev-default",bodyPadding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}],dockedItems:[{xtype:"toolbar",dock:"top",defaultButtonUI:"default",items:["->",{text:"Open in dedicated tab",handler:function(n){n.up("bindinspector-container").onComponentDblclick(null,t)}}]}]};t.reference&&(f+="["+t.reference+"] &bull; ");e=t.bindData||Ext.app.bindinspector.Util.buildBindData(u);r&&(o=[{xtype:"component",html:'Publishes: &nbsp;&nbsp;<span style="color: #5C5C5C;font-size: 14px;line-height: 14px;">'+Ext.Object.getKeys(r).join(" &bull; ")+"<\/span>"}]);n.bindingsGrid={xtype:"gridpanel",title:f+=t.id,header:{items:[{xtype:"button",text:"Open in dedicated tab",ui:"default-toolbar",handler:function(n){n.up("bindinspector-container").onComponentDblclick(null,t)}}]},region:"center",cls:"x-bindinspector-compdetail-grid",flex:1,hideHeaders:!0,store:{model:n.BindingModel,data:e},columns:[{flex:1,scope:n,renderer:n.bindingRenderer}],tbar:o,bbar:[{xtype:"checkboxfield",itemId:"highlightToggle",boxLabel:"Highlight VM target nodes on binding selection",checked:!0,listeners:{scope:n,change:n.onHighlightChange}}],viewConfig:{stripeRows:!1,trackOver:!1,getRowClass:function(t,i,r,u){var f=[];return i===u.getCount()-1&&f.push(n.lastItemCls),f.join(" ")}},listeners:{scope:n,cellclick:n.onCellClick,selectionchange:n.onSelectionChange}};n.viewModelTree={xtype:"bindinspector-viewmodeldetail",itemId:"vm-"+i.id,vm:i,region:"east",split:!0,width:"50%",height:"50%"};n.items=[];n.items.push(u?n.bindingsGrid:n.bindingsPreviewDefault);n.items.push(i?n.viewModelTree:n.vmPreviewDefault);Ext.panel.Panel.prototype.initComponent.apply(this,arguments)},bindingRenderer:function(n,t,i){var f=this,s=i.get("binding"),e=i.get("key"),o=f.descriptorRenderer(i.get("descriptor"),t,i),r=Ext.app.bindinspector.Util.valueRenderer(i.get("value")),u="Direct";return(Ext.isEmpty(r)||r==="null")&&(r="<i>No value found<\/i>"),e='<span class="'+f.componentKeyCls+'">'+e+": <\/span>",o='<span class="'+f.componentDescCls+'">'+o+"<\/span>",r='<span class="'+f.componentValCls+'">'+r+"<\/span>",s.isTemplateBinding?u="Template":s.isMultiBinding&&(u="Multi"),u=Ext.util.Format.format('<div data-qtip="Binding Type" data-qclass="x-componentlist-tip" class="x-bindinspector-bind-type">{0}<\/div>',u),e+o+"<br>"+r+u},onHighlightChange:function(n){var i=this.down("gridpanel"),t=i.getSelectionModel();if(n.checked)this.onSelectionChange(t,t.getSelection());else this.onSelectionChange(t,null,!0)},onSelectionChange:function(n,t,i){var r=this.down("bindinspector-viewmodeldetail"),u=r.getStore(),e,s,c,o,f,h;if(t&&t.length===0||i===!0){u.suspendEvents();r.getStore().getRootNode().cascadeBy({before:function(n){n.set("highlighted",!1)}});u.resumeEvents();r.getView().refresh();return}t=t[0];e=t.get("tokens");s=t.get("binding");c=this.down("#highlightToggle").checked;u=r.getStore();o=u.getRootNode();f=[];e&&c&&(s.isTemplateBinding?Ext.Array.forEach(e,function(n){f.push(o.findChild("name",n[0]))},this):s.isMultiBinding||f.push(o.findChild("name",e[0])));u.suspendEvents();o.cascadeBy({before:function(n){h=f.length===0;Ext.Array.forEach(f,function(t){(n===t||n.isAncestor(t))&&(h=!0)});n.set("highlighted",h||-1)}});u.resumeEvents();r.getView().refresh();r.getSelectionModel().select(f[0])},onCellClick:function(n,t,i,r,u,f,e){var o=e.getTarget("."+this.activeCls),s;o&&(s=o.getAttribute("data-path"),this.showPath(s))},showPath:function(n){this.selectPath(this.down("bindinspector-viewmodeldetail"),n)},selectPath:function(n,t){for(var i=n.getRootNode(),u=t.split("."),f=u.length,r=0;i&&r<f;++r)i=this.getChildByKey(i,u[r]);i&&n.getSelectionModel().select(i)},getChildByKey:function(n,t){var i=n.childNodes;return i?Ext.Array.findBy(i,function(n){return n.get("name")===t}):null},descriptorRenderer:function(n,t,i){var r=i.get("binding"),f=i.get("descriptor"),u=i.get("tokens");if(n=n||"",r.isTemplateBinding)Ext.Array.forEach(u,function(t){var i=new RegExp("{"+t.join("\\.")+"}","g");n=n.replace(i,this.parseTokens(t))},this);else if(!r.isMultiBinding)return n.replace(f,this.parseTokens(u));return Ext.String.htmlEncode(n)},parseTokens:function(n){var t=this,l=[],r=t.env.getInheritedVM(t.component),a="",v=r.rootStub,s=!1,h=!1,u="",f="",e="",c,i,o;return n=n||[],Ext.Array.forEach(n,function(n){var i=Ext.app.bindinspector.Util.getChildStub(n,v),r="",u;i&&(u=i.value,u!==undefined&&(r=t.activeCls));l.push('<span data-path="'+a+n+'" class="stub '+r+'">'+n+"<\/span>");a+=n+".";v=i},t),n[0]&&(e=n[0],c=r.dataMap[n[0]].ownerVMs,i=c.length,Ext.Array.forEach(c,function(n){n.id===r.id&&(s=!0);n.id!==r.id&&(h=!0)})),s&&h?(u+=" "+t.multipleCls,o=i>1?"VMs":"VM",f='data-qclass="x-componentlist-tip" data-qtip="<b>'+e+"<\/b>&nbsp; provided by this VM and "+(i-1)+" ancestor "+o+'"'):s?(u+=" "+t.directCls,f='data-qclass="x-componentlist-tip" data-qtip="<b>'+e+'<\/b>&nbsp; is provided by this VM"'):h&&(u+=" "+t.inheritedCls,o=i>1?"VMs":"VM",f='data-qclass="x-componentlist-tip" data-qtip="<b>'+e+"<\/b>&nbsp; is provided by "+i+" ancestor "+o+'"'),"<span "+f+'class="'+t.descriptorCls+u+'">{'+l.join(".")+"}<\/span>"}},0,["bindinspector-componentdetail"],["component","box","container","panel","bindinspector-componentdetail"],{component:!0,box:!0,container:!0,panel:!0,"bindinspector-componentdetail":!0},["widget.bindinspector-componentdetail"],0,[Ext.app.bindinspector,"ComponentDetail"],function(){this.prototype.BindingModel=Ext.define(null,{extend:"Ext.data.Model",fields:["key","descriptor","tokens","value","binding"]})});Ext.cmd.derive("Ext.tree.View",Ext.view.Table,{config:{selectionModel:{type:"treemodel"}},isTreeView:!0,loadingCls:"x-grid-tree-loading",expandedCls:"x-grid-tree-node-expanded",leafCls:"x-grid-tree-node-leaf",expanderSelector:".x-tree-expander",checkboxSelector:".x-tree-checkbox",expanderIconOverCls:"x-tree-expander-over",nodeAnimWrapCls:"x-tree-animator-wrap",ariaRole:"tree",loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(n){var t=n.record,i=n.view;n.rowAttr["data-qtip"]=t.get("qtip")||"";n.rowAttr["data-qtitle"]=t.get("qtitle")||"";t.isExpanded()&&n.rowClasses.push(i.expandedCls);t.isLeaf()&&n.rowClasses.push(i.leafCls);t.isLoading()&&n.rowClasses.push(i.loadingCls)}}],initComponent:function(){var n=this;n.bufferedRenderer?n.animate=!1:n.initialConfig.animate===undefined&&(n.animate=Ext.enableFx);n.store=n.panel.getStore();n.onRootChange(n.store.getRoot());n.animQueue={};n.animWraps={};Ext.view.Table.prototype.initComponent.call(this);n.store.setRootVisible(n.rootVisible);n.addRowTpl(Ext.XTemplate.getTpl(n,"treeRowTpl"))},onFillComplete:function(n,t,i){var r=this,f=r.store,u=f.indexOf(i[0]);if(t.triggerUIUpdate(),i.length&&u!==-1){r.onAdd(r.store,i,u);r.refreshPartner()}},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(n){n.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var n=this.lockingPartner;n&&n.refresh()},afterRender:function(){var n=this;Ext.view.Table.prototype.afterRender.call(this);n.el.on({scope:n,delegate:n.expanderSelector,mouseover:n.onExpanderMouseOver,mouseout:n.onExpanderMouseOut,click:{delegate:n.checkboxSelector,fn:n.onCheckboxChange,scope:n}})},afterComponentLayout:function(n,t,i,r){var u=this.getScrollable();Ext.view.Table.prototype.afterComponentLayout.call(this,n,t,i,r);u&&!this.bufferedRenderer&&u.refresh()},processUIEvent:function(n){return n.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:Ext.view.Table.prototype.processUIEvent.call(this,n)},setRootNode:function(n){this.node=n},onCheckboxChange:function(n){var t=this,i=n.getTarget(t.getItemSelector(),t.getTargetEl());if(i)t.onCheckChange(t.getRecord(i))},onCheckChange:function(n){var t=n.get("checked");Ext.isBoolean(t)&&(t=!t,n.set("checked",t),this.fireEvent("checkchange",n,t))},getChecked:function(){var n=[];return this.node.cascadeBy(function(t){t.get("checked")&&n.push(t)}),n},isItemChecked:function(n){return n.get("checked")},createAnimWrap:function(n){var i=this,r=i.getNode(n),t;return t=Ext.fly(r).insertSibling({role:"presentation",tag:"div",cls:i.nodeAnimWrapCls},"after"),{record:n,node:r,el:t,expanding:!1,collapsing:!1,animateEl:t,targetEl:t}},getAnimWrap:function(n,t){if(!this.animate)return null;var r=this.animWraps,i=r[n.internalId];if(t!==!1)while(!i&&n)n=n.parentNode,n&&(i=r[n.internalId]);return i},doAdd:function(n,t){var i=this,l=n[0],f=l.parentNode,a=i.all,e,r=i.getAnimWrap(f),o,s,h,c,u;return!r||!r.expanding?Ext.view.Table.prototype.doAdd.call(this,n,t):(c=i.bufferRender(n,t,!0),u=c.children,f=r.record,o=r.targetEl,s=o.dom.childNodes,h=s.length,e=t-i.indexInStore(f)-1,!h||e>=h?o.appendChild(c.fragment,!0):Ext.fly(s[e]).insertSibling(u,"before",!0),a.insert(t,u),u)},onRemove:function(n,t,i){var u=this,f,r;if(u.viewReady){if(f=u.store.getCount()===0,u.bufferedRenderer)return Ext.view.Table.prototype.onRemove.call(this,n,t,i);if(f)u.refresh();else{for(r=t.length-1,i+=r;r>=0;--r,--i)u.doRemove(t[r],i);u.refreshSizePending=!0}if(u.hasListeners.itemremove)for(r=t.length-1,i+=r;r>=0;--r,--i)u.fireEvent("itemremove",t[r],i,u)}},doRemove:function(n,t){var r=this,u=r.all,i=r.getAnimWrap(n),f=u.item(t),e=f?f.dom:null;if(!e||!i||!i.collapsing)return Ext.view.Table.prototype.doRemove.call(this,n,t);i.targetEl.dom.insertBefore(e,i.targetEl.dom.firstChild);u.removeElement(t)},onBeforeExpand:function(n){var t=this,i;t.rendered&&t.all.getCount()&&t.animate&&t.getNode(n)&&(i=t.getAnimWrap(n,!1),i?i.collapsing&&i.targetEl.select(t.itemSelector).destroy():(i=t.animWraps[n.internalId]=t.createAnimWrap(n),i.animateEl.setHeight(0)),i.expanding=!0,i.collapsing=!1)},onExpand:function(n){var t=this,o=t.animQueue,s=n.getId(),r=t.getNode(n),e=r?t.indexOf(r):-1,i,u,f;if(t.singleExpand&&t.ensureSingleExpand(n),e!==-1){if(i=t.getAnimWrap(n,!1),!i){n.isExpandingOrCollapsing=!1;t.fireEvent("afteritemexpand",n,e,r);return}u=i.animateEl;f=i.targetEl;u.stopAnimation();o[s]=!0;Ext.on("idle",function(){u.dom.style.height="0px"},null,{single:!0});u.animate({from:{height:0},to:{height:f.dom.scrollHeight},duration:t.expandDuration,listeners:{afteranimate:function(){var r=f.dom.childNodes,n=Ext.Element.getActiveElement();r.length&&(f.contains(n)||(n=null),i.el.insertSibling(r,"before",!0),n&&n.focus());i.el.destroy();t.animWraps[i.record.internalId]=o[s]=null}},callback:function(){n.isExpandingOrCollapsing=!1;t.isDestroyed||t.refreshSize(!0);t.fireEvent("afteritemexpand",n,e,r)}})}},onBeforeCollapse:function(n,t,i,r,u){var e=this,f;e.rendered&&e.all.getCount()&&(e.animate?n.isVisible()&&(f=e.getAnimWrap(n),f?f.expanding&&f.targetEl.select(this.itemSelector).destroy():f=e.animWraps[n.internalId]=e.createAnimWrap(n,i),f.expanding=!1,f.collapsing=!0,f.callback=r,f.scope=u):(e.onCollapseCallback=r,e.onCollapseScope=u))},onCollapse:function(n){var t=this,f=t.animQueue,e=n.getId(),r=t.getNode(n),o=r?t.indexOf(r):-1,i=t.getAnimWrap(n),u;if(t.all.getCount()&&n.isVisible()){if(!i){n.isExpandingOrCollapsing=!1;t.fireEvent("afteritemcollapse",n,o,r);Ext.callback(t.onCollapseCallback,t.onCollapseScope);t.onCollapseCallback=t.onCollapseScope=null;return}u=i.animateEl;f[e]=!0;u.stopAnimation();u.animate({to:{height:0},duration:t.collapseDuration,listeners:{afteranimate:function(){i.el.destroy();t.animWraps[i.record.internalId]=f[e]=null}},callback:function(){n.isExpandingOrCollapsing=!1;t.isDestroyed||t.refreshSize(!0);t.fireEvent("afteritemcollapse",n,o,r);Ext.callback(i.callback,i.scope);i.callback=i.scope=null}})}},isAnimating:function(n){return!!this.animQueue[n.getId()]},expand:function(n,t,i,r){var e=this,u=!!e.animate,f;if(!u||!n.isExpandingOrCollapsing)return n.isLeaf()||(n.isExpandingOrCollapsing=u),Ext.suspendLayouts(),f=n.expand(t,i,r),Ext.resumeLayouts(!0),f},collapse:function(n,t,i,r){var f=this,u=!!f.animate;if(!u||!n.isExpandingOrCollapsing)return n.isLeaf()||(n.isExpandingOrCollapsing=u),n.collapse(t,i,r)},toggle:function(n,t,i,r){n.isExpanded()?this.collapse(n,t,i,r):this.expand(n,t,i,r)},onItemDblClick:function(n,t,i,r){var u=this,f=u.editingPlugin;Ext.view.Table.prototype.onItemDblClick.call(this,n,t,i,r);!u.toggleOnDblClick||!n.isExpandable()||f&&f.clicksToEdit===2||u.toggle(n)},onBeforeItemMouseDown:function(n,t,i,r){return r.getTarget(this.expanderSelector,t)?!1:Ext.view.Table.prototype.onBeforeItemMouseDown.call(this,n,t,i,r)},onItemClick:function(n,t,i,r){return r.getTarget(this.expanderSelector,t)&&n.isExpandable()?(this.toggle(n,r.ctrlKey),!1):Ext.view.Table.prototype.onItemClick.call(this,n,t,i,r)},onExpanderMouseOver:function(n){n.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(n){n.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var n=this,t=Ext.apply(Ext.view.Table.prototype.getStoreListeners.call(this),{rootchange:n.onRootChange,fillcomplete:n.onFillComplete});return this.getStore().remoteSort||Ext.apply(t,{beforesort:n.onBeforeSort,sort:n.onSort}),t},onBindStore:function(n,t,i,r){var u=r&&r.getRootNode(),f=n&&n.getRootNode();if(Ext.view.Table.prototype.onBindStore.call(this,n,t,i,r),f!==u)this.onRootChange(f,u)},onRootChange:function(n,t){var i=this;t&&(i.rootListeners.destroy(),i.rootListeners=null);n&&(i.rootListeners=n.on({beforeexpand:i.onBeforeExpand,expand:i.onExpand,beforecollapse:i.onBeforeCollapse,collapse:i.onCollapse,destroyable:!0,scope:i}))},ensureSingleExpand:function(n){var t=n.parentNode;t&&t.eachChild(function(t){t!==n&&t.isExpanded()&&t.collapse()})},shouldUpdateCell:function(n,t,i){if(t.isTreeColumn&&i)for(var r=0,u=i.length;r<u;++r){if(this.rowFields[i[r]])return 1;if(this.uiFields[i[r]])return 2}return Ext.view.Table.prototype.shouldUpdateCell.call(this,n,t,i)}},0,["treeview"],["component","box","dataview","tableview","gridview","treeview"],{component:!0,box:!0,dataview:!0,tableview:!0,gridview:!0,treeview:!0},["widget.treeview"],0,[Ext.tree,"View"],0);Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.DataViewModel,{enableKeyNav:!0,isRowModel:!0,deselectOnContainerClick:!1,onUpdate:function(n){var i=this,t=i.view,r;if(t&&i.isSelected(n)){r=t.indexOf(n);t.onRowSelect(r);if(n===i.lastFocused)t.onRowFocus(r,!0)}},onSelectChange:function(n,t,i,r){var u=this,s=u.views||[u.view],c=s.length,f=u.store.indexOf(n),h=t?"select":"deselect",o,e;if((i||u.fireEvent("before"+h,u,n,f))!==!1&&r()!==!1){for(o=0;o<c;o++)if(e=s[o],f=e.indexOf(n),e.indexOf(n)!==-1)if(t)e.onRowSelect(f,i);else e.onRowDeselect(f,i);i||u.fireEvent(h,u,n,f)}},onEditorTab:function(n,t){var u=this,f=n.context.view,e=n.getActiveRecord(),i=n.context,o=t.shiftKey?"left":"right",r;do if(r=i,i=f.walkCells(i,o,t,u.preventWrap),r&&r.isEqual(i))return;while(i&&(!i.column.getEditor(e)||!n.startEditByPosition(i)))},getCurrentPosition:function(){var n=this.selected.getAt(0);if(n)return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(n),0)},selectByPosition:function(n,t){n.isCellContext||(n=new Ext.grid.CellContext(this.view).setPosition(n.row,n.column));this.select(n.record,t)},selectNext:function(n,t){var i=this,e=i.store,f=i.getSelection(),o=f[f.length-1],r=i.view.indexOf(o)+1,u;return r===e.getCount()||r===0?u=!1:(i.doSelect(r,n,t),u=!0),u},selectPrevious:function(n,t){var i=this,f=i.getSelection(),e=f[0],u=i.view.indexOf(e)-1,r;return u<0?r=!1:(i.doSelect(u,n,t),r=!0),r},isRowSelected:function(n){return this.isSelected(n)},isCellSelected:function(n,t){return this.isSelected(t)}},0,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0);Ext.cmd.derive("Ext.selection.TreeModel",Ext.selection.RowModel,{selectOnExpanderClick:!1,constructor:function(n){var t=this;Ext.selection.RowModel.prototype.constructor.call(this,n);t.pruneRemoved&&(t.pruneRemoved=!1,t.pruneRemovedNodes=!0)},getStoreListeners:function(){var t=this,n=Ext.selection.RowModel.prototype.getStoreListeners.call(this);return n.noderemove=t.onNodeRemove,n},onNodeRemove:function(n,t,i){if(!i){var r=[];this.gatherSelected(t,r);r.length&&this.deselect(r)}},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(n){var t=this.view,i=this.selectOnExpanderClick,r=!i&&n.type==="click"&&n.getTarget(t.expanderSelector||t.lockingPartner&&t.lockingPartner.expanderSelector);return r||Ext.selection.RowModel.prototype.vetoSelection.call(this,n)},privates:{gatherSelected:function(n,t){var r=n.childNodes,i,u,f;if(this.selected.containsKey(n.id)&&t.push(n),r)for(i=0,u=r.length;i<u;++i)f=r[i],this.gatherSelected(f,t)}}},1,0,0,0,["selection.treemodel"],0,[Ext.selection,"TreeModel"],0);Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",firstHeaderCls:"x-column-header-first",lastHeaderCls:"x-column-header-last",initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this);this.scrollbarWidth===undefined&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width)},beginLayout:function(n){var t=this,u=t.owner,f=u.grid?u.grid.getView():null,e=t.firstHeaderCls,o=t.lastHeaderCls,h=[e,o],c=t.getVisibleItems(),s=c.length,r,i;for(f&&f.scrollFlags.x&&(t.viewScrollX=f.getScrollX(),u.suspendEvent("scroll"),f.suspendEvent("scroll")),Ext.layout.container.HBox.prototype.beginLayout.call(this,n),r=0;r<s;r++)i=c[r],s===1?i.addCls(h):r===0?(i.addCls(e),i.removeCls(o)):r===s-1?(i.removeCls(e),i.addCls(o)):i.removeCls(h);t.scrollbarWidth=0;u.isRootHeader&&t.determineScrollbarWidth(n);t.scrollbarWidth||(n.manageScrollbar=!1)},moveItemBefore:function(n,t){var i=n.ownerCt;return n!==t&&i&&i.remove(n,!1),Ext.layout.container.HBox.prototype.moveItemBefore.call(this,n,t)},determineScrollbarWidth:function(n){var i=this,r=i.owner,t=r.grid,u=r.reserveScrollbar===!1,f=t.reserveScrollbar&&!u,e=!f&&!u&&t.view.scrollFlags.y;n.manageScrollbar=e;!t.ownerGrid.collapsed&&(f||e)&&delete i.scrollbarWidth},calculate:function(n){var t=this,c=t.owner.grid,o=n.viewContext,f=n.state,y=n.context,e,l,i,s,a,r,u,v,h;if(Ext.layout.container.HBox.prototype.calculate.call(this,n),c&&f.parallelDone){if(e=o.lockingPartnerContext,l=c.ownerGrid,l.forceFit&&!f.reflexed&&t.convertWidthsToFlexes(n)){t.cacheFlexes(n);t.done=!1;n.invalidate({state:{reflexed:!0,scrollbarAdjustment:t.getScrollbarAdjustment(n)}});return}if((i=f.columnsChanged)===undefined){for(s=n.target.getVisibleGridColumns(),i=!1,r=0,a=s.length;r<a;r++)u=y.getCmp(s[r]),u.lastBox&&u.props.width===u.lastBox.width||((i||(i=[]))[r]=u);f.columnsChanged=i;n.setProp("columnsChanged",i)}if(n.manageScrollbar&&(v=t.getScrollbarAdjustment(n),v)){if(h=o.getProp("viewOverflowY"),h===undefined){t.done=!1;return}h||(e&&(e.invalidate(),e.headerContext.invalidate()),o.invalidate(),n.invalidate({state:{scrollbarAdjustment:0}}))}}},finishedLayout:function(n){var r=this,t=r.owner,i=t.grid?t.grid.getView():null,u=r.viewScrollX;Ext.layout.container.HBox.prototype.finishedLayout.call(this,n);i&&i.scrollFlags.x&&(u!==undefined&&t.tooNarrow&&t.componentLayoutCounter&&t.setScrollX(u),i.resumeEvent("scroll"),t.resumeEvent("scroll"))},convertWidthsToFlexes:function(n){var o=this,f=0,s=o.sizeModels.calculated,u,e,t,i,r;for(u=n.childItems,e=u.length,t=0;t<e;t++)i=u[t],r=i.target,f+=i.props.width,r.fixed||r.resizable===!1||(r.flex=n.childItems[t].flex=i.props.width,r.width=null,i.widthModel=s);return f!==n.props.width},getScrollbarAdjustment:function(n){var i=this,r=n.state,u=i.owner.grid,t=r.scrollbarAdjustment;return t===undefined&&(t=0,(u.reserveScrollbar||n.manageScrollbar&&!u.ownerGrid.layout.ownerContext.heightModel.shrinkWrap)&&(t=i.scrollbarWidth),r.scrollbarAdjustment=t),t},getContainerSize:function(n){var h=this,r,u,e,o,s,t,i,f;if(h.owner.isRootHeader)f=Ext.layout.container.HBox.prototype.getContainerSize.call(this,n),f.gotWidth&&(f.width-=h.getScrollbarAdjustment(n));else return e=n.paddingContext.getPaddingInfo(),r=u=0,n.widthModel.shrinkWrap||(++u,t=n.getProp("innerWidth"),o=typeof t=="number",o&&(++r,t-=e.width,t<0&&(t=0))),n.heightModel.shrinkWrap||(++u,i=n.getProp("innerHeight"),s=typeof i=="number",s&&(++r,i-=e.height,i<0&&(i=0))),{width:t,height:i,needed:u,got:r,gotAll:r===u,gotWidth:o,gotHeight:s};return f},publishInnerCtSize:function(n){var i=this,r=i.owner,u=n.peek("contentWidth"),t=0;return u!=null&&r.isRootHeader&&(t=-n.state.scrollbarAdjustment),Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,n,t)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0);Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(n){var t=this;Ext.apply(t,n);t.dragRegion=new Ext.util.Region(0,0,0,0);t.el&&t.initEl(t.el);t.mixins.observable.constructor.call(t);t.disabled&&t.disable()},initEl:function(n){var t=this,i=t.delegate;t.el=n=Ext.get(n);i&&i.isElement&&(t.handle=i);t.delegate=t.handle?undefined:t.delegate;t.handle||(t.handle=n);t.handleListeners={scope:t,delegate:t.delegate,mousedown:t.onMouseDown,dragstart:t.onDragStart};!Ext.supports.TouchEvents&&(t.trackOver||t.overCls)&&Ext.apply(t.handleListeners,{mouseover:t.onMouseOver,mouseout:t.onMouseOut});t.mon(t.handle,t.handleListeners);t.keyNav=new Ext.util.KeyNav({target:n,up:t.onResizeKeyDown,left:t.onResizeKeyDown,right:t.onResizeKeyDown,down:t.onResizeKeyDown,scope:t})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var n=this;n.endDrag({});n.clearListeners();n.el=n.handle=null},onMouseOver:function(n,t){var i=this,e,r,u,o,f;if(!i.disabled&&(n.within(n.target,!0,!0)||i.delegate)){if(e=i.handleCls,i.mouseIsOut=!1,e)for(u=0,o=i.handleEls.length;u<o;u++)r=i.handleEls[u],f=r.delegateCls,f||(f=r.delegateCls=[e,"-",r.region,"-over"].join("")),r.addCls([f,i.overCls]);i.fireEvent("mouseover",i,n,i.delegate?n.getTarget(i.delegate,t):i.handle)}},onMouseOut:function(n){var t=this,r,i,u;if(t.mouseIsDown)t.mouseIsOut=!0;else{if(t.handleCls)for(i=0,u=t.handleEls.length;i<u;i++)r=t.handleEls[i],r.removeCls([r.delegateCls,t.overCls]);t.fireEvent("mouseout",t,n)}},onMouseDown:function(n,t){var i=this;if(!i.disabled&&!n.dragTracked&&(i.dragTarget=i.delegate?t:i.handle.dom,i.startXY=i.lastXY=n.getXY(),i.startRegion=Ext.fly(i.dragTarget).getRegion(),i.fireEvent("mousedown",i,n)!==!1&&i.fireEvent("beforedragstart",i,n)!==!1&&i.onBeforeStart(n)!==!1)){i.mouseIsDown=!0;n.dragTracked=!0;i.el.setCapture();n.stopPropagation();i.preventDefault!==!1&&n.preventDefault();Ext.getDoc().on({scope:i,capture:!0,mouseup:i.onMouseUp,mousemove:i.onMouseMove,selectstart:i.stopSelect});i.dragEnded=!1;i.tolerance?i.autoStart&&(i.timer=Ext.defer(i.triggerStart,i.autoStart===!0?1e3:i.autoStart,i,[n])):i.triggerStart()}},onMouseMove:function(n){var t=this,i=n.getXY(),r=t.startXY;if(n.stopPropagation(),t.preventDefault!==!1&&n.preventDefault(),!t.dragEnded){if(t.lastXY=i,!t.active)if(Math.max(Math.abs(r[0]-i[0]),Math.abs(r[1]-i[1]))>t.tolerance)t.triggerStart(n);else return;if(t.fireEvent("mousemove",t,n)===!1)t.onMouseUp(n);else{t.onDrag(n);t.fireEvent("drag",t,n)}}},onMouseUp:function(n){var t=this;if(t.mouseIsDown=!1,t.mouseIsOut){t.mouseIsOut=!1;t.onMouseOut(n)}t.preventDefault!==!1&&n.preventDefault();Ext.isIE&&document.releaseCapture&&document.releaseCapture();t.fireEvent("mouseup",t,n);t.endDrag(n)},endDrag:function(n){var t=this,i=t.active;if(Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,capture:!0,scope:t}),t.clearStart(),t.active=!1,i){t.dragEnded=!0;t.onEnd(n);t.fireEvent("dragend",t,n)}t._constrainRegion=null},triggerStart:function(n){var t=this;t.clearStart();t.active=!0;t.onStart(n);t.fireEvent("dragstart",t,n)},clearStart:function(){var n=this.timer;n&&(clearTimeout(n),this.timer=null)},stopSelect:function(n){return n.stopEvent(),!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var n=this;if(n.constrainTo){if(n.constrainTo instanceof Ext.util.Region)return n.constrainTo;n._constrainRegion||(n._constrainRegion=Ext.fly(n.constrainTo).getViewRegion())}else n._constrainRegion||(n._constrainRegion=n.getDragCt().getViewRegion());return n._constrainRegion},getXY:function(n){return n?this.constrainModes[n](this,this.lastXY):this.lastXY},getOffset:function(n){var t=this.getXY(n),i=this.startXY;return[t[0]-i[0],t[1]-i[1]]},onDragStart:function(n){n.stopPropagation()},constrainModes:{point:function(n,t){var i=n.dragRegion,r=n.getConstrainRegion();return r?(i.x=i.left=i[0]=i.right=t[0],i.y=i.top=i[1]=i.bottom=t[1],i.constrainTo(r),[i.left,i.top]):t},dragTarget:function(n,t){var f=n.startXY,i=n.startRegion.copy(),r=n.getConstrainRegion(),u;return r?(i.translateBy(t[0]-f[0],t[1]-f[1]),i.right>r.right&&(t[0]+=u=r.right-i.right,i.left+=u),i.left<r.left&&(t[0]+=r.left-i.left),i.bottom>r.bottom&&(t[1]+=u=r.bottom-i.bottom,i.top+=u),i.top<r.top&&(t[1]+=r.top-i.top),t):t}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0);Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.plugin.Abstract,{disabled:!1,config:{dynamic:!1},colHeaderCls:"x-column-header",minColWidth:40,maxColWidth:1e3,eResizeCursor:"col-resize",init:function(n){var t=this;t.headerCt=n;n.on("render",t.afterHeaderRender,t,{single:t});t.minColWidth||(t.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var n=this.tracker;n&&(delete n.onBeforeStart,delete n.onStart,delete n.onDrag,delete n.onEnd,n.destroy(),this.tracker=null)},afterHeaderRender:function(){var n=this,t=n.headerCt,i=t.el;t.mon(i,"mousemove",n.onHeaderCtMouseMove,n);n.markerOwner=n.ownerGrid=n.headerCt.up("tablepanel");n.markerOwner.ownerLockable&&(n.markerOwner=n.markerOwner.ownerLockable);n.tracker=new Ext.dd.DragTracker({disabled:n.disabled,onBeforeStart:n.onBeforeStart.bind(n),onStart:n.onStart.bind(n),onDrag:n.onDrag.bind(n),onEnd:n.onEnd.bind(n),tolerance:3,autoStart:300,el:i})},onHeaderCtMouseMove:function(n){var t=this;t.headerCt.dragging||t.disabled?t.activeHd&&(t.activeHd.el.dom.style.cursor="",delete t.activeHd):t.findActiveHeader(n)},findActiveHeader:function(n){var t=this,f=n.getTarget("."+t.colHeaderCls,3,!0),r,i,u;if(f){if(r=Ext.getCmp(f.id),r.isOnRightEdge(n)){if(t.headerCt.visibleColumnManager.getColumns().length===1&&t.headerCt.forceFit)return;i=r}else r.isOnLeftEdge(n)&&(u=t.headerCt.visibleColumnManager.getColumns(),i=u[Ext.Array.indexOf(u,r)-1],i||!t.ownerGrid.ownerLockable||t.ownerGrid.isLocked||(u=t.ownerGrid.ownerLockable.lockedGrid.headerCt.visibleColumnManager.getColumns(),i=u[u.length-1]));i?(i.isGroupHeader&&(u=i.getGridColumns(),i=u[u.length-1]),!i||i.fixed||i.resizable===!1||(t.activeHd=i,r.el.dom.style.cursor=t.eResizeCursor,r.triggerEl&&(r.triggerEl.dom.style.cursor=t.eResizeCursor))):(r.el.dom.style.cursor="",r.triggerEl&&(r.triggerEl.dom.style.cursor=""),t.activeHd=null)}return t.activeHd},onBeforeStart:function(n){var t=this;return t.dragHd=Ext.supports.Touch?t.findActiveHeader(n):t.activeHd,!t.dragHd||t.headerCt.dragging?(t.headerCt.dragging=!1,!1):(t.xDelta=t.dragHd.getX()+t.dragHd.getWidth()-t.tracker.getXY()[0],t.tracker.constrainTo=t.getConstrainRegion(),!0)},getConstrainRegion:function(){var n=this,r=n.dragHd.el,t,i=n.ownerGrid,e=i.getSizeModel().width,u=e.shrinkWrap?n.headerCt.getWidth()-n.headerCt.visibleColumnManager.getColumns().length*n.minColWidth:n.maxColWidth,f;return n.headerCt.forceFit?(t=n.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),t&&n.headerInSameGrid(t)&&(u=r.getWidth()+(t.getWidth()-n.minColWidth))):i.isLocked&&e.shrinkWrap&&(u=n.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(!0)-i.getWidth()-(i.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*n.minColWidth+Ext.getScrollbarSize().width)),f=n.adjustConstrainRegion(r.getRegion(),0,0,0,n.minColWidth),f.right=r.getX()+u,f},onStart:function(){var n=this,o=n.dragHd,s=o.el.getWidth(),h=o.getRootHeaderCt(),u,f,t,i,r,e;n.headerCt.dragging=!0;n.origWidth=s;n.dynamic||(t=n.markerOwner,t.frame&&t.resizable&&(n.gridOverflowSetting=t.el.dom.style.overflow,t.el.dom.style.overflow="hidden"),u=n.getLeftMarkerX(t),i=t.getLhsMarker(),r=t.getRhsMarker(),e=n.ownerGrid.body.getHeight()+h.getHeight(),f=h.getOffsetsTo(t)[1]-t.el.getBorderWidth("t"),i.setLocalY(f),r.setLocalY(f),i.setHeight(e),r.setHeight(e),n.setMarkerX(i,u),n.setMarkerX(r,u+s))},onDrag:function(){var n=this;n.dynamic?n.doResize():n.setMarkerX(n.getMovingMarker(n.markerOwner),n.calculateDragX(n.markerOwner))},getMovingMarker:function(n){return n.getRhsMarker()},onEnd:function(n){var t=this,i;t.headerCt.dragging=!1;t.dragHd&&(t.dynamic||(i=t.headerCt.up("tablepanel"),i.ownerLockable&&(i=i.ownerLockable),"gridOverflowSetting"in t&&(i.el.dom.style.overflow=t.gridOverflowSetting),t.setMarkerX(i.getLhsMarker(),-9999),t.setMarkerX(i.getRhsMarker(),-9999)),t.doResize());t.onHeaderCtMouseMove(n)},doResize:function(){var t=this,i=t.dragHd,n,r=t.tracker.getOffset("point");i&&r[0]&&(i.flex&&delete i.flex,Ext.suspendLayouts(),t.adjustColumnWidth(r[0]-t.xDelta),t.headerCt.forceFit&&(n=i.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),n&&!t.headerInSameGrid(n)&&(n=null),n&&(delete n.flex,n.setWidth(n.getWidth()-r[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(n){var t=this.dragHd.up("tablepanel");return!!n.up(t)},disable:function(){var n=this.tracker;this.disabled=!0;n&&n.disable()},enable:function(){var n=this.tracker;this.disabled=!1;n&&n.enable()},calculateDragX:function(n){return this.tracker.getXY("point")[0]+this.xDelta-n.getX()-n.el.getBorderWidth("l")},getLeftMarkerX:function(n){return this.dragHd.getX()-n.getX()-n.el.getBorderWidth("l")-1},setMarkerX:function(n,t){n.setLocalX(t)},adjustConstrainRegion:function(n,t,i,r,u){return n.adjust(t,i,r,u)},adjustColumnWidth:function(n){this.dragHd.setWidth(this.origWidth+n)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0);Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(n,t){var r=this,i=r.containerScroll;Ext.dd.DragSource.prototype.constructor.call(this,n,t);i&&(n=r.scrollEl||n,n=Ext.get(n),Ext.isObject(i)&&(n.ddScrollConfig=i),Ext.dd.ScrollManager.register(n))},getDragData:function(n){return Ext.dd.Registry.getHandleFromEvent(n)},onInitDrag:function(n,t){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(n,t);return!0},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragSource.prototype.destroy.call(this);this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0);Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:".x-column-header",colInnerSelector:".x-column-header-inner",maxProxyWidth:120,constructor:function(n){var t=this;t.headerCt=n;t.ddGroup=t.getDDGroup();t.autoGroup=!0;Ext.dd.DragZone.prototype.constructor.call(this,n.el);t.proxy.el.addCls("x-grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(n){if(n.getTarget(this.colInnerSelector)){var r=n.getTarget(this.colHeaderSelector),t,i;if(r&&(t=Ext.getCmp(r.id),!this.headerCt.dragging&&t.draggable&&!(t.isOnLeftEdge(n)||t.isOnRightEdge(n))))return i=document.createElement("div"),i.role="presentation",i.innerHTML=t.text,{ddel:i,header:t}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=!1;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0);Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(n,t,i){n&&this.initTarget(n,t,i)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0);Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:!0,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var n=Ext.dd.DragDropManager;n.fireEvents=Ext.Function.createSequence(n.fireEvents,this.onFire,this);n.stopDrag=Ext.Function.createSequence(n.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=n;this.els={};this.dragEl=null;this.proc={}},onStop:function(){var n=Ext.dd.ScrollManager;n.dragEl=null;n.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var i=this;if(i.ddmInstance.dragCurrent){var t=i.proc,o=t.el,e=t.component,r=t.el.ddScrollConfig,u=r&&r.increment?r.increment:i.increment,n=r&&"animate"in r?r.animate:i.animate,f=function(){i.triggerRefresh()};n&&(n===!0?n={callback:f}:n.callback=n.callback?Ext.Function.createSequence(n.callback,f):f);e?(u=u*i.dirTrans[t.dir],t.dir==="up"||t.dir==="down"?e.scrollBy(0,u,n):e.scrollBy(u,0,n)):o.scroll(t.dir,u,n);n||f()}},clearProc:function(){var n=this.proc;n.id&&clearInterval(n.id);n.id=0;n.el=null;n.dir=""},startProc:function(n,t){var i=this,r=i.proc,u,f;i.clearProc();r.el=n;r.dir=t;u=n.ddScrollConfig?n.ddScrollConfig.ddGroup:undefined;f=n.ddScrollConfig&&n.ddScrollConfig.frequency?n.ddScrollConfig.frequency:i.frequency;(u===undefined||i.ddmInstance.dragCurrent.ddGroup===u)&&(r.id=Ext.interval(i.doScroll,f))},onFire:function(n,t){var i=this,f,e,s,h,r,u,o;if(!t&&i.ddmInstance.dragCurrent){i.dragEl&&i.dragEl===i.ddmInstance.dragCurrent||(i.dragEl=i.ddmInstance.dragCurrent,i.refreshCache());f=n.getPoint();e=i.proc;s=i.els;for(h in s)if(r=s[h],u=r._region,o=r.ddScrollConfig||i,u&&u.contains(f)&&r.isScrollable()){if(u.bottom-f.y<=o.vthresh){e.el!==r&&i.startProc(r,"down");return}if(u.right-f.x<=o.hthresh){e.el!==r&&i.startProc(r,"right");return}if(f.y-u.top<=o.vthresh){e.el!==r&&i.startProc(r,"up");return}if(f.x-u.left<=o.hthresh){e.el!==r&&i.startProc(r,"left");return}}i.clearProc()}},register:function(n){if(Ext.isArray(n))for(var t=0,i=n.length;t<i;t++)this.register(n[t]);else n=Ext.get(n),this.els[n.id]=n},unregister:function(n){if(Ext.isArray(n))for(var t=0,i=n.length;t<i;t++)this.unregister(n[t]);else n=Ext.get(n),delete this.els[n.id]},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:undefined,refreshCache:function(){var n=this.els;for(var t in n)typeof n[t]=="object"&&(n[t]._region=n[t].getRegion())}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0);Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(n,t){this.el=Ext.get(n);Ext.apply(this,t);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},containerScroll:!1,dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return this.overClass&&this.el.removeCls(this.overClass),!1},destroy:function(){Ext.dd.DDTarget.prototype.destroy.call(this);this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0);Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(n,t){if(typeof n=="string")return n;var i=n.id;return i||t===!1||(i="extdd-"+ ++this.autoIdSeed,n.id=i),i},register:function(n,t){if(t=t||{},typeof n=="string"&&(n=document.getElementById(n)),t.ddel=n,this.elements[this.getId(n)]=t,t.isHandle!==!1&&(this.handles[t.ddel.id]=t),t.handles)for(var r=t.handles,i=0,u=r.length;i<u;i++)this.handles[this.getId(r[i])]=t},unregister:function(n){var u=this.getId(n,!1),i=this.elements[u],r,t,f;if(i&&(delete this.elements[u],i.handles))for(r=i.handles,t=0,f=r.length;t<f;t++)delete this.handles[this.getId(r[t],!1)]},getHandle:function(n){return typeof n!="string"&&(n=n.id),this.handles[n]},getHandleFromEvent:function(n){var t=n.getTarget();return t?this.handles[t.id]:null},getTarget:function(n){return typeof n!="string"&&(n=n.id),this.elements[n]},getTargetFromEvent:function(n){var t=n.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0);Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(n){return Ext.dd.Registry.getTargetFromEvent(n)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(n,t,i){var r=this,u=r.getTargetFromEvent(t);if(!u){if(r.lastOverNode){r.onNodeOut(r.lastOverNode,n,t,i);r.lastOverNode=null}return r.onContainerOver(n,t,i)}if(r.lastOverNode!==u){if(r.lastOverNode)r.onNodeOut(r.lastOverNode,n,t,i);r.onNodeEnter(u,n,t,i);r.lastOverNode=u}return r.onNodeOver(u,n,t,i)},notifyOut:function(n,t,i){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,n,t,i);this.lastOverNode=null}},notifyDrop:function(n,t,i){var r=this,u=r.getTargetFromEvent(t),f=u?r.onNodeDrop(u,n,t,i):r.onContainerDrop(n,t,i);if(r.lastOverNode){r.onNodeOut(r.lastOverNode,n,t,i);r.lastOverNode=null}return f},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0);Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:"x-column-header",proxyOffsets:[-4,-9],constructor:function(n){var t=this;t.headerCt=n;t.ddGroup=t.getDDGroup();t.autoGroup=!0;Ext.dd.DropZone.prototype.constructor.call(this,n.el)},destroy:function(){Ext.dd.DropZone.prototype.destroy.call(this);Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(n){return n.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-top",html:"&#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-bottom",html:"&#160;"})),this.bottomIndicator},getLocation:function(n,t){var u=n.getXY()[0],i=Ext.fly(t).getRegion(),r;return r=i.right-u<=(i.right-i.left)/2?"after":"before",{pos:r,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(n,t,i){var r=this,e=n.header,y=r.getLocation(i,t),u=y.header,f=y.pos,g,nt,o,s,p,w,h,c,l,b,k,d,tt,a,v;if(u!==r.lastTargetHeader||f!==r.lastDropPos){if(g=e.nextSibling("gridcolumn:not([hidden])"),nt=e.previousSibling("gridcolumn:not([hidden])"),r.lastTargetHeader=u,r.lastDropPos=f,!u.draggable&&f==="before"&&u.getIndex()===0)return!1;if(n.dropLocation=y,e===u||(f!=="before"||g===u)&&(f!=="after"||nt===u)||u.isDescendantOf(e))r.invalidateDrop();else{for(d=Ext.dd.DragDropManager.getRelated(r),tt=d.length,a=0;a<tt;a++)v=d[a],v!==r&&v.invalidateDrop&&v.invalidateDrop();r.valid=!0;o=r.getTopIndicator();s=r.getBottomIndicator();f==="before"?(p="bc-tl",w="tc-bl"):(p="bc-tr",w="tc-br");h=o.getAlignToXY(u.el,p);c=s.getAlignToXY(u.el,w);l=r.headerCt.el;b=l.getX()-r.indicatorXOffset;k=l.getX()+l.getWidth();h[0]=Ext.Number.constrain(h[0],b,k);c[0]=Ext.Number.constrain(c[0],b,k);o.setXY(h);s.setXY(c);o.show();s.show()}}},invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(n,t,i,r){var u=this,e=r.header,f,o,s,h;return r.header.el.dom===n?f=!1:(r.isLock=r.isUnlock=r.crossPanel=!1,o=u.getLocation(i,n).header,f=e.ownerCt===o.ownerCt,f||e.ownerCt.sealed||o.ownerCt.sealed||(f=!0,s=e.up("tablepanel"),h=o.up("tablepanel"),s!==h&&(r.crossPanel=!0,r.isLock=h.isLocked&&!s.isLocked,r.isUnlock=!h.isLocked&&s.isLocked,(r.isUnlock&&e.lockable===!1||r.isLock&&!e.isLockable())&&(f=!1)))),f?u.positionIndicator(r,n,i):u.valid=!1,u.valid?u.dropAllowed:u.dropNotAllowed},hideIndicators:function(){var n=this;n.getTopIndicator().hide();n.getBottomIndicator().hide();n.lastTargetHeader=n.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(n,t){var i=n.items,r;return n.isGroupHeader&&i.length&&(r=t?"last":"first",n=this.getNestedHeader(i[r](),t)),n},onNodeDrop:function(n,t,i,r){if(this.valid){var c=this,u=r.header,p=r.dropLocation,h=p.pos,e=p.header,s=u.ownerCt,k=s.getRootHeaderCt(),o=e.ownerCt,v=c.headerCt.visibleColumnManager,l=v.getHeaderIndex(u),f,a,w,y,b;r.isLock||r.isUnlock?(y=s.up("[scrollerOwner]"),f=o.items.indexOf(e),h==="after"&&f++,r.isLock?y.lock(u,f,o):y.unlock(u,f,o)):(f=h==="after"?v.getHeaderIndex(c.getNestedHeader(e,1))+1:v.getHeaderIndex(c.getNestedHeader(e,0)),c.invalidateDrop(),b=u.getWidth(),Ext.suspendLayouts(),s.isDDMoveInGrid=o.isDDMoveInGrid=!r.crossPanel,u.isGroupHeader&&e.isGroupHeader&&u.setNestedParent(e),h==="before"?e.insertNestedHeader(u):(w="move"+h.charAt(0).toUpperCase()+h.substr(1),o[w](u,e)),f>=0&&!(e.isGroupHeader&&!e.items.length)&&l!==f&&(a=u.isGroupHeader?u.query(":not([hidden]):not([isGroupHeader])").length:1,l<=f&&a>1&&(f-=a),o.getRootHeaderCt().grid.view.moveColumn(l,f,a)),k.fireEvent("columnmove",s,u,l,f),s.isDDMoveInGrid=o.isDDMoveInGrid=!1,o.isGroupHeader&&!s.isGroupHeader?s!==o&&(u.savedFlex=u.flex,delete u.flex,u.width=b):s.isGroupHeader||u.savedFlex&&(u.flex=u.savedFlex,delete u.width),Ext.resumeLayouts(!0))}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0);Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.plugin.Abstract,{init:function(n){this.headerCt=n;n.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var n=this;n.dragZone=new Ext.grid.header.DragZone(n.headerCt);n.dropZone=new Ext.grid.header.DropZone(n.headerCt);n.disabled&&n.dragZone.disable()},enable:function(){this.disabled=!1;this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0;this.dragZone&&this.dragZone.disable()}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0);Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:!0,baseCls:"x-grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:"x-column-header-open",menuSortAscCls:"x-hmenu-sort-asc",menuSortDescCls:"x-hmenu-sort-desc",menuColsIcon:"x-cols-icon",ddLock:!1,dragging:!1,sortOnClick:!0,enableFocusableContainer:!1,childHideCount:0,sortable:!0,enableColumnHide:!0,initComponent:function(){var n=this;n.headerCounter=0;n.plugins=n.plugins||[];n.defaults=n.defaults||{};n.isColumn||(n.enableColumnResize&&(n.resizer=new Ext.grid.plugin.HeaderResizer,n.plugins.push(n.resizer)),n.enableColumnMove&&(n.reorderer=new Ext.grid.plugin.HeaderReorderer,n.plugins.push(n.reorderer)));n.isColumn&&!n.isGroupHeader?n.items&&n.items.length!==0||(n.isContainer=n.isFocusableContainer=!1,n.focusable=!0,n.layout={type:"container",calculate:Ext.emptyFn}):(n.layout=Ext.apply({type:"gridcolumn",align:"stretch"},n.initialConfig.layout),n.defaults.columnLines=n.columnLines,n.isGroupHeader?(n.visibleColumnManager=new Ext.grid.ColumnManager(!0,n),n.columnManager=new Ext.grid.ColumnManager(!1,n)):(n.isRootHeader=!0,n.hiddenHeaders||(n.enableFocusableContainer=!0,n.ariaRole="row"),n.columnManager=new Ext.grid.ColumnManager(!1,n),n.visibleColumnManager=new Ext.grid.ColumnManager(!0,n),n.grid&&(n.grid.columnManager=n.columnManager,n.grid.visibleColumnManager=n.visibleColumnManager)));n.menuTask=new Ext.util.DelayedTask(n.updateMenuDisabledState,n);Ext.container.Container.prototype.initComponent.call(this)},insertNestedHeader:function(n){var t=this,u=n.ownerCt,f=t.ownerCt,r=f.layout.owner,i;u&&(t.isGroupHeader&&!f.isNestedParent&&(i=r.items.indexOf(t)),u.remove(n,!1));i===undefined&&(i=r.items.indexOf(t));r.insert(i,n)},isNested:function(){return!!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var n=this,t=n.getRefOwner().query(">:not([hidden])");return t.length===1&&t[0]===n},maybeShowNestedGroupHeader:function(){var n=this.items,t;n&&n.length===1&&(t=n.getAt(0))&&t.hidden&&t.show()},setNestedParent:function(n){n.isNestedParent=!1;n.ownerCt.isNestedParent=!!(this.ownerCt.items.length===1&&n.ownerCt.items.length===1)},initEvents:function(){var n=this,t,i;Ext.container.Container.prototype.initEvents.call(this);n.isColumn||n.isGroupHeader||(t=n.onHeaderCtEvent,i={click:t,dblclick:t,contextmenu:t,mouseover:n.onHeaderCtMouseOver,mouseout:n.onHeaderCtMouseOut,scope:n},Ext.supports.Touch&&(i.longpress=n.onHeaderCtLongPress),n.mon(n.el,i))},onHeaderCtEvent:function(n,t){var r=this,e=r.getHeaderElByEvent(n),i,f,u;if(r.longPressFired){r.longPressFired=!1;return}if(e&&!r.ddLock&&(i=Ext.getCmp(e.id),i&&(f=i[i.clickTargetName],!i.isGroupHeader&&!i.isContainer||n.within(f))))if(n.type==="click"||n.type==="tap")if(u=i.onTitleElClick(n,f,r.sortOnClick),u)r.onHeaderTriggerClick(u,n,Ext.supports.Touch?u.el:u.triggerEl);else r.onHeaderClick(i,n,t);else if(n.type==="contextmenu")r.onHeaderContextMenu(i,n,t);else if(n.type==="dblclick"&&i.resizable)i.onTitleElDblClick(n,f.dom)},onHeaderCtMouseOver:function(n){var i,t,r;if(!n.within(this.el,!0)&&(i=n.getTarget("."+Ext.grid.column.Column.prototype.baseCls),t=i&&Ext.getCmp(i.id),t&&(r=t[t.clickTargetName],n.within(r))))t.onTitleMouseOver(n,r.dom)},onHeaderCtMouseOut:function(n){var f="."+Ext.grid.column.Column.prototype.baseCls,r=n.getTarget(f),u=n.getRelatedTarget(f),t,i;if(r!==u){if(r&&(t=Ext.getCmp(r.id),t)){i=t[t.clickTargetName];t.onTitleMouseOut(n,i.dom)}if(u&&(t=Ext.getCmp(u.id),t)){i=t[t.clickTargetName];t.onTitleMouseOver(n,i.dom)}}},onHeaderCtLongPress:function(n){var t=this,i=t.getHeaderElByEvent(n),r=Ext.getCmp(i.id);r.menuDisabled||(t.longPressFired=!0,t.showMenuBy(n,i,r))},getHeaderElByEvent:function(n){return n.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return this.hiddenHeaders?!1:Ext.container.Container.prototype.isLayoutRoot.call(this)},getRootHeaderCt:function(){var n=this;return n.isRootHeader?n:n.up("[isRootHeader]")},onDestroy:function(){var n=this;n.menu&&n.menu.un("hide",n.onMenuHide,n);n.menuTask.cancel();Ext.container.Container.prototype.onDestroy.call(this);Ext.destroy(n.visibleColumnManager,n.columnManager,n.menu);n.columnManager=n.visibleColumnManager=null},applyColumnsState:function(n){if(n&&n.length){for(var o=this,l=o.items.items,v=l.length,i=0,s=n.length,u,t,f,h=!1,r=[],a={},c=[],e=0;e<s;e++)t=n[e],t.index=e,a[t.id]=t;for(i=0;i<v;i++)u=l[i],t=a[u.getStateId()],t?(f=t.index,r[f]=u,i!==f&&(h=!0),u.applyColumnState&&u.applyColumnState(t)):c.push({index:i,column:u});if(r=Ext.Array.clean(r),s=c.length,s)for(i=0;i<s;i++)t=c[i],f=t.index,f<r.length?(h=!0,Ext.Array.splice(r,f,0,t.column)):r.push(t.column);h&&(o.removeAll(!1),o.add(r),o.purgeCache())}},getColumnsState:function(){var i=this,t=[],n;return i.items.each(function(i){n=i.getColumnState&&i.getColumnState();n&&t.push(n)}),t},onAdd:function(n){var t=this;n.headerId||(n.headerId=n.initialConfig.id||Ext.id(null,"header-"));n.sortable===undefined&&(n.sortable=t.sortable);n.getStateId()||(n.stateId=n.initialConfig.id||"h"+ ++t.headerCounter);Ext.container.Container.prototype.onAdd.apply(this,arguments);t.onHeadersChanged(n,t.isDDMoveInGrid)},move:function(n){var i=this,r=i.items,t;n.isComponent?(t=n,n=r.indexOf(t)):t=r.getAt(n);t.visibleFromIdx=i.getRootHeaderCt().visibleColumnManager.indexOf(t);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(n){var i=this,r=i.getRootHeaderCt(),f=r.visibleColumnManager,u=1,t;i.onHeadersChanged(n,!0);t=f.indexOf(n);t>=n.visibleFromIdx&&t++;Ext.container.Container.prototype.onMove.apply(this,arguments);n.isGroupHeader&&(u=n.visibleColumnManager.getColumns().length);r.onHeaderMoved(n,u,n.visibleFromIdx,t)},onRemove:function(n){var t=this,i=t.ownerCt;if(Ext.container.Container.prototype.onRemove.apply(this,arguments),!t.destroying){if(!t.isDDMoveInGrid)t.onHeadersChanged(n,!1);t.isGroupHeader&&!t.isNestedParent&&i&&!t.items.getCount()&&(n.rendered&&t.detachComponent(n),Ext.suspendLayouts(),i.remove(t),Ext.resumeLayouts(!0))}},onHeadersChanged:function(n,t){var r,i=this.getRootHeaderCt();if(this.purgeHeaderCtCache(this),i&&(i.onColumnsChanged(),!n.isGroupHeader&&(r=i.ownerCt,r&&!t)))r.onHeadersChanged(i,n)},onHeaderMoved:function(n,t,i,r){var u=this,f=u.ownerCt;if(u.rendered){if(f&&f.onHeaderMove)f.onHeaderMove(u,n,t,i,r);u.fireEvent("columnmove",u,n,i,r)}},onColumnsChanged:function(){var n=this,t=n.menu,i,r;n.rendered&&(n.fireEvent("columnschanged",n),t&&(i=t.child("#columnItemSeparator"))&&(r=t.child("#columnItem"),i.destroy(),r.destroy()))},lookupComponent:function(){var n=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);return n.isGroupHeader||n.width!==undefined||n.flex||(n.width=this.defaultWidth),n},setSortState:function(){for(var u=this.up("[store]").store,i=this.visibleColumnManager.getColumns(),f=i.length,t,r,n=0;n<f;n++)t=i[n],r=u.getSorters().get(t.getSortParam()),t.setSortState(r)},getHeaderMenu:function(){var t=this.getMenu(),n;return t&&(n=t.child("#columnItem"),n)?n.menu:null},onHeaderVisibilityChange:function(n,t){var i=this,r=i.getHeaderMenu(),u;i.purgeHeaderCtCache(n.ownerCt);r&&(u=i.getMenuItemForHeader(r,n),u&&u.setChecked(t,!0),r.isVisible()&&i.menuTask.delay(50))},updateMenuDisabledState:function(n){var r=this,e=r.query(":not([hidden])"),t,o=e.length,u,i,f;for(n||(n=r.getMenu()),t=0;t<o;++t)u=e[t],i=r.getMenuItemForHeader(n,u),i&&(f=u.isHideable()?"enable":"disable",i.menu&&(f+="CheckChange"),i[f]())},getMenuItemForHeader:function(n,t){return t?n.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(n){var t=this,i=t.ownerCt;if(i){t.forceFit&&delete t.flex;t.onHeaderVisibilityChange(n,!0);i.onHeaderShow(t,n);t.fireEvent("columnshow",t,n);t.fireEvent("columnschanged",this)}},onHeaderHide:function(n){var t=this,i=t.ownerCt;if(i){t.onHeaderVisibilityChange(n,!1);i.onHeaderHide(t,n);t.fireEvent("columnhide",t,n);t.fireEvent("columnschanged",this)}},onHeaderResize:function(n,t){var i=this,r=i.ownerCt;if(r)r.onHeaderResize(i,n,t);i.fireEvent("columnresize",i,n,t)},onHeaderClick:function(n,t,i){var r=this,u=n.getView().getSelectionModel();if(n.fireEvent("headerclick",r,n,t,i),r.fireEvent("headerclick",r,n,t,i)!==!1&&u.onHeaderClick)u.onHeaderClick(r,n,t)},onHeaderContextMenu:function(n,t,i){n.fireEvent("headercontextmenu",this,n,t,i);this.fireEvent("headercontextmenu",this,n,t,i)},onHeaderTriggerClick:function(n,t,i){var r=this;n.fireEvent("headertriggerclick",r,n,t,i)!==!1&&r.fireEvent("headertriggerclick",r,n,t,i)!==!1&&(n.activeMenu?t.pointerType?n.activeMenu.hide():n.activeMenu.focus():r.showMenuBy(t,i,n))},showMenuBy:function(n,t,i){var r=this.getMenu(),f=r.down("#ascItem"),e=r.down("#descItem"),u;if(r.activeHeader=r.ownerCmp=i,i.setMenuActive(r),u=i.sortable?"enable":"disable",f&&f[u](),e&&e[u](),r.autoFocus=!n||!n.pointerType,r.showBy(t,"tl-bl?"),!r.isVisible())this.onMenuHide(r)},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(n){n.activeHeader.setMenuActive(!1)},purgeHeaderCtCache:function(n){while(n){if(n.purgeCache(),n.isRootHeader)return;n=n.ownerCt}},purgeCache:function(){var n=this,t=n.visibleColumnManager,i=n.columnManager;n.gridVisibleColumns=n.gridDataColumns=n.hideableColumns=null;t&&(t.invalidate(),i.invalidate())},getMenu:function(){var n=this;return n.menu||(n.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:n.getMenuItems(),listeners:{beforeshow:n.beforeMenuShow,hide:n.onMenuHide,scope:n}}),n.fireEvent("menucreate",n,n.menu)),n.menu},beforeMenuShow:function(n){var t=this,u=n.child("#columnItem"),i,r;u||(i=t.enableColumnHide?t.getColumnMenu(t):null,r=t.sortable?2:0,i&&i.length&&n.insert(r,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:t.columnsText,iconCls:t.menuColsIcon,menu:{items:i},hideOnClick:!1}]));t.updateMenuDisabledState(t.menu)},getMenuItems:function(){var n=this,t=[],i=n.enableColumnHide?n.getColumnMenu(n):null;return n.sortable&&(t=[{itemId:"ascItem",text:n.sortAscText,iconCls:n.menuSortAscCls,handler:n.onSortAscClick,scope:n},{itemId:"descItem",text:n.sortDescText,iconCls:n.menuSortDescCls,handler:n.onSortDescClick,scope:n}]),i&&i.length&&(n.sortable&&t.push({itemId:"columnItemSeparator",xtype:"menuseparator"}),t.push({itemId:"columnItem",text:n.columnsText,iconCls:n.menuColsIcon,menu:i,hideOnClick:!1})),t},onSortAscClick:function(){var n=this.getMenu(),t=n.activeHeader;t.sort("ASC")},onSortDescClick:function(){var n=this.getMenu(),t=n.activeHeader;t.sort("DESC")},getColumnMenu:function(n){for(var i=[],r=0,t,u=n.query(">gridcolumn[hideable]"),e=u.length,f;r<e;r++)t=u[r],f=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):undefined,checkHandler:this.onColumnCheckChange,scope:this}),i.push(f);return i.length?i:null},onColumnCheckChange:function(n,t){var i=Ext.getCmp(n.headerId),r;i.rendered?(i[t?"show":"hide"](),r=i.lastCheckedHeaderId,t&&r&&(i.getRootHeaderCt().getMenu().down("[headerId="+r+"]").setChecked(!0),i.lastCheckedHeaderId=null)):i.hidden=!t},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){for(var t=0,i=this.getVisibleGridColumns(),r=i.length,n=0;n<r;n++)t+=i[n].getCellWidth()||0;return t},getVisibleGridColumns:function(){var n=this,u,f,t,e,i,r;if(n.gridVisibleColumns)return n.gridVisibleColumns;for(u=n.getGridColumns(),f=n.getRootHeaderCt(),t=[],e=u.length,i=0;i<e;i++)r=u[i],r.hidden||r.isColumnHidden(f)||(t[t.length]=r);return n.gridVisibleColumns=t,t},isColumnHidden:function(n){for(var t=this.getRefOwner();t&&t!==n;){if(t.hidden)return!0;t=t.getRefOwner()}return!1},getGridColumns:function(n,t){if(!n&&this.gridDataColumns)return this.gridDataColumns;var e=this,u=n||[],o,r,f,i,s;if(t=t||e.hidden,e.items&&(o=e.items.items,o))for(r=0,f=o.length;r<f;r++)i=o[r],i.isGroupHeader?(i.visibleIndex=u.length,i.getGridColumns(u,t)):(i.hiddenAncestor=t,u.push(i));if(n||(e.gridDataColumns=u),!n&&f){for(r=0,f=u.length;r<f;r++)i=u[r],i.fullColumnIndex=r,i.isFirstVisible=i.isLastVisible=!1,i.hidden||i.hiddenAncestor||(s||(i.isFirstVisible=!0),s=i);s&&(s.isLastVisible=!0)}return u},getHideableColumns:function(){var n=this,t=n.hideableColumns;return t||(t=n.hideableColumns=n.query("[hideable]")),t},getHeaderIndex:function(n){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderIndex(n)},getHeaderAtIndex:function(n){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderAtIndex(n)},getVisibleHeaderClosestToIndex:function(n){return this.visibleColumnManager||(this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager),this.visibleColumnManager.getVisibleHeaderClosestToIndex(n)},applyForceFit:function(n){function p(){for(i=0,f=u.length;i<f;i++)(t=u[i],t!==n)&&(t.flex=t.flex||t.width||t.getWidth(),v+=t.flex,t.width=null)}function w(){var e;for(i=0,f=u.length;i<f;i++)t=u[i],e=t===n,l&&!e?(t.flex=s,t.width=null):e||(r=t.flex||a,t.flex=Math.max(Math.ceil(r/v*h),s),t.width=null),t.setWidth(t.width||t.flex)}var e=this,o=e.view,s=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,l=!1,a=Ext.grid.header.Container.prototype.defaultWidth,h=e.el.dom.clientWidth-(o.el.dom.scrollHeight>o.el.dom.clientHeight?Ext.getScrollbarSize().width:0),v=0,u=e.getVisibleGridColumns(),y=n.hidden,f,i,t,c,r;Ext.suspendLayouts();c=h-(u.length+1)*s;n.flex=null;y?(r=n.width||n.savedWidth,n.savedWidth=null):r=o.getMaxContentWidth(n);r>c?(n.width=c,l=!0):(n.width=r,h-=r+a,p());w();Ext.resumeLayouts(!0)},autoSizeColumn:function(n){var t=this.view;t&&(t.autoSizeColumn(n),this.forceFit&&this.applyForceFit(n))},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(n){var t=this;return new Ext.util.KeyNav(n,{scope:t,down:t.showHeaderMenu,left:t.onFocusableContainerLeftKey,right:t.onFocusableContainerRightKey,space:t.onHeaderActivate,enter:t.onHeaderActivate})},showHeaderMenu:function(n){var t=this.getFocusableFromEvent(n);if(t&&t.isColumn&&t.triggerEl)this.onHeaderTriggerClick(t,n,t.triggerEl)},onHeaderActivate:function(n){var t=this.getFocusableFromEvent(n),i,r;if(t&&t.isColumn){i=t.getView();t.sortable&&this.sortOnClick&&(r=i.getNavigationModel().getLastFocused(),t.toggleSortState(),r&&i.ownerCt.ensureVisible(r.record));this.onHeaderClick(t,n,t.el)}},onFocusableContainerMousedown:function(n,t){var i=Ext.Component.fromElement(t);i===this?n.preventDefault():i.focus()}}},0,["headercontainer"],["component","box","container","headercontainer"],{component:!0,box:!0,container:!0,headercontainer:!0},["widget.headercontainer"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.grid.header,"Container"],0);Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:!0,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:"x-column-header-text-container-auto",beginLayout:function(n){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);n.titleContext=n.getEl("titleEl")},beginLayoutCycle:function(n){var t=this,i=t.owner,r=n.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);r&&i.el.setWidth("");i.textContainerEl[r?"addCls":"removeCls"](t.columnAutoCls);i.titleEl.setStyle(t._paddingReset)},publishInnerHeight:function(n,t){var r=this,i=r.owner,u;if(i.getRootHeaderCt().hiddenHeaders){n.setProp("innerHeight",0);return}if(!n.hasRawContent){if(i.headerWrap&&!n.hasDomProp("width")){r.done=!1;return}u=t-n.getBorderInfo().height;n.setProp("innerHeight",u-i.titleEl.getHeight(),!1)}},measureContentHeight:function(n){return n.el.dom.offsetHeight},publishInnerWidth:function(n,t){n.hasRawContent||n.setProp("innerWidth",t-n.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(n,t){var r=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),i=this.owner;return n.hasRawContent?r:!i.headerWrap||n.hasDomProp("width")?t+i.titleEl.getHeight()+n.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(n,t){var i=this.owner,u=n.getPaddingInfo().width,f=this.getTriggerOffset(i,n),r;return r=i.isGroupHeader?t:Math.max(t,i.textEl.getWidth()+n.titleContext.getPaddingInfo().width),r+u+f},getTriggerOffset:function(n,t){var i=0;return t.widthModel.shrinkWrap&&!n.menuDisabled&&n.query(">:not([hidden])").length===0&&(i=n.self.triggerElWidth),i}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0);Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1},baseCls:"x-column-header",hoverCls:"x-column-header-over",handleWidth:Ext.supports.Touch?10:4,ariaRole:"columnheader",enableFocusableContainer:!1,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl","textContainerEl"],headerWrap:!1,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" {tipMarkup}class="',"x-",'column-header-inner<tpl if="!$comp.isContainer"> ',"x-","leaf-column-header<\/tpl>",'<tpl if="empty"> ',"x-",'column-header-inner-empty<\/tpl>">','<span id="{id}-textContainerEl" data-ref="textContainerEl" class="',"x-",'column-header-text-container">','<span class="',"x-",'column-header-text-wrapper">','<span id="{id}-textEl" data-ref="textEl" class="',"x-","column-header-text",'{childElCls}">',"{text}","<\/span>","<\/span>","<\/span>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" class="',"x-","column-header-trigger",'{childElCls}" style="{triggerStyle}"><\/div>',"<\/tpl>","<\/div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",producesHTML:!0,isHeader:!0,isColumn:!0,tabIndex:-1,ascSortCls:"x-column-header-sort-ASC",descSortCls:"x-column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:"x-group-sub-header",groupHeaderCls:"x-group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var n=this;n.header!=null&&(n.text=n.header,n.header=null);n.cellWrap&&(n.tdCls=(n.tdCls||"")+" x-wrap-cell");n.columns!=null?(n.isGroupHeader=!0,n.items=n.columns,n.columns=n.flex=n.width=null,n.cls=(n.cls||"")+" "+n.groupHeaderCls,n.sortable=n.resizable=!1,n.align="center"):n.flex&&(n.minWidth=n.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth);n.addCls("x-column-header-align-"+n.align);n.setupRenderer();n.setupRenderer("edit");n.setupRenderer("summary");Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},bindFormatter:function(n){var t=this;return function(i){return n.format(i,n.scope||t.scope||t.resolveListenerScope())}},bindRenderer:function(n){var t=this;return t.hasCustomRenderer=!0,function(){return Ext.callback(n,t.scope,arguments,0,t)}},setupRenderer:function(n){n=n||"column";var t=this,i=t[t.formatterNames[n]],r=t[t.rendererNames[n]],f=n==="column",u;i?(u=i.indexOf("this.")===0,u&&(i=i.substring(5)),i=Ext.app.bind.Template.prototype.parseFormat(i),t[t.formatterNames[n]]=null,u&&(i.scope=null),t[t.rendererNames[n]]=t.bindFormatter(i)):r?(typeof r=="string"&&(r=t[t.rendererNames[n]]=t.bindRenderer(r)),f&&(t.hasCustomRenderer=r.length>1)):f&&t.defaultRenderer&&(t.renderer=t.defaultRenderer,t.usingDefaultRenderer=!0)},getView:function(){var n=this.getRootHeaderCt();if(n)return n.view},onResize:function(n,t,i){var f=this,r,u;if(Ext.grid.header.Container.prototype.onResize.apply(this,arguments),i&&f.cellWrap&&(r=f.getView(),r&&(u=r.bufferedRenderer,u)))u.onWrappedColumnWidthChange(i,n)},onFocusLeave:function(n){Ext.grid.header.Container.prototype.onFocusLeave.call(this,n);this.activeMenu&&this.activeMenu.hide()},initItems:function(){var n=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments);n.isGroupHeader&&(n.config.hidden||!n.hasVisibleChildColumns())&&n.hide()},hasVisibleChildColumns:function(){for(var i=this.items.items,r=i.length,t,n=0;n<r;++n)if(t=i[n],t.isColumn&&!t.hidden)return!0;return!1},onAdd:function(n){var t=this;n.isColumn&&(n.isSubHeader=!0,n.addCls(t.groupSubHeaderCls));t.isGroupHeader&&t.hidden&&t.hasVisibleChildColumns()&&t.show();Ext.grid.header.Container.prototype.onAdd.call(this,n)},onRemove:function(n){var t=this;n.isSubHeader&&(n.isSubHeader=!1,n.removeCls(t.groupSubHeaderCls));Ext.grid.header.Container.prototype.onRemove.call(this,n);t.isDestroyed||t.destroying||t.hasVisibleChildColumns()||t.ownerCt.isNested()||t.hide()},initRenderData:function(){var n=this,i="",r=n.tooltip,t=n.text,u=n.tooltipType==="qtip"?"data-qtip":"title";return Ext.isEmpty(r)||(i=u+'="'+r+'" '),Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:t,empty:t==="&#160;"||t===" "||t==="",menuDisabled:n.menuDisabled,tipMarkup:i,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(n){var t=this;t.applyColumnsState(n.columns);n.hidden!=null&&(t.hidden=n.hidden);n.locked!=null&&(t.locked=n.locked);n.sortable!=null&&(t.sortable=n.sortable);n.width!=null?(t.flex=null,t.width=n.width):n.flex!=null&&(t.width=null,t.flex=n.flex)},getColumnState:function(){var n=this,r=n.items.items,f=r?r.length:0,i,u=[],t={id:n.stateId||n.getStateId()};if(n.savePropsToState(["hidden","sortable","locked","flex","width"],t),n.isGroupHeader){for(i=0;i<f;i++)u.push(r[i].getColumnState());u.length&&(t.columns=u)}return"width"in t&&delete t.flex,t},getStateId:function(){return this.stateId=this.stateId||this.headerId},setText:function(n){this.text=n;this.rendered&&this.textEl.setHtml(n)},getIndex:function(){return this.isGroupColumn?!1:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?!1:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var n=this,t=n.getRootHeaderCt();Ext.grid.header.Container.prototype.beforeRender.call(this);n.isSortable()||n.groupable||n.lockable||t.grid.enableColumnHide!==!1&&t.getHideableColumns().length||(n.menuDisabled=!0);n.cellWrap&&(n.variableRowHeight=!0);n.protoEl.unselectable()},afterRender:function(){var t=this,n=t.triggerEl;Ext.grid.header.Container.prototype.afterRender.apply(this,arguments);n&&t.self.triggerElWidth===undefined&&(n.setStyle("display","block"),t.self.triggerElWidth=n.getWidth(),n.setStyle("display",""))},afterComponentLayout:function(n,t,i){var r=this,u=r.getRootHeaderCt();if(Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments),u&&(i!=null||r.flex)&&n!==i)u.onHeaderResize(r,n)},onDestroy:function(){var n=this;Ext.destroy(n.field);n.field=null;Ext.grid.header.Container.prototype.onDestroy.apply(this,arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(n){if(this.triggerEl)this.onTitleElClick(n,this.triggerEl.dom||this.el.dom)},onEnterKey:function(n){this.onTitleElClick(n,this.el.dom)},onTitleElDblClick:function(n){var t=this,i,r,u;if(t.isOnLeftEdge(n))i=t.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),i&&i.getRootHeaderCt()===t.getRootHeaderCt()&&i.autoSize();else if(t.isOnRightEdge(n)){if(t.isGroupHeader&&n.getPoint().isContainedBy(t.layout.innerCt)){r=t.query("gridcolumn:not([hidden]):not([isGroupHeader])");t.getRootHeaderCt().autoSizeColumn(r[r.length-1]);return}if(u=t.getRootHeaderCt(),u.visibleColumnManager.getColumns().length===1&&u.forceFit)return;t.autoSize()}},autoSize:function(){var n=this,i,r,t,u;if(n.isGroupHeader){for(i=n.query("gridcolumn:not([hidden]):not([isGroupHeader])"),r=i.length,u=n.getRootHeaderCt(),Ext.suspendLayouts(),t=0;t<r;t++)u.autoSizeColumn(i[t]);Ext.resumeLayouts(!0);return}n.getRootHeaderCt().autoSizeColumn(n)},onTitleElClick:function(n,t,i){var r=this,u,f;return Ext.supports.Touch?(f=r.previousSibling(":not([hidden])"),!r.menuDisabled&&r.isOnRightEdge(n,parseInt(r.triggerEl.getStyle("width")))?r.menuDisabled||(u=r):f&&!f.menuDisabled&&r.isOnLeftEdge(n)&&(u=f)):u=r.triggerEl&&(n.target===r.triggerEl.dom||t===r.triggerEl||n.within(r.triggerEl))?r:null,i===!1||(u||r.isOnLeftEdge(n)||r.isOnRightEdge(n))&&!n.getKey()||r.toggleSortState(),u},processEvent:function(){return this.fireEvent.apply(this,arguments)},isSortable:function(){var n=this.getRootHeaderCt(),t=n?n.grid:null,i=this.sortable;return t&&t.sortableColumns===!1&&(i=!1),i},toggleSortState:function(){this.isSortable()&&this.sort()},sort:function(n){var t=this,i=t.up("tablepanel"),r=i.store;Ext.suspendLayouts();t.sorting=!0;r.sort(t.getSortParam(),n,i.multiColumnSort?"multi":"replace");delete t.sorting;Ext.resumeLayouts(!0)},getSortParam:function(){return this.dataIndex},setSortState:function(n){var t=this,f=n&&n.getDirection(),i=t.ascSortCls,r=t.descSortCls,e=t.getRootHeaderCt(),u;switch(f){case"DESC":t.hasCls(r)||(t.addCls(r),t.sortState="DESC",u=!0);t.removeCls(i);break;case"ASC":t.hasCls(i)||(t.addCls(i),t.sortState="ASC",u=!0);t.removeCls(r);break;default:t.removeCls([i,r]);t.sortState=null}u&&e.fireEvent("sortchange",e,t,f)},isHideable:function(){var n={hideCandidate:this,result:this.hideable};return n.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[n]),n.result},hasOtherMenuEnabledChildren:function(n){var t,i;if(!this.isXType("headercontainer"))return n.result=!1,!1;if(t=this.query(">:not([hidden]):not([menuDisabled])"),i=t.length,Ext.Array.contains(t,n.hideCandidate)&&i--,i)return!1;n.hideCandidate=this},isLockable:function(){var n={result:this.lockable!==!1};return n.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[n]),n.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(n){return this.isXType("headercontainer")?this.query(">:not([hidden])").length>1?!1:void 0:(n.result=!1,!1)},hide:function(){var n=this,t=n.getRootHeaderCt(),i=n.getRefOwner();if(i.constructing)return Ext.grid.header.Container.prototype.hide.call(this),n;if(n.rendered&&!n.isVisible())return n;t.forceFit&&(n.visibleSiblingCount=t.getVisibleGridColumns().length-1,n.flex&&(n.savedWidth=n.getWidth(),n.flex=null));t.beginChildHide();Ext.suspendLayouts();i.isGroupHeader&&(n.isNestedGroupHeader()&&i.hide(),n.isSubHeader&&!n.isGroupHeader&&i.query(">:not([hidden])").length===1&&(i.lastCheckedHeaderId=n.id));Ext.grid.header.Container.prototype.hide.call(this);t.endChildHide();t.onHeaderHide(n);return Ext.resumeLayouts(!0),n},show:function(){var n=this,i=n.getRootHeaderCt(),t=n.ownerCt;if(n.isVisible())return n;if(n.rendered&&i.forceFit&&i.applyForceFit(n),Ext.suspendLayouts(),n.isSubHeader&&t.hidden&&t.show(!1,!0),Ext.grid.header.Container.prototype.show.apply(this,arguments),n.isGroupHeader&&n.maybeShowNestedGroupHeader(),t=n.getRootHeaderCt(),t)t.onHeaderShow(n);return Ext.resumeLayouts(!0),n},getCellWidth:function(){var n=this,t;return n.rendered&&n.componentLayout&&n.componentLayout.lastComponentSize?t=n.componentLayout.lastComponentSize.width:n.width?t=n.width:n.isColumn||(t=n.getTableWidth()),t},getCellId:function(){return"x-grid-cell-"+this.getItemId()},getCellSelector:function(){return"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" .x-grid-cell-inner"},isOnLeftEdge:function(n){return n.getXY()[0]-this.getX()<this.handleWidth},isOnRightEdge:function(n,t){return this.getX()+this.getWidth()-n.getXY()[0]<=(t||this.handleWidth)},setMenuActive:function(n){this.activeMenu=n;this.titleEl[n?"addCls":"removeCls"](this.headerOpenCls)},deprecated:{5:{methods:{bindRenderer:function(n){return function(t){return Ext.util.Format[n](t)}}}}}},0,["gridcolumn"],["component","box","container","headercontainer","gridcolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0);Ext.cmd.derive("Ext.tree.Column",Ext.grid.column.Column,{tdCls:"x-grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:"x-tree-icon",checkboxCls:"x-tree-checkbox",elbowCls:"x-tree-elbow",expanderCls:"x-tree-expander",textCls:"x-tree-node-text",innerCls:"x-grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty<\/tpl>" role="presentation"/>',"<\/tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end<\/tpl><tpl if="expandable">-plus {expanderCls}<\/tpl>" role="presentation"/>','<tpl if="checked !== null">','<input type="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked<\/tpl>"/>',"<\/tpl>",'<img src="{blankUrl}" role="presentation" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent<\/tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"<\/tpl>/>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}<\/a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}<\/span>',"<\/tpl>"],initComponent:function(){var n=this;n.setupRenderer();n.origRenderer=n.renderer;n.origScope=n.scope||window;n.renderer=n.treeRenderer;n.scope=n;Ext.grid.column.Column.prototype.initComponent.call(this);n.hasCustomRenderer=!1},treeRenderer:function(n,t,i,r,u,f,e){var o=this,s=i.get("cls"),h;return t&&s&&(t.tdCls+=" "+s),h=o.initTemplateRendererData(n,t,i,r,u,f,e),o.getTpl("cellTpl").apply(h)},initTemplateRendererData:function(n,t,i,r,u,f,e){for(var o=this,l=o.origRenderer,s=i.data,h=i.parentNode,a=e.rootVisible,v=[],c;h&&(a||h.data.depth>0);)c=h.data,v[a?c.depth:c.depth-1]=c.isLast?0:1,h=h.parentNode;return{record:i,baseIconCls:o.iconCls,iconCls:s.iconCls,icon:s.icon,checkboxCls:o.checkboxCls,checked:s.checked,elbowCls:o.elbowCls,expanderCls:o.expanderCls,textCls:o.textCls,leaf:s.leaf,expandable:i.isExpandable(),isLast:i.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:s.href,hrefTarget:s.hrefTarget,lines:v,metaData:t,childCls:o.getChildCls?o.getChildCls()+" ":"",value:l?l.apply(o.origScope,arguments):n}}},0,["treecolumn"],["component","box","container","headercontainer","gridcolumn","treecolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,treecolumn:!0},["widget.treecolumn"],0,[Ext.tree,"Column"],0);Ext.cmd.derive("Ext.grid.NavigationModel",Ext.view.NavigationModel,{focusCls:"x-grid-item-focused",getViewListeners:function(){var n=this;return{containermousedown:n.onContainerMouseDown,cellmousedown:n.onCellMouseDown,cellclick:n.onCellClick,itemmousedown:n.onItemMouseDown,itemclick:n.onItemClick,itemcontextmenu:n.onItemClick,scope:n}},initKeyNav:function(n){var t=this;t.position=new Ext.grid.CellContext(n);t.keyNav=new Ext.util.KeyNav({target:n,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:function(n,t,i,r,u){return u},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t})},onCellMouseDown:function(n,t,i,r,u,f,e){var s=e.parentEvent,o=Ext.Component.fromElement(e.target,t);if(o&&o.isFocusable()){o.focus();return}s&&s.type==="touchstart"||this.setPosition(e.position,null,e)},onCellClick:function(n,t,i,r,u,f,e){this.position.isEqual(e.position)?this.fireNavigateEvent(e):this.setPosition(e.position,null,e)},onItemMouseDown:function(n,t,i,r,u){var l=this,o,e,h,f,a,s,c=u.parentEvent;if((!c||c.type!=="touchstart")&&!u.position.cellElement)for(o=u.getX(),e=n.getVisibleColumnManager().getColumns(),h=e.length,f=0;f<h;f++)if(a=e[f],s=e[f].getBox(),o>=s.left&&o<s.right){l.setPosition(t,e[f],u);return}},onItemClick:function(n,t,i,r,u){u.position.cellElement||this.fireNavigateEvent(u)},beforeViewRefresh:function(n){var t=this.getPosition();this.focusRestorePosition=t&&t.view===n?t.clone():null},onStoreRemove:function(){this.position&&this.setPosition(this.getPosition(),null,null,null,!0)},deferSetPosition:function(n,t,i,r,u,f){var e=this.view.getFocusTask();return e.delay(n,this.setPosition,this,[t,i,r,u,f]),e},setPosition:function(n,t,i,r,u){var f=this,o,v,h,s,c,e,l,a=n==null&&t==null,y=f.record==null&&f.recordIndex==null&&f.item==null;if(o=n&&n.isCellContext?n.view:i&&i.view?i.view:f.lastFocused?f.lastFocused.view:f.view,v=o.getSelectionModel(),h=o.dataSource,o.getFocusTask().cancel(),!o.isDestroyed&&o.refreshCounter&&(!a||!y)&&o.all.getCount()){if(n&&n.isCellContext)e=n.record,s=n.rowIdx,c=n.colIdx,l=n.column,h.indexOf(e)===-1&&(s=h.indexOfId(e.id),s===-1?(f.recordIndex=-1,e=h.getAt(0),s=0,c=0,l=o.getVisibleColumnManager().getColumns()[0]):e=h.getById(e.id));else{if(a)e=s=null;else if(t==null&&(t=f.lastFocused?f.lastFocused.column:0),typeof n=="number")s=Math.max(Math.min(n,h.getCount()-1),0),e=h.getAt(n);else if(n.isEntity)e=n,s=h.indexOf(e);else if(n.tagName)e=o.getRecord(n),s=h.indexOf(e),s===-1&&(e=null);else{if(y)return;a=!0;e=s=null}e?(s===-1&&(f.recordIndex=-1,e=h.getAt(0),s=0,t=null),t==null?(l=f.column)||(c=0,l=o.getVisibleColumnManager().getColumns()[0]):typeof t=="number"?(l=o.getVisibleColumnManager().getColumns()[t],c=t):(l=t,c=o.getVisibleColumnManager().indexOf(t))):(a=!0,l=c=null)}if(s===f.recordIndex&&c===f.columnIndex)return f.focusPosition(f.position);f.cell&&f.cell.removeCls(f.focusCls);f.previousRecordIndex=f.recordIndex;f.previousRecord=f.record;f.previousItem=f.item;f.previousCell=f.cell;f.previousColumn=f.column;f.previousColumnIndex=f.columnIndex;f.previousPosition=f.position.clone();f.position.setAll(o,f.recordIndex=s,f.columnIndex=c,f.record=e,f.column=l);a?f.item=f.cell=null:f.focusPosition(f.position,u);r||(v.fireEvent("focuschange",v,f.previousRecord,f.record),o.fireEvent("rowfocus",f.record,f.item,f.recordIndex),o.fireEvent("cellfocus",f.record,f.cell,f.position));i&&!u&&f.cell!==f.previousCell&&f.fireNavigateEvent(i)}},focusPosition:function(n){var t=this,i,r;t.item=t.cell=null;n&&n.record&&n.column&&(i=n.view,r=n.rowElement?t.item=n.rowElement:i.getRowByRecord(n.record),r?(t.cell=n.cellElement||Ext.fly(r).down(n.column.getCellSelector(),!0),t.cell?(t.cell=new Ext.dom.Fly(t.cell),i.lastFocused=t.lastFocused=t.position.clone(),t.focusItem(t.cell),i.focusEl=t.cell):(t.position.setAll(),t.record=t.column=t.recordIndex=t.columnIndex=null)):(r=i.dataSource.indexOf(n.record),t.position.setAll(),t.record=t.column=t.recordIndex=t.columnIndex=null,r!==-1&&i.bufferedRenderer&&(t.lastKeyEvent=null,i.bufferedRenderer.scrollTo(r,!1,t.afterBufferedScrollTo,t))))},focusItem:function(n){n.addCls(this.focusCls);n.focus()},getCell:function(){return this.cell},getPosition:function(){var i=this,n=i.position,t,r,u;if(n.record&&n.column)if(r=n.view,u=r.dataSource,t=u.indexOf(n.record),t===-1&&(t=n.rowIdx,u.getAt(t)||(t=-1)),t===-1||r.getVisibleColumnManager().indexOf(n.column)===-1)n.setAll(),i.record=i.column=i.recordIndex=i.columnIndex=null;else return n;return null},getLastFocused:function(){var i=this,t,n=i.lastFocused;if(n&&n.record&&n.column&&(t=n.view,t.dataSource.indexOf(n.record)!==-1&&t.getVisibleColumnManager().indexOf(n.column)!==-1))return n},onKeyUp:function(n){var t=n.view.walkRecs(n.record,-1);t&&this.setPosition(t,this.columnIndex,n)},onKeyDown:function(n){var t=n.record.isExpandingOrCollapsing?null:n.view.walkRecs(n.record,1);t&&this.setPosition(t,this.columnIndex,n)},onKeyRight:function(n){var t=this.move("right",n);t&&this.setPosition(t,null,n)},onKeyLeft:function(n){var t=this.move("left",n);t&&this.setPosition(t,null,n)},move:function(n){var i=this,t=i.getPosition();if(t&&t.record)return t.view.walkCells(t,n,null,i.preventWrap)},onKeyPageDown:function(n){var t=this,i=n.view,r=t.getRowsVisible(),u,f;r&&(i.bufferedRenderer?(u=Math.min(n.recordIndex+r,i.dataSource.getCount()-1),t.lastKeyEvent=n,i.bufferedRenderer.scrollTo(u,!1,t.afterBufferedScrollTo,t)):(f=i.walkRecs(n.record,r),t.setPosition(f,null,n)))},onKeyPageUp:function(n){var t=this,i=n.view,r=t.getRowsVisible(),u,f;r&&(i.bufferedRenderer?(u=Math.max(n.recordIndex-r,0),t.lastKeyEvent=n,i.bufferedRenderer.scrollTo(u,!1,t.afterBufferedScrollTo,t)):(f=i.walkRecs(n.record,-r),t.setPosition(f,null,n)))},onKeyHome:function(n){var t=this,i=n.view;n.altKey?i.bufferedRenderer?(t.lastKeyEvent=n,i.bufferedRenderer.scrollTo(0,!1,t.afterBufferedScrollTo,t)):t.setPosition(i.walkRecs(n.record,-i.dataSource.indexOf(n.record)),null,n):t.setPosition(n.record,0,n)},afterBufferedScrollTo:function(n,t){this.setPosition(t,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(n){var i=this,t=n.view;n.altKey?t.bufferedRenderer?(i.lastKeyEvent=n,t.bufferedRenderer.scrollTo(t.store.getCount()-1,!1,i.afterBufferedScrollTo,i)):i.setPosition(t.walkRecs(n.record,t.dataSource.getCount()-1-t.dataSource.indexOf(n.record)),null,n):i.setPosition(n.record,n.view.getVisibleColumnManager().getColumns().length-1,n)},getRowsVisible:function(){var n=!1,t=this.view,i=t.all.first(),r,u;return i&&(r=i.getHeight(),u=t.el.getHeight(),n=Math.floor(u/r)),n},fireNavigateEvent:function(n){var t=this;t.fireEvent("navigate",{view:t.position.view,navigationModel:t,keyEvent:n||new Ext.event.Event({}),previousPosition:t.previousPosition,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,previousCell:t.previousCell,previousColumnIndex:t.previousColumnIndex,previousColumn:t.previousColumn,position:t.position,recordIndex:t.recordIndex,record:t.record,item:t.item,cell:t.cell,columnIndex:t.columnIndex,column:t.column})}},0,0,0,0,["view.navigation.grid"],0,[Ext.grid,"NavigationModel"],0);Ext.cmd.derive("Ext.tree.NavigationModel",Ext.grid.NavigationModel,{initKeyNav:function(n){var t=this,i=t.view.ownerGrid.columns;t.isTreeGrid=i&&i.length>1;Ext.grid.NavigationModel.prototype.initKeyNav.call(this,n);t.keyNav.map.addBinding([{key:"8",shift:!0,handler:t.onAsterisk,scope:t},{key:Ext.event.Event.NUM_MULTIPLY,handler:t.onAsterisk,scope:t}]);t.view.grid.on({columnschanged:t.onColumnsChanged,scope:t})},onColumnsChanged:function(){this.isTreeGrid=this.view.ownerGrid.getVisibleColumnManager().getColumns().length>1},onKeyLeft:function(n){var i=this,r=n.view,t=i.record;if(i.isTreeGrid&&!n.ctrlKey)return Ext.grid.NavigationModel.prototype.onKeyLeft.call(this,n);n.position.column.isTreeColumn&&t.isExpanded()?r.collapse(t):(t=t.parentNode,!t||t.isRoot()&&!r.rootVisible||i.setPosition(t,null,n))},onKeyRight:function(n){var i=this,t=i.record;if(i.isTreeGrid&&!n.ctrlKey)return Ext.grid.NavigationModel.prototype.onKeyRight.call(this,n);t.isLeaf()||(n.position.column.isTreeColumn&&!t.isExpanded()?n.view.expand(t):t.isExpanded()&&(t=t.childNodes[0],t&&i.setPosition(t)))},onKeyEnter:function(n){this.record.data.checked!=null?this.toggleCheck(n):Ext.grid.NavigationModel.prototype.onKeyEnter.call(this,n)},onKeySpace:function(n){this.record.data.checked!=null?this.toggleCheck(n):Ext.grid.NavigationModel.prototype.onKeySpace.call(this,n)},toggleCheck:function(){this.view.onCheckChange(this.record)},onAsterisk:function(){this.view.ownerCt.expandAll()}},0,0,0,0,["view.navigation.tree"],0,[Ext.tree,"NavigationModel"],0);Ext.cmd.derive("Ext.tree.Panel",Ext.panel.Table,{alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",treeCls:"x-tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:"x-tree-arrows",linesCls:"x-tree-lines",noLinesCls:"x-tree-no-lines",autoWidthCls:"x-autowidth-table",constructor:function(n){n=n||{};n.animate===undefined&&(n.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx);this.enableAnimations=n.animate;delete n.animate;Ext.panel.Table.prototype.constructor.call(this,n)},initComponent:function(){var n=this,i=[n.treeCls],t=n.store,r;n.useArrows&&(i.push(n.arrowCls),n.lines=!1);n.lines?i.push(n.linesCls):n.useArrows||i.push(n.noLinesCls);Ext.isString(t)?t=n.store=Ext.StoreMgr.lookup(t):t&&t.isStore?n.root&&(t=n.store=Ext.data.StoreManager.lookup(t),t.setRoot(n.root),n.folderSort!==undefined&&(t.folderSort=n.folderSort,t.sort())):(t=Ext.apply({type:"tree",root:n.root,fields:n.fields,model:n.model,proxy:"memory",folderSort:n.folderSort},t),t=n.store=Ext.StoreMgr.lookup(t));t.setRootVisible(n.rootVisible);t.getRoot()||t.setRoot({});n.viewConfig=Ext.apply({rootVisible:n.rootVisible,animate:n.enableAnimations,singleExpand:n.singleExpand,node:t.getRoot(),hideHeaders:n.hideHeaders,navigationModel:"tree"},n.viewConfig);n.columns||(n.initialConfig.hideHeaders===undefined&&(n.hideHeaders=!0),n.addCls(n.autoWidthCls),n.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:n.displayField}]);n.cls&&i.push(n.cls);n.cls=i.join(" ");Ext.panel.Table.prototype.initComponent.call(this);r=n.getView();n.relayEvents(r,["checkchange","afteritemexpand","afteritemcollapse"])},bindStore:function(n,t){var i=this,r=n.getRoot(),u=i.bufferedRenderer;if(Ext.panel.Table.prototype.bindStore.apply(this,arguments),u&&u.store&&u.bindStore(n),n.singleExpand=i.singleExpand,i.storeListeners=i.mon(n,{destroyable:!0,rootchange:i.onRootChange,scope:i}),i.storeRelayers=i.relayEvents(n,["beforeload","load"]),i.rootRelayers=i.mon(r,{destroyable:!0,append:i.createRelayer("itemappend"),remove:i.createRelayer("itemremove"),move:i.createRelayer("itemmove",[0,4]),insert:i.createRelayer("iteminsert"),beforeappend:i.createRelayer("beforeitemappend"),beforeremove:i.createRelayer("beforeitemremove"),beforemove:i.createRelayer("beforeitemmove"),beforeinsert:i.createRelayer("beforeiteminsert"),expand:i.createRelayer("itemexpand",[0,1]),collapse:i.createRelayer("itemcollapse",[0,1]),beforeexpand:i.createRelayer("beforeitemexpand",[0,1]),beforecollapse:i.createRelayer("beforeitemcollapse",[0,1])}),!i.rootVisible&&!n.autoLoad&&!(r.isExpanded()||r.isLoading()))if(r.isLoaded()){r.data.expanded=!0;n.onNodeExpand(r,r.childNodes)}else n.autoLoad!==!1&&(r.data.expanded=!1,r.expand());n.ownerTree=i;t||i.view.setRootNode(r)},unbindStore:function(){var n=this,t=n.store;t&&(Ext.panel.Table.prototype.unbindStore.call(this),Ext.destroy(n.storeListeners,n.storeRelayers,n.rootRelayers),delete t.ownerTree,t.singleExpand=null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(n){this.view.setRootNode(n)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(n){return n.get("checked")},expandNode:function(n,t,i,r){return this.getView().expand(n,t,i,r||this)},collapseNode:function(n,t,i,r){return this.getView().collapse(n,t,i,r||this)},expandAll:function(n,t){var i=this,r=i.getRootNode();r&&(Ext.suspendLayouts(),r.expand(!0,n,t||i),Ext.resumeLayouts(!0))},collapseAll:function(n,t){var i=this,r=i.getRootNode(),u=i.getView();r&&(Ext.suspendLayouts(),t=t||i,u.rootVisible?r.collapse(!0,n,t):r.collapseChildren(!0,n,t),Ext.resumeLayouts(!0))},expandPath:function(n,t){var s=arguments,i=this,h=i.view,o=t&&t.field||i.store.model.idProperty,y,p,l=t&&t.separator||"/",r,u,f,c,e,a,v;if(t&&typeof t=="object"?(o=t.field||i.store.model.idProperty,l=t.separator||"/",r=t.callback,u=t.scope,y=t.select,p=t.focus):(o=s[1]||i.store.model.idProperty,l=s[2]||"/",r=s[3],u=s[4]),Ext.isEmpty(n))return Ext.callback(r,u||i,[!1,null]);if(e=n.split(l),a=!e[0],a?(f=i.getRootNode(),c=1):(f=i.store.findNode(o,e[0]),c=0),!f||a&&f.get(o)!==e[1])return Ext.callback(r,u||i,[!1,f]);v=function(n){var t=this,l,s,f;if(++c===e.length)return y&&h.getSelectionModel().select(t),p&&h.getNavigationModel().setPosition(t,0),Ext.callback(r,u||i,[!0,t,h.getNode(t)]);for(s=0,l=n?n.length:0;s<l;s++)if(t=n[s],f=t.get(o),(f||f===0)&&(f=f.toString()),f===e[c])return t.expand(!1,v);t=this;Ext.callback(r,u||i,[!1,t,h.getNode(t)])};f.expand(!1,v)},ensureVisible:function(n,t){if(n.isEntity)return Ext.panel.Table.prototype.ensureVisible.call(this,n,t);var i=this,e=t&&t.field||i.store.model.idProperty,o=t&&t.separator||"/",s,h,r,l,c,u,f,a=function(n,r,u,f){!f&&n&&r&&(f=r.findChild(e,c));f?i.doEnsureVisible(f,t):Ext.callback(s,h||i,[!1,r])};t&&(s=t.callback,h=t.scope);r=n.split(o);l=!r[0];c=r.pop();!r.length||l&&r.length===1?(u=i.store.findNode(e,c),u?(f=u.parentNode,f&&!f.isExpanded()&&f.expand(),a(!0,null,null,u)):Ext.callback(s,h||i,[!1,null])):i.expandPath(r.join(o),e,o,a)},selectPath:function(n,t,i,r,u){this.ensureVisible(n,{field:t,separator:i,select:!0,callback:r,scope:u})}},1,["treepanel"],["component","box","container","panel","tablepanel","treepanel"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,treepanel:!0},["widget.treepanel"],0,[Ext.tree,"Panel",Ext.tree,"TreePanel",Ext,"TreePanel"],0);Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,function(){var n=/^[a-zA-Z_]+$/,t=/^[a-zA-Z0-9_]+$/,i=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,r=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(n){return i.test(n)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(n){return r.test(n)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(t){return n.test(t)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(n){return t.test(n)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}(),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0);Ext.cmd.derive("Ext.form.trigger.Trigger",Ext.Base,{factoryConfig:{defaultType:"trigger"},repeatClick:!1,hidden:!1,hideOnReadOnly:undefined,weight:0,preventMouseDown:!0,baseCls:"x-form-trigger",focusCls:"x-form-trigger-focus",overCls:"x-form-trigger-over",clickCls:"x-form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"<\/tpl>>',"{[values.$trigger.renderBody(values)]}","<\/div>"],statics:{weightComparator:function(n,t){return n.weight-t.weight}},constructor:function(n){var t=this,i;Ext.apply(t,n);t.compat4Mode&&(i=t.cls,t.focusCls=[t.focusCls,i+"-focus"],t.overCls=[t.overCls,i+"-over"],t.clickCls=[t.clickCls,i+"-click"])},afterFieldRender:function(){this.initEvents()},destroy:function(){var n=this,t=n.clickRepeater;t&&t.destroy();n.el&&n.el.destroy();n.el=null;n.isDestroyed=!0},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var n=this,t=n.el;n.hidden=!0;t&&t.hide()},initEvents:function(){var n=this,t=n.isFieldEnabled,i=n.getStateEl(),r=n.el;i.addClsOnOver(n.overCls,t,n);i.addClsOnClick(n.clickCls,t,n);n.repeatClick?n.clickRepeater=new Ext.util.ClickRepeater(r,{preventDefault:!0,handler:n.onClick,listeners:{mousedown:n.onClickRepeaterMouseDown,scope:n},scope:n}):n.field.mon(r,{click:n.onClick,mousedown:n.onMouseDown,scope:n})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var n=this,i=n.field,t=!1;return(n.hidden||!i||!n.rendered||n.isDestroyed)&&(t=!0),!t},onClick:function(){var n=this,i=arguments,r=n.clickRepeater?i[1]:i[0],u=n.handler,t=n.field;u&&!t.readOnly&&n.isFieldEnabled()&&Ext.callback(n.handler,n.scope,[t,n,r],0,t)},resolveListenerScope:function(n){return this.field.resolveSatelliteListenerScope(this,n)},onMouseDown:function(n){n.pointerType==="touch"||this.field.owns(Ext.Element.getActiveElement())||this.field.inputEl.focus();this.preventMouseDown&&n.preventDefault()},onClickRepeaterMouseDown:function(n,t){t.parentEvent&&t.parentEvent.type!=="mousedown"||this.field.inputEl.focus();t.preventDefault()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var n=this,t=n.el=n.field.triggerWrap.selectNode("#"+n.domId,!1);t.setVisibilityMode(Ext.Element.DISPLAY);n.rendered=!0},renderBody:function(n){var t=this,i=t.bodyTpl;return Ext.apply(n,t.getBodyRenderData()),i?Ext.XTemplate.getTpl(t,"bodyTpl").apply(n):""},renderTrigger:function(n){var t=this,i=t.width,r=t.hidden?"display:none;":"";return i&&(r+="width:"+i),Ext.XTemplate.getTpl(t,"renderTpl").apply({$trigger:t,fieldData:n,ui:n.ui,childElCls:n.childElCls,triggerId:t.domId=t.field.id+"-trigger-"+t.id,cls:t.cls,triggerStyle:r,extraCls:t.extraCls,baseCls:t.baseCls})},setHidden:function(n){n!==this.hidden&&this[n?"hide":"show"]()},setVisible:function(n){this.setHidden(!n)},show:function(){var n=this,t=n.el;n.hidden=!1;t&&t.show()}},1,0,0,0,["trigger.trigger"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,"Trigger"],0);Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:undefined},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:"x-form-empty-field",requiredCls:"x-form-required-field",valueContainsPlaceholder:!1,ariaRole:"textbox",editable:!0,repeatTriggerClick:!1,triggerWrapCls:"x-form-trigger-wrap",triggerWrapFocusCls:"x-form-trigger-wrap-focus",triggerWrapInvalidCls:"x-form-trigger-wrap-invalid",fieldBodyCls:"x-form-text-field-body",inputWrapCls:"x-form-text-wrap",inputWrapFocusCls:"x-form-text-wrap-focus",inputWrapInvalidCls:"x-form-text-wrap-invalid",growCls:"x-form-text-grow",monitorTab:!0,mimicing:!1,needArrowKeys:!0,childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:["<\/div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}<\/tpl>',"<\/div>"],initComponent:function(){var n=this,t=n.emptyCls;n.allowOnlyWhitespace===!1&&(n.allowBlank=!1);n.size&&(n.defaultBodyWidth=n.size*6.5+20);n.onTrigger1Click||(n.onTrigger1Click=n.onTriggerClick);Ext.form.field.Base.prototype.initComponent.call(this);n.readOnly&&n.setReadOnly(n.readOnly);n.fieldFocusCls=n.baseCls+"-focus";n.emptyUICls=t+" "+t+"-"+n.ui;n.addStateEvents("change")},initEvents:function(){var n=this,t=n.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);(n.selectOnFocus||n.emptyText)&&n.mon(t,"mousedown",n.onMouseDown,n);(n.maskRe||n.vtype&&n.disableKeyFilter!==!0&&(n.maskRe=Ext.form.field.VTypes[n.vtype+"Mask"]))&&n.mon(t,"keypress",n.filterKeys,n);n.enableKeyEvents&&n.mon(t,{scope:n,keyup:n.onKeyUp,keydown:n.onKeyDown,keypress:n.onKeyPress})},isEqual:function(n,t){return this.isEqualAsString(n,t)},onChange:function(){Ext.form.field.Base.prototype.onChange.apply(this,arguments);this.autoSize()},getSubTplData:function(){var n=this,t=n.getRawValue(),u=n.emptyText&&t.length<1,i=n.maxLength,r;return n.enforceMaxLength?i===Number.MAX_VALUE&&(i=undefined):i=undefined,u&&(Ext.supports.Placeholder?r=n.emptyText:(t=n.emptyText,n.valueContainsPlaceholder=!0)),Ext.apply(Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments),{triggerWrapCls:n.triggerWrapCls,inputWrapCls:n.inputWrapCls,triggers:n.orderedTriggers,maxLength:i,readOnly:!n.editable||n.readOnly,placeholder:r,value:t,fieldCls:n.fieldCls+(u&&(r||t)?" "+n.emptyUICls:"")+(n.allowBlank?"":" "+n.requiredCls)})},onRender:function(){var n=this,t=n.getTriggers(),i=[],r,u;if(Ext.supports.FixedTableWidthBug&&(n.el._needsTableWidthFix=!0),(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this),t){this.invokeTriggers("onFieldRender");for(r in t)i.push(t[r].el);u=n.triggerEl=n.triggerCell=new Ext.CompositeElement(i,!0)}n.inputCell=n.inputWrap},afterRender:function(){var n=this;n.autoSize();Ext.form.field.Base.prototype.afterRender.call(this);n.invokeTriggers("afterFieldRender")},onMouseDown:function(){var n=this;if(!n.hasFocus)Ext.getDoc().on("mouseup",Ext.emptyFn,n,{single:!0,preventDefault:!0})},applyTriggers:function(n){var t=this,s=t.getHideTrigger(),h=t.readOnly,f=t.orderedTriggers=[],c=t.repeatTriggerClick,u,i,e,o,r;if(!n)for(n={},t.triggerCls&&!t.trigger1Cls&&(t.trigger1Cls=t.triggerCls),r=1;o=t["trigger"+r+"Cls"];r++)n["trigger"+r]={cls:o,extraCls:"x-trigger-index-"+r,handler:"onTrigger"+r+"Click",compat4Mode:!0,scope:t};for(u in n)n.hasOwnProperty(u)&&(i=n[u],i.field=t,i.id=u,(h&&i.hideOnReadOnly!==!1||s&&i.hidden!==!1)&&(i.hidden=!0),c&&i.repeatClick!==!1&&(i.repeatClick=!0),e=n[u]=Ext.form.trigger.Trigger.create(i),f.push(e));return Ext.Array.sort(f,Ext.form.trigger.Trigger.weightComparator),n},invokeTriggers:function(n,t){var f=this,i=f.getTriggers(),r,u;if(i)for(r in i)i.hasOwnProperty(r)&&(u=i[r],u[n].apply(u,t||[]))},getTrigger:function(n){return this.getTriggers()[n]},updateHideTrigger:function(n){this.rendered&&this.invokeTriggers(n?"hide":"show")},setEditable:function(n){var t=this;t.editable=n;t.rendered&&t.setReadOnlyAttr(!n||t.readOnly)},setReadOnly:function(n){var t=this,r=t.getTriggers(),f=t.getHideTrigger(),i,u;if(n=!!n,Ext.form.field.Base.prototype.setReadOnly.call(this,n),t.rendered&&t.setReadOnlyAttr(n||!t.editable),r)for(u in r)i=r[u],i.hideOnReadOnly!==!0&&(i.hideOnReadOnly===!1||f)||i.setVisible(!n)},setReadOnlyAttr:function(n){var r=this,t="readonly",i=r.inputEl.dom;n?i.setAttribute(t,t):i.removeAttribute(t)},processRawValue:function(n){var i=this,r=i.stripCharsRe,t;return r&&(t=n.replace(r,""),t!==n&&(i.setRawValue(t),n=t)),n},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(n){this.fireEvent("keydown",this,n)},onKeyUp:function(n){this.fireEvent("keyup",this,n)},onKeyPress:function(n){this.fireEvent("keypress",this,n)},reset:function(){Ext.form.field.Base.prototype.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){var n=this,t=n.emptyText,i;n.rendered&&t&&(i=n.getRawValue().length<1&&!n.hasFocus,Ext.supports.Placeholder?n.inputEl.dom.placeholder=t:i&&(n.setRawValue(t),n.valueContainsPlaceholder=!0),i?n.inputEl.addCls(n.emptyUICls):n.inputEl.removeCls(n.emptyUICls),n.autoSize())},afterFirstLayout:function(){if(Ext.form.field.Base.prototype.afterFirstLayout.call(this),Ext.isIE&&this.disabled){var n=this.inputEl;n&&(n.dom.unselectable="on")}},toggleInvalidCls:function(n){var t=n?"addCls":"removeCls";Ext.form.field.Base.prototype.toggleInvalidCls.call(this);this.triggerWrap[t](this.triggerWrapInvalidCls);this.inputWrap[t](this.inputWrapInvalidCls)},beforeFocus:function(){var n=this,t=n.inputEl,i=n.emptyText,r;Ext.form.field.Base.prototype.beforeFocus.apply(this,arguments);i&&!Ext.supports.Placeholder&&t.dom.value===n.emptyText&&n.valueContainsPlaceholder?(n.setRawValue(""),r=!0,t.removeCls(n.emptyUICls),n.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&t.removeCls(n.emptyUICls)},onFocus:function(n){var t=this;Ext.form.field.Base.prototype.onFocus.apply(this,arguments);t.selectOnFocus&&t.inputEl.dom.select();t.emptyText&&t.autoSize();t.addCls(t.fieldFocusCls);t.triggerWrap.addCls(t.triggerWrapFocusCls);t.inputWrap.addCls(t.inputWrapFocusCls);t.invokeTriggers("onFieldFocus",[n])},onBlur:function(n){var t=this;Ext.form.field.Base.prototype.onBlur.apply(this,arguments);t.removeCls(t.fieldFocusCls);t.triggerWrap.removeCls(t.triggerWrapFocusCls);t.inputWrap.removeCls(t.inputWrapFocusCls);t.invokeTriggers("onFieldBlur",[n])},completeEdit:function(n){Ext.form.field.Base.prototype.completeEdit.call(this,n);this.applyEmptyText()},filterKeys:function(n){if((!n.ctrlKey||n.altKey)&&!n.isSpecialKey()){var t=String.fromCharCode(n.getCharCode());this.maskRe.test(t)||n.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),"value")},applyState:function(n){Ext.form.field.Base.prototype.applyState.apply(this,arguments);n.hasOwnProperty("value")&&this.setValue(n.value)},getRawValue:function(){var t=this,n=Ext.form.field.Base.prototype.getRawValue.call(this);return n===t.emptyText&&t.valueContainsPlaceholder&&(n=""),n},setValue:function(n){var t=this,i=t.inputEl;return i&&t.emptyText&&!Ext.isEmpty(n)&&(i.removeCls(t.emptyUICls),t.valueContainsPlaceholder=!1),Ext.form.field.Base.prototype.setValue.apply(this,arguments),t.applyEmptyText(),t},getErrors:function(n){n=arguments.length?n==null?"":n:this.processRawValue(this.getRawValue());var t=this,i=Ext.form.field.Base.prototype.getErrors.call(this,n),f=t.validator,r=t.vtype,e=Ext.form.field.VTypes,o=t.regex,s=Ext.String.format,u,h,c;if(Ext.isFunction(f)&&(u=f.call(t,n),u!==!0&&i.push(u)),h=t.allowOnlyWhitespace?n:Ext.String.trim(n),h.length<1||n===t.emptyText&&t.valueContainsPlaceholder){if(t.allowBlank||i.push(t.blankText),!t.validateBlank)return i;c=!0}return!c&&n.length<t.minLength&&i.push(s(t.minLengthText,t.minLength)),n.length>t.maxLength&&i.push(s(t.maxLengthText,t.maxLength)),r&&(e[r](n,t)||i.push(t.vtypeText||e[r+"Text"])),o&&!o.test(n)&&i.push(t.regexText||t.invalidText),i},selectText:function(n,t){var f=this,e=f.getRawValue(),i=e.length,r=f.inputEl.dom,u;i>0&&(n=n===undefined?0:Math.min(n,i),t=t===undefined?i:Math.min(t,i),r.setSelectionRange?r.setSelectionRange(n,t):r.createTextRange&&(u=r.createTextRange(),u.moveStart("character",n),u.moveEnd("character",t-i),u.select()))},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var n=this,i,u,r,f,t,e;if(n.grow&&n.rendered&&n.getSizeModel().width.auto){f=n.inputEl;i=n.getTriggers();r=0;e=Ext.util.Format.htmlEncode(n.getGrowWidth()||(n.hasFocus?"":n.emptyText)||"")+n.growAppend;for(u in i)r+=i[u].el.getWidth();t=f.getTextWidth(e)+r+n.inputWrap.getBorderWidth("lr")+n.triggerWrap.getBorderWidth("lr");t=Math.min(Math.max(t,n.growMin),n.growMax);n.bodyEl.setWidth(t);n.updateLayout();n.fireEvent("autosize",n,t)}},onDestroy:function(){var n=this;n.invokeTriggers("destroy");Ext.destroy(n.triggerRepeater);Ext.form.field.Base.prototype.onDestroy.call(this)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var n=this.getTriggers(),i=0,t;if(n&&this.rendered)for(t in n)n.hasOwnProperty(t)&&(i+=n[t].el.getWidth());return i}}}}},0,["textfield"],["component","box","field","textfield"],{component:!0,box:!0,field:!0,textfield:!0},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0);Ext.cmd.derive("Ext.app.bindinspector.ComponentList",Ext.tree.Panel,{rootVisible:!1,title:"Component Tree",hideHeaders:!0,bindingsIconCls:"x-bindings-icon",vmIconCls:"x-vm-icon",missingDataCls:"x-bindinspector-missing-data",filterVisibleCls:"x-bindinspector-filter-visible",lastItemCls:"x-bindinspector-last-item",bindingsIcon:"☍",vmIcon:"☶",initComponent:function(){var n=this,t=[];n.viewConfig={toggleOnDblClick:!1,getRowClass:function(t,i,r,u){var f=[];return t.get("filtervisible")&&f.push(n.filterVisibleCls),t.get("sansData")&&f.push(n.missingDataCls),i===u.getCount()-1&&f.push(n.lastItemCls),f.join(" ")}};Ext.Array.forEach(n.components,function(i){t.push(n.buildNode(i))},n);n.store={model:n.Model,root:{expanded:!0,children:t}};n.columns=[{itemId:"srcVMIndicator",width:40,hidden:!0,renderer:n.srcVMIndicator,scope:n},{xtype:"treecolumn",dataIndex:"text",flex:1}];n.dockedItems=[{xtype:"toolbar",itemId:"queryFieldTb",dock:"top",items:[{xtype:"textfield",reference:"queryField",itemId:"queryField",emptyText:"simple search by reference / ID or use a component query...",flex:1,triggers:{clear:{cls:"x-form-clear-trigger",handler:function(n){var t=n.up("treepanel");n.reset();t.clearComponentFilter();n.focus()}}},listeners:{change:{fn:n.filterComponentTree,buffer:250,scope:n},afterrender:{fn:function(t){var i=t.up("toolbar").getEl();t.mon(i,"mouseenter",function(){var t=n.bindingsTip,r,u,f;t.stopAnimation();t.update("<b>Simple Search<\/b><br>Enter the string matching the reference or ID of the target component<hr><b>Component Query<\/b><br>Enter a component query string to find any items matching the query");t.setTarget(i);t.show();u=t.getX();f=t.getY();r=t.getAlignToXY(i,"l-r");t.animate({from:{opacity:0,x:r[0]+20,y:r[1]},to:{opacity:1,x:r[0]+10,y:r[1]}})})},scope:n}}}]},{xtype:"toolbar",cls:"x-vm-results-tb",itemId:"vmQueryResultsTb",hidden:!0,dock:"top",defaultButtonUI:"default",items:["->",{text:"Clear VM Filter",handler:function(){var i=this.up("#vmQueryResultsTb"),n=i.up("bindinspector-componentlist"),r=n.down("#queryFieldTb"),t=r.down("#queryField");i.hide();r.show();n.clearVMSearchIndicators();t.setValue(t.lastValue);n.filterComponentTree(null,t.lastValue)}}]}];Ext.tree.Panel.prototype.initComponent.call(this);n.getView().on("itemdblclick",n.onItemDblclick,n);n.on("select",n.onItemSelect,n);n.bindingsTip=Ext.create("Ext.tip.ToolTip",{renderTo:document.body,anchor:"left",cls:"x-componentlist-tip",bodyPadding:12});n.getView().on("itemmouseenter",n.showBindingsTip,n)},clearVMSearchIndicators:function(){var n=this.indicatedVM;Ext.suspendLayouts();n&&Ext.Array.forEach(n,function(n){n.set("isSrcVM",!1)});this.down("#srcVMIndicator").hide();Ext.resumeLayouts(!0);this.indicatedVM=null},srcVMIndicator:function(n,t,i){var r=i.get("isSrcVM"),u="",o,f,s,e;r&&(o=this.up("bindinspector-container").down("bindinspector-viewmodeldetail"),f=o.getFirstTierRec(r),s=f.get("name"),f!==r&&(u+="Root data node: &nbsp;<span class='x-binding-tip-descriptor'>"+s+"<\/span><hr>"),e=f===r?f:r,u+=e.get("name")+":",u+="<br>&nbsp;&nbsp;&nbsp;&nbsp;",u+="<span class='x-binding-tip-value'>"+Ext.app.bindinspector.Util.valueRenderer(e.get("value"))+"<\/span>",t.tdCls="x-bindindicator-vm-src",t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="'+u+'"')},onDestroy:function(){this.bindingsTip.destroy();Ext.tree.Panel.prototype.onDestroy.call(this)},showBindingsTip:function(n,t,i){var f=this,r=f.bindingsTip,e=t.get("sansData"),o,u;r.stopAnimation();t.get("hasBindings")&&(o=f.ownerCt.env.getCmp(t.get("id")).bindings,u=[],Ext.Object.each(o,function(n,t){var f=n+': <span class="x-binding-tip-descriptor">'+t.descriptor+"<\/span><br>",i=t.value,r;Ext.isString(i)?r=i:Ext.isObject(i)&&(i.isStore===!0?r="Store {"+i.entityName+"}":i.isModel===!0&&(r="Model {"+i.entityName+"}"));f+='<span class="x-binding-tip-value">'+r+"<\/span>";u.push(f)}),u=u.join("<hr>"),e&&(u+="<hr>",Ext.Array.forEach(e,function(n){u+='<div class="x-binding-missing-data">Missing data: '+n+"<\/div>"})),r.update(u),r.setTarget(i),r.show(),r.alignTo(i,"l-r",[20,0]),r.animate({from:{opacity:0},to:{opacity:1,x:r.getX()-10}}))},filterComponentTree:function(n,t){var r=this,n=r.down("#queryField"),i=t||n.getValue(),f=r.store,s=Ext.isArray(i),h=s?i:[],e=[],o,c,u;if(Ext.isString(i)&&(o=/[\s>\[\]=()^'"~$@*:+#,]/g.test(Ext.String.trim(i))),i.length>0){if(r.filteredComponents=[],o){try{e=Ext.ComponentQuery.query(i)}catch(l){}for(c=e.length,u=0;u<c;u++)h.push(e[u].id)}f.suspendEvents();f.filter({filterFn:function(n){var f=n.childNodes,e=f&&f.length,t=!1,u;for(t=o||s?Ext.Array.contains(h,n.get("id")):n.get("text").indexOf(i)>-1,n.set("filtervisible",t),t&&r.filteredComponents.push(n),u=0;u<e;u++)f[u].get("visible")&&(t=!0);return t},id:"queryFilter"});f.resumeEvents();r.getView().refresh()}else r.clearComponentFilter()},clearComponentFilter:function(){for(var t=this,r=t.store,i=t.filteredComponents||[],u=i.length,n=0;n<u;n++)i[n].set("filtervisible",!1);r.clearFilter()},buildNode:function(n){var i=this,w=i.getRefOwner(),s=n.items,h=n.viewModel,c=n.bindings,l=!!n.bindings,r=[],u=[],b={},f,v,e,t,o,y,a,p;if(h&&(r.push('<span class="'+i.vmIconCls+'">'+i.vmIcon+"<\/span>"),w.buildVMDataMap(h)),l){r.push('<span class="'+i.bindingsIconCls+'">'+i.bindingsIcon+"<\/span>");for(a in c)f=c[a],f.descriptor&&Ext.isEmpty(f.value)&&u.push(b[a]=f.descriptor);p=n.bindData=Ext.app.bindinspector.Util.buildBindData(c)}if(u.length===0&&(u=undefined),y=n.reference?"<b>["+n.reference+"]<\/b> &bull; ":"",t={id:n.id,text:y+n.id+(r.length?" "+r.join(" "):""),hasViewModel:!!h,hasBindings:l,hasDeepBindings:l,reference:n.reference,sansData:u,bindData:p,children:[]},s)for(e=0,v=s.length;e<v;++e)o=i.buildNode(s[e]),t.hasDeepBindings=t.hasDeepBindings||o.hasDeepBindings,o.hasDeepBindings&&t.children.push(o);return t.children.length?(t.expanded=!0,t.leaf=!1):t.leaf=!0,t},onItemDblclick:function(n,t){this.fireEvent("componentdblclick",this,t)},onItemSelect:function(n,t){var i=this.getView().getNode(t);this.fireEvent("componentselect",this,t,i)}},0,["bindinspector-componentlist"],["component","box","container","panel","tablepanel","treepanel","bindinspector-componentlist"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,treepanel:!0,"bindinspector-componentlist":!0},["widget.bindinspector-componentlist"],0,[Ext.app.bindinspector,"ComponentList"],function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:["hasViewModel","hasBindings","reference","hasDeepBindings","reference","sansData","bindData","isSrcVM"]})});Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var n=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);return n.xclass="Ext.resizer.BorderSplitterTracker",n}},0,["bordersplitter"],["component","box","splitter","bordersplitter"],{component:!0,box:!0,splitter:!0,bordersplitter:!0},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0);Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:"x-border-layout-ct",itemCls:["x-border-item","x-box-item"],type:"border",isBorderLayout:!0,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(n,t,i){for(var l=this,o=l.axisProps[i],s=!o.horizontal,d=o.sizeProp,a=0,p=n.childItems,g=p.length,e,r,f,u,v,w,y,b,c,k,h=0;h<g;++h)if(r=p[h],u=r.target,r.layoutPos={},u.region){if(r.region=v=u.region,r.isCenter=u.isCenter,r.isHorz=u.isHorz,r.isVert=u.isVert,r.weight=u.weight||l.regionWeights[v]||0,u.weight=r.weight,t[u.id]=r,u.isCenter){e=r;f=u.flex;n.centerRegion=e;continue}if(s!==r.isVert)continue;r.reverseWeighting=v===o.borderEnd;y=u[d];b=typeof y;u.collapsed||(b==="string"&&(w=l.percentageRe.exec(y))?r.percentage=parseInt(w[1],10):u.flex&&(a+=r.flex=u.flex))}return e&&(c=e.target,(k=c.placeholderFor)?f||s!==k.collapsedVertical()||(f=0,e.collapseAxis=i):c.collapsed&&s===c.collapsedVertical()&&(f=0,e.collapseAxis=i)),f==null&&(f=1),a+=f,Ext.apply({before:s?"top":"left",totalFlex:a},o)},beginLayout:function(n){var i=this,f=i.getLayoutItems(),e=i.padding,a=typeof e,v=!1,r,o,c,u,l,t,s,y,h;for(e?(a==="string"||a==="number")&&(e=Ext.util.Format.parseBox(e)):(e=n.getEl("getTargetEl").getPaddingInfo(),v=!0),n.outerPad=e,n.padOnContainer=v,u=0,c=f.length;u<c;++u)o=f[u],t=i.getSplitterTarget(o),t&&(s=undefined,y=!!o.hidden,t.split?y!==t.hidden&&(s=!t.hidden):t.isCollapsingOrExpanding&&(s=!!t.collapsed),s?o.show():s===!1&&o.hide());for(Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments),f=n.childItems,c=f.length,l={},n.borderAxisHorz=i.beginAxis(n,l,"horz"),n.borderAxisVert=i.beginAxis(n,l,"vert"),u=0;u<c;++u)r=f[u],t=i.getSplitterTarget(r.target),t&&(h=l[t.id],h||(h=n.getEl(t.el,i),h.region=t.region),r.collapseTarget=t=h,r.weight=t.weight,r.reverseWeighting=t.reverseWeighting,t.splitter=r,r.isHorz=t.isHorz,r.isVert=t.isVert);i.sortWeightedItems(f,"reverseWeighting");i.setupSplitterNeighbors(f)},calculate:function(n){var u=this,v=u.getContainerSize(n),h=n.childItems,a=h.length,f=n.borderAxisHorz,e=n.borderAxisVert,o=n.outerPad,y=n.padOnContainer,r,t,s,i,c,l;for(f.begin=o[u.padOnContainerProp],e.begin=o.top,c=f.end=f.flexSpace=v.width+(y?o[u.padOnContainerProp]:-o[u.padNotOnContainerProp]),l=e.end=e.flexSpace=v.height+(y?o.top:-o.bottom),r=0;r<a;++r)t=h[r],s=t.getMarginInfo(),(t.isHorz||t.isCenter)&&(f.addUnflexed(s.width),c-=s.width),(t.isVert||t.isCenter)&&(e.addUnflexed(s.height),l-=s.height),t.flex||t.percentage||(t.isHorz||t.isCenter&&t.collapseAxis==="horz"?(i=t.getProp("width"),f.addUnflexed(i),t.collapseTarget&&(c-=i)):(t.isVert||t.isCenter&&t.collapseAxis==="vert")&&(i=t.getProp("height"),e.addUnflexed(i),t.collapseTarget&&(l-=i)));for(r=0;r<a;++r)t=h[r],s=t.getMarginInfo(),t.percentage&&(t.isHorz?(i=Math.ceil(c*t.percentage/100),i=t.setWidth(i),f.addUnflexed(i)):t.isVert&&(i=Math.ceil(l*t.percentage/100),i=t.setHeight(i),e.addUnflexed(i)));for(r=0;r<a;++r)t=h[r],t.isCenter||(u.calculateChildAxis(t,f),u.calculateChildAxis(t,e));u.finishAxis(n,e)+u.finishAxis(n,f)<2?u.done=!1:u.finishPositions(h)},calculateChildAxis:function(n,t){var s=n.collapseTarget,h="set"+t.sizePropCap,f=t.sizeProp,c=n.getMarginInfo()[f],r,e,o,u,i;s?r=s.region:(r=n.region,o=n.flex);e=r===t.borderBegin;e||r===t.borderEnd?(o?(i=Math.ceil(t.flexSpace*(o/t.totalFlex)),i=n[h](i)):i=n.percentage?n.peek(f):n.getProp(f),i+=c,e?(u=t.begin,t.begin+=i):t.end=u=t.end-i):(n[h](t.end-t.begin-c),u=t.begin);n.layoutPos[t.posProp]=u},eachItem:function(n,t,i){var e=this,f=e.getLayoutItems(),r=0,u;for(Ext.isFunction(n)&&(t=n,i=t),r;r<f.length;r++)if(u=f[r],(!n||u.region===n)&&t.call(i,u)===!1)break},finishAxis:function(n,t){var r=t.end-t.begin,i=n.centerRegion;return i&&(i["set"+t.sizePropCap](r-i.getMarginInfo()[t.sizeProp]),i.layoutPos[t.posProp]=t.begin),Ext.isNumber(r)?1:0},finishPositions:function(n){for(var r=n.length,t,u=this.horzPositionProp,i=0;i<r;++i)t=n[i],t.setProp("x",t.layoutPos.x+t.marginInfo[u]),t.setProp("y",t.layoutPos.y+t.marginInfo.top)},getLayoutItems:function(){for(var t=this.owner,u=t&&t.items&&t.items.items||[],e=u.length,f=[],i=0,n,r;i<e;i++)n=u[i],r=n.placeholderFor,!n.hidden&&(n.floated&&n.isCollapsingOrExpanding!==2||r&&r.isCollapsingOrExpanding===2)||f.push(n);return f},getPlaceholder:function(n){return n.getPlaceholder&&n.getPlaceholder()},getMaxWeight:function(n){return this.getMinMaxWeight(n)},getMinWeight:function(n){return this.getMinMaxWeight(n,!0)},getMinMaxWeight:function(n,t){var r=this,i=null;return r.eachItem(n,function(n){if(n.hasOwnProperty("weight")){if(i===null){i=n.weight;return}(t&&n.weight<i||n.weight>i)&&(i=n.weight)}},this),i},getSplitterTarget:function(n){var t=n.collapseTarget;return t&&t.collapsed?t.placeholder||t:t},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},insertSplitter:function(n,t,i,r){var u=n.region,f=Ext.apply({xtype:"bordersplitter",collapseTarget:n,id:n.id+"-splitter",hidden:i,canResize:n.splitterResize!==!1,splitterFor:n,synthetic:!0},r),e=t+(u==="south"||u==="east"?0:1);n.collapseMode==="mini"&&(f.collapsedCls=n.collapsedCls);n.splitter=this.owner.add(e,f)},getMoveAfterIndex:function(n){var t=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);return n.splitter&&t++,t},moveItemBefore:function(n,t){var i;return t&&t.splitter&&(i=t.region,(i==="south"||i==="east")&&(t=t.splitter)),Ext.layout.container.Container.prototype.moveItemBefore.call(this,n,t)},onAdd:function(n,t){var i=this,u=n.placeholderFor,f=n.region,e,r,o,s;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);f?(Ext.apply(n,i.regionFlags[f]),n.initBorderRegion&&n.initBorderRegion(),e=f==="center",e?i.centerRegion=n:(r=n.split,o=!!n.hidden,typeof r=="object"&&(s=r,r=!0),(n.isHorz||n.isVert)&&(r||n.collapseMode==="mini")&&i.insertSplitter(n,t,o||!r,s)),e||n.hasOwnProperty("collapseMode")||(n.collapseMode=i.panelCollapseMode),n.hasOwnProperty("animCollapse")||(n.animCollapse=n.collapseMode!=="placeholder"?!1:i.panelCollapseAnimate)):u&&(Ext.apply(n,i.regionFlags[u.region]),n.region=u.region,n.weight=u.weight)},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(n,t){var r=this,e=n.region,f=n.splitter,u=r.owner,o=u.destroying,i;e&&(n.isCenter&&(r.centerRegion=null),delete n.isCenter,delete n.isHorz,delete n.isVert,f&&!u.destroying&&u.doRemove(f,!0),delete n.splitter);Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);o||t||!n.rendered||(i=n.getEl(),i&&(i.setStyle("top",""),i.setStyle(r.horzPositionProp,"")))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(n){for(var h={},a=n.length,l=this.touchedRegions,t,c,e,r,i,o,s,u,f=0;f<a;++f)if(i=n[f].target,o=i.region,i.isCenter)c=i;else if(o){for(u=l[o],t=0,e=u.length;t<e;++t)r=h[u[t]],r&&r.neighbors.push(i);s=i.placeholderFor?i.placeholderFor.splitter:i.splitter;s&&(s.neighbors=[]);h[o]=s}if(c)for(u=l.center,t=0,e=u.length;t<e;++t)r=h[u[t]],r&&r.neighbors.push(c)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(n){var e=this,t=this.sizePolicies,r,i,u,f;return n.isCenter?(f=n.placeholderFor,f)?f.collapsedVertical()?t.vert:t.horz:n.collapsed?n.collapsedVertical()?t.vert:t.horz:t.flexAll:(r=n.collapseTarget,r)?r.isVert?t.vert:t.horz:n.region?(n.isVert?(i=n.height,u=t.vert):(i=n.width,u=t.horz),n.flex||typeof i=="string"&&e.percentageRe.test(i))?t.flexAll:u:e.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var n={addUnflexed:function(n){this.flexSpace=Math.max(this.flexSpace-n,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,n);Ext.apply(t.vert,n)});Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var t=this,n=t.getActiveItem();if(n){if(n.hasListeners.beforeactivate&&n.fireEvent("beforeactivate",n)===!1)n=t.activeItem=t.owner.activeItem=null;else if(n.hasListeners.activate)n.on({boxready:function(){n.fireEvent("activate",n)},single:!0});if(t.deferredRender){if(n)return t.getItemsRenderTree([n])}else return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}},renderChildren:function(){var n=this,t=n.getActiveItem();n.deferredRender?t&&n.renderItems([t],n.getRenderTarget()):Ext.layout.container.Fit.prototype.renderChildren.call(this)},isValidParent:function(n,t){var i=n.el?n.el.dom:Ext.getDom(n);return i&&i.parentNode===(t.dom||t)||!1},getActiveItem:function(){var n=this,i=n.activeItem===undefined?n.owner&&n.owner.activeItem:n.activeItem,t=n.parseActiveItem(i);return t&&n.owner.items.indexOf(t)!==-1&&(n.activeItem=t),t==null?null:n.activeItem||n.owner.activeItem},parseActiveItem:function(n){return n&&n.isComponent?n:typeof n=="number"||n===undefined?this.getLayoutItems()[n||0]:n===null?null:this.owner.getComponent(n)},configureItem:function(n){n.setHiddenState(n!==this.getActiveItem());Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onRemove:function(n){Ext.layout.container.Fit.prototype.onRemove.call(this,n);n===this.activeItem&&(this.activeItem=undefined)},getAnimation:function(n,t){var i=(n||{}).cardSwitchAnimation;return i===!1?!1:i||t.cardSwitchAnimation},getNext:function(){var t=arguments[0],n=this.getLayoutItems(),i=Ext.Array.indexOf(n,this.activeItem);return n[i+1]||(t?n[0]:!1)},next:function(){var n=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),n)},getPrev:function(){var t=arguments[0],n=this.getLayoutItems(),i=Ext.Array.indexOf(n,this.activeItem);return n[i-1]||(t?n[n.length-1]:!1)},prev:function(){var n=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),n)},setActiveItem:function(n){var i=this,r=i.owner,t=i.activeItem,e=r.rendered,u,f;if(n=i.parseActiveItem(n),u=r.items.indexOf(n),u===-1&&(u=r.items.items.length,Ext.suspendLayouts(),n=r.add(n),Ext.resumeLayouts()),n&&t!==n){if(n.fireEvent("beforeactivate",n,t)===!1||t&&t.fireEvent("beforedeactivate",t,n)===!1)return!1;if(e){if(Ext.suspendLayouts(),n.rendered||i.renderItem(n,i.getRenderTarget(),r.items.length),t&&i.hideInactive)if(f=t.el.contains(Ext.Element.getActiveElement()),t.hide(),t.hidden)t.hiddenByLayout=!0,t.fireEvent("deactivate",t,n);else return!1;n.hidden&&n.show();n.hidden?i.activeItem=n=null:(i.activeItem=n,f&&(n.defaultFocus||(n.defaultFocus=":focusable"),n.focus()));Ext.resumeLayouts(!0)}else i.activeItem=n;return n.fireEvent("activate",n,t),i.activeItem}return!1}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0);Ext.cmd.derive("Ext.dom.ButtonElement",Ext.dom.Element,{setSize:function(n,t,i){var r=this,u=r.component;return Ext.dom.Element.prototype.setSize.call(this,n,t,i),u.btnWrap.setStyle("table-layout",!n||n==="auto"?"":"fixed"),u.btnEl.setStyle("height",!t||t==="auto"?"":"auto"),r},setStyle:function(n,t){var u=this,f=u.component,i,r;return Ext.dom.Element.prototype.setStyle.call(this,n,t),n&&((n==="width"||typeof n!="string"&&"width"in n)&&(i=t||n.width,f.btnWrap.setStyle("table-layout",!i||i==="auto"?"":"fixed")),(n==="height"||typeof n!="string"&&"height"in n)&&(r=t||n.height,f.btnEl.setStyle("height",!r||r==="auto"?"":"auto"))),u},setHeight:function(n,t){return Ext.dom.Element.prototype.setHeight.call(this,n,t),this.component.btnEl.setStyle("height",!n||n==="auto"?"":"auto"),this},setWidth:function(n,t){return Ext.dom.Element.prototype.setWidth.call(this,n,t),this.component.btnWrap.setStyle("table-layout",!n||n==="auto"?"":"fixed"),this}},0,0,0,0,0,0,[Ext.dom,"ButtonElement"],0);Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:".x-btn",init:function(){var n=this;if(!n.initialized){Ext.getDoc().on({keydown:n.onDocumentKeyDown,mouseup:n.onDocumentMouseUp,scope:n});n.initialized=!0}},onDocumentKeyDown:function(n){var i=n.getKey(),t;if((i===n.SPACE||i===n.ENTER)&&(t=n.getTarget(this.buttonSelector),t))Ext.getCmp(t.id).onClick(n)},onButtonMousedown:function(n,t){var i=this.pressedButton;if(i)i.onMouseUp(t);this.pressedButton=n},onDocumentMouseUp:function(n){var t=this.pressedButton;if(t){t.onMouseUp(n);this.pressedButton=null}},toggleGroup:function(n,t){if(t)for(var r=this.groups[n.toggleGroup],u=r.length,i=0;i<u;i++)r[i]!==n&&r[i].toggle(!1)},register:function(n){var t=this,r=this.groups,i=r[n.toggleGroup];if(t.init(),n.toggleGroup){i||(i=r[n.toggleGroup]=[]);i.push(n);n.on("toggle",t.toggleGroup,t)}},unregister:function(n){if(n.toggleGroup){var t=this,i=t.groups[n.toggleGroup];i&&(Ext.Array.remove(i,n),n.un("toggle",t.toggleGroup,t))}},getPressed:function(n){var t=this.groups[n],i=0,r;if(t)for(r=t.length;i<r;i++)if(t[i].pressed===!0)return t[i];return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0);Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var n=this;n.onShow=function(){delete n.onShow;Ext.on("mousedown",n.checkActiveMenus,n);return n.onShow.apply(n,arguments)}},checkActiveMenus:function(n){var t=this.visible,u=t.length,i,r;if(u)for(t=t.slice(),i=0;i<u;++i)r=t[i],r.owns(n)||r.hide()},onShow:function(n){n.floating&&Ext.Array.include(this.visible,n)},onHide:function(n){n.floating&&Ext.Array.remove(this.visible,n)},hideAll:function(){for(var t=this.visible,r=t.length,i=!1,n=0;n<r;n++)t[n].hide(),i=!0;return i},get:function(n,t){var i;return typeof n=="string"?(i=Ext.getCmp(n),i instanceof Ext.menu.Menu&&(n=i)):Ext.isArray(n)?(t=Ext.apply({items:n},t),n=new Ext.menu.Menu(t)):n.isComponent||(t=Ext.apply({},n,t),n=Ext.ComponentManager.create(t,"menu")),n},registerCheckable:function(n){var i=this.groups,t=n.group;t&&(i[t]||(i[t]=[]),i[t].push(n))},unregisterCheckable:function(n){var i=this.groups,t=n.group;t&&Ext.Array.remove(i[t],n)},onCheckChange:function(n,t){var o=this.groups,f=n.group,i=0,r,e,u;if(f&&t)for(r=o[f],e=r.length;i<e;i++)u=r[i],u!==n&&u.setChecked(!1)}},1,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0);Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:"x-btn",hrefTarget:"_blank",destroyMenu:!0,focusable:!0,ariaRole:"button",defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],publishes:{pressed:1},_btnWrapCls:"x-btn-wrap",_btnCls:"x-btn-button",_baseIconCls:"x-btn-icon-el",_glyphCls:"x-btn-glyph",_innerCls:"x-btn-inner",_textCls:"x-btn-text",_noTextCls:"x-btn-no-text",_hasIconCls:"x-btn-icon",_pressedCls:"x-btn-pressed",overCls:"x-btn-over",_disabledCls:"x-btn-disabled",_menuActiveCls:"x-btn-menu-active",_operaArrowCls:"x-opera12m-btn-arrow",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}<\/tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}<\/span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}<\/tpl><\/span><\/span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}<\/tpl><\/span><\/tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});<\/tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};<\/tpl>"><tpl if="glyph">&#{glyph};<\/tpl><tpl if="iconCls || iconUrl">&#160;<\/tpl><\/span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){this.hrefTarget==="_blank"?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){var n=this;n.addCls("x-unselectable");Ext.isOpera12m&&(n.split||n.menu)&&n.getArrowVisible()&&n.addCls(n._operaArrowCls+"-"+n.arrowAlign);Ext.Component.prototype.initComponent.call(this);n.menu&&(n.split=!0,n.setMenu(n.menu,!1,!0));n.url&&(n.href=n.url);n.configuredWithPreventDefault=n.hasOwnProperty("preventDefault");n.href&&!n.configuredWithPreventDefault&&(n.preventDefault=!1);Ext.isString(n.toggleGroup)&&n.toggleGroup!==""&&(n.enableToggle=!0);n.html&&!n.text&&(n.text=n.html,delete n.html)},getElConfig:function(){var n=this,t=Ext.Component.prototype.getElConfig.call(this),i=n.getHref(),r=n.hrefTarget;return t.tag==="a"&&(n.disabled||(t.tabIndex=n.tabIndex),i&&(n.disabled||(t.href=i,r&&(t.target=r)))),t},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(n,t,i){var r=this,u=r.menu,f;u&&!i&&(t!==!1&&r.destroyMenu&&u.destroy(),u.ownerCmp=null);n?(f=n.isMenu,n=Ext.menu.Manager.get(n,{ownerCmp:r}),n.setOwnerCmp(r,f),n.menuClickBuffer=250,r.mon(n,{scope:r,show:r.onMenuShow,hide:r.onMenuHide}),!u&&r.getArrowVisible()&&(r.split=!0,r.rendered&&(r._addSplitCls(),r.updateLayout())),r.menu=n):(r.rendered&&(r._removeSplitCls(),r.updateLayout()),r.split=!1,r.menu=null)},onRender:function(){var n=this,r,i,t;Ext.Component.prototype.onRender.apply(this,arguments);i=n.el;n.tooltip&&n.setTooltip(n.tooltip,!0);n.handleMouseEvents?(t={scope:n,mouseover:n.onMouseOver,mouseout:n.onMouseOut,mousedown:n.onMouseDown},n.split&&(t.mousemove=n.onMouseMove)):t={scope:n};Ext.supports.Touch&&(t.touchstart=n.onTouchStart);n.menu&&(n.keyMap=new Ext.util.KeyMap({target:n.el,key:Ext.event.Event.prototype.DOWN,handler:n.onDownKey,scope:n}));n.repeat?n.mon(new Ext.util.ClickRepeater(i,Ext.isObject(n.repeat)?n.repeat:{}),"click",n.onRepeatClick,n):t[n.clickEvent]?r=!0:t[n.clickEvent]=n.onClick;n.mon(i,t);n.hasFrameTable()&&n.mon(n.frameTable,"click",n.frameTableListener,n);r&&n.mon(i,n.clickEvent,n.onClick,n);Ext.button.Manager.register(n)},onFocusLeave:function(n){Ext.Component.prototype.onFocusLeave.call(this,n);this.menu&&this.menu.hide()},getTemplateArgs:function(){var n=this,f=n._btnCls,h=n._baseIconCls,i=n.getIconAlign(),t=n.glyph,e=Ext._glyphFontFamily,r=n.text,o=n._hasIcon(),s=n._hasIconCls,u;return typeof t=="string"&&(u=t.split("@"),t=u[0],e=u[1]),{innerCls:n._innerCls,splitCls:n.getArrowVisible()?n.getSplitCls():"",iconUrl:n.icon,iconCls:n.iconCls,glyph:t,glyphCls:t?n._glyphCls:"",glyphFontFamily:e,text:r||"&#160;",closeText:n.closeText,textCls:r?n._textCls:"",noTextCls:r?"":n._noTextCls,hasIconCls:o?s:"",btnWrapCls:n._btnWrapCls,btnWrapStyle:n.width?"table-layout:fixed;":"",btnElStyle:n.height?"height:auto;":"",btnCls:f,baseIconCls:h,iconBeforeText:i==="left"||i==="top",iconAlignCls:o?s+"-"+i:"",textAlignCls:f+"-"+n.getTextAlign()}},renderIcon:function(n){return this.getTpl("iconTpl").apply(n)},setHref:function(n){var t=this,r=t.hrefTarget,i;t.href=n;t.configuredWithPreventDefault||(t.preventDefault=!n);t.rendered&&(i=t.el.dom,!n||t.disabled?(i.removeAttribute("href"),i.removeAttribute("hrefTarget")):(i.href=t.getHref(),r&&(i.target=r)))},getHref:function(){var n=this,t=n.href;return t?Ext.urlAppend(t,Ext.Object.toQueryString(Ext.apply({},n.params,n.baseParams))):!1},setParams:function(n){var t=this,i;t.params=n;t.rendered&&(i=t.el.dom,t.disabled?i.removeAttribute("href"):i.href=t.getHref()||"")},getSplitCls:function(){var n=this;return n.split?n.baseCls+"-"+n.arrowCls+" "+(n.baseCls+"-"+n.arrowCls+"-"+n.arrowAlign):""},setIcon:function(n){n=n||"";var t=this,r=t.btnIconEl,i=t.icon||"";return t.icon=n,n!==i&&(r&&(r.setStyle("background-image",n?"url("+n+")":""),t._syncHasIconCls(),t.didIconStateChange(i,n)&&t.updateLayout()),t.fireEvent("iconchange",t,i,n)),t},setIconCls:function(n){n=n||"";var t=this,r=t.btnIconEl,i=t.iconCls||"";return t.iconCls=n,i!==n&&(r&&(r.removeCls(i),r.addCls(n),t._syncHasIconCls(),t.didIconStateChange(i,n)&&t.updateLayout()),t.fireEvent("iconchange",t,i,n)),t},setGlyph:function(n){n=n||0;var t=this,i=t.btnIconEl,r=t.glyph,e=t._glyphCls,u,f;return t.glyph=n,i&&(typeof n=="string"&&(f=n.split("@"),n=f[0],u=f[1]||Ext._glyphFontFamily),n?r!==n&&(i.dom.innerHTML="&#"+n+";",i.addCls(e)):(i.dom.innerHTML="",i.removeCls(e)),u&&i.setStyle("font-family",u),t._syncHasIconCls(),t.didIconStateChange(r,n)&&t.updateLayout()),t.fireEvent("glyphchange",t,t.glyph,r),t},setTooltip:function(n,t){var i=this;return i.rendered?(t&&n||i.clearTip(),n&&(Ext.quickTipsActive&&Ext.isObject(n)?(Ext.tip.QuickTipManager.register(Ext.apply({target:i.el.id},n)),i.tooltip=n):i.el.dom.setAttribute(i.getTipAttr(),n))):i.tooltip=n,i},updateIconAlign:function(n,t){var i=this,r,u,f;i.rendered&&(r=i.btnEl,u=i.btnIconEl,f=i._hasIconCls,t&&r.removeCls(f+"-"+t),r.addCls(f+"-"+n),n==="top"||n==="left"?r.insertFirst(u):r.appendChild(u),i.updateLayout())},updateTextAlign:function(n,t){var i=this,r=i.btnEl,u=i._btnCls;i.rendered&&(r.removeCls(u+"-"+t),r.addCls(u+"-"+n))},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},getRefItems:function(n){var t=this.menu,i;return t&&(i=t.getRefItems(n),i.unshift(t)),i||[]},clearTip:function(){var n=this,t=n.el;Ext.quickTipsActive&&Ext.isObject(n.tooltip)?Ext.tip.QuickTipManager.unregister(t):t.dom.removeAttribute(n.getTipAttr())},beforeDestroy:function(){var n=this;n.rendered&&n.clearTip();Ext.destroy(n.repeater);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var n=this,t=n.menu;n.rendered&&(Ext.destroy(n.keyMap),delete n.keyMap);t&&n.destroyMenu&&(n.menu=Ext.destroy(t));Ext.button.Manager.unregister(n);Ext.Component.prototype.onDestroy.call(this)},setHandler:function(n,t){return this.handler=n,arguments.length>1&&(this.scope=t),this},updateText:function(n,t){n=n==null?"":String(n);t=t||"";var i=this,u=i.btnInnerEl,r=i.btnEl;i.rendered&&(u.setHtml(n||"&#160;"),r[n?"addCls":"removeCls"](i._textCls),r[n?"removeCls":"addCls"](i._noTextCls),i.updateLayout());i.fireEvent("textchange",i,t,n)},didIconStateChange:function(n,t){var i=Ext.isEmpty(t);return Ext.isEmpty(n)?!i:i},setPressed:function(n){return this.toggle(n!==!1)},toggle:function(n,t){var i=this;return n=n===undefined?!i.pressed:!!n,n!==i.pressed&&(i[n?"addCls":"removeCls"](i._pressedCls),i.pressed=n,t||(i.fireEvent("toggle",i,n),Ext.callback(i.toggleHandler,i.scope,[i,n],0,i),i.reference&&i.publishState&&i.publishState("pressed",n))),i},maybeShowMenu:function(n){this.menu&&this.showMenu(n)},showMenu:function(n){var t=this,i=t.menu,r=!n||n.pointerType;return i&&t.rendered&&(t.tooltip&&Ext.quickTipsActive&&t.getTipAttr()!=="title"&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(t.el),i.isVisible()?r?i.hide():i.focus():(!n||t.showEmptyMenu||i.items.getCount()>0)&&(i.autoFocus=!r,i.showBy(t.el,t.menuAlign))),t},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var n=this.menu;return n&&n.rendered&&n.isVisible()},onRepeatClick:function(n,t){this.onClick(t)},onTouchStart:function(n){this.doPreventDefault(n)},onClick:function(n){var t=this;(t.doPreventDefault(n),n.type!=="keydown"&&n.button)||t.disabled||(t.doToggle(),t.maybeShowMenu(n),t.fireHandler(n))},doPreventDefault:function(n){n&&(this.preventDefault||this.disabled&&this.getHref())&&n.preventDefault()},fireHandler:function(n){var t=this;t.fireEvent("click",t,n)===!1||t.isDestroyed||Ext.callback(t.handler,t.scope,[t,n],0,t)},doToggle:function(){var n=this;n.enableToggle&&(n.allowDepress!==!1||!n.pressed)&&n.toggle()},onMouseOver:function(n){var t=this;if(!t.disabled&&!n.within(t.el,!0,!0))t.onMouseEnter(n)},onMouseOut:function(n){var t=this;if(!n.within(t.el,!0,!0)){if(t.overMenuTrigger)t.onMenuTriggerOut(n);t.onMouseLeave(n)}},onMouseMove:function(n){var t=this,i=t.overMenuTrigger;if(t.split)if(t.isWithinTrigger(n)){if(!i)t.onMenuTriggerOver(n)}else if(i)t.onMenuTriggerOut(n)},isWithinTrigger:function(n){var t=this,u=t.el,i,r;return i=t.arrowAlign==="right"?n.getX()-t.getX():n.getY()-u.getY(),r=t.getTriggerRegion(),i>r.begin&&i<r.end},getTriggerRegion:function(){var n=this,t=n._triggerRegion,i=n.arrowAlign==="right",r=i?"getRight":"getBottom",u=i?n.getWidth():n.getHeight();return t.begin=u-(n.el[r]()-n.btnEl[r]()),t.end=u,t},onMouseEnter:function(n){this.fireEvent("mouseover",this,n)},onMouseLeave:function(n){this.fireEvent("mouseout",this,n)},onMenuTriggerOver:function(n){var t=this,i=t.arrowTooltip;t.overMenuTrigger=!0;t.split&&i&&t.btnWrap.dom.setAttribute(t.getTipAttr(),i);t.fireEvent("menutriggerover",t,t.menu,n)},onMenuTriggerOut:function(n){var t=this;delete t.overMenuTrigger;t.split&&t.arrowTooltip&&t.btnWrap.dom.setAttribute(t.getTipAttr(),"");t.fireEvent("menutriggerout",t,t.menu,n)},enable:function(){var n=this,i=n.href,r=n.hrefTarget,t;return Ext.Component.prototype.enable.apply(this,arguments),n.removeCls(n._disabledCls),n.rendered&&(t=n.el.dom,t.setAttribute("tabindex",n.tabIndex),i&&(t.href=i),r&&(t.target=r)),n},disable:function(){var n=this,t;return Ext.Component.prototype.disable.apply(this,arguments),n.addCls(n._disabledCls),n.removeCls(n.overCls),n.rendered&&(t=n.el.dom,t.removeAttribute("tabindex"),n.href&&t.removeAttribute("href"),n.hrefTarget&&t.removeAttribute("target")),n},setScale:function(n){var t=this,i=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,n))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=n;t.setUI(i)},setUI:function(n){var t=this;t.scale&&!n.match(t.scale)&&(n=n+"-"+t.scale);Ext.Component.prototype.setUI.call(this,n)},onMouseDown:function(n){var t=this;if((Ext.isIE||n.pointerType==="touch")&&t.getFocusEl().focus(),!t.disabled&&n.button===0){Ext.button.Manager.onButtonMousedown(t,n);t.addCls(t._pressedCls)}},onMouseUp:function(n){var t=this;t.isDestroyed||n.button!==0||t.pressed||t.removeCls(t._pressedCls)},onMenuShow:function(){var n=this;n.addCls(n._menuActiveCls);n.fireEvent("menushow",n,n.menu)},onMenuHide:function(){var n=this;n.removeCls(n._menuActiveCls);n.fireEvent("menuhide",n,n.menu)},onDownKey:function(n,t){var i=this;if(i.menu&&!i.disabled)return i.showMenu(t),t.stopEvent(),!1},updateArrowVisible:function(n){var t=this;return t.rendered&&(n?(t.menu||t.isSplitButton)&&(t.split=!0,t._addSplitCls()):(t._removeSplitCls(),t.split=!1)),n},privates:{addOverCls:function(){this.disabled||this.addCls(this.overCls)},_addSplitCls:function(){var n=this;n.btnWrap.addCls(n.getSplitCls());Ext.isOpera12m&&n.addCls(n._operaArrowCls+"-"+n.arrowAlign)},getFocusEl:function(){return this.el},getTdCls:function(){return"x-button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var n=this;n.btnWrap.removeCls(n.getSplitCls());Ext.isOpera12m&&n.removeCls(n._operaArrowCls+"-"+n.arrowAlign)},_syncHasIconCls:function(){var n=this,t=n.btnEl,i=n._hasIconCls;t&&t[n._hasIcon()?"addCls":"removeCls"]([i,i+"-"+n.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},wrapPrimaryEl:function(n){this.el=new Ext.dom.ButtonElement(n);Ext.Component.prototype.wrapPrimaryEl.call(this,n)}}},0,["button"],["component","box","button"],{component:!0,box:!0,button:!0},["widget.button"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,"Button",Ext,"Button"],0);Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:!0,tabIndex:-1,baseCls:"x-tab",closeElOverCls:"x-tab-close-btn-over",closeElPressedCls:"x-tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,ariaRole:"tab",_btnWrapCls:"x-tab-wrap",_btnCls:"x-tab-button",_baseIconCls:"x-tab-icon-el",_glyphCls:"x-tab-glyph",_innerCls:"x-tab-inner",_textCls:"x-tab-text",_noTextCls:"x-tab-no-text",_hasIconCls:"x-tab-icon",_activeCls:"x-tab-active",_closableCls:"x-tab-closable",overCls:"x-tab-over",_pressedCls:"x-tab-pressed",_disabledCls:"x-tab-disabled",_rotateClasses:{1:"x-tab-rotate-right",2:"x-tab-rotate-left"},_positions:{top:{"default":"top",0:"top",1:"left",2:"right"},right:{"default":"top",0:"right",1:"top",2:"bottom"},bottom:{"default":"bottom",0:"bottom",1:"right",2:"left"},left:{"default":"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var n=this;n.card&&n.setCard(n.card);Ext.button.Button.prototype.initComponent.apply(this,arguments)},getActualRotation:function(){var n=this.getRotation();return n!=="default"?n:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var n=this,e=n._rotateClasses,o=n.getTabPosition(),f=n.getActualRotation(),t=n._rotateCls,i=n._rotateCls=e[f],r=n._positionCls,u=n._positionCls=n._positions[o][f];t!==i&&(t&&n.removeCls(t),i&&n.addCls(i));r!==u&&(r&&n.removeClsWithUI(r),u&&n.addClsWithUI(u),n.rendered&&n.updateFrame());n.rendered&&n.setElOrientation()},onAdded:function(n,t,i){Ext.button.Button.prototype.onAdded.call(this,n,t,i);this.syncRotationAndPosition()},getTemplateArgs:function(){var t=this,n=Ext.button.Button.prototype.getTemplateArgs.call(this);return n.closable=t.closable,n.closeText=t.closeText,n},beforeRender:function(){var n=this,t=n.up("tabbar"),i=n.up("tabpanel");Ext.button.Button.prototype.beforeRender.call(this);n.active&&n.addCls(n._activeCls);n.syncClosableCls();n.minWidth||(n.minWidth=t?t.minTabWidth:n.minWidth,!n.minWidth&&i&&(n.minWidth=i.minTabWidth),n.minWidth&&n.iconCls&&(n.minWidth+=25));n.maxWidth||(n.maxWidth=t?t.maxTabWidth:n.maxWidth,!n.maxWidth&&i&&(n.maxWidth=i.maxTabWidth))},onRender:function(){var n=this;n.setElOrientation();Ext.button.Button.prototype.onRender.apply(this,arguments);n.closable&&(n.closeEl.addClsOnOver(n.closeElOverCls),n.closeEl.addClsOnClick(n.closeElPressedCls));n.initKeyNav()},initKeyNav:function(){var n=this;n.keyNav=new Ext.util.KeyNav(n.el,{enter:n.onEnterKey,del:n.onDeleteKey,scope:n})},setElOrientation:function(){var n=this,t=n.getActualRotation(),i=n.el;t?i.setVertical(t===1?90:270):i.setHorizontal()},enable:function(){var n=this;return Ext.button.Button.prototype.enable.apply(this,arguments),n.removeCls(n._disabledCls),n},disable:function(){var n=this;return Ext.button.Button.prototype.disable.apply(this,arguments),n.addCls(n._disabledCls),n},onDestroy:function(){var n=this;Ext.destroy(n.keyNav);delete n.keyNav;Ext.button.Button.prototype.onDestroy.apply(this,arguments)},setClosable:function(n){var t=this;n=!arguments.length||!!n;t.closable!==n&&(t.closable=n,t.card&&(t.card.closable=n),t.syncClosableCls(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var n=this,t=n.closeEl;n.closable?(t||(t=n.closeEl=n.btnWrap.insertSibling({tag:"a",role:"presentation",cls:n.baseCls+"-close-btn",href:"#",title:n.closeText},"after")),t.addClsOnOver(n.closeElOverCls),t.addClsOnClick(n.closeElPressedCls)):t&&(t.destroy(),delete n.closeEl)},syncClosableCls:function(){var n=this,t=n._closableCls;n.closable?n.addCls(t):n.removeCls(t)},setCard:function(n){var t=this;t.card=n;n.iconAlign&&t.setIconAlign(n.iconAlign);n.textAlign&&t.setTextAlign(n.textAlign);t.setText(t.title||n.title);t.setIconCls(t.iconCls||n.iconCls);t.setIcon(t.icon||n.icon);t.setGlyph(t.glyph||n.glyph)},onCloseClick:function(){var n=this;if(n.fireEvent("beforeclose",n)!==!1)if(n.tabBar){if(n.tabBar.closeTab(n)===!1)return}else n.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(n){var t=this;if(t.tabBar)t.tabBar.onClick(n,t.el)},onDeleteKey:function(){this.closable&&this.onCloseClick()},beforeClick:function(n){n||this.focus()},activate:function(n){var t=this;t.active=!0;t.addCls(t._activeCls);n!==!0&&t.fireEvent("activate",t)},deactivate:function(n){var t=this;t.active=!1;t.removeCls(t._activeCls);n!==!0&&t.fireEvent("deactivate",t)},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(n){Ext.Button.superclass.wrapPrimaryEl.call(this,n)}}},0,["tab"],["component","box","button","tab"],{component:!0,box:!0,button:!0,tab:!0},["widget.tab"],0,[Ext.tab,"Tab"],0);Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(n){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);n.bodyContext=n.getEl("body")},beginLayoutCycle:function(n){var t=this,i=t.lastWidthModel,r=t.lastHeightModel,u=t.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);i&&i.fixed&&n.widthModel.shrinkWrap&&u.setWidth(null);r&&r.fixed&&n.heightModel.shrinkWrap&&u.setHeight(null)},calculateOwnerHeightFromContentHeight:function(n){var t=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);return n.targetContext!==n&&(t+=n.getPaddingInfo().height),t},calculateOwnerWidthFromContentWidth:function(n){var t=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);return n.targetContext!==n&&(t+=n.getPaddingInfo().width),t},measureContentWidth:function(n){return n.bodyContext.setWidth(n.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(n){return n.bodyContext.setHeight(n.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(n,t){var i=t-n.getFrameInfo().height,r=n.targetContext;return r!==n&&(i-=n.getPaddingInfo().height),n.bodyContext.setHeight(i,!n.heightModel.natural)},publishInnerWidth:function(n,t){var i=t-n.getFrameInfo().width,r=n.targetContext;r!==n&&(i-=n.getPaddingInfo().width);n.bodyContext.setWidth(i,!n.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0);Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Bar,{baseCls:"x-tab-bar",componentLayout:"body",isTabBar:!0,config:{tabRotation:"default",tabStretchMax:!0,activateOnFocus:!0},defaultType:"tab",plain:!1,ensureActiveVisibleOnChange:!0,ariaRole:"tablist",childEls:["body","strip"],_stripCls:"x-tab-bar-strip",_baseBodyCls:"x-tab-bar-body",renderTpl:'<div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"<\/tpl>>{%this.renderContainer(out,values)%}<\/div><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"><\/div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var n=this,t=n.initialConfig.layout,i=t&&t.align,r=t&&t.overflowHandler;n.plain&&n.addCls(n.baseCls+"-plain");Ext.panel.Bar.prototype.initComponent.call(this);n.setLayout({align:i||(n.getTabStretchMax()?"stretchmax":n._layoutAlign[n.dock]),overflowHandler:r||"scroller"});n.on({click:n.onClick,element:"el",scope:n})},ensureTabVisible:function(n){var t=this,r=t.tabPanel,i=t.layout.overflowHandler;t.rendered&&i&&t.tooNarrow&&i.scrollToItem&&((n||n===0)&&(n.isTab||(Ext.isNumber(n)?n=this.items.getAt(n):n.isComponent&&r&&r.items.contains(n)&&(n=n.tab))),n||(n=t.activeTab),n&&i.scrollToItem(n))},initRenderData:function(){var n=this;return Ext.apply(Ext.panel.Bar.prototype.initRenderData.call(this),{bodyCls:n.bodyCls,baseBodyCls:n._baseBodyCls,bodyTargetCls:n.bodyTargetCls,stripCls:n._stripCls,dock:n.dock})},setDock:function(n){var i=this,t=i.items,u=i.ownerCt,f,r,e;if(t=t&&t.items,t)for(r=0,e=t.length;r<e;r++)f=t[r],f.isTab&&f.setTabPosition(n);i.rendered&&(i.resetItemMargins(),u&&u.isHeader&&u.resetItemMargins(),i.needsScroll=!0);Ext.panel.Bar.prototype.setDock.call(this,n)},updateTabRotation:function(n){var i=this,t=i.items,r,f,u;if(t=t&&t.items,t)for(r=0,f=t.length;r<f;r++)u=t[r],u.isTab&&u.setRotation(n);i.rendered&&(i.resetItemMargins(),i.needsScroll=!0,i.updateLayout())},onRender:function(){var n=this;if(Ext.panel.Bar.prototype.onRender.call(this),Ext.isIE8&&n.vertical)n.el.on({mousemove:n.onMouseMove,scope:n})},afterLayout:function(){this.adjustTabPositions();Ext.panel.Bar.prototype.afterLayout.apply(this,arguments)},onAdd:function(n,t){var i=this.onTabContentChange;this.ensureActiveVisibleOnChange&&(n.barListeners=n.on({scope:this,destroyable:!0,glyphchange:i,iconchange:i,textchange:i}));Ext.panel.Bar.prototype.onAdd.call(this,n,t)},onAdded:function(n,t,i){n.isHeader&&this.addCls(n.baseCls+"-"+n.ui+"-tab-bar");Ext.panel.Bar.prototype.onAdded.call(this,n,t,i)},onRemove:function(n,t){var i=this;i.ensureActiveVisibleOnChange&&(t||n.barListeners.destroy(),n.barListeners=null);n===i.previousTab&&(i.previousTab=null);Ext.panel.Bar.prototype.onRemove.call(this,n,t)},onRemoved:function(n){var t=this.ownerCt;t.isHeader&&this.removeCls(t.baseCls+"-"+t.ui+"-tab-bar");Ext.panel.Bar.prototype.onRemoved.call(this,n)},onTabContentChange:function(n){n===this.activeTab&&this.ensureTabVisible(n)},afterComponentLayout:function(){var n=this,i=n.needsScroll,t=n.layout.overflowHandler;Ext.panel.Bar.prototype.afterComponentLayout.apply(this,arguments);t&&i&&n.tooNarrow&&t.scrollToItem&&t.scrollToItem(n.activeTab);delete n.needsScroll},onMouseMove:function(n){var t=this,r=t._overTab,u,i;if(!n.getTarget(".x-box-scroller")&&(u=t.getTabInfoFromPoint(n.getXY()),i=u.tab,i!==r)){if(r&&r.rendered){r.onMouseLeave(n);t._overTab=null}if(i){i.onMouseEnter(n);t._overTab=i;i.disabled||t.el.setStyle("cursor","pointer")}else t.el.setStyle("cursor","default")}},onMouseLeave:function(n){var t=this._overTab;if(t&&t.rendered)t.onMouseLeave(n)},getTabInfoFromPoint:function(n){for(var t=this,p=t.items.items,rt=p.length,w=t.layout.innerCt,b=w.getXY(),k=new Ext.util.Point(n[0],n[1]),o=0,i,d,u,g,s,h,c,l,a,f,e,v,y,nt,tt,it,r;o<rt;o++)if((r=p[o],i=r.lastBox,i&&r.isTab)&&(f=b[0]+i.x,e=b[1]-w.dom.scrollTop+i.y,v=i.width,y=i.height,d=new Ext.util.Region(e,f+v,e+y,f),d.contains(k))){u=r.closeEl;u&&(t._isTabReversed===undefined&&(t._isTabReversed=tt=r.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1),it=tt?this._reverseDockNames[t.dock]:t.dock,l=u.getWidth(),a=u.getHeight(),s=t.getCloseXY(u,f,e,v,y,l,a,it),h=s[0],c=s[1],nt=new Ext.util.Region(c,h+l,c+a,h),g=nt.contains(k));break}return{tab:r,close:g}},getCloseXY:function(n,t,i,r,u,f,e,o){var s=n.getXY(),h,c;return o==="right"?(h=t+r-(s[1]-i+e),c=i+(s[0]-t)):(h=t+(s[1]-i),c=i+t+u-s[0]-f),[h,c]},closeTab:function(n){var i=this,t=n.card,r=i.tabPanel,u;if(t&&t.fireEvent("beforeclose",t)===!1)return!1;if(u=i.findNextActivatable(n),Ext.suspendLayouts(),r&&t){if(delete n.ownerCt,t.fireEvent("close",t),r.remove(t),r.getComponent(t))return n.ownerCt=i,Ext.resumeLayouts(!0),!1;n.fireClose();i.remove(n)}u&&(r?r.setActiveTab(u.card):i.setActiveTab(u),u.focus());Ext.resumeLayouts(!0)},findNextActivatable:function(n){var t=this;if(n.active&&t.items.getCount()>1)return t.previousTab&&t.previousTab!==n&&!t.previousTab.disabled?t.previousTab:n.next("tab[disabled=false]")||n.prev("tab[disabled=false]")},setActiveTab:function(n,t){var i=this;n.disabled||n===i.activeTab||(i.activeTab&&(i.activeTab.isDestroyed?i.previousTab=null:(i.previousTab=i.activeTab,i.activeTab.deactivate(),i.deactivateFocusable(i.activeTab))),n.activate(),i.activateFocusable(n),i.activeTab=n,i.needsScroll=!0,t||(i.fireEvent("change",i,n,n.card),i.updateLayout()))},privates:{adjustTabPositions:function(){var f=this,e=f.items.items,o=e.length,n,t,i,r,u;if(!Ext.isIE8)for(u=f._getTabAdjustProp();o--;)n=e[o],i=n.el,t=n.lastBox,r=n.isTab?n.getActualRotation():0,r===1&&n.isVisible()?i.setStyle(u,t.x+t.width+"px"):r===2&&n.isVisible()&&i.setStyle(u,t.x-t.height+"px")},applyTargetCls:function(n){this.bodyTargetCls=n},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(n,t){var u=this,f,i,r,e;n.getTarget(".x-box-scroller")||(Ext.isIE8&&u.vertical?(e=u.getTabInfoFromPoint(n.getXY()),i=e.tab,r=e.close):(f=n.getTarget("."+Ext.tab.Tab.prototype.baseCls),i=f&&Ext.getCmp(f.id),r=i&&i.closeEl&&t===i.closeEl.dom),r&&n.preventDefault(),i&&i.isDisabled&&!i.isDisabled()&&(i.beforeClick(r),i.closable&&r?i.onCloseClick():u.doActivateTab(i)))},doActivateTab:function(n){var t=this.tabPanel;t?n.disabled||t.setActiveTab(n.card):this.setActiveTab(n)},onFocusableContainerFocus:function(n){var i=this,r=i.mixins.focusablecontainer,t;t=r.onFocusableContainerFocus.call(i,n);t&&t.isTab&&i.doActivateTab(t)},onFocusableContainerFocusEnter:function(n){var i=this,r=i.mixins.focusablecontainer,t;t=r.onFocusableContainerFocusEnter.call(i,n);t&&t.isTab&&i.doActivateTab(t)},focusChild:function(n,t){var i=this,u=i.mixins.focusablecontainer,r;r=u.focusChild.call(i,n,t);i.activateOnFocus&&r&&r.isTab&&i.doActivateTab(r)}}},0,["tabbar"],["component","box","container","tabbar"],{component:!0,box:!0,container:!0,tabbar:!0},["widget.tabbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.tab,"Bar"],0);Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],config:{tabBar:undefined,tabPosition:"top",tabRotation:"default",tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:"x-tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var n=this,i=n.activeTab!==null?n.activeTab||0:null,r=n.dockedItems,t=n.header,f=n.tabBarHeaderPosition,u=n.getTabBar(),e;n.layout=new Ext.layout.container.Card(Ext.apply({owner:n,deferredRender:n.deferredRender,itemCls:n.itemCls,activeItem:i},n.layout));f!=null?(t=n.header=Ext.apply({},t),e=t.items=t.items?t.items.slice():[],t.itemPosition=f,e.push(u),t.hasTabBar=!0):(r=[].concat(n.dockedItems||[]),r.push(u),n.dockedItems=r);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);i=n.activeTab=n.getComponent(i);i&&u.setActiveTab(i.tab,!0)},onRender:function(){var t=this.items.items,i=t.length,n;for(Ext.panel.Panel.prototype.onRender.apply(this,arguments),n=0;n<i;++n)t[n].getBind()},setActiveTab:function(n){var t=this,i;return((!Ext.isObject(n)||n.isComponent)&&(n=t.getComponent(n)),i=t.getActiveTab(),n)?(Ext.suspendLayouts(),n.isComponent||(n=t.add(n)),i===n||t.fireEvent("beforetabchange",t,n,i)===!1)?(Ext.resumeLayouts(!0),i):(t.activeTab=n,t.layout.setActiveItem(n),n=t.activeTab=t.layout.getActiveItem(),n&&n!==i?(t.tabBar.setActiveTab(n.tab),Ext.resumeLayouts(!0),i!==n&&t.fireEvent("tabchange",t,n,i)):Ext.resumeLayouts(!0),n):i},setActiveItem:function(n){return this.setActiveTab(n)},getActiveTab:function(){var n=this,t=n.getComponent(n.activeTab);return n.activeTab=t&&n.items.indexOf(t)!==-1?t:undefined,n.activeTab},applyTabBar:function(n){var t=this,i=t.tabBarHeaderPosition!=null?t.getHeaderPosition():t.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:t.ui,dock:i,tabRotation:t.getTabRotation(),vertical:i==="left"||i==="right",plain:t.plain,tabStretchMax:t.getTabStretchMax(),tabPanel:t},n))},updateHeaderPosition:function(n,t){var i=this.getTabBar();i&&this.tabBarHeaderPosition!=null&&i.setDock(n);Ext.panel.Panel.prototype.updateHeaderPosition.call(this,n,t)},updateTabPosition:function(n){var t=this.getTabBar();t&&this.tabBarHeaderPosition==null&&t.setDock(n)},updateTabRotation:function(n){var t=this.getTabBar();t&&t.setTabRotation(n)},onAdd:function(n,t){var i=this,u=Ext.apply({},n.tabConfig),r=i.getTabBar(),f={xtype:"tab",title:n.title,icon:n.icon,iconCls:n.iconCls,glyph:n.glyph,ui:r.ui,card:n,disabled:n.disabled,closable:n.closable,hidden:n.hidden&&!n.hiddenByLayout,tooltip:n.tooltip,tabBar:r,tabPosition:r.dock,rotation:r.getTabRotation()};n.closeText!==undefined&&(f.closeText=n.closeText);u=Ext.applyIf(u,f);n.tab=i.tabBar.insert(t,u);n.on({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,glyphchange:i.onItemGlyphChange,titlechange:i.onItemTitleChange});n.isPanel&&(i.removePanelHeader&&(n.rendered?n.header&&n.header.hide():n.header=!1),n.isPanel&&i.border&&n.setBorder(!1));i.rendered&&n.getBind();i.rendered&&i.loader&&i.activeTab===undefined&&i.layout.activeItem!==null&&i.setActiveTab(0)},onItemEnable:function(n){n.tab.enable()},onItemDisable:function(n){n.tab.disable()},onItemBeforeShow:function(n){if(n!==this.activeTab)return this.setActiveTab(n),!1},onItemGlyphChange:function(n,t){n.tab.setGlyph(t)},onItemIconChange:function(n,t){n.tab.setIcon(t)},onItemIconClsChange:function(n,t){n.tab.setIconCls(t)},onItemTitleChange:function(n,t){n.tab.setText(t)},onRemove:function(n){var t=this;n.un({scope:t,enable:t.onItemEnable,disable:t.onItemDisable,beforeshow:t.onItemBeforeShow,iconchange:t.onItemIconChange,iconclschange:t.onItemIconClsChange,glyphchange:t.onItemGlyphChange,titlechange:t.onItemTitleChange});n.tab&&!t.destroying&&n.tab.ownerCt===t.tabBar&&t.tabBar.remove(n.tab)},privates:{doRemove:function(n){var t=this,i;t.removingAll||t.destroying||t.items.getCount()===1?t.activeTab=null:n.tab&&(i=t.tabBar.items.indexOf(t.tabBar.findNextActivatable(n.tab)))!==-1&&t.setActiveTab(i);Ext.panel.Panel.prototype.doRemove.apply(this,arguments);n.tab&&(delete n.tab.card,delete n.tab)}}},0,["tabpanel"],["component","box","container","panel","tabpanel"],{component:!0,box:!0,container:!0,panel:!0,tabpanel:!0},["widget.tabpanel"],0,[Ext.tab,"Panel",Ext,"TabPanel"],0);Ext.cmd.derive("Ext.app.bindinspector.Environment",Ext.Base,{getCmp:function(n){return this.components.get(n)},getVM:function(n){return this.viewModels.get(n)},getInheritedVM:function(n){var t=n.viewModel,i=n.parent;return t?t:i?this.getInheritedVM(this.getCmp(i)):null},captureSnapshot:function(){var i=Ext.ComponentManager.getAll(),u=i.length,r=[],n,t;for(this.models={},n=0;n<u;++n)t=i[n],t.afterRender&&this.isRootComponent(t)&&r.push(this.buildComponent(t));return{isBindData:!0,version:Ext.getVersion().version,models:this.models,components:r}},serializeModel:function(n){var t=this.models,i=n.entityName;t[i]||(t[i]=Ext.Array.map(n.getFields(),function(n){return{name:n.getName(),type:n.getType()}}))},isRootComponent:function(n){var t=n.getRefOwner();return t||n.isBindInspector||n===Ext.MessageBox||n.is("quicktip")?!1:!0},buildComponent:function(n){var i=n.getRefItems?n.getRefItems():null,e=n.getViewModel(),r=n.getBind(),o=n.id,s,t,u,f;if(r&&(r=this.buildBind(r)),u={id:o,xtype:n.getXType(),publishes:n.getPublishes(),viewModel:e?this.buildViewModel(e,n):null,bindings:r||null,reference:n.reference||null,items:[]},i)for(t=0,s=i.length;t<s;++t)i[t].afterRender&&(f=this.buildComponent(i[t]),f.parent=o,u.items.push(f));return u},buildBind:function(n){var e={},u,i,t,f,r;for(u in n)i=n[u],r=i.stub,t={id:i.id,value:this.serializeValue(i.getRawValue()),stub:r?{id:r.id,name:r.name}:null},i.isTemplateBinding?(t.isTemplateBinding=!0,t.tokens=[],Ext.Array.forEach(i.tokens,function(n){t.tokens.push(n.split("."))},this),t.descriptor=i.tpl.text):i.isMultiBinding?t.isMultiBinding=!0:r&&(f=this.buildStubName(r),t.tokens=f.split("."),t.descriptor="{"+f+"}"),e[u]=t;return e},buildStubName:function(n){var t=n.parent,i="";return t&&!t.isRootStub&&(i=this.buildStubName(t)+"."),i+n.name},buildViewModel:function(n,t){var i=n.getParent();return{id:n.getId(),view:t.id,parent:i?i.getId():null,data:this.serializeValue(n.getData(),!0),rootStub:this.buildStub(n.getRoot())}},buildStub:function(n,t){var i={},r=n.children,h=n.isLinkStub,e={},u,o,f,s;if(n.isRootStub?(i.name="",i.isLoading=!1,i.bindCount=i.cumulativeBindCount=0):(i.name=n.name,i.parent=n.parent?n.parent.id:null,i.isLoading=n.isLoading(),i.bindCount=n.bindings&&n.bindings.length||0,i.cumulativeBindCount=i.bindCount,i.value=this.serializeValue(n.getRawValue()),h&&(s=n.target===n.owner,i.linkInfo={sameTarget:s,descriptor:n.linkDescriptor,value:this.serializeValue(n.binding.getValue())},t=!0)),r)for(u in r)o=!0,f=this.buildStub(r[u],t),e[u]=f,i.cumulativeBindCount+=f.cumulativeBindCount;return o&&(i.children=e),i},createModel:function(n,t){var i=Ext.app.bindinspector.noconflict[n];return new i(t)},unpackSnapshot:function(n){this.components=new Ext.util.Collection;this.viewModels=new Ext.util.Collection;Ext.Object.each(n.models,function(n,t){Ext.define("Ext.app.bindinspector.noconflict."+n,{extend:"Ext.app.bindinspector.noconflict.BaseModel",fields:t})});Ext.Array.forEach(n.components,function(n){this.unpackComponent(n,this.components,this.viewModels)},this);this.rootComponents=n.components},unpackComponent:function(n,t,i){var r=n.viewModel,e=n.items,o=n.bindings,l,u,s,h,f,a,c;if(t.add(n),o)for(a in o)c=o[a],c.value=this.deserializeValue(c.value);if(r&&(i.add(r),s=this.getVM(r.parent),s&&(h=Ext.Object.chain(s.data)),f=this.deserializeValue(r.data),h&&(f=Ext.apply(h,f)),r.data=f,this.deserializeStub(r.rootStub)),e)for(u=0,l=e.length;u<l;++u)this.unpackComponent(e[u],t,i)},serializeValue:function(n,t){var i={},r,f,o,u,e;if(n&&n.constructor===Object){r="object";i.value={};for(f in n)t&&!n.hasOwnProperty(f)||(u=this.serializeValue(n[f],t),o={type:u.type,value:u.value},u.entityName&&(o.entityName=u.entityName),i.value[f]=o)}else n&&n.isModel?(r="model",i.entityName=n.entityName,this.serializeModel(n.self),i.value=this.serializeValue(n.data)):n&&n.isStore?(r="store",e=n.getModel(),i.entityName=e.entityName,e.entityName&&this.serializeModel(e)):Ext.isDate(n)?(r="date",i.value=Ext.Date.format(n,"c")):Ext.isArray(n)?(r="array",i.value=[],Ext.Array.forEach(n,function(n){i.value.push(this.serializeValue(n))},this)):(r=Ext.typeOf(n),i.value=n);return i.type=r,i},deserializeValue:function(n){var i=n.type,r=n.value,t,u;if(i==="null")t=null;else if(i==="undefined")t=undefined;else if(i==="string"||i==="boolean"||i==="number")t=r;else if(i==="date")t=Ext.Date.parse(r,"c");else if(i==="object"){t={};for(u in r)t[u]=this.deserializeValue(r[u])}else i==="model"?t=this.createModel(n.entityName,this.deserializeValue(r)):i==="store"?t={isStore:!0,entityName:n.entityName}:i==="array"&&(t=[],Ext.Array.forEach(r,function(n){t.push(this.deserializeValue(n))},this));return t},deserializeStub:function(n){var t=n.children,i=n.linkInfo,r;if(n.value&&(n.value=this.deserializeValue(n.value)),i&&(i.value=this.deserializeValue(i.value)),t)for(r in t)this.deserializeStub(t[r])}},0,0,0,0,0,0,[Ext.app.bindinspector,"Environment"],0);Ext.cmd.derive("Ext.app.bindinspector.ViewModelDetail",Ext.tree.Panel,{rootVisible:!1,cls:"x-bindinspector-viewmodeldetail",inheritedCls:"x-bindinspector-inherited",notInheritedCls:"x-bindinspector-not-inherited",highlightedCls:"x-bindinspector-highlighted",unhighlightedCls:"x-bindinspector-unhighlighted",lastItemCls:"x-bindinspector-last-item",initComponent:function(){var n=this,t=n.vm,r="VM &nbsp;&nbsp;&nbsp;⇒ &nbsp;&nbsp;&nbsp;",u=n.up("bindinspector-container").env,i=u.getCmp(t.view);i.reference&&(r+="["+i.reference+"] &bull; ");n.title=r+=i.id;n.viewConfig={getRowClass:function(t,i,r,u){var o=t.get("hasData"),s=t.get("hasStub"),f=[],e=t.get("highlighted");return t.get("inherited")?f.push(n.inheritedCls):f.push(n.notInheritedCls),e===!0?f.push(n.highlightedCls):e===-1&&f.push(n.unhighlightedCls),i===u.getCount()-1&&f.push(n.lastItemCls),o&&(!s||t.get("cumulativeBindCount")===0)&&f.push(n.dataOnlyCls),f.join(" ")}};n.store={model:n.Model,root:{text:"Root",expanded:!0,children:n.setupData(t,t.data,t.rootStub)}};n.columns=[{width:40,tdCls:"x-bindinspector-indicator-col",align:"center",scope:n,renderer:n.renderIndicator},{flex:1,xtype:"treecolumn",dataIndex:"name",text:"Name",scope:n,renderer:n.renderName},{flex:1,dataIndex:"value",text:"Value",scope:n,renderer:Ext.app.bindinspector.Util.valueRenderer},{text:"Bind #",width:64,align:"center",renderer:n.renderBindCount,scope:n},{width:40,isSearch:!0,renderer:n.dataSrcConsumerRenderer,scope:n}];Ext.tree.Panel.prototype.initComponent.call(this);n.on("cellclick",n.onSearchCellClick,n)},dataOnlyNode:"This item contains data but has nothing requesting the value",stubOnlyNode:"This item has the value requested but no data backing it",dataPointLoading:"Data point is loading (at the time the app snapshot was captured)",dataPointLoadingCls:"x-bindinspector-isloading",zeroBindingCls:"x-bi-zero-bind-count",dataOnlyCls:"x-bindinspector-data-only",stubOnlyCls:"x-bindinspector-stub-only",onSearchCellClick:function(n,t,i,r){n.getHeaderCt().getHeaderAtIndex(i).isSearch&&this.up("bindinspector-container").fireEvent("vmSearchClick",r)},getFirstTierRec:function(n){var t=n.parentNode.isRoot(),i;return t||n.bubble(function(n){if(n.parentNode.isRoot())return i=n,!1}),t?n:i},dataSrcConsumerRenderer:function(n,t,i){var r=this.getFirstTierRec(i),u=r.get("name");t.tdCls="x-bindinspector-data-search-cell";t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="Click to indicate within the Component List all ViewModels with a data property of &nbsp;<b>'+u+'<\/b>"'},renderIndicator:function(n,t,i){var c=i.get("ownerVMs"),r=c.length,e=!1,o=!1,u="",l=this.getFirstTierRec(i),s=l===i,h=l.get("name"),f;return Ext.Array.forEach(c,function(n){n.id===n.thisVM&&(e=!0);n.id!==n.thisVM&&(o=!0)}),e&&o?(u=Ext.util.Format.format('<span style="color:#DB7851;">{0}<\/span>',s?"◓":"-"),f=r>1?"VMs":"VM",t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="<b>'+h+"<\/b>&nbsp; provided by this VM and "+(r-1)+" ancestor "+f+'"'):e?(u=s?"●":"",t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="<b>'+h+'<\/b>&nbsp; is provided by this VM"'):o&&(u=s?"○":"",f=r>1?"VMs":"VM",t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="<b>'+h+"<\/b>&nbsp; is provided by "+r+" ancestor "+f+'"'),u},renderBindCount:function(n,t,i){var e=i.get("children").length,f=i.get("bindCount")||0,r,u;return n=f,n===0&&(n='<span class="'+this.zeroBindingCls+'">'+n+"<\/span>"),e&&(r=i.get("cumulativeBindCount")||"?",n+=r===0||r==="?"?' / <span class="'+this.zeroBindingCls+'">'+r+"<\/span>":" / "+r),u="Bindings Count = <b>"+f+"<\/b>",r&&r!==0&&r!=="?"&&(u+="<br>Cumulative Bindings Count = <b>"+r+"<\/b>"),t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="'+u+'"',n},renderName:function(n,t,i){var r=this,f=i.get("hasData"),e=i.get("hasStub"),u="";return i.get("isLoading")?(t.tdCls=r.dataPointLoadingCls,u+=r.dataPointLoading):f&&(!e||i.get("cumulativeBindCount")===0)?u+=r.dataOnlyNode:e&&!f&&(t.tdCls=r.stubOnlyCls,u+=r.stubOnlyNode),u!==""&&(t.tdAttr='data-qclass="x-componentlist-tip" data-qtip="'+u+'"'),n},setupData:function(n,t,i,r,u){var s={},l=[],a=n.dataMap,v=[],f,c,o,e,y,h;if(t&&Ext.isObject(t)&&(t.isModel?(t=t.data,y=!0):t.isStore&&(y=!0,t=null),t))for(e in t)u||(v=a[e]?a[e].ownerVMs:[]),f={name:e,value:t[e],inherited:Ext.isDefined(r)?r:!t.hasOwnProperty(e),ownerVMs:Ext.isDefined(u)?u:[],hasData:!0},Ext.Array.forEach(v,function(t){f.ownerVMs.push({id:t.id,view:t.view,thisVM:n.id})}),o=Ext.app.bindinspector.Util.getChildStub(e,i),o&&(f.hasStub=!0,f.isLoading=o.isLoading,f.iconCls=o.isLoading?this.dataPointLoadingCls:"",f.bindCount=o.bindCount,f.cumulativeBindCount=o.cumulativeBindCount,f.stub=o),s[e]=f;if(i){c=i.children;for(e in c)o=c[e],f=s[e],f||(f={name:e,value:o.value||undefined,inherited:r||!1,ownerVMs:u||[],hasData:!1,hasStub:!0,isLoading:o.isLoading,iconCls:o.isLoading?this.dataPointLoadingCls:"",bindCount:o.bindCount,cumulativeBindCount:o.cumulativeBindCount,stub:o},h=o.linkInfo,h&&h.sameTarget&&(f.value=h.value,f.hasData=f.value!==undefined),s[e]=f)}for(e in s)f=s[e],f.children=this.setupData(n,f.value,f.stub,f.inherited,f.ownerVMs),delete f.stub,f.children&&f.children.length?(f.expanded=!0,f.leaf=!1):f.leaf=!0,l.push(s[e]);return l}},0,["bindinspector-viewmodeldetail"],["component","box","container","panel","tablepanel","treepanel","bindinspector-viewmodeldetail"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,treepanel:!0,"bindinspector-viewmodeldetail":!0},["widget.bindinspector-viewmodeldetail"],0,[Ext.app.bindinspector,"ViewModelDetail"],function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:["name","value","inherited","hasData","hasStub","isLoading","bindCount","cumulativeBindCount","highlighted"]})});Ext.cmd.derive("Ext.app.bindinspector.noconflict.BaseModel",Ext.data.Model,{schema:{id:"Ext_app_bindinspector",namespace:"Ext.app.bindinspector"}},0,0,0,0,0,0,[Ext.app.bindinspector.noconflict,"BaseModel"],0);Ext.cmd.derive("Ext.app.bindinspector.Container",Ext.container.Container,{isBindInspector:!0,referenceHolder:!0,layout:"border",cls:"x-bindinspector-container",componentPreviewDefault:{xtype:"container",cls:"x-bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}]},initComponent:function(){var n=this;Ext.data.schema.Schema.get("Ext_app_bindinspector").clear();n.items=[{xtype:"bindinspector-componentlist",reference:"componentList",region:"west",width:400,split:!0,collapsible:!0,components:n.env.rootComponents,listeners:{scope:n,componentdblclick:n.onComponentDblclick,componentselect:n.onComponentSelect}},{xtype:"tabpanel",region:"center",reference:"tabs",items:[{title:"Preview",reference:"preview",layout:"fit",items:[n.componentPreviewDefault]}],listeners:{add:function(){this.getTabBar().setVisible(this.items.getCount()>1)},remove:function(){this.getTabBar().setVisible(this.items.getCount()>1)}}}];Ext.container.Container.prototype.initComponent.call(this);n.on("vmSearchClick",n.onVMSearchClick,n)},onVMSearchClick:function(n){var t=this.lookupReference("componentList"),r=t.getStore(),h=n.get("ownerVMs"),i=[],c=n.get("bindCount"),e=[],u=[],o=[],f,s;r.suspendEvents();t.clearVMSearchIndicators();Ext.Array.forEach(h,function(t){f=r.getById(t.view);f.set("isSrcVM",n);i.push(f)});r.resumeEvents();t.getView().refresh();t.indicatedVM=i;c>0&&(n.bubble(function(n){var t=n.get("name");t&&e.push(t)}),s=e.reverse().join("."),t.getStore().getRootNode().cascadeBy(function(n){n.get("hasBindings")&&Ext.Array.forEach(n.get("bindData"),function(t){var i=[];t.tokens&&Ext.Array.forEach(t.tokens,function(n){Ext.isArray(n)?Ext.Array.forEach(n,function(n){i.push(n)}):i.push(n)});i.join(".")===s&&u.push(n)})}));Ext.Array.forEach(u.concat(i),function(n){o.push(n.getId())});t.expand();t.filterComponentTree(null,o);Ext.Array.forEach(i,function(n){Ext.Array.contains(u)||n.set("filtervisible",!1)});t.down("#srcVMIndicator").show();t.down("#queryFieldTb").hide();t.down("#vmQueryResultsTb").show()},onComponentSelect:function(n,t){var r=this,u=t.getId(),i=r.lookupReference("preview");i.referringID!==u&&(Ext.suspendLayouts(),i.removeAll(),i.add({xtype:"bindinspector-componentdetail",env:r.env,component:r.env.getCmp(u)}),Ext.resumeLayouts(!0),i.referringID=u);i.show()},onComponentDblclick:function(n,t){var i=t.id,o="bindtab-"+i,r=this.lookupReference("tabs"),u=r.items.get(o),f,e;u||(f=this.env.getCmp(i),e=f.reference,u=r.add({xtype:"bindinspector-componentdetail",env:this.env,itemId:o,title:e?"["+e+"] "+i:i,closable:!0,component:f}));r.setActiveTab(u)},buildVMDataMap:function(n){var e=this.env,r=n,t=n.dataMap,f=[],i,u;if(!t){for(t=n.dataMap={};r;)f.push(r),r=e.getVM(r.parent);Ext.Array.forEach(f,function(n){var r;if(i=n.data,i&&Ext.isObject(i))for(r in i)u=i.hasOwnProperty(r),t[r]||(t[r]={isDirect:u}),t[r].ownerVMs=t[r].ownerVMs||[],u&&t[r].ownerVMs.push(n)})}return n}},0,["bindinspector-container"],["component","box","container","bindinspector-container"],{component:!0,box:!0,container:!0,"bindinspector-container":!0},["widget.bindinspector-container"],0,[Ext.app.bindinspector,"Container"],0);Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(n,t){this.comp=n;this.initialConstrainTo=t.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,t)},onStart:function(){var n=this,t=n.comp;n.startPosition=t.getXY();t.ghost&&!t.liveDrag&&(n.proxy=t.ghost(),n.dragTarget=n.proxy.header.el);(n.constrain||n.constrainDelegate)&&(n.constrainTo=n.calculateConstrainRegion());t.beginDrag&&t.beginDrag()},calculateConstrainRegion:function(){var i=this,e=i.comp,n=i.initialConstrainTo,t=e.constraintInsets,o,r,u,h=i.proxy?i.proxy.el:e.el,s=h.shadow,f=s&&!i.constrainDelegate&&e.constrainShadow&&!s.disabled?s.getShadowSize():0;return n instanceof Ext.util.Region?n=n.copy():(o=Ext.fly(n),n=o.getViewRegion(),n.right=n.left+o.dom.clientWidth),t&&(t=Ext.isObject(t)?t:Ext.Element.parseBox(t),n.adjust(t.top,t.right,t.bottom,t.length)),f&&n.adjust(f[0],-f[1],-f[2],f[3]),i.constrainDelegate||(r=Ext.fly(i.dragTarget).getRegion(),u=h.getRegion(),n.adjust(r.top-u.top,r.right-u.right,r.bottom-u.bottom,r.left-u.left)),n},onDrag:function(){var n=this,i=n.proxy&&!n.comp.liveDrag?n.proxy:n.comp,t=n.getOffset(n.constrain||n.constrainDelegate?"dragTarget":null);i.setPagePosition(n.startPosition[0]+t[0],n.startPosition[1]+t[1])},onEnd:function(){var n=this.comp;n.isDestroyed||n.destroying||(this.proxy&&!n.liveDrag&&n.unghost(),n.endDrag&&n.endDrag())}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0);Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:"x-window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:"x-window-item",overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:"dialog",initComponent:function(){var n=this;n.frame=!1;Ext.panel.Panel.prototype.initComponent.call(this);n.plain&&n.addClsWithUI("plain");n.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var t=this,n;return n=Ext.panel.Panel.prototype.getElConfig.call(this),n.tabIndex=-1,n},getFocusEl:function(){var n=this;return Ext.enableFocusManager?n.el:n.getDefaultFocus()||n.el},getState:function(){var n=this,t=Ext.panel.Panel.prototype.getState.call(this)||{},i=!!n.maximized,r=n.ghostBox,u;return t.maximized=i,u=i?n.restorePos:r?[r.x,r.y]:n.getPosition(),Ext.apply(t,{size:i?n.restoreSize:n.getSize(),pos:u}),t},applyState:function(n){var t=this;n&&(t.maximized=n.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=n.size,t.restorePos=n.pos):Ext.apply(t,{width:n.size.width,height:n.size.height,x:n.pos[0],y:n.pos[1]}))},onRender:function(){var n=this;if(Ext.panel.Panel.prototype.onRender.apply(this,arguments),n.header)n.header.on({scope:n,click:n.onHeaderClick});if(n.maximizable)n.header.on({scope:n,dblclick:n.toggleMaximize})},afterRender:function(){var n=this,i=n.header,t;if(n.maximized&&(n.maximized=!1,n.maximize(),i&&i.removeCls(i.indicateDragCls)),Ext.panel.Panel.prototype.afterRender.call(this),n.closable){t=n.getKeyMap();t.on(27,n.onEsc,n)}else t=n.keyMap;t&&n.hidden&&t.disable()},onEsc:function(n,t){var i=Ext.FocusManager;Ext.enableFocusManager&&i.focusedCmp!==this||(t.stopEvent(),this.close())},beforeDestroy:function(){var n=this;n.rendered&&(Ext.un("resize",n.onWindowResize,n),delete n.animateTarget,n.hide(),Ext.destroy(n.keyMap));Ext.panel.Panel.prototype.beforeDestroy.call(this)},addTools:function(){var n=this,t=[];Ext.panel.Panel.prototype.addTools.call(this);n.minimizable&&t.push({type:"minimize",handler:"minimize",scope:n});n.maximizable&&t.push({type:n.maximized?"restore":"maximize",handler:"toggleMaximize",scope:n});t.length&&n.addTool(t)},onShow:function(){var n=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);n.expandOnShow&&n.expand(!1);n.syncMonitorWindowResize();n.keyMap&&n.keyMap.enable()},doClose:function(){var n=this;n.hidden?(n.fireEvent("close",n),n.closeAction==="destroy"&&n.destroy()):n.hide(n.animateTarget,n.doClose,n)},afterHide:function(){var n=this;n.syncMonitorWindowResize();n.keyMap&&n.keyMap.disable();Ext.panel.Panel.prototype.afterHide.apply(this,arguments)},onWindowResize:function(){var n=this,t;n.isDestroyed||(n.maximized?n.fitContainer():(t=n.getSizeModel(),(t.width.natural||t.height.natural)&&n.updateLayout(),n.doConstrain()))},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(n){this.header.resumeLayouts(n?this.isRootCfg:null)},afterCollapse:function(){var n=this,t=n.header,i=n.tools;t&&n.maximizable&&(t.suspendLayouts(),i.maximize.hide(),this.resumeHeaderLayout(!0));n.resizer&&n.resizer.disable();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var n=this,t=n.header,r=n.tools,i;t&&(t.suspendLayouts(),n.maximizable&&(r.maximize.show(),i=!0),this.resumeHeaderLayout(i));n.resizer&&n.resizer.enable();Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(n){var t=this,i=t.header,r=t.tools,u=t.width,f=t.height,o,e;return t.maximized||(t.expand(!1),t.hasSavedRestore||(o=t.restoreSize={width:u?u:null,height:f?f:null},t.restorePos=t.getPosition(!0)),i&&(i.suspendLayouts(),r.maximize&&r.maximize.setType("restore"),t.collapseTool&&(t.collapseTool.hide(),e=!0),t.resumeHeaderLayout(e)),t.el.disableShadow(),t.dd&&(t.dd.disable(),i&&i.removeCls(i.indicateDragCls)),t.resizer&&t.resizer.disable(),t.el.addCls("x-window-maximized"),t.container.addCls("x-window-maximized-ct"),t.syncMonitorWindowResize(),t.fitContainer(n=n||!!t.animateTarget?{callback:function(){t.maximized=!0;t.fireEvent("maximize",t)}}:null),n||(t.maximized=!0,t.fireEvent("maximize",t))),t},restore:function(n){var t=this,u=t.tools,i=t.header,r=t.restoreSize,f;return t.maximized&&(t.hasSavedRestore=null,t.removeCls("x-window-maximized"),i&&(i.suspendLayouts(),u.maximize&&u.maximize.setType("maximize"),t.collapseTool&&(t.collapseTool.show(),f=!0),t.resumeHeaderLayout(f)),r.x=t.restorePos[0],r.y=t.restorePos[1],t.setBox(r,n=n||!!t.animateTarget?{callback:function(){t.el.enableShadow(null,!0);t.maximized=!1;t.fireEvent("restore",t)}}:null),t.restorePos=t.restoreSize=null,t.dd&&(t.dd.enable(),i&&i.addCls(i.indicateDragCls)),t.resizer&&t.resizer.enable(),t.container.removeCls("x-window-maximized-ct"),t.syncMonitorWindowResize(),n||(t.el.enableShadow(null,!0),t.maximized=!1,t.fireEvent("restore",t))),t},syncMonitorWindowResize:function(){var n=this,t=n._monitoringResize,i=n.monitorResize||n.constrain||n.constrainHeader||n.maximized,r=n.hidden||n.destroying||n.isDestroyed;if(i&&!r){if(!t){Ext.on("resize",n.onWindowResize,n,{buffer:1});n._monitoringResize=!0}}else t&&(Ext.un("resize",n.onWindowResize,n),n._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var n=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);return n.xtype="window",n},getDefaultFocus:function(){var i=this,t,n=i.defaultButton||i.defaultFocus,r;return n!==undefined&&(Ext.isNumber(n)?t=i.query("button")[n]:Ext.isString(n)?(r=n,Ext.validIdRe.test(r)&&(t=i.down(Ext.makeIdSelector(r))),t||(t=i.down(r))):n.focus&&(t=n)),t},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(n,t){var i;n.el.contains(t.getTarget())&&(i=this.getDefaultFocus(),i&&i.focus())},initResizable:function(){Ext.panel.Panel.prototype.initResizable.apply(this,arguments);this.maximized&&this.resizer.disable()}}},0,["window"],["component","box","container","panel","window"],{component:!0,box:!0,container:!0,panel:!0,window:!0},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0);Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:"x-tip",focusOnToFront:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var n=this;n.floating=Ext.apply({},{shadow:n.shadow,constrain:n.constrainPosition},n.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);n.constrain=n.constrain||n.constrainPosition},showAt:function(n){var t=this;Ext.panel.Panel.prototype.showAt.apply(this,arguments);t.isVisible()&&(t.setPagePosition(n[0],n[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0))},privates:{initDraggable:function(){var n=this;n.draggable={el:n.getDragEl(),delegate:n.header.el,constrain:n,constrainTo:n.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(n)}},ghost:undefined,unghost:undefined},0,["tip"],["component","box","container","panel","tip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0},["widget.tip"],0,[Ext.tip,"Tip",Ext,"Tip"],0);Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1e3,ariaRole:"tooltip",initComponent:function(){var n=this;Ext.tip.Tip.prototype.initComponent.apply(this,arguments);n.lastActive=new Date;n.setTarget(n.target);n.origAnchor=n.anchor},onRender:function(){var n=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);n.anchorCls="x-tip-anchor-"+n.getAnchorPosition();n.anchorEl=n.el.createChild({role:"presentation",cls:"x-tip-anchor "+n.anchorCls})},setTarget:function(n){var t=this,i=Ext.get(n),r;t.target&&(r=Ext.get(t.target),Ext.supports.Touch?t.mun(r,"tap",t.onTargetOver,t):t.mun(r,{mouseover:t.onTargetOver,mouseout:t.onTargetOut,mousemove:t.onMouseMove,scope:t}));t.target=i;i&&(Ext.supports.Touch?t.mon(i,{tap:t.onTargetOver,scope:t}):t.mon(i,{mouseover:t.onTargetOver,mouseout:t.onTargetOut,mousemove:t.onMouseMove,scope:t}));t.anchor&&(t.anchorTarget=t.target)},onMouseMove:function(n){var t=this,r,i;if(!t.target||t.target.contains(n.target))if(r=t.delegate?n.getTarget(t.delegate):t.triggerElement=!0,r)if(t.targetXY=n.getXY(),r===t.triggerElement)!t.hidden&&t.trackMouse&&(i=t.getTargetXY(),t.constrainPosition&&(i=t.el.adjustForConstraints(i,t.el.parent())),t.setPagePosition(i));else{t.hide();t.lastActive=new Date(0);t.onTargetOver(n)}else!t.closable&&t.isVisible()&&t.autoHide!==!1&&t.delayHide()},getTargetXY:function(){var n=this,i,r,u,s,h,f,e,c,l,t,o,a;if(n.delegate&&(n.anchorTarget=n.triggerElement),n.anchor){if(n.targetCounter++,r=n.getOffsets(),u=n.anchorToTarget&&!n.trackMouse?n.getAlignToXY(n.anchorTarget,n.getAnchorAlign()):n.targetXY,s=Ext.Element.getViewportWidth()-5,h=Ext.Element.getViewportHeight()-5,f=document.documentElement,e=document.body,c=(f.scrollLeft||e.scrollLeft||0)+5,l=(f.scrollTop||e.scrollTop||0)+5,t=[u[0]+r[0],u[1]+r[1]],o=n.getSize(),a=n.constrainPosition,n.anchorEl.removeCls(n.anchorCls),n.targetCounter<2&&a){if(t[0]<c)return n.anchorToTarget&&(n.defaultAlign="l-r",n.mouseOffset&&(n.mouseOffset[0]*=-1)),n.anchor="left",n.getTargetXY();if(t[0]+o.width>s)return n.anchorToTarget&&(n.defaultAlign="r-l",n.mouseOffset&&(n.mouseOffset[0]*=-1)),n.anchor="right",n.getTargetXY();if(t[1]<l)return n.anchorToTarget&&(n.defaultAlign="t-b",n.mouseOffset&&(n.mouseOffset[1]*=-1)),n.anchor="top",n.getTargetXY();if(t[1]+o.height>h)return n.anchorToTarget&&(n.defaultAlign="b-t",n.mouseOffset&&(n.mouseOffset[1]*=-1)),n.anchor="bottom",n.getTargetXY()}return n.anchorCls="x-tip-anchor-"+n.getAnchorPosition(),n.anchorEl.addCls(n.anchorCls),n.targetCounter=0,t}return i=n.getMouseOffset(),n.targetXY?[n.targetXY[0]+i[0],n.targetXY[1]+i[1]]:i},calculateConstrainedPosition:function(n){var t=this,r,i,u;return!n&&t.isContainedFloater()?(r=t.isVisible(),r||t.el.show(),i=t.getTargetXY(),r||t.el.hide(),u=t.floatParent.getTargetEl().getViewRegion(),i[0]-=u.left,i[1]-=u.top):i=t.callOverridden(arguments),i},getMouseOffset:function(){var n=this,t=n.anchor?[0,0]:[15,18];return n.mouseOffset&&(t[0]+=n.mouseOffset[0],t[1]+=n.mouseOffset[1]),t},fadeOut:function(){var n=this;n.el.fadeOut({duration:n.fadeOutDuration,callback:function(){n.hide();n.el.setOpacity("")}})},getAnchorPosition:function(){var n=this,t;n.anchor?n.tipAnchor=n.anchor.charAt(0):(t=n.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),n.tipAnchor=t[1].charAt(0));switch(n.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var t=this,i,n,r=t.getAnchorPosition().charAt(0);if(t.anchorToTarget&&!t.trackMouse)switch(r){case"t":n=[0,9];break;case"b":n=[0,-13];break;case"r":n=[-13,0];break;default:n=[9,0]}else switch(r){case"t":n=[-15-t.anchorOffset,30];break;case"b":n=[-19-t.anchorOffset,-13-t.el.dom.offsetHeight];break;case"r":n=[-15-t.el.dom.offsetWidth,-13-t.anchorOffset];break;default:n=[25,-13-t.anchorOffset]}return i=t.getMouseOffset(),n[0]+=i[0],n[1]+=i[1],n},onTargetOver:function(n){var t=this,r=t.delegate,i;t.disabled||n.within(t.target.dom,!0)||(i=r?n.getTarget(r):!0,i&&(t.triggerElement=i,t.triggerEvent=n,t.clearTimer("hide"),t.targetXY=n.getXY(),t.delayShow()))},delayShow:function(n){var t=this,i=t.el&&(n===!1||!t.trackMouse)&&t.getTargetXY();t.hidden&&!t.showTimer?Ext.Date.getElapsed(t.lastActive)<t.quickShowInterval?t.show():t.showTimer=Ext.defer(t.showFromDelay,t.showDelay,t,[i]):t.hidden||t.autoHide===!1||t.show(i)},showFromDelay:function(n){var t=this;t.disabled||(t.fromDelayShow=!0,t.show(n),delete t.fromDelayShow)},onShowVeto:function(){Ext.tip.Tip.prototype.onShowVeto.call(this);delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(n){var t=this,i=t.triggerElement,r=i===!0?t.target:i;t.disabled||!i||n.within(r,!0)||(t.showTimer&&(t.clearTimer("show"),t.triggerElement=null),t.autoHide!==!1&&t.delayHide())},delayHide:function(){var n=this;n.hidden||n.hideTimer||(n.hideTimer=Ext.defer(n[n.hideAction],n.hideDelay,n))},hide:function(){var n=this;n.clearTimer("dismiss");n.lastActive=new Date;n.anchorEl&&n.anchorEl.hide();Ext.tip.Tip.prototype.hide.apply(this,arguments);delete n.triggerElement},show:function(n){var t=this;Ext.tip.Tip.prototype.show.call(this);this.hidden===!1&&(t.anchor&&(t.anchor=t.origAnchor),t.calledFromShowAt||t.showAt(n||t.getTargetXY()))},showAt:function(n){var t=this;t.lastActive=new Date;t.clearTimers();t.calledFromShowAt=!0;t.isVisible()||Ext.tip.Tip.prototype.showAt.apply(this,arguments);t.isVisible()&&(t.setPagePosition(n[0],n[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.syncUnderlays(),t.dismissDelay&&t.autoHide!==!1&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)));delete t.calledFromShowAt},syncAnchor:function(){var n=this,t,i,r;switch(n.tipAnchor.charAt(0)){case"t":t="b";i="tl";r=[20+n.anchorOffset,1];break;case"r":t="l";i="tr";r=[-1,12+n.anchorOffset];break;case"b":t="t";i="bl";r=[20+n.anchorOffset,-1];break;default:t="r";i="tl";r=[1,12+n.anchorOffset]}n.anchorEl.alignTo(n.el,t+"-"+i,r);n.anchorEl.setStyle("z-index",parseInt(n.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},afterSetPosition:function(){var n=this;Ext.tip.Tip.prototype.afterSetPosition.apply(this,arguments);n.anchor?(n.syncAnchor(),n.anchorEl.isVisible()||n.anchorEl.show()):n.anchorEl.hide()},_timerNames:{},clearTimer:function(n){var t=this,i=t._timerNames,r=i[n]||(i[n]=n+"Timer"),u=t[r];u&&(clearTimeout(u),t[r]=null)},clearTimers:function(){var n=this;n.clearTimer("show");n.clearTimer("dismiss");n.clearTimer("hide")},onShow:function(){var n=this;Ext.tip.Tip.prototype.onShow.call(this);n.mon(Ext.getDoc(),"mousedown",n.onDocMouseDown,n)},onHide:function(){var n=this;Ext.tip.Tip.prototype.onHide.call(this);n.mun(Ext.getDoc(),"mousedown",n.onDocMouseDown,n)},onDocMouseDown:function(n){var t=this;t.closable||n.within(t.el.dom)||(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},beforeDestroy:function(){var n=this;n.clearTimers();Ext.destroy(n.anchorEl);delete n.anchorEl;delete n.target;delete n.anchorTarget;delete n.triggerElement;Ext.tip.Tip.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.tip.Tip.prototype.onDestroy.call(this)}},0,["tooltip"],["component","box","container","panel","tip","tooltip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0,tooltip:!0},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0);Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:!0,initComponent:function(){var n=this;n.target=n.target||Ext.getDoc();n.targets=n.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(n){this.tagConfig=Ext.apply({},n);delete this.tagConfig.attr},text:null,register:function(n){for(var u=Ext.isArray(n)?n:arguments,r=0,e=u.length,t,i,f;r<e;r++)if(n=u[r],t=n.target,t)if(Ext.isArray(t))for(i=0,f=t.length;i<f;i++)this.targets[Ext.id(t[i])]=n;else this.targets[Ext.id(t)]=n},unregister:function(n){delete this.targets[Ext.id(n)]},cancelShow:function(n){var t=this,i=t.activeTarget;n=Ext.get(n).dom;t.isVisible()?i&&i.el===n&&t.hide():i&&i.el===n&&t.clearTimer("show")},getTipCfg:function(n){var t=n.title,i=this.tagConfig,r=i.attr||(i.attr=i.namespace+i.attribute),u;return this.interceptTitles&&t&&Ext.isString(t)?(n.setAttribute(r,t),n.removeAttribute("title"),{text:t}):(n=Ext.fly(n).findParent(function(n){return u=n.getAttribute(r)}),n)?{target:n,text:u}:void 0},onTargetOver:function(n){this.doTargetOver(n.getTarget(this.delegate),null,n)},doTargetOver:function(n,t,i){var r=this,o,y,c,u,f,e,s,a,l,h,p,v;if(!r.disabled&&(typeof n=="string"&&(n=Ext.getDom(n)),r.targetXY=t||(i?i.getXY():Ext.fly(n).getXY()),n&&n.nodeType===1&&n!==document.documentElement&&n!==document.body)){if(r.activeTarget&&(n===r.activeTarget.el||Ext.fly(r.activeTarget.el).contains(n))){r.targetTextEmpty()?(r.onShowVeto(),delete r.activeTarget):(r.clearTimer("hide"),r.show());return}if(n){l=r.targets;for(v in l)if(l.hasOwnProperty(v)&&(p=l[v],h=Ext.fly(p.target),h&&(h.dom===n||h.contains(n)))){u=h.dom;break}if(u){r.activeTarget=r.targets[u.id];r.activeTarget.el=n;r.anchor=r.activeTarget.anchor;r.anchor&&(r.anchorTarget=n);o=parseInt(r.activeTarget.showDelay,10);o&&(c=r.showDelay,r.showDelay=o);r.delayShow();o&&(r.showDelay=c);(y=r.activeTarget.hideAction)?r.hideAction=y:delete r.hideAction;return}}u=Ext.fly(n,"_quicktip-target");f=r.tagConfig;e=f.namespace;s=r.getTipCfg(n,i);s&&(s.target&&(n=s.target,u=Ext.fly(n,"_quicktip-target")),a=u.getAttribute(e+f.hide),r.activeTarget={el:n,text:s.text,width:+u.getAttribute(e+f.width)||null,autoHide:a!=="user"&&a!=="false",title:u.getAttribute(e+f.title),cls:u.getAttribute(e+f.cls),align:u.getAttribute(e+f.align),showDelay:parseInt(u.getAttribute(e+f.showDelay)||0,10),hideAction:u.getAttribute(e+f.hideAction),anchorTarget:u.getAttribute(e+f.anchorTarget)},r.initialConfig.hasOwnProperty("anchor")||(r.anchor=u.getAttribute(e+f.anchor)),r.anchor&&!r.initialConfig.hasOwnProperty("anchorTarget")&&(r.anchorTarget=r.activeTarget.anchorTarget||n),o=parseInt(r.activeTarget.showDelay,10),o&&(c=r.showDelay,r.showDelay=o),r.delayShow(),o&&(r.showDelay=c))}},onTargetOut:function(n){var t=this,r=t.activeTarget,i,u;r&&n.within(t.activeTarget.el)&&!t.getTipCfg(n.getTarget(),n)||(t.clearTimer("show"),delete t.activeTarget,t.autoHide!==!1&&(i=r&&parseInt(r.hideDelay,10),i&&(u=t.hideDelay,t.hideDelay=i),t.delayHide(),i&&(t.hideDelay=u)))},targetTextEmpty:function(){var n=this,t=n.activeTarget,r=n.tagConfig,i,u;return t&&(i=t.el,i&&(u=i.getAttribute(r.namespace+r.attribute),!u&&!n.targets[Ext.id(t.target)]))?!0:!1},show:function(){var n=this,t=n.fromDelayShow;if(t&&n.targetTextEmpty()){n.onShowVeto();delete n.activeTarget;return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},showAt:function(n){var t=this,i=t.activeTarget,u=t.header,f,r;i&&(t.rendered||(t.render(Ext.getBody()),t.activeTarget=i),t.suspendLayouts(),i.title?(t.setTitle(i.title),u.show()):u&&u.hide(),t.update(i.text),t.autoHide=i.autoHide,f=i.dismissDelay,t.dismissDelay=Ext.isNumber(f)?f:t.dismissDelay,i.mouseOffset&&(n[0]+=i.mouseOffset[0],n[1]+=i.mouseOffset[1]),r=t.lastCls,r&&(t.removeCls(r),delete t.lastCls),r=i.cls,r&&(t.addCls(r),t.lastCls=r),t.setWidth(i.width),t.anchor?t.constrainPosition=!1:i.align?(n=t.getAlignToXY(i.el,i.align),t.constrainPosition=!1):t.constrainPosition=!0,t.resumeLayouts(!0));Ext.tip.ToolTip.prototype.showAt.call(this,n)},hide:function(){delete this.activeTarget;Ext.tip.ToolTip.prototype.hide.call(this)}},0,["quicktip"],["component","box","container","panel","tip","tooltip","quicktip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0,tooltip:!0,quicktip:!0},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0);Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(n,t){var r=this;if(!r.tip){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(n,t)});return!1}var i=Ext.apply({disabled:r.disabled,id:"ext-quicktips-tip"},t),u=i.className,f=i.xtype;u?delete i.className:f&&(u="widget."+f,delete i.xtype);n!==!1&&(i.renderTo=document.body);r.tip=Ext.create(u||"Ext.tip.QuickTip",i);Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var n=this,t=n.tip;t&&!n.disabled&&t.disable()},ddEnable:function(){var n=this,t=n.tip;t&&!n.disabled&&t.enable()},enable:function(){var n=this,t=n.tip;t&&t.enable();n.disabled=!1},disable:function(){var n=this,t=n.tip;t&&t.disable();n.disabled=!0},isEnabled:function(){var n=this.tip;return n!==undefined&&!n.disabled},getQuickTip:function(){return this.tip},register:function(){var n=this.tip;n.register.apply(n,arguments)},unregister:function(){var n=this.tip;n.unregister.apply(n,arguments)},tips:function(){var n=this.tip;n.register.apply(n,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0);Ext.cmd.derive("Ext.app.bindinspector.Inspector",Ext.window.Window,{title:"Bind Inspector",layout:"fit",autoShow:!0,maximized:!0,maximizable:!0,width:960,height:575,initComponent:function(){var t=(new Ext.app.bindinspector.Environment).captureSnapshot(),n=new Ext.app.bindinspector.Environment;n.unpackSnapshot(t);this.items={xtype:"bindinspector-container",env:n};Ext.window.Window.prototype.initComponent.call(this)},afterRender:function(){Ext.window.Window.prototype.afterRender.apply(this,arguments);Ext.tip.QuickTipManager.init()}},0,0,["component","box","container","panel","window"],{component:!0,box:!0,container:!0,panel:!0,window:!0},0,0,[Ext.app.bindinspector,"Inspector"],0);Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",isSplitButton:!0,arrowCls:"split",split:!0,setArrowHandler:function(n,t){this.arrowHandler=n;this.scope=t},onClick:function(n){var t=this;t.doPreventDefault(n);t.disabled||(t.isWithinTrigger(n)?(n.preventDefault(),t.maybeShowMenu(n),t.fireEvent("arrowclick",t,n),t.arrowHandler&&t.arrowHandler.call(t.scope||t,t,n)):(t.doToggle(),t.fireHandler(n)))}},0,["splitbutton"],["component","box","button","splitbutton"],{component:!0,box:!0,button:!0,splitbutton:!0},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0);Ext.cmd.derive("Ext.button.Cycle",Ext.button.Split,{alternateClassName:"Ext.CycleButton",getButtonText:function(n){var t=this,i="";return n&&t.showText===!0?(t.prependText&&(i+=t.prependText),i+n.text):t.text},setActiveItem:function(n,t){var i=this,r=i.changeHandler,u=i.forceIcon,f=i.forceGlyph;i.settingActive=!0;Ext.isObject(n)||(n=i.menu.getComponent(n));n&&(i.setText(i.getButtonText(n)),i.setIconCls(u?u:n.iconCls),i.setGlyph(f?f:n.glyph),i.activeItem=n,n.checked||n.setChecked(!0,!1),t||(r&&Ext.callback(r,i.scope,[i,n],0,i),i.fireEvent("change",i,n)));i.settingActive=!1},getActiveItem:function(){return this.activeItem},initComponent:function(){var n=this,u=0,r,t,f,i;for(r=(n.menu.items||[]).concat(n.items||[]),n.menu=Ext.applyIf({cls:"x-cycle-menu",items:[]},n.menu),f=r.length,t=0;t<f;t++)i=r[t],i=Ext.applyIf({group:n.id,itemIndex:t,checkHandler:n.checkHandler,scope:n,checked:i.checked||!1},i),n.menu.items.push(i),i.checked&&(u=t);n.itemCount=n.menu.items.length;Ext.button.Split.prototype.initComponent.apply(this,arguments);n.on("click",n.toggleSelected,n);n.setActiveItem(u,!0)},checkHandler:function(n,t){t&&!this.settingActive&&this.setActiveItem(n)},toggleSelected:function(){var n=this,i=n.menu,t;t=n.activeItem.next(":not([disabled])")||i.items.getAt(0);t.setChecked(!0)}},0,["cycle"],["component","box","button","splitbutton","cycle"],{component:!0,box:!0,button:!0,splitbutton:!0,cycle:!0},["widget.cycle"],0,[Ext.button,"Cycle",Ext,"CycleButton"],0);Ext.cmd.derive("Ext.button.Segmented",Ext.container.Container,{config:{allowDepress:!1,allowMultiple:!1,allowToggle:!0,vertical:!1,defaultUI:"default"},beforeRenderConfig:{value:undefined},defaultBindProperty:"value",publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:!1,isSegmentedButton:!0,baseCls:"x-segmented-button",itemCls:"x-segmented-button-item",_firstCls:"x-segmented-button-first",_lastCls:"x-segmented-button-last",_middleCls:"x-segmented-button-middle",applyValue:function(n,t){var e=this,c=e.getAllowMultiple(),r,u,f,s,h,i,o;if(f=n instanceof Array?n:n==null?[]:[n],s=t instanceof Array?t:t==null?[]:[t],e._isApplyingValue=!0,!e.rendered)for(h=e.items.items,i=0,o=h.length;i<o;i++)u=h[i],u.pressed&&(r=u.value,r==null&&(r=e.items.indexOf(u)),Ext.Array.contains(f,r)||f.push(r));for(o=f.length,i=0;i<o;i++)n=f[i],u=e._lookupButtonByValue(n),u&&(r=u.value,r!=null&&r!==n&&(f[i]=r),u.pressed||u.setPressed(!0));for(n=c?f:o?f[0]:null,i=0,o=s.length;i<o;i++)t=s[i],Ext.Array.contains(f,t)||e._lookupButtonByValue(t).setPressed(!1);return e._isApplyingValue=!1,n},beforeRender:function(){var n=this;n.addCls(n.baseCls+n._getClsSuffix());n._syncItemClasses(!0);Ext.container.Container.prototype.beforeRender.call(this)},onAdd:function(n){var t=this,i="_syncItemClasses";t.mon(n,{hide:i,show:i,toggle:"_onItemToggle",scope:t});t.getAllowToggle()&&(n.enableToggle=!0,t.getAllowMultiple()||(n.toggleGroup=t.getId(),n.allowDepress=t.getAllowDepress()));n.addCls(t.itemCls+t._getClsSuffix());t._syncItemClasses();Ext.container.Container.prototype.onAdd.call(this,n)},onRemove:function(n){var t=this;n.removeCls(t.itemCls+t._getClsSuffix());t._syncItemClasses();Ext.container.Container.prototype.onRemove.call(this,n)},beforeLayout:function(){Ext.isChrome&&this.el.dom.offsetWidth;Ext.container.Container.prototype.beforeLayout.call(this)},updateDefaultUI:function(n){var t=this.items,r,i,u;if(this.rendered)Ext.Error.raise("Changing the ui config of a segmented button after render is not supported.");else if(t)for(t.items&&(t=t.items),i=0,u=t.length;i<u;i++)r=t[i],r.ui!=="default"||n==="default"||r.hasOwnProperty("ui")||(t[i].ui=n)},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(n){for(var i=this.items.items,e=i.length,r=0,t=null,u,f;r<e;r++)if(f=i[r],u=f.value,u!=null&&u===n){t=f;break}return t||typeof n!="number"||(t=i[n]),t},_onItemToggle:function(n,t){if(!this._isApplyingValue){var r=this,o=Ext.Array,e=r.allowMultiple,u=n.value!=null?n.value:r.items.indexOf(n),i=r.getValue(),f;e&&(f=o.indexOf(i,u));t?e?f===-1&&i.push(u):i=u:e?f>-1&&i.splice(f,1):i===u&&(i=null);r.setValue(i);r.fireEvent("toggle",r,n,t)}},_syncItemClasses:function(n){var u=this,f,e,o,s,i,r,h,t;if(n||u.rendered){for(f=u._getFirstCls(),e=u._middleCls,o=u._getLastCls(),s=u.items.items,i=s.length,r=[],t=0;t<i;t++)h=s[t],h.hidden||r.push(h);for(i=r.length,t=0;t<i;t++)r[t].removeCls([f,e,o]);if(i>1){for(r[0].addCls(f),t=1;t<i-1;t++)r[t].addCls(e);r[i-1].addCls(o)}}}}},0,["segmentedbutton"],["component","box","container","segmentedbutton"],{component:!0,box:!0,container:!0,segmentedbutton:!0},["widget.segmentedbutton"],0,[Ext.button,"Segmented"],0);Ext.cmd.derive("Ext.layout.container.Table",Ext.layout.container.Container,{alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:!0,targetCls:"x-table-layout-ct",tableCls:"x-table-layout",cellCls:"x-table-layout-cell",childEls:["table","tbody"],tableAttrs:null,getItemSizePolicy:function(){return this.autoSizePolicy},initInheritedState:function(n,t){t.inShrinkWrapTable=!0},getLayoutItems:function(){for(var f=this,i=[],r=Ext.layout.container.Container.prototype.getLayoutItems.call(this),t,u=r.length,n=0;n<u;n++)t=r[n],t.hidden||i.push(t);return i},getHiddenItems:function(){for(var i=[],r=this.owner.items.items,u=r.length,t=0,n;t<u;++t)n=r[t],n.rendered&&n.hidden&&i.push(n);return i},renderChildren:function(){for(var n=this,c=n.getLayoutItems(),s=n.tbody.dom,y=s.rows,i=0,l=c.length,v=n.getHiddenItems(),a,r,f,t,u,e,o,h=n.calculateCells(c);i<l;i++)if(a=h[i],r=a.rowIdx,f=a.cellIdx,t=c[i],u=y[r],u||(u=s.insertRow(r),n.trAttrs&&u.set(n.trAttrs)),o=e=Ext.get(u.cells[f]||u.insertCell(f)),n.needsDivWrap()&&(o=e.first()||e.createChild({tag:"div",role:"presentation"}),o.setWidth(null)),t.rendered?n.isValidParent(t,o,r,f,s)||n.moveItem(t,o,0):n.renderItem(t,o,0),n.tdAttrs&&e.set(n.tdAttrs),t.tdAttrs&&e.set(t.tdAttrs),e.set({colSpan:t.colspan||1,rowSpan:t.rowspan||1,id:t.cellId||"",cls:n.cellCls+" "+(t.cellCls||"")}),!h[i+1]||h[i+1].rowIdx!==r)for(f++;u.cells[f];)u.deleteCell(f);for(r++;s.rows[r];)s.deleteRow(r);for(i=0,l=v.length;i<l;++i)n.ensureInDocument(v[i].getEl())},ensureInDocument:function(n){for(var t=n.dom.parentNode;t;){if(t.tagName.toUpperCase()==="BODY")return;t=t.parentNode}Ext.getDetachedBody().appendChild(n)},calculate:function(n){if(n.hasDomProp("containerChildrenSizeDone")){var e=n.targetContext,t=n.widthModel.shrinkWrap,i=n.heightModel.shrinkWrap,r=i||t,u=r&&this.table.dom,f=r&&e.getPaddingInfo();t&&n.setContentWidth(u.offsetWidth+f.width,!0);i&&n.setContentHeight(u.offsetHeight+f.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap())for(var i=this.getLayoutItems(),r=i.length,t,n=0;n<r;n++)t=i[n],Ext.fly(t.el.dom.parentNode).setWidth(t.getWidth())},calculateCells:function(n){for(var s=[],h=0,i=0,u=0,f=this.columns||Infinity,r=[],e=0,t,c=n.length,o;e<c;e++){for(o=n[e];i>=f||r[i]>0;)if(i>=f)for(i=0,u=0,h++,t=0;t<f;t++)r[t]>0&&r[t]--;else i++;for(s.push({rowIdx:h,cellIdx:u}),t=o.colspan||1;t;--t)r[i]=o.rowspan||1,++i;++u}return s},getRenderTree:function(){for(var n=this,f=n.getLayoutItems(),e=[],a=Ext.apply({tag:"table",id:n.owner.id+"-table","data-ref":"table",role:"presentation",cls:n.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",id:n.owner.id+"-tbody","data-ref":"tbody",role:"presentation",cn:e}},n.tableAttrs),c=n.tdAttrs,v=n.needsDivWrap(),y=f.length,t,o,u,s,l,i,h=n.calculateCells(f),r=0;r<y;r++)t=f[r],o=h[r],s=o.rowIdx,l=o.cellIdx,u=e[s],u||(u=e[s]={tag:"tr",role:"presentation",cn:[]},n.trAttrs&&Ext.apply(u,n.trAttrs)),i=u.cn[l]={tag:"td",role:"presentation"},c&&Ext.apply(i,c),Ext.apply(i,{colSpan:t.colspan||1,rowSpan:t.rowspan||1,id:t.cellId||"",cls:n.cellCls+" "+(t.cellCls||"")}),v&&(i=i.cn={tag:"div",role:"presentation"}),n.configureItem(t),i.cn=t.getRenderTree();return a},isValidParent:function(n,t,i,r){return arguments.length===3?this.table.isAncestor(n.el):n.el.dom.parentNode===this.tbody.dom.rows[i].cells[r]},needsDivWrap:function(){return Ext.isOpera10_5}},0,0,0,0,["layout.table"],0,[Ext.layout.container,"Table",Ext.layout,"TableLayout"],0);Ext.cmd.derive("Ext.container.ButtonGroup",Ext.panel.Panel,{alternateClassName:"Ext.ButtonGroup",baseCls:"x-btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",ariaRole:"group",initComponent:function(){var n=this,t=n.columns;t&&(n.layout=Ext.apply({},{columns:t},n.layout));n.title||n.addClsWithUI(n.noTitleCls);Ext.panel.Panel.prototype.initComponent.apply(this,arguments)},onBeforeAdd:function(n){n.isButton&&(n.ui=this.defaultButtonUI&&n.ui==="default"&&!n.hasOwnProperty("ui")?this.defaultButtonUI:n.ui+"-toolbar");Ext.panel.Panel.prototype.onBeforeAdd.apply(this,arguments)},privates:{applyDefaults:function(n){return Ext.isString(n)||(n=Ext.panel.Panel.prototype.applyDefaults.apply(this,arguments)),n}}},0,["buttongroup"],["component","box","container","panel","buttongroup"],{component:!0,box:!0,container:!0,panel:!0,buttongroup:!0},["widget.buttongroup"],0,[Ext.container,"ButtonGroup",Ext,"ButtonGroup"],0);Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(n){Ext.apply(this,n)},bind:function(n){var t=this;t.target=n;n.on("beforedestroy",t.disable,t);t.onContainerAdd(n)},unbind:function(){var n=this,t=n.target;t&&t.un("beforedestroy",n.disable,n);n.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(n,t){if(!this.disabled){if(t.is(this.selector))this.onItemAdd(t.ownerCt,t);if(t.isQueryable)this.onContainerAdd(t)}},onItemAdd:function(n,t){var i=this,r=i.items,u=i.addHandler;i.disabled||(u&&u.call(i.scope||t,t),r&&r.add(t))},onItemRemove:function(n,t){var i=this,r=i.items,u=i.removeHandler;i.disabled||(u&&u.call(i.scope||t,t),r&&r.remove(t))},onContainerAdd:function(n,t){var i=this,u,f,o=i.handleAdd,s=i.handleRemove,r,e;if(n.isContainer){n.on("add",o,i);n.on("dockedadd",o,i);n.on("remove",s,i);n.on("dockedremove",s,i)}if(t!==!0)for(u=n.query(i.selector),r=0,f=u.length;r<f;++r){e=u[r];i.onItemAdd(e.ownerCt,e)}for(u=n.query(">container"),r=0,f=u.length;r<f;++r)i.onContainerAdd(u[r],!0)},handleRemove:function(n,t){var i=this;if(!i.disabled){if(t.is(i.selector))i.onItemRemove(n,t);if(t.isQueryable)i.onContainerRemove(n,t)}},onContainerRemove:function(n,t){var u=this,r,i,f,e;if(t.isDestroyed||t.destroying||!t.isContainer)u.invalidateItems(!0);else{for(u.removeCtListeners(t),r=t.query(u.selector),i=0,f=r.length;i<f;++i){e=r[i];u.onItemRemove(e.ownerCt,e)}for(r=t.query("container"),i=0,f=r.length;i<f;++i)u.removeCtListeners(r[i])}},removeCtListeners:function(n){var t=this;n.un("add",t.handleAdd,t);n.un("dockedadd",t.handleAdd,t);n.un("remove",t.handleRemove,t);n.un("dockedremove",t.handleRemove,t)},getItems:function(){var n=this,t=n.items;return t||(t=n.items=new Ext.util.MixedCollection,t.addAll(n.target.query(n.selector))),t},invalidateItems:function(n){var t=this,i=t.invalidateHandler;n&&i&&i.call(t.scope||t,t);t.items=null}},1,0,0,0,0,0,[Ext.container,"Monitor"],0);Ext.cmd.derive("Ext.plugin.Responsive",Ext.mixin.Responsive,{pluginId:"responsive",isPlugin:!0,constructor:function(n){var t=this,i=n.cmp,r=Ext.apply({responsiveConfig:i.responsiveConfig,responsiveFormulas:i.responsiveFormulas},n);delete r.cmp;t.cmp=i;t.initConfig(r);t.transformed&&(i.setConfig(t.transformed),t.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(n){var t=Ext.mixin.Responsive.prototype.transformInstanceConfig.call(this,n),i;return t.ptype&&(t=Ext.apply({},t),delete t.ptype),this.transformed=t,i=Ext.apply({},n),delete i.ptype,delete i.responsiveConfig,delete i.responsiveFormulas,i},updateResponsiveState:function(){var n=this.getResponsiveState();this.cmp.setConfig(n)}}},1,0,0,0,["plugin.responsive"],0,[Ext.plugin,"Responsive"],0);Ext.cmd.derive("Ext.plugin.Viewport",Ext.plugin.Responsive,{setCmp:function(n){this.cmp=n;n&&!n.isViewport&&(this.decorate(n),n.renderConfigs&&n.flushRenderConfigs(),n.setupViewport())},statics:{decorate:function(n){Ext.applyIf(n.prototype||n,{ariaRole:"application",viewportCls:"x-viewport"});Ext.override(n,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var n=Ext.layout.SizeModel.configured;return n.pairsByHeightOrdinal[n.ordinal]},handleViewportResize:function(){var n=this,t=Ext.dom.Element,i=t.getViewportWidth(),r=t.getViewportHeight();(i!==n.width||r!==n.height)&&n.setSize(i,r)},setupViewport:function(){var n=this,t=document.body;t.id||(t.id=n.id);t.setAttribute(Ext.Component.componentIdAttribute,n.id);t=n.el=Ext.getBody();Ext.getScrollbarSize();n.width=n.height=undefined;Ext.fly(document.documentElement).addCls(n.viewportCls);t.setHeight=t.setWidth=Ext.emptyFn;t.dom.scroll="no";n.allowDomMove=!1;n.renderTo=t;Ext.supports.Touch&&n.initMeta()},afterLayout:function(n){Ext.supports.Touch&&(document.body.scrollTop=0);this.callParent([n])},onRender:function(){var n=this;n.callParent(arguments);n.width=Ext.Element.getViewportWidth();n.height=Ext.Element.getViewportHeight();Ext.supports.TouchEvents&&n.mon(Ext.getDoc(),{touchmove:function(n){n.preventDefault()},translate:!1,delegated:!1})},initInheritedState:function(n,t){var i=this,r=Ext.rootInheritedState;n!==r?i.initInheritedState(i.inheritedState=r,i.inheritedStateInner=Ext.Object.chain(r)):i.callParent([n,t])},beforeDestroy:function(){var n=this,t=Ext.rootInheritedState;for(var i in t)i!=="rtl"&&delete t[i];n.removeUIFromElement();n.el.removeCls(n.baseCls);Ext.fly(document.body.parentNode).removeCls(n.viewportCls);n.callParent()},addMeta:function(n,t){var i=document.createElement("meta");i.setAttribute("name",n);i.setAttribute("content",t);Ext.getHead().appendChild(i)},initMeta:function(){var n=this,t=n.maxUserScale||1;n.addMeta("viewport","width=device-width, initial-scale=1, maximum-scale="+t+", user-scalable="+(t!==1?"yes":"no"));n.addMeta("apple-mobile-web-app-capable","yes")},privates:{applyTargetCls:function(n){this.el.addCls(n)},disableTabbing:function(){var n=this.el;n&&n.saveChildrenTabbableState()},enableTabbing:function(){var n=this.el;n&&n.restoreChildrenTabbableState()},getOverflowEl:function(){return Ext.get(document.documentElement)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();Ext.plugin.Responsive.prototype.updateResponsiveState.call(this)}}},0,0,0,0,["plugin.viewport"],0,[Ext.plugin,"Viewport"],function(n){n.prototype.decorate=n.decorate});Ext.cmd.derive("Ext.container.Viewport",Ext.container.Container,{alternateClassName:"Ext.Viewport",privates:{updateResponsiveState:function(){this.handleViewportResize();this.mixins.responsive.updateResponsiveState.call(this)}}},0,["viewport"],["component","box","container","viewport"],{component:!0,box:!0,container:!0,viewport:!0},["widget.viewport"],[[Ext.mixin.Responsive.prototype.mixinId||Ext.mixin.Responsive.$className,Ext.mixin.Responsive]],[Ext.container,"Viewport",Ext,"Viewport"],function(){Ext.plugin.Viewport.decorate(this)});Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(n){var o=this,t=0,i,r,f,u,e;for(Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments),f=n.childItems,e=f.length,u=0;u<e;++u)if(r=f[u],i=r.target.anchorSpec,i&&(r.widthModel.calculated&&i.right&&(t|=1),r.heightModel.calculated&&i.bottom&&(t|=2),t===3))break;n.anchorDimensions=t},calculateItems:function(n,t){var h=this,c=n.childItems,v=c.length,l=t.gotHeight,a=t.gotWidth,y=t.height,p=t.width,w=(a?1:0)|(l?2:0),e=n.anchorDimensions,o,i,s,r,u,f;if(!e)return!0;for(u=0;u<v;u++)i=c[u],s=i.getMarginInfo(),o=i.target.anchorSpec,a&&i.widthModel.calculated&&(f=o.right(p)-s.width,f=h.adjustWidthAnchor(f,i),i.setWidth(f)),l&&i.heightModel.calculated&&(r=o.bottom(y)-s.height,r=h.adjustHeightAnchor(r,i),i.setHeight(r));return(w&e)===e},anchorFactory:{offset:function(n){return function(t){return t+n}},ratio:function(n){return function(t){return Math.floor(t*n)}},standard:function(n){return function(t){return t-n}}},parseAnchor:function(n,t,i){if(n&&n!=="none"){var r=this.anchorFactory,u;if(this.parseAnchorRE.test(n))return r.standard(i-t);if(n.indexOf("%")!==-1)return r.ratio(parseFloat(n.replace("%",""))*.01);if(u=parseInt(n,10),!isNaN(u))return r.offset(u)}return null},adjustWidthAnchor:function(n){return n},adjustHeightAnchor:function(n){return n},configureItem:function(n){var i=this,t=i.owner,u=n.anchor,f,r,e;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);n.anchor||!n.items||Ext.isNumber(n.width)||(n.anchor=u=i.defaultAnchor);t.anchorSize?typeof t.anchorSize=="number"?r=t.anchorSize:(r=t.anchorSize.width,e=t.anchorSize.height):(r=t.initialConfig.width,e=t.initialConfig.height);u&&(f=u.split(" "),n.anchorSpec={right:i.parseAnchor(f[0],n.initialConfig.width,r),bottom:i.parseAnchor(f[1],n.initialConfig.height,e)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(n){var t=n.anchorSpec,u="$",i=this.sizePolicy,r;return t&&(r=this.owner.getSizeModel(),t.right&&!r.width.shrinkWrap&&(i=i.r),t.bottom&&!r.height.shrinkWrap&&(u="b")),i[u]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0);Ext.cmd.derive("Ext.dashboard.Panel",Ext.panel.Panel,{cls:"x-dashboard-panel",anchor:"100%",layout:"fit",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,titleCollapse:!0,stateful:!0,draggable:{moveOnDrag:!1},animateClose:!0,loadMask:!0,loadMessage:"Loading...",minHeight:90,resizable:!0,resizeHandles:"s",doClose:function(){var n=this;n.animateClose?n.closing||(n.closing=!0,n.el.animate({opacity:0,callback:n.finishClose,scope:n})):n.finishClose()},finishClose:function(){var n=this,t=n.closeAction;n.closing=!1;n.fireEvent("close",n);Ext.suspendLayouts();n[t]();Ext.resumeLayouts(!0);t==="hide"&&n.el.setOpacity(1)},afterRender:function(){Ext.panel.Panel.prototype.afterRender.call(this);this.loading&&this.onViewBeforeLoad()},getLoadMask:function(){var t=this,n=t.rendered&&t.loadMask,i;return n&&!n.isComponent&&(i={target:t},n===!0?n=i:Ext.apply(i,n),t.loadMask=n=Ext.ComponentManager.create(i,"loadmask")),n||null},onAdd:function(n){Ext.panel.Panel.prototype.onAdd.apply(this,arguments);n.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=!0;var n=this.getLoadMask();n&&n.show()},onViewLoaded:function(){var n,t,i;this.loading=!1;n=this.getLoadMask();n&&n.hide();t=this.items.getAt(0);t.getTitle&&(i=t.getTitle(),i&&this.setTitle(i))},setBox:function(n){this.setSize(n.width,n.height)},getState:function(){var n=this,t=Ext.panel.Panel.prototype.getState.call(this)||{};return t.collapsed||n.addPropertyToState(t,"height",n.rendered?n.getHeight():n.height||n.minHeight||100),t}},0,["dashboard-panel"],["component","box","container","panel","dashboard-panel"],{component:!0,box:!0,container:!0,panel:!0,"dashboard-panel":!0},["widget.dashboard-panel"],0,[Ext.dashboard,"Panel"],0);Ext.cmd.derive("Ext.dashboard.Column",Ext.container.Container,{layout:"anchor",isDashboardColumn:!0,defaultType:"dashboard-panel",cls:"x-dashboard-column",synthetic:!0,onRemove:function(n,t){var r=this,f=r.ownerCt,u,e,o=0,i;if(f&&r.items.getCount()===0&&(u=Ext.Array.filter(f.query(">"+r.xtype+"[rowIndex="+r.rowIndex+"]"),function(n){return n!==r}),e=u.length,!r.destroying&&!r.isDestroyed)){if(f.remove(r),e===1)u[0].columnWidth=1;else{for(i=0;i<e;i++)o+=u[i].columnWidth||0;for(i=0;i<e;i++)u[i].columnWidth=u[i].columnWidth/o}t&&f.updateLayout()}}},0,["dashboard-column"],["component","box","container","dashboard-column"],{component:!0,box:!0,container:!0,"dashboard-column":!0},["widget.dashboard-column"],0,[Ext.dashboard,"Column"],0);Ext.cmd.derive("Ext.layout.container.Column",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:"x-column",targetCls:"x-column-layout-ct",clearSide:"left",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,needsItemSize:!0,isItemShrinkWrap:function(){return!0},getItemSizePolicy:function(n,t){return n.columnWidth&&(t||(t=this.owner.getSizeModel()),!t.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(n,t){var s=this,l=s.columnCount,y=n.targetContext,c=n.childItems,a=c.length,f=0,v=t.gotWidth,h,e,r,i,o,u;if(v===!1)y.domBlock(s,"width"),h=!0;else if(v)e=t.width;else return!0;for(r=0;r<a;++r)i=c[r],l&&(r%l?i.setProp("clear",null):i.setProp("clear",s.clearSide)),o=i.getMarginInfo().width,i.widthModel.calculated||(u=i.getProp("width"),typeof u!="number"&&(i.block(s,"width"),h=!0),f+=u+o);if(!h){for(e=e<f?0:e-f,r=0;r<a;++r)i=c[r],i.widthModel.calculated&&(o=i.marginInfo.width,u=i.target.columnWidth,u=Math.floor(u*e)-o,u=i.setWidth(u),f+=u+o);n.setContentWidth(f+n.paddingContext.getPaddingInfo().width)}return!h}},0,0,0,0,["layout.column"],0,[Ext.layout.container,"Column",Ext.layout,"ColumnLayout"],0);Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:!0,overlayCls:"x-resizable-overlay",createDragOverlay:function(){var n,t=Ext.dom.Element;n=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});n.unselectable();n.setSize(t.getDocumentWidth(),t.getDocumentHeight());n.show()},getPrevCmp:function(){var n=this.getSplitter();return n.previousSibling(":not([hidden])")},getNextCmp:function(){var n=this.getSplitter();return n.nextSibling(":not([hidden])")},onBeforeStart:function(n){var t=this,i=t.getPrevCmp(),r=t.getNextCmp(),f=t.getSplitter().collapseEl,e=n.getTarget(),u;return!i||!r?!1:f&&e===f.dom?!1:r.collapsed||i.collapsed?!1:(t.prevBox=i.getEl().getBox(),t.nextBox=r.getEl().getBox(),t.constrainTo=u=t.calculateConstrainRegion(),!u)?!1:u},onStart:function(){var n=this.getSplitter();this.createDragOverlay();n.addCls(n.baseCls+"-active")},onResizeKeyDown:function(n){var t=this,r=t.getSplitter(),u=n.getKey(),f=r.orientation==="vertical"?0:1,e=u===n.UP||u===n.LEFT?-1:1,i;if(!t.active&&t.onBeforeStart(n)){Ext.fly(n.target).on("keyup",t.onResizeKeyUp,t);t.triggerStart(n);t.onMouseDown(n);t.startXY=r.getXY();t.lastKeyDownXY=Ext.Array.slice(t.startXY);i=t.easing=new Ext.fx.easing.Linear;i.setStartTime(Ext.Date.now());i.setStartValue(1);i.setEndValue(4);i.setDuration(2e3)}t.active&&(t.lastKeyDownXY[f]=Math.round(t.lastKeyDownXY[f]+e*t.easing.getValue()),t.lastXY=t.lastKeyDownXY,r.setXY(t.getXY("dragTarget")))},onResizeKeyUp:function(n){this.onMouseUp(n)},calculateConstrainRegion:function(){var n=this,o=n.getSplitter(),s=o.getWidth(),r=o.defaultSplitMin,l=o.orientation,t=n.prevBox,u=n.getPrevCmp(),i=n.nextBox,f=n.getNextCmp(),h,c,e;return l==="vertical"?(e={prevCmp:u,nextCmp:f,prevBox:t,nextBox:i,defaultMin:r,splitWidth:s},h=new Ext.util.Region(t.y,n.getVertPrevConstrainRight(e),t.bottom,n.getVertPrevConstrainLeft(e)),c=new Ext.util.Region(i.y,n.getVertNextConstrainRight(e),i.bottom,n.getVertNextConstrainLeft(e))):(h=new Ext.util.Region(t.y+(u.minHeight||r),t.right,(u.maxHeight?t.y+u.maxHeight:i.bottom-(f.minHeight||r))+s,t.x),c=new Ext.util.Region((f.maxHeight?i.bottom-f.maxHeight:t.y+(u.minHeight||r))-s,i.right,i.bottom-(f.minHeight||r),i.x)),h.intersect(c)},performResize:function(n,t){for(var r=this,c=r.getSplitter(),v=c.orientation,u=r.getPrevCmp(),f=r.getNextCmp(),l=c.ownerCt,a=l.query(">[flex]"),y=a.length,s=v==="vertical",h=0,e=s?"width":"height",p=0,o,i;h<y;h++)o=a[h],i=s?o.getWidth():o.getHeight(),p+=i,o.flex=i;t=s?t[0]:t[1];u&&(i=r.prevBox[e]+t,u.flex?u.flex=i:u[e]=i);f&&(i=r.nextBox[e]-t,f.flex?f.flex=i:f[e]=i);l.updateLayout()},endDrag:function(){var n=this;n.overlay&&(n.overlay.destroy(),delete n.overlay);Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(n){var t=this,i=t.getSplitter();i.removeCls(i.baseCls+"-active");t.performResize(n,t.getResizeOffset())},onDrag:function(){var n=this,t=n.getOffset("dragTarget"),i=n.getSplitter(),r=i.getEl(),u=i.orientation;u==="vertical"?r.setX(n.startRegion.left+t[0]):r.setY(n.startRegion.top+t[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(n){return(n.prevCmp.maxWidth?n.prevBox.x+n.prevCmp.maxWidth:n.nextBox.right-(n.nextCmp.minWidth||n.defaultMin))+n.splitWidth},getVertPrevConstrainLeft:function(n){return n.prevBox.x+(n.prevCmp.minWidth||n.defaultMin)},getVertNextConstrainRight:function(n){return n.nextBox.right-(n.nextCmp.minWidth||n.defaultMin)},getVertNextConstrainLeft:function(n){return(n.nextCmp.maxWidth?n.nextBox.right-n.nextCmp.maxWidth:n.prevBox.x+(n.prevBox.minWidth||n.defaultMin))-n.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0);Ext.cmd.derive("Ext.layout.container.ColumnSplitterTracker",Ext.resizer.SplitterTracker,{onStart:function(){Ext.apply(this.getSplitter().el.dom.style,{top:0,left:0});Ext.resizer.SplitterTracker.prototype.onStart.apply(this,arguments)},endDrag:function(){var n=this;Ext.resizer.SplitterTracker.prototype.endDrag.apply(this,arguments);n.getSplitter().el.dom.style.left=0},performResize:function(n,t){var i=this,r=i.getPrevCmp(),u=i.getNextCmp(),h=i.getSplitter(),c=h.ownerCt,s=t[0],f,e,o;r&&u&&(r.width=f=i.prevBox.width+s,u.width=e=i.nextBox.width-s,o=(r.columnWidth+u.columnWidth)/(f+e),r.columnWidth=f*o,u.columnWidth=e*o);c.updateLayout()}},0,0,0,0,0,0,[Ext.layout.container,"ColumnSplitterTracker"],0);Ext.cmd.derive("Ext.layout.container.ColumnSplitter",Ext.resizer.Splitter,{isSplitter:!0,synthetic:!0,cls:"x-splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var n=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);return n.xclass=this.trackerClass,n}},0,["columnsplitter"],["component","box","splitter","columnsplitter"],{component:!0,box:!0,splitter:!0,columnsplitter:!0},["widget.columnsplitter"],0,[Ext.layout.container,"ColumnSplitter"],0);Ext.cmd.derive("Ext.layout.container.Dashboard",Ext.layout.container.Column,{type:"dashboard",firstColumnCls:"x-dashboard-column-first",lastColumnCls:"x-dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(n){var t=Ext.Array;return t.filter(t.from(n),function(n){return n.target&&n.target.isSplitter!==!0})},beginLayout:function(n){var i=this;Ext.layout.container.Column.prototype.beginLayout.call(this,n);for(var a=n.childItems,t=n.rows=[],p=a.length,h=2,c=0,v=0,y=i.owner.getMaxColumns(),r,e,o,s,u,l,f=0;f<p;++f)u=(r=a[f]).target,s=u&&u.isSplitter,c+=s?0:1,l=s?0:u.columnWidth||1,(h+l>1||y&&c>y)&&(e&&(e.orphan=1,e.el.setHeight(0)),h=0,c=1,t.length&&(v=t.length-1,i.syncFirstLast(i.getColumns(t[v].items))),t.push(o={index:t.length,items:[],maxHeight:0})),h+=l,o.items.push(r),r.row=o,u.rowIndex=o.index,s&&r.el.setHeight(1),e=r;t.length&&i.syncFirstLast(i.getColumns(t[t.length-1].items))},beforeLayoutCycle:function(){var n=this,t=n.owner.items;n.splitterGen!==t.generation&&(n.syncSplitters(),n.splitterGen=t.generation);Ext.layout.container.Column.prototype.beforeLayoutCycle.apply(this,arguments)},finishedLayout:function(n){var u=n.childItems,o=u.length,f,i,t,r,e;for(Ext.layout.container.Column.prototype.finishedLayout.call(this,n),t=0;t<o;t+=2)r=(i=u[t]).target,f=r.lastBox,e=i.row,e.maxHeight=Math.max(e.maxHeight,f.height),r.width=f.width;for(t=1;t<o;t+=2)r=(i=u[t]).target,i.orphan||r.el.setHeight(i.row.maxHeight)},syncSplitters:function(){for(var e=this,n=e.owner,r=n.items.items,u=r.length,t=!0,f=!1,i,o;u-->0;)i=r[u],f?i.isSplitter?f=!1:(t&&(t=!1,n.suspendLayouts()),o=n.add(u+1,e.getSplitterConfig())):i.isSplitter?(t&&(t=!1,n.suspendLayouts()),n.remove(i)):f=!0;while(r.length&&(i=r[0]).isSplitter)t&&(t=!1,n.suspendLayouts()),n.remove(i);t||n.resumeLayouts()},syncFirstLast:function(n){var o=this,r=o.firstColumnCls,u=o.lastColumnCls,f,s=[r,u],i,t,e;for(n=Ext.Array.from(n),f=n.length,i=0;i<f;++i)t=n[i].target,e=i===f-1,i?e?(t.addCls(u),t.removeCls(r)):t.removeCls(s):e?t.addCls(s):(t.addCls(r),t.removeCls(u))}},0,0,0,0,["layout.dashboard"],0,[Ext.layout.container,"Dashboard"],0);Ext.cmd.derive("Ext.dashboard.DropZone",Ext.dd.DropTarget,{ddScrollConfig:{vthresh:75,hthresh:-1,animate:!0,increment:200},containerScroll:!0,overClass:"x-dashboard-dd-over",constructor:function(n,t){this.dashboard=n;n.body.ddScrollConfig=this.ddScrollConfig;Ext.dd.DropTarget.prototype.constructor.call(this,n.body,t)},getOverEvent:function(n,t,i){for(var c=this.dashboard,l=c.body,s=c.items.items,w=l.getBox(),g=s.length,b=t.getXY(),a=b[0]-w.x+l.getScrollLeft(),k=b[1]-w.y+l.getScrollTop(),r={columnIndex:0,column:null,dashboard:c,above:null,extensible:!1,beforeAfter:0,data:i,panel:i.panel,rawEvent:t,source:n,status:this.dropAllowed},e,v,h,f,o,d,y,p,u=0;u<g;u+=2){if(f=s[u],o=f.lastBox.width,s[u+1]&&(o+=s[u+1].lastBox.width),t.within(f.el)){if(r.columnIndex=u,r.column=f,r.extensible=this.isRowExtensible(f.rowIndex),e=Math.min(80,o*.2),r.beforeAfter=e=r.extensible&&(a<e?-1:a>o-e?1:0),!e||!r.extensible)for(y=f.items.items,h=0,d=y.length;h<d;++h){if(p=y[h],v=p.el.getHeight(),k<v/2){r.above=p;break}k-=v}break}a-=o}return r},notifyOver:function(n,t,i){var l=this,u=l.dashboard,r=l.getOverEvent(n,t,i),f=r.column&&r.column.el,v=n.proxy,e,s=r.above,h,o=0,a,c=u.hasListeners;return i.lastOver=r,c.validatedrop&&u.fireEvent("validatedrop",r)===!1||c.beforedragover&&u.fireEvent("beforedragover",r)===!1||(e=n.panelProxy.getProxy(),v.getProxy().setWidth("auto"),f?(o=h=f.getWidth(),r.beforeAfter?(n.panelProxy.moveProxy(f.dom,f.dom.firstChild),o=h/2,e.setWidth(o)):(s?n.panelProxy.moveProxy(s.el.dom.parentNode,s.el.dom):n.panelProxy.moveProxy(f.dom,null),e.setWidth("auto")),o,e.setStyle({float:"none",clear:"none","margin-left":r.beforeAfter>0?h-o-f.getPadding("lr")+"px":"","margin-top":"7px"})):(a=u.body.getPadding("lr"),e.setStyle({float:"left",clear:"left",margin:"0 7px 0 7px"}),e.setWidth(u.body.getWidth()-a),n.panelProxy.moveProxy(u.body.dom.firstChild.firstChild,null)),this.scrollPos=u.body.getScroll(),c.dragover&&u.fireEvent("dragover",r)),r.status},isRowExtensible:function(n){var i=this,t=i.dashboard,r=t.getMaxColumns()||1;return Ext.Array.from(t.query(">dashboard-column[rowIndex="+n+"]")).length<r},notifyDrop:function(n,t,i){Ext.dd.DropTarget.prototype.notifyDrop.apply(this,arguments);var u=this.dashboard,f=i.lastOver,e=f.panel,c=e.ownerCt,r=f.column,l=r?f.beforeAfter:1,v=c.items.indexOf(e),o=r?f.above?r.items.indexOf(f.above):r.items.getCount():0,s,h,a=u.hasListeners;if(c===r){if(c.items.getCount()===1)return;if(!l&&(v<o&&--o,v===o))return}a.validatedrop&&u.fireEvent("validatedrop",f)===!1||a.beforedrop&&u.fireEvent("beforedrop",f)===!1||(Ext.suspendLayouts(),e.isMoving=!0,l&&(s=u.items.indexOf(r),s<0?s=u.items.getCount():l>0&&++s,h=u.createColumn(),r?(h.columnWidth=r.columnWidth=r.columnWidth/2,delete r.width):h.columnWidth=1,r=u.insert(s,h),o=0),e.el.dom.style.display="",r.insert(o,e),e.isMoving=!1,r.updateLayout(),Ext.resumeLayouts(!0),a.drop&&u.fireEvent("drop",f))}},1,0,0,0,0,0,[Ext.dashboard,"DropZone"],0);Ext.cmd.derive("Ext.dashboard.Part",Ext.Base,{factoryConfig:{type:"part"},isPart:!0,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(n){this.initConfig(n)},applyViewTemplate:function(n){return Ext.util.ObjectTemplate.create(n,this.viewTemplateOptions)},displayForm:function(n,t,i,r){i.call(r||this,{})},createView:function(n){var i=this,r=i.getViewTemplate(),t=r.apply(n);return t.dashboard=i.getDashboard(),t.part=i,t._partConfig=n,t}},1,0,0,0,["part.part"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.dashboard,"Part"],0);Ext.cmd.derive("Ext.dashboard.Dashboard",Ext.panel.Panel,{isDashboard:!0,cls:"x-dashboard",bodyCls:"x-dashboard-body",defaultType:"dashboard-column",scrollable:!0,layout:null,stateful:!1,idSeed:1,config:{parts:null},renderConfig:{maxColumns:4},initComponent:function(){var n=this;n.layout||(n.layout={type:"dashboard"});Ext.panel.Panel.prototype.initComponent.call(this)},applyParts:function(n,t){t||(t=new Ext.util.Collection({decoder:Ext.Factory.part}));var r,i;for(r in n)i=n[r],Ext.isString(i)&&(i={type:i}),i.id=r,i.dashboard=this,t.add(i);return t},getPart:function(n){var t=this.getParts();return t.getByKey(n)},addNew:function(n,t,i){var r=this,u=r.getPart(n);u.displayForm(null,null,function(u){u.type=n;r.addView(u,t,i)})},addView:function(n,t,i){var u=this,s=u.query("dashboard-column"),o=s.length,f=t||0,h=n.id?n:u.createView(n),e=u.columnWidths,r;return(o||(r=u.add(0,u.createColumn({columnWidth:Ext.isArray(e)?e[0]:1})),s=[r],o=1),f>=o&&(f=o-1,i=1),!i&&(r=s[f],r))?r.add(h):(i>0&&++f,r=u.createColumn(),e&&(r.columnWidth=e[f]||(e[f]=1)),r.items||(r.items=[]),r.items.push(h),r=u.add(r),r.items.first())},createColumn:function(n){var t=this.cycleLayout;return Ext.apply({items:[],bubbleEvents:["add","remove","childmove","resize"],listeners:{remove:this.onRemoveItem,expand:t,collapse:t,scope:this}},n)},createView:function(n){var i=this,r=n.type,u=i.getPart(r),t=u.createView(n);return t.id||(t.id=i.id+"_"+r+i.idSeed++),t.bubbleEvents=Ext.Array.from(t.bubbleEvents).concat(["expand","collapse"]),t.stateful=i.stateful,t},initEvents:function(){Ext.panel.Panel.prototype.initEvents.call(this);this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},cycleLayout:function(){this.updateLayout()},beforeDestroy:function(){this.dd&&Ext.destroy(this.dd);Ext.panel.Panel.prototype.beforeDestroy.call(this)},applyState:function(n){var i;delete n.items;i=this;Ext.panel.Panel.prototype.applyState.call(this,n);var r=n.columnWidths,u=i.items.items,f=u.length,t,e;if(r)for(e=r.length,i.columnWidths=[],t=0;t<f;++t)i.columnWidths.push(u[t].columnWidth=t<e?r[t]:1/f)},getState:function(){for(var n=this,r=[],u=n.items.items,t=Ext.panel.Panel.prototype.getState.call(this)||{},e=u.length,f,i=0;i<e;++i)(f=u[i]).isSplitter||r.push(f.columnWidth);return t.columnWidths=r,t.idSeed=n.idSeed,t.items=n.serializeItems(),n.columnWidths=r,t},initItems:function(){var n=this,t=n.defaultContent,i;n.stateful&&(i=Ext.state.Manager.get(n.getStateId()),t=i&&i.items||t);!n.items&&t&&(n.items=n.deserializeItems(t));Ext.panel.Panel.prototype.initItems.call(this)},deserializeItems:function(n){for(var u=this,f=n.length,r=[],h=u.columnWidths,l=u.getMaxColumns(),i,e,s,c,o,t=0;t<f;++t)o=n[t],e=Math.min(o.columnIndex||0,l-1),delete o.columnIndex,(i=r[e])||(r[e]=i=u.createColumn(),s=h&&h[e],s&&(i.columnWidth=s)),c=u.createView(o),i.items.push(c);for(t=0,f=r.length;t<f;++t)i=r[t],i.columnWidth||(i.columnWidth=1/f);return r},serializeItem:function(n){return Ext.apply({type:n.part.id,id:n.id,columnIndex:n.columnIndex},n._partConfig)},serializeItems:function(){for(var f=this,e=f.items.items,c=e.length,o=[],s=0,i,r,u,t,h,n=0;n<c;++n)if(u=e[n],!u.isSplitter){for(r=u.items.items,t=0,h=r.length;t<h;++t)i=r[t],i.columnIndex=s,o.push(f.serializeItem(i));++s}return o},onRemoveItem:function(n,t){t.stateful&&!t.isMoving&&Ext.state.Manager.clear(t.getStateId())}},0,["dashboard"],["component","box","container","panel","dashboard"],{component:!0,box:!0,container:!0,panel:!0,dashboard:!0},["widget.dashboard"],0,[Ext.dashboard,"Dashboard"],0);Ext.cmd.derive("Ext.dom.Layer",Ext.Element,{alternateClassName:"Ext.Layer",isLayer:!0,constructor:function(n,t){n=n||{};var i=this,l=Ext.DomHelper,o=n.parentEl,s=o?Ext.getDom(o):document.body,h=n.hideMode,c="x-"+(n.fixed?"fixed-layer":"layer"),r,u,f,e;t&&(r=Ext.getDom(t),r.parentNode||s.appendChild(r));r||(r=l.append(s,n.dh||{tag:"div",cls:c}));n.id&&(r.id=n.id);u=r.id;u&&(f=Ext.cache[u],f&&(delete Ext.cache[u],f.dom=null));Ext.dom.Element.prototype.constructor.call(this,r);t&&i.addCls(c);n.preventSync&&(i.preventSync=!0);n.cls&&i.addCls(n.cls);i.constrain=n.constrain!==!1;h?i.setVisibilityMode(Ext.Element[h.toUpperCase()]):n.useDisplay?i.setVisibilityMode(Ext.Element.DISPLAY):i.setVisibilityMode(Ext.Element.VISIBILITY);n.shadow?(i.shadowOffset=n.shadowOffset||4,e={offset:i.shadowOffset,fixed:n.fixed},n.shadow!==!0&&(e.mode=n.shadow),i.enableShadow(e)):i.shadowOffset=0;n.shim&&i.enableShim({fixed:n.fixed});n.hidden===!0?i.hide():n.hidden===!1&&i.show()}},1,0,0,0,0,0,[Ext.dom,"Layer",Ext,"Layer"],0);Ext.cmd.derive("Ext.event.publisher.MouseEnterLeave",Ext.event.publisher.Dom,{type:"mouseEnterLeave"},0,0,0,0,0,0,[Ext.event.publisher,"MouseEnterLeave"],function(n){var t={mouseover:"mouseenter",mouseout:"mouseleave"};Ext.supports.MouseEnterLeave||n.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],doDelegatedEvent:function(n){var f,e,o,r,u,i;(n=this.callParent([n]),f=n.getTarget(),e=n.getRelatedTarget(),e&&Ext.fly(f).contains(e))||(o=f.id,o&&(r=Ext.cache[o],r&&(u=t[n.type],n=n.chain({type:u}),r.hasListeners[u]&&(i=r.events[u],i&&(i=i.directs,i&&(n.setCurrentTarget(r.dom),i.fire(n,n.target)))))))}});n.instance=new n});Ext.cmd.derive("Ext.flash.Component",Ext.Component,{alternateClassName:"Ext.FlashComponent",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}" role="presentation"><\/div>'],initComponent:function(){Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var n=this,t=Ext.apply({},n.flashParams),i=Ext.apply({},n.flashVars);Ext.Component.prototype.afterRender.call(this);t=Ext.apply({allowScriptAccess:"always",bgcolor:n.backgroundColor,wmode:n.wmode},t);i=Ext.apply({allowedDomain:document.location.hostname},i);new swfobject.embedSWF(n.url,n.getSwfId(),n.swfWidth,n.swfHeight,n.flashVersion,n.expressInstall?n.statics.EXPRESS_INSTALL_URL:undefined,i,t,n.flashAttributes,n.swfCallback.bind(n))},swfCallback:function(n){var t=this;n.success?(t.swf=Ext.get(n.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var n=this,t=n.swf;t&&(swfobject.removeSWF(n.getSwfId()),Ext.destroy(t),delete n.swf);Ext.Component.prototype.beforeDestroy.call(this)},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}},0,["flash"],["component","box","flash"],{component:!0,box:!0,flash:!0},["widget.flash"],0,[Ext.flash,"Component",Ext,"FlashComponent"],0);Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(n){n&&Ext.apply(this,n);var t=n.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(n){var t=this.form,i=t&&!t.destroying&&!t.isDestroyed;this.response=n;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;i&&t.afterAction(this,!1)},processResponse:function(n){return(this.response=n,!n.responseText&&!n.responseXML)?!0:this.result=this.handleResponse(n)},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var n=this,i,t=n.form;return{success:n.onSuccess,failure:n.onFailure,scope:n,timeout:this.timeout*1e3||t.timeout*1e3,upload:t.fileUpload?n.onSuccess:i}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0);Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(n){var i=this.processResponse(n),t=this.form,r=t&&!t.destroying&&!t.isDestroyed;if(i===!0||!i.success||!i.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;r&&t.afterAction(this,!1);return}r&&(t.clearInvalid(),t.setValues(i.data),t.afterAction(this,!0))},handleResponse:function(n){var i=this.form.reader,t,r;return i?(t=i.read(n),r=t.records&&t.records[0]?t.records[0].data:null,{success:t.success,data:r}):Ext.decode(n.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0);Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var n=this,t=n.form;n.clientValidation===!1||t.isValid()?n.doSubmit():(n.failureType=Ext.form.action.Action.CLIENT_INVALID,t.afterAction(n,!1))},doSubmit:function(){var n=this,t=Ext.apply(n.createCallback(),{url:n.getUrl(),method:n.getMethod(),headers:n.headers}),r=n.form,u=n.jsonSubmit||r.jsonSubmit,f=u?"jsonData":"params",i;r.hasUpload()?(i=n.buildForm(),t.form=i.formEl,t.isUpload=!0):t[f]=n.getParams(u);Ext.Ajax.request(t);i&&n.cleanup(i)},cleanup:function(n){for(var r=n.formEl,f=n.uploadEls,u=n.uploadFields,e=u.length,i,t=0;t<e;++t)i=u[t],i.clearOnSubmit||i.restoreInput(f[t]);r&&Ext.removeNode(r)},getParams:function(n){var t=!1,i=Ext.form.action.Action.prototype.getParams.call(this),r=this.form.getValues(t,t,this.submitEmptyText!==t,n,!0);return Ext.apply({},r,i)},buildForm:function(){for(var n=this,o=[],f,s,w=n.form,h=n.getParams(),i=[],v=[],y=w.getFields().items,c=y.length,l,r,u,e,p,a,t=0;t<c;++t)l=y[t],l.isFileUpload()&&i.push(l);for(r in h)if(h.hasOwnProperty(r))if(u=h[r],Ext.isArray(u))for(p=u.length,e=0;e<p;e++)o.push(n.getFieldConfig(r,u[e]));else o.push(n.getFieldConfig(r,u));for(f={tag:"form",role:"presentation",action:n.getUrl(),method:n.getMethod(),target:n.target?Ext.isString(n.target)?n.target:Ext.fly(n.target).dom.name:"_self",style:"display:none",cn:o},i.length&&(f.encoding=f.enctype="multipart/form-data"),s=Ext.DomHelper.append(Ext.getBody(),f),c=i.length,t=0;t<c;++t)a=i[t].extractFileInput(),s.appendChild(a),v.push(a);return{formEl:s,uploadFields:i,uploadEls:v}},getFieldConfig:function(n,t){return{tag:"input",type:"hidden",name:n,value:Ext.String.htmlEncode(t)}},onSuccess:function(n){var t=this.form,r=t&&!t.destroying&&!t.isDestroyed,u=!0,i=this.processResponse(n);i===!0||i.success||(i.errors&&r&&t.markInvalid(i.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,u=!1);r&&t.afterAction(this,u)},handleResponse:function(n){var s=this.form,e=s.errorReader,f,t,i,o,r,u;if(e){if(f=e.read(n),r=f.records,t=[],r)for(i=0,o=r.length;i<o;i++)t[i]=r[i].data;t.length<1&&(t=null);u={success:f.success,errors:t}}else try{u=Ext.decode(n.responseText)}catch(h){u={success:!1,errors:[]}}return u}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0);Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"<\/tpl>','<tpl if="placeholder"> placeholder="{placeholder}"<\/tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"<\/tpl>','<tpl if="readOnly"> readonly="readonly"<\/tpl>','<tpl if="disabled"> disabled="disabled"<\/tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"<\/tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"<\/tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}<\/tpl>',"<\/textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,returnRe:/\r/g,inputCls:"x-form-textarea",extraFieldBodyCls:"x-form-textarea-body",getSubTplData:function(){var n=this,i=n.getFieldStyle(),t=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);return n.grow&&n.preventScrollbars&&(t.fieldStyle=(i||"")+";overflow:hidden;height:"+n.growMin+"px"),t},afterRender:function(){var n=this;if(Ext.form.field.Text.prototype.afterRender.apply(this,arguments),n.needsMaxCheck=n.enforceMaxLength&&n.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,n.needsMaxCheck)n.inputEl.on("paste",n.onPaste,n)},transformRawValue:function(n){return this.stripReturns(n)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(n){return n=this.stripReturns(n),Ext.form.field.Text.prototype.valueToRaw.call(this,n)},stripReturns:function(n){return n&&typeof n=="string"&&(n=n.replace(this.returnRe,"")),n},onPaste:function(){var n=this;n.pasteTask||(n.pasteTask=new Ext.util.DelayedTask(n.pasteCheck,n));n.pasteTask.delay(1)},pasteCheck:function(){var t=this,n=t.getValue(),i=t.maxLength;n.length>i&&(n=n.substr(0,i),t.setValue(n))},fireKey:function(n){var t=this,i=n.getKey(),r;n.isSpecialKey()&&(t.enterIsSpecial||i!==n.ENTER||n.hasModifier())&&t.fireEvent("specialkey",t,n);!t.needsMaxCheck||i===n.BACKSPACE||i===n.DELETE||n.isNavKeyPress()||t.isCutCopyPasteSelectAll(n,i)||(r=t.getValue(),r.length>=t.maxLength&&n.stopEvent())},isCutCopyPasteSelectAll:function(n,t){return n.ctrlKey?t===n.A||t===n.C||t===n.V||t===n.X:!1},autoSize:function(){var n=this,t,i,u,r;n.grow&&n.rendered&&n.getSizeModel().height.auto&&(t=n.inputEl,u=t.getWidth(!0),r=Ext.util.Format.htmlEncode(t.dom.value)||"&#160;",r+=n.growAppend,r=r.replace(/\n/g,"<br/>"),i=Ext.util.TextMetrics.measure(t,r,u).height+t.getPadding("tb")+n.inputWrap.getBorderWidth("tb")+n.triggerWrap.getBorderWidth("tb"),i=Math.min(Math.max(i,n.growMin),n.growMax),n.bodyEl.setHeight(i),n.updateLayout(),n.fireEvent("autosize",n,i))},beforeDestroy:function(){var n=this.pasteTask;n&&(n.cancel(),this.pasteTask=null);Ext.form.field.Text.prototype.beforeDestroy.call(this)}},0,["textarea","textareafield"],["component","box","field","textfield","textareafield","textarea"],{component:!0,box:!0,field:!0,textfield:!0,textareafield:!0,textarea:!0},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0);Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"x-message-box-info",WARNING:"x-message-box-warning",QUESTION:"x-message-box-question",ERROR:"x-message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,scrollable:!0,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:["x-message-box","x-hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:"x-message-box-icon",ariaRole:"alertdialog",makeButton:function(n){var t=this.buttonIds[n];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(n,t){var i=this,u,r;if(t&&t.type==="keydown"&&!t.isSpecialKey()){t.getTarget(null,null,!0).on({keyup:function(t){i.btnCallback(n,t)},single:!0});return}(i.cfg.prompt||i.cfg.multiline)&&(r=i.cfg.multiline?i.textArea:i.textField,u=r.getValue(),r.reset());i.hide();i.userCallback(n.itemId,u,i.cfg)},hide:function(){var n=this,t=n.cfg?n.cfg.cls:"";n.progressBar.reset();t&&n.removeCls(t);Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(){var n=this;Ext.window.Window.prototype.constructor.apply(this,arguments);n.minWidth=n.defaultMinWidth=n.minWidth||n.defaultMinWidth;n.maxWidth=n.defaultMaxWidth=n.maxWidth||n.defaultMaxWidth;n.minHeight=n.defaultMinHeight=n.minHeight||n.defaultMinHeight;n.maxHeight=n.defaultMaxHeight=n.maxHeight||n.defaultMaxHeight},initComponent:function(){var n=this,t=n.id,i,r;for(n.title=n.title||"&#160;",n.iconCls=n.iconCls||"",n.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[n.iconComponent=new Ext.Component({cls:n.baseIconCls}),n.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[n.msg=new Ext.Component({id:t+"-msg",cls:n.baseCls+"-text"}),n.textField=new Ext.form.field.Text({id:t+"-textfield",enableKeyEvents:!0,listeners:{keydown:n.onPromptKey,scope:n}}),n.textArea=new Ext.form.field.TextArea({id:t+"-textarea",height:75})]})]}),n.progressBar=new Ext.ProgressBar({id:t+"-progressbar",margin:"0 10 10 10"}),n.items=[n.topContainer,n.progressBar],n.msgButtons=[],i=0;i<4;i++)r=n.makeButton(i),n.msgButtons[r.itemId]=r,n.msgButtons.push(r);n.bottomTb=new Ext.toolbar.Toolbar({id:t+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[n.msgButtons[0],n.msgButtons[1],n.msgButtons[2],n.msgButtons[3]]});n.dockedItems=[n.bottomTb];n.on("close",n.onClose,n);Ext.window.Window.prototype.initComponent.call(this)},onClose:function(){var n=this.header.child("[type=close]");n.itemId="cancel";this.btnCallback(n);delete n.itemId},onPromptKey:function(n,t){var i=this;(t.keyCode===t.RETURN||t.keyCode===10)&&(i.msgButtons.ok.isVisible()?i.msgButtons.ok.handler.call(i,i.msgButtons.ok):i.msgButtons.yes.isVisible()&&i.msgButtons.yes.handler.call(i,i.msgButtons.yes))},reconfigure:function(n){var t=this,s=0,p=!0,k=t.buttonText,f=t.resizer,i=t.header,w=i&&!i.isHeader,b=n&&(n.message||n.msg),h,c,l,r,u,e,a,v,y,o;for(t.updateButtonText(),t.cfg=n=n||{},o=n.wait,n.width&&(c=n.width),n.height&&(l=n.height),t.minWidth=n.minWidth||t.defaultMinWidth,t.maxWidth=n.maxWidth||t.defaultMaxWidth,t.minHeight=n.minHeight||t.defaultMinHeight,t.maxHeight=n.maxHeight||t.defaultMaxHeight,f&&(h=f.resizeTracker,f.minWidth=h.minWidth=t.minWidth,f.maxWidth=h.maxWidth=t.maxWidth,f.minHeight=h.minHeight=t.minHeight,f.maxHeight=h.maxHeight=t.maxHeight),delete t.defaultFocus,n.defaultFocus&&(t.defaultFocus=n.defaultFocus),t.animateTarget=n.animateTarget||undefined,t.modal=n.modal!==!1,t.setTitle(n.title||w&&i.title||t.title),t.setIconCls(n.iconCls||w&&i.iconCls||t.iconCls),Ext.isObject(n.buttons)?(t.buttonText=n.buttons,s=0):(t.buttonText=n.buttonText||t.buttonText,s=Ext.isNumber(n.buttons)?n.buttons:0),s=s|t.updateButtonText(),t.buttonText=k,Ext.suspendLayouts(),t.width=t.height=null,(c||l)&&(c&&t.setWidth(c),l&&t.setHeight(l)),t.hidden=!1,t.rendered||t.render(Ext.getBody()),t.closable=n.closable!==!1&&!o,i=t.header,i&&(i.child("[type=close]").setVisible(t.closable),n.title||t.closable||n.iconCls?i.show():i.hide()),t.liveDrag=!n.proxyDrag,t.userCallback=Ext.Function.bindCallback(n.callback||n.fn||Ext.emptyFn,n.scope||Ext.global),t.setIcon(n.icon),a=t.msg,b?(a.setHtml(b),a.show()):a.hide(),u=t.textArea,e=t.textField,n.prompt||n.multiline?(t.multiline=n.multiline,n.multiline?(u.setValue(n.value),u.setHeight(n.defaultTextHeight||t.defaultTextHeight),u.show(),e.hide(),t.defaultFocus=u):(e.setValue(n.value),u.hide(),e.show(),t.defaultFocus=e)):(u.hide(),e.hide()),v=t.progressBar,n.progress||o?(v.show(),t.updateProgress(0,n.progressText),o&&v.wait(o===!0?n.waitConfig:o)):v.hide(),y=t.msgButtons,r=0;r<4;r++)s&Math.pow(2,r)?(t.defaultFocus||(t.defaultFocus=y[r]),y[r].show(),p=!1):y[r].hide();p?t.bottomTb.hide():t.bottomTb.show();Ext.resumeLayouts(!0)},updateButtonText:function(){var t=this,i=t.buttonText,u=0,n,r;for(n in i)i.hasOwnProperty(n)&&(r=t.msgButtons[n],r&&(t.cfg&&t.cfg.buttonText&&(u=u|Math.pow(2,Ext.Array.indexOf(t.buttonIds,n))),r.text!==i[n]&&r.setText(i[n])));return u},show:function(n){var t=this,i;if(n=n||{},Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){t.show(n)},single:!0});return t}return t.reconfigure(n),n.cls&&t.addCls(n.cls),i=t.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),t.preventFocusOnActivate=!i.length,t.hidden=!0,Ext.window.Window.prototype.show.call(this),t},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(n){this.msg.setHtml(n)},setIcon:function(n,t,i){var u=this,r=u.iconComponent,f=u.messageIconCls;return f&&r.removeCls(f),n?(r.show(),(t||i)&&r.setSize(t||r.getWidth(),i||r.getHeight()),r.addCls("x-dlg-icon"),r.addCls(u.messageIconCls=n)):(r.removeCls("x-dlg-icon"),r.hide()),u},updateProgress:function(n,t,i){return this.progressBar.updateProgress(n,t),i&&this.updateText(i),this},onEsc:function(){this.closable!==!1&&Ext.window.Window.prototype.onEsc.apply(this,arguments)},confirm:function(n,t,i,r){return Ext.isString(n)&&(n={title:n,icon:this.QUESTION,message:t,buttons:this.YESNO,callback:i,scope:r}),this.show(n)},prompt:function(n,t,i,r,u,f){return Ext.isString(n)&&(n={prompt:!0,title:n,minWidth:this.minPromptWidth,message:t,buttons:this.OKCANCEL,callback:i,scope:r,multiline:u,value:f}),this.show(n)},wait:function(n,t,i){return Ext.isString(n)&&(n={title:t,message:n,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:i}),this.show(n)},alert:function(n,t,i,r){return Ext.isString(n)&&(n={title:n,message:t,buttons:this.OK,fn:i,scope:r,minWidth:this.minWidth}),this.show(n)},progress:function(n,t,i){return Ext.isString(n)&&(n={title:n,message:t,progress:!0,progressText:i}),this.show(n)}},1,["messagebox"],["component","box","container","panel","window","messagebox"],{component:!0,box:!0,container:!0,panel:!0,window:!0,messagebox:!0},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(n){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new n})});Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(n,t){var i=this,r;i.owner=n;i.fieldMonitors={validitychange:i.checkValidityDelay,enable:i.checkValidityDelay,disable:i.checkValidityDelay,dirtychange:i.checkDirtyDelay,errorchange:i.checkErrorDelay,scope:i};i.checkValidityTask=new Ext.util.DelayedTask(i.checkValidity,i);i.checkDirtyTask=new Ext.util.DelayedTask(i.checkDirty,i);i.checkErrorTask=new Ext.util.DelayedTask(i.checkError,i);i.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:i,addHandler:i.onFieldAdd,removeHandler:i.onFieldRemove,invalidateHandler:i.onMonitorInvalidate});i.monitor.bind(n);Ext.apply(i,t);Ext.isString(i.paramOrder)&&(i.paramOrder=i.paramOrder.split(/[\s,|]/));r=i.reader;r&&!r.isReader&&(typeof r=="string"&&(r={type:r}),i.reader=Ext.createByAlias("reader."+r.type,r));r=i.errorReader;r&&!r.isReader&&(typeof r=="string"&&(r={type:r}),i.errorReader=Ext.createByAlias("reader."+r.type,r));Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=!0;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var n=this,t=n.monitor;t&&(t.unbind(),n.monitor=null);n.clearListeners();n.checkValidityTask.cancel();n.checkDirtyTask.cancel();n.checkErrorTask.cancel();n.checkValidityTask=n.checkDirtyTask=n.checkErrorTask=null;n.isDestroyed=!0},onFieldAdd:function(n){n.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(n){n.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var n=this._boundItems;return n&&n.getCount()!==0||(n=this._boundItems=new Ext.util.MixedCollection,n.addAll(this.owner.query("[formBind]"))),n},hasInvalidField:function(){return!!this.getFields().findBy(function(n){var i=n.preventMark,t;return n.preventMark=!0,t=n.isValid(),n.preventMark=i,!t})},isValid:function(){var t=this,n;return Ext.suspendLayouts(),n=t.getFields().filterBy(function(n){return!n.validate()}),Ext.resumeLayouts(!0),n.length<1},checkValidity:function(){var n=this,t;if(!n.isDestroyed&&(t=!n.hasInvalidField(),t!==n.wasValid)){n.onValidityChange(t);n.fireEvent("validitychange",n,t);n.wasValid=t}},checkValidityDelay:function(){var n=this.taskDelay;n?this.checkValidityTask.delay(n):this.checkValidity()},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var n=this.taskDelay;n?this.checkErrorTask.delay(n):this.checkError()},onValidityChange:function(n){var u=this.getBoundItems(),i,t,f,r;if(u)for(i=u.items,f=i.length,t=0;t<f;t++)r=i[t],r.disabled===n&&r.setDisabled(!n)},isDirty:function(){return!!this.getFields().findBy(function(n){return n.isDirty()})},checkDirtyDelay:function(){var n=this.taskDelay;n?this.checkDirtyTask.delay(n):this.checkDirty()},checkDirty:function(){var t=this,n;t.isDestroyed||(n=this.isDirty(),n!==this.wasDirty&&(this.fireEvent("dirtychange",this,n),this.wasDirty=n))},hasUpload:function(){return!!this.getFields().findBy(function(n){return n.isFileUpload()})},doAction:function(n,t){return Ext.isString(n)&&(n=Ext.ClassManager.instantiateByAlias("formaction."+n,Ext.apply({},t,{form:this}))),this.fireEvent("beforeaction",this,n)!==!1&&(this.beforeAction(n),Ext.defer(n.run,100,n)),this},submit:function(n){n=n||{};var t=this,i;return i=n.standardSubmit||t.standardSubmit?"standardsubmit":t.api?"directsubmit":"submit",t.doAction(i,n)},load:function(n){return this.doAction(this.api?"directload":"load",n)},updateRecord:function(n){if(n=n||this._record,!n)return this;for(var r=n.self.fields,u=this.getFieldValues(),f={},i=0,e=r.length,t;i<e;++i)t=r[i].name,u.hasOwnProperty(t)&&(f[t]=u[t]);return n.beginEdit(),n.set(f),n.endEdit(),this},loadRecord:function(n){return this._record=n,this.setValues(n.getData())},getRecord:function(){return this._record},beforeAction:function(n){for(var t=this,r=n.waitMsg,e="x-mask-loading",o=t.getFields().items,s=o.length,f,i,u=0;u<s;u++)f=o[u],f.isFormField&&f.syncValue&&f.syncValue();r&&(i=t.waitMsgTarget,i===!0?t.owner.el.mask(r,e):i?(i=t.waitMsgTarget=Ext.get(i),i.mask(r,e)):(t.floatingAncestor=t.owner.up("[floating]"),t.floatingAncestor&&(t.savePreventFocusOnActivate=t.floatingAncestor.preventFocusOnActivate,t.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(r,n.waitTitle||t.waitTitle)))},afterAction:function(n,t){var i=this,u,r;n.waitMsg&&(u=Ext.MessageBox,r=i.waitMsgTarget,r===!0?i.owner.el.unmask():r?r.unmask():u.hide());i.floatingAncestor&&(i.floatingAncestor.preventFocusOnActivate=i.savePreventFocusOnActivate);t?(n.reset&&i.reset(),Ext.callback(n.success,n.scope||n,[i,n]),i.fireEvent("actioncomplete",i,n)):(Ext.callback(n.failure,n.scope||n,[i,n]),i.fireEvent("actionfailed",i,n))},findField:function(n){return this.getFields().findBy(function(t){return t.id===n||t.name===n||t.dataIndex===n})},markInvalid:function(n){function f(n,t){var i=o.findField(n);i&&i.markInvalid(t)}var o=this,t,r,i,e,u;if(Ext.isArray(n))for(r=n.length,t=0;t<r;t++)i=n[t],f(i.id||i.field,i.msg||i.message);else if(n instanceof Ext.data.ErrorCollection)for(r=n.items.length,t=0;t<r;t++)i=n.items[t],f(i.field,i.message);else for(u in n)n.hasOwnProperty(u)&&(e=n[u],f(u,e,n));return this},setValues:function(n){function f(n,t){var i=r.findField(n);i&&(i.setValue(t),r.trackResetOnLoad&&i.resetOriginalValue())}var r=this,t,u,i;if(Ext.suspendLayouts(),Ext.isArray(n))for(u=n.length,t=0;t<u;t++)i=n[t],f(i.id,i.value);else Ext.iterate(n,f);return Ext.resumeLayouts(!0),this},getValues:function(n,t,i,r,u){for(var f={},a=this.getFields().items,y=a.length,v=Ext.isArray,h,c,o,s,e,l=0;l<y;l++)if(h=a[l],(!t||h.isDirty())&&(c=h[r?"getModelData":"getSubmitData"](i,u),Ext.isObject(c)))for(e in c)c.hasOwnProperty(e)&&(o=c[e],i&&o===""&&(o=h.emptyText||""),h.isRadio?f[e]=f[e]||o:f.hasOwnProperty(e)?(s=f[e],v(s)||(s=f[e]=[s]),v(o)?f[e]=s.concat(o):s.push(o)):f[e]=o);return n&&(f=Ext.Object.toQueryString(f)),f},getFieldValues:function(n){return this.getValues(!1,n,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();for(var t=this,i=t.getFields().items,r=i.length,n=0;n<r;n++)i[n].clearInvalid();return Ext.resumeLayouts(!0),t},reset:function(n){Ext.suspendLayouts();for(var i=this,r=i.getFields().items,u=r.length,t=0;t<u;t++)r[t].reset();return Ext.resumeLayouts(!0),n===!0&&delete i._record,i},applyToFields:function(n){for(var i=this.getFields().items,r=i.length,t=0;t<r;t++)Ext.apply(i[t],n);return this},applyIfToFields:function(n){for(var i=this.getFields().items,r=i.length,t=0;t<r;t++)Ext.applyIf(i[t],n);return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0);Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Mixin,{mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{destroy:"onBeforeDestroy"}},initFieldAncestor:function(){var n=this;n.monitor=new Ext.container.Monitor({scope:n,selector:"[isFormField]:not([excludeForm])",addHandler:n.onChildFieldAdd,removeHandler:n.onChildFieldRemove});n.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(n){var i=n.fieldDefaults,t=this.fieldDefaults;t&&(n.fieldDefaults=i?Ext.apply(Ext.Object.chain(i),t):t)},onChildFieldAdd:function(n){var t=this;t.mon(n,"errorchange",t.handleFieldErrorChange,t);t.mon(n,"validitychange",t.handleFieldValidityChange,t)},onChildFieldRemove:function(n){var t=this;t.mun(n,"errorchange",t.handleFieldErrorChange,t);t.mun(n,"validitychange",t.handleFieldValidityChange,t)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(n,t){var i=this;if(n!==i){i.fireEvent("fieldvaliditychange",i,n,t);i.onFieldValidityChange(n,t)}},handleFieldErrorChange:function(n,t){var i=this;if(n!==i){i.fireEvent("fielderrorchange",i,n,t);i.onFieldErrorChange(n,t)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor.unbind()}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0);Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.Auto,{type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(n){var t=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);n.hasRawContent=!0;t.setStyle("width","");t.setStyle("height","");n.containerElContext=n.getEl("containerEl")},measureContentHeight:function(n){return n.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentHeight.apply(this,arguments):NaN},measureContentWidth:function(n){return n.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentWidth.apply(this,arguments):NaN},publishInnerHeight:function(n,t){var i=this.owner;i.labelAlign==="top"&&i.hasVisibleLabel()&&(t-=i.labelEl.getHeight());i.msgTarget==="under"&&i.hasActiveError()&&(t-=i.errorWrapEl.getHeight());t-=i.bodyEl.getPadding("tb");n.containerElContext.setHeight(t)},publishInnerWidth:function(n,t){var i=this.owner;i.labelAlign!=="top"&&i.hasVisibleLabel()&&(t-=i.labelWidth+(i.labelPad||0));i.msgTarget==="side"&&i.hasActiveError()&&(t-=i.errorWrapEl.getWidth());t-=i.bodyEl.getPadding("lr");n.containerElContext.setWidth(t)}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0);Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:"x-form-fieldcontainer",shrinkWrap:!0,childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","<\/div>"],initComponent:function(){var n=this;n.initLabelable();n.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);n.initMonitor()},onAdd:function(n){var t=this;n.isLabelable&&Ext.isGecko&&t.layout.type==="absolute"&&!t.hideLabel&&t.labelAlign!=="top"&&(n.x+=t.labelWidth+t.labelPad);Ext.container.Container.prototype.onAdd.apply(this,arguments);n.isLabelable&&t.combineLabels&&(n.oldHideLabel=n.hideLabel,n.hideLabel=!0);t.updateLabel()},onRemove:function(n,t){var i=this;Ext.container.Container.prototype.onRemove.apply(this,arguments);t||(n.isLabelable&&i.combineLabels&&(n.hideLabel=n.oldHideLabel),i.updateLabel())},initRenderData:function(){var n=this,t=Ext.container.Container.prototype.initRenderData.call(this);return t.containerElCls=n.containerElCls,Ext.applyIf(t,n.getLabelableRenderData())},getFieldLabel:function(){var n=this.fieldLabel||"";return!n&&this.combineLabels&&(n=Ext.Array.map(this.query("[isFieldLabelable]"),function(n){return n.getFieldLabel()}).join(this.labelConnector)),n},getSubTplData:function(){var n=this.initRenderData();return Ext.apply(n,this.subTplData),n},getSubTplMarkup:function(n){var t=this,i=t.getTpl("fieldSubTpl");return i.renderContent||t.setupRenderTpl(i),i.apply(t.getSubTplData(n))},updateLabel:function(){var n=this,t=n.labelEl;t&&n.setFieldLabel(n.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var n=this,i=n.getActiveError(),r=Ext.Array.filter(n.query("[isFormField]"),function(n){return n.hasActiveError()}),t=n.getCombinedErrors(r);t?n.setActiveErrors(t):n.unsetActiveError();i!==n.getActiveError()&&n.updateLayout()}},getCombinedErrors:function(n){for(var e=[],h=n.length,r,u,i,o,s,f,t=0;t<h;t++)for(r=n[t],u=r.getActiveErrors(),o=u.length,i=0;i<o;i++)s=u[i],f=r.getFieldLabel(),e.push((f?f+": ":"")+s);return e},privates:{applyTargetCls:function(n){var t=this.containerElCls;this.containerElCls=t?t+" "+n:n},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var n=this;return n.hasOwnProperty("renderTpl")||(n.renderTpl=n.getTpl("labelableRenderTpl")),Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,["fieldcontainer"],["component","box","container","fieldcontainer"],{component:!0,box:!0,container:!0,fieldcontainer:!0},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0);Ext.cmd.derive("Ext.layout.container.CheckboxGroup",Ext.layout.container.Container,{autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" data-ref="innerCt" class="x-table-plain" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","<\/td>","<\/tpl>","<\/tr><\/table>"],lastOwnerItemsGeneration:null,beginLayout:function(n){var r=this,e,f,t,u,o,h=0,s=0,c=r.autoFlex,i=r.innerCt.dom.style;if(Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments),e=r.columnNodes,n.innerCtContext=n.getEl("innerCt",r),n.widthModel.shrinkWrap)i.tableLayout="auto",i.width="";else{if(f=e.length,r.columnsArray){for(t=0;t<f;t++)u=r.owner.columns[t],u<1&&(h+=u,s++);for(t=0;t<f;t++)u=r.owner.columns[t],o=u<1?u/h*100+"%":u+"px",e[t].style.width=o}else for(t=0;t<f;t++)o=c?100/f+"%":"",e[t].style.width=o,s++;s?s<f?(i.tableLayout="fixed",i.width="100%"):(i.tableLayout="auto",i.width=c?"100%":""):(i.tableLayout="fixed",i.width="")}},cacheElements:function(){var n=this;Ext.layout.container.Container.prototype.cacheElements.call(this);n.rowEl=n.innerCt.down("tr");n.columnNodes=n.rowEl.dom.childNodes},calculate:function(n){var o=this,t,i,r,e,u,f;n.getDomProp("containerChildrenSizeDone")?(t=n.innerCtContext,i=n.widthModel.shrinkWrap,r=n.heightModel.shrinkWrap,e=r||i,u=t.el.dom,f=e&&t.getPaddingInfo(),i&&n.setContentWidth(u.offsetWidth+f.width,!0),r&&n.setContentHeight(u.offsetHeight+f.height,!0)):o.done=!1},doRenderColumn:function(n,t,i){var s=t.$layout,h=s.owner,c=t.columnCount,l=h.items.items,u=l.length,f,r,e,o,a;for(h.vertical?(e=Math.ceil(u/c),r=i*e,u=Math.min(u,r+e),o=1):(r=i,o=c);r<u;r+=o)f=l[r],s.configureItem(f),a=f.getRenderTree(),Ext.DomHelper.generateMarkup(a,n)},getColumnCount:function(){var t=this,i=t.owner,n=i.columns;return t.columnsArray?n.length:Ext.isNumber(n)?n:i.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var t=this,r=Ext.layout.container.Container.prototype.getRenderData.call(this),h=t.owner,n,u=t.getColumnCount(),i,e,o,c=t.autoFlex,s=0,f=0;if(t.columnsArray)for(n=0;n<u;n++)i=t.owner.columns[n],i<1&&(s+=i,f++);for(r.colCls=h.groupCls,r.columnCount=u,r.columns=[],n=0;n<u;n++)e=r.columns[n]={},t.columnsArray?(i=t.owner.columns[n],o=i<1?i/s*100+"%":i+"px",e.style="width:"+o):(e.style="width:"+100/u+"%",f++);return r.tableStyle=f?f<u?"table-layout:fixed;width:100%":c?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",r},initLayout:function(){var n=this,t=n.owner;n.columnsArray=Ext.isArray(t.columns);n.autoColumns=!t.columns||t.columns==="auto";n.vertical=t.vertical;Ext.layout.container.Container.prototype.initLayout.call(this)},isValidParent:Ext.returnTrue,setupRenderTpl:function(n){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);n.renderColumn=this.doRenderColumn},renderChildren:function(){var n=this,t=n.owner.items.generation;n.lastOwnerItemsGeneration!==t&&(n.lastOwnerItemsGeneration=t,n.renderItems(n.getLayoutItems()))},renderItems:function(n){var t=this,r=n.length,i,u,s,f,e,o;if(r){for(Ext.suspendLayouts(),t.autoColumns&&t.addMissingColumns(r),f=t.columnNodes.length,s=Math.ceil(r/f),i=0;i<r;i++)u=n[i],e=t.getRenderRowIndex(i,s,f),o=t.getRenderColumnIndex(i,s,f),u.rendered?t.isItemAtPosition(u,e,o)||t.moveItem(u,e,o):t.renderItem(u,e,o);t.autoColumns&&t.removeExceedingColumns(r);Ext.resumeLayouts(!0)}},isItemAtPosition:function(n,t,i){return n.el.dom===this.getNodeAt(t,i)},getRenderColumnIndex:function(n,t,i){return this.vertical?Math.floor(n/t):n%i},getRenderRowIndex:function(n,t,i){var r=this;return r.vertical?n%t:Math.floor(n/i)},getNodeAt:function(n,t){return this.columnNodes[t].childNodes[n]},addMissingColumns:function(n){var t=this,r=t.columnNodes.length,u,f,e,i;if(r<n)for(u=n-r,f=t.rowEl,e=t.owner.groupCls,i=0;i<u;i++)f.createChild({cls:e,tag:"td",vAlign:"top",role:"presentation"})},removeExceedingColumns:function(n){var i=this,r=i.columnNodes.length,u,f,t;if(r>n)for(u=r-n,f=i.rowEl,t=0;t<u;t++)f.last().destroy()},renderItem:function(n,t,i){var r=this;r.configureItem(n);n.render(Ext.get(r.columnNodes[i]),t)},moveItem:function(n,t,i){var u=this,r=u.columnNodes[i],f=r.childNodes[t];r.insertBefore(n.el.dom,f||null)}},0,0,0,0,["layout.checkboxgroup"],0,[Ext.layout.container,"CheckboxGroup"],0);Ext.cmd.derive("Ext.form.CheckboxGroup",Ext.form.FieldContainer,{columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:"x-form-check-group",extraFieldBodyCls:"x-form-checkboxgroup-body",layout:"checkboxgroup",componentCls:"x-form-checkboxgroup",ariaRole:"group",initComponent:function(){var n=this;Ext.form.FieldContainer.prototype.initComponent.call(this);n.initField()},initValue:function(){var n=this,t=n.value;n.originalValue=n.lastValue=t||n.getValue();t&&n.setValue(t)},onAdd:function(n){var t=this,r,u,i;if(n.isCheckbox)t.mon(n,"change",t.checkChange,t);else if(n.isContainer)for(r=n.items.items,i=0,u=r.length;i<u;i++)t.onAdd(r[i]);Ext.form.FieldContainer.prototype.onAdd.apply(this,arguments)},onRemove:function(n){var t=this,r,u,i;if(n.isCheckbox)t.mun(n,"change",t.checkChange,t);else if(n.isContainer)for(r=n.items.items,i=0,u=r.length;i<u;i++)t.onRemove(r[i]);Ext.form.FieldContainer.prototype.onRemove.apply(this,arguments)},isEqual:function(n,t){var i=Ext.Object.toQueryString;return i(n)===i(t)},getErrors:function(){var n=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&n.push(this.blankText),n},getBoxes:function(n){return this.query("[isCheckbox]"+(n||""))},eachBox:function(n,t){Ext.Array.forEach(this.getBoxes(),n,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){for(var t=this.getBoxes(),i=t.length,n=0;n<i;n++)if(t[n].isDirty())return!0},setReadOnly:function(n){for(var i=this.getBoxes(),r=i.length,t=0;t<r;t++)i[t].setReadOnly(n);this.readOnly=n},reset:function(){var n=this,t=n.hasActiveError(),i=n.preventMark;n.preventMark=!0;n.batchChanges(function(){for(var i=n.getBoxes(),r=i.length,t=0;t<r;t++)i[t].reset()});n.preventMark=i;n.unsetActiveError();t&&n.updateLayout()},resetOriginalValue:function(){for(var n=this,i=n.getBoxes(),r=i.length,t=0;t<r;t++)i[t].resetOriginalValue();n.originalValue=n.getValue();n.checkDirty()},setValue:function(n){var f=this,e=f.getBoxes(),t,o=e.length,i,r,u;return f.batchChanges(function(){for(Ext.suspendLayouts(),t=0;t<o;t++)i=e[t],r=i.getName(),u=!1,n&&(u=Ext.isArray(n[r])?Ext.Array.contains(n[r],i.inputValue):n[r]),i.setValue(u);Ext.resumeLayouts(!0)}),f},getValue:function(){for(var n={},e=this.getBoxes(),o=e.length,u,t,f,i,r=0;r<o;r++)u=e[r],t=u.getName(),f=u.inputValue,u.getValue()&&(n.hasOwnProperty(t)?(i=n[t],Ext.isArray(i)||(i=n[t]=[i]),i.push(f)):n[t]=f);return n},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var n=this,i,t,r;return n.disabled?t=!0:(i=n.getErrors(),t=Ext.isEmpty(i),r=n.wasValid,t?n.unsetActiveError():n.setActiveError(i)),t!==r&&(n.wasValid=t,n.fireEvent("validitychange",n,t),n.updateLayout()),t}},0,["checkboxgroup"],["component","box","container","fieldcontainer","checkboxgroup"],{component:!0,box:!0,container:!0,fieldcontainer:!0,checkboxgroup:!0},["widget.checkboxgroup"],[["field",Ext.form.field.Field]],[Ext.form,"CheckboxGroup"],function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])});Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{focusable:!0,checkboxUI:"default",collapsed:!1,toggleOnTitleClick:!0,baseCls:"x-fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:null,autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"<\/tpl>>',"{%this.renderContainer(out,values);%}","<\/div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var t=this,n=t.legend;n&&(delete n.ownerCt,n.destroy(),t.legend=null);Ext.container.Container.prototype.beforeDestroy.call(this)},initComponent:function(){var n=this,t=n.baseCls;n.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);n.layout.managePadding=n.layout.manageOverflow=!1;n.collapsed&&(n.addCls(t+"-collapsed"),n.collapse());(n.title||n.checkboxToggle||n.collapsible)&&(n.addTitleClasses(),n.legend=Ext.widget(n.createLegendCt()));n.initMonitor()},initRenderData:function(){var n=this,t=Ext.container.Container.prototype.initRenderData.call(this);return t.bodyTargetCls=n.bodyTargetCls,n.protoBody.writeTo(t),delete n.protoBody,t},getState:function(){var n=Ext.container.Container.prototype.getState.call(this);return this.addPropertyToState(n,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var n=this,t=[],i={xtype:"container",baseCls:n.baseCls+"-header",layout:"container",ui:n.ui,id:n.id+"-legend",autoEl:"legend",ariaRole:null,ariaLabelledBy:"."+n.baseCls+"-header-text",items:t,ownerCt:n,shrinkWrap:!0,ownerLayout:n.componentLayout};return n.checkboxToggle?t.push(n.createCheckboxCmp()):n.collapsible&&t.push(n.createToggleCmp()),t.push(n.createTitleCmp()),i},createTitleCmp:function(){var n=this,t={xtype:"component",html:n.title,ui:n.ui,cls:n.baseCls+"-header-text",id:n.id+"-legendTitle"};return n.collapsible&&n.toggleOnTitleClick&&(t.listeners={click:{element:"el",scope:n,fn:n.toggle}},t.cls+=" "+n.baseCls+"-header-text-collapsible"),n.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){var n=this,i="-checkbox",t=n.baseCls+"-header"+i;return t+=" "+t+"-"+n.ui,n.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:n.checkboxName||n.id+i,cls:t,id:n.id+"-legendChk",ui:n.checkboxUI,checked:!n.collapsed,msgTarget:"none",listeners:{change:n.onCheckChange,scope:n}}),n.checkboxCmp},createToggleCmp:function(){var n=this;return n.toggleCmp=Ext.widget({xtype:"tool",cacheHeight:!1,cls:n.baseCls+"-header-tool-"+n.ui,type:"toggle",handler:n.toggle,id:n.id+"-legendToggle",scope:n}),n.toggleCmp},doRenderLegend:function(n,t){var u=t.$comp,i=u.legend,r;i&&(i.ownerLayout.configureItem(i),r=i.getRenderTree(),Ext.DomHelper.generateMarkup(r,n))},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var n=this.legend;return n?[n]:[]},setTitle:function(n){var t=this,i=t.legend;return t.title=n,t.rendered?(i||(t.legend=i=Ext.widget(t.createLegendCt()),t.addTitleClasses(),i.ownerLayout.configureItem(i),i.render(t.el,0)),t.titleCmp.update(n)):i?t.titleCmp.update(n):(t.addTitleClasses(),t.legend=Ext.widget(t.createLegendCt())),t},addTitleClasses:function(){var n=this,t=n.title,i=n.baseCls;t&&n.addCls(i+"-with-title");(t||n.checkboxToggle||n.collapsible)&&n.addCls(i+"-with-legend")},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(n){var t=this,i=t.checkboxCmp,r=n?"expand":"collapse";return t.rendered&&t.fireEvent("before"+r,t)===!1||(n=!!n,i&&i.setValue(n),n?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.collapsed=!n,n?delete t.getInherited().collapsed:t.getInherited().collapsed=!0,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(r,t))),t},getRefItems:function(n){var t=Ext.container.Container.prototype.getRefItems.apply(this,arguments),i=this.legend;return i&&(t.unshift(i),n&&t.unshift.apply(t,i.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(n){this.bodyTargetCls=n},finishRender:function(){var n=this.legend;Ext.container.Container.prototype.finishRender.call(this);n&&n.finishRender()},getProtoBody:function(){var t=this,n=t.protoBody;return n||(t.protoBody=n=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),n},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(n){var i=this,u=i.getProtoBody(),t=i.padding,r;t!==undefined&&(Ext.isIE8&&(t=i.parseBox(t),r=Ext.Element.parseBox(0),r.top=t.top,t.top=0,u.setStyle("padding",i.unitizeBox(r))),n.setStyle("padding",i.unitizeBox(t)))},onCheckChange:function(n,t){this.setExpanded(t)},setupRenderTpl:function(n){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);n.renderLegend=this.doRenderLegend}}},0,["fieldset"],["component","box","container","fieldset"],{component:!0,box:!0,container:!0,fieldset:!0},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0);Ext.cmd.derive("Ext.form.Label",Ext.Component,{autoEl:"label",maskOnDisable:!1,getElConfig:function(){var n=this;return n.html=n.text?Ext.util.Format.htmlEncode(n.text):n.html||"",Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:n.forId||""})},setText:function(n,t){var i=this;return t=t!==!1,t?(i.text=n,delete i.html):(i.html=n,delete i.text),i.rendered&&(i.el.dom.innerHTML=t!==!1?Ext.util.Format.htmlEncode(n):n,i.updateLayout()),i}},0,["label"],["component","box","label"],{component:!0,box:!0,label:!0},["widget.label"],0,[Ext.form,"Label"],0);Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var n=this;n.frame&&(n.border=!1);n.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);n.relayEvents(n.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);n.pollForChanges&&n.startPolling(n.pollInterval||500)},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){for(var i={},r=this.basicFormConfigs,u=r.length,n=0,t;n<u;++n)t=r[n],i[t]=this[t];return new Ext.form.Basic(this,i)},getForm:function(){return this.form},loadRecord:function(n){return this.getForm().loadRecord(n)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(n){return this.getForm().updateRecord(n)},getValues:function(n,t,i,r){return this.getForm().getValues(n,t,i,r)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.beforeDestroy.call(this)},load:function(n){this.form.load(n)},submit:function(n){this.form.submit(n)},startPolling:function(n){this.stopPolling();var t=new Ext.util.TaskRunner(n);t.start({interval:0,run:this.checkChange,scope:this});this.pollTask=t},stopPolling:function(){var n=this.pollTask;n&&(n.stopAll(),delete this.pollTask)},checkChange:function(){for(var t=this.form.getFields().items,i=t.length,n=0;n<i;n++)t[n].checkChange()}},0,["form"],["component","box","container","panel","form"],{component:!0,box:!0,container:!0,panel:!0,form:!0},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0);Ext.cmd.derive("Ext.form.RadioManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(n,t){return this.filterBy(function(i){return i.name===n&&i.getFormId()===t})},getWithValue:function(n,t,i){return this.filterBy(function(r){return r.name===n&&r.inputValue==t&&r.getFormId()===i})},getChecked:function(n,t){return this.findBy(function(i){return i.name===n&&i.checked&&i.getFormId()===t})}},0,0,0,0,0,0,[Ext.form,"RadioManager"],0);Ext.cmd.derive("Ext.form.field.Radio",Ext.form.field.Checkbox,{alternateClassName:"Ext.form.Radio",isRadio:!0,inputType:"radio",ariaRole:"radio",tabIndex:0,formId:null,getGroupValue:function(){var n=this.getManager().getChecked(this.name,this.getFormId());return n?n.inputValue:null},onBoxClick:function(){var n=this;n.disabled||n.readOnly||this.setValue(!0)},onRemoved:function(){Ext.form.field.Checkbox.prototype.onRemoved.apply(this,arguments);this.formId=null},setValue:function(n){var t=this,i;return Ext.isBoolean(n)?Ext.form.field.Checkbox.prototype.setValue.apply(this,arguments):(i=t.getManager().getWithValue(t.name,n,t.getFormId()).getAt(0),i&&i.setValue(!0)),t},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var n=Ext.form.field.Checkbox.prototype.getModelData.apply(this,arguments);return n&&(n[this.getName()]=this.getSubmitValue()),n},onChange:function(n){var t=this,i,f,r,u;if(Ext.form.field.Checkbox.prototype.onChange.apply(this,arguments),n)for(u=t.getManager().getByName(t.name,t.getFormId()).items,f=u.length,i=0;i<f;i++)r=u[i],r!==t&&r.setValue(!1)},getManager:function(){return Ext.form.RadioManager}},0,["radiofield","radio"],["component","box","field","checkboxfield","checkbox","radiofield","radio"],{component:!0,box:!0,field:!0,checkboxfield:!0,checkbox:!0,radiofield:!0,radio:!0},["widget.radio","widget.radiofield"],0,[Ext.form.field,"Radio",Ext.form,"Radio"],0);Ext.cmd.derive("Ext.form.RadioGroup",Ext.form.CheckboxGroup,{allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:"x-form-radio-group",ariaRole:"radiogroup",getBoxes:function(n,t){return(t||this).query("[isRadio]"+(n||""))},checkChange:function(){var n=this.getValue(),t=Ext.Object.getKeys(n)[0];Ext.isArray(n[t])||Ext.form.CheckboxGroup.prototype.checkChange.apply(this,arguments)},setValue:function(n){var f,i,e,r,t,o,u;if(Ext.isObject(n)){Ext.suspendLayouts();i=this.items.first();e=i?i.getFormId():null;for(u in n)for(f=n[u],r=Ext.form.RadioManager.getWithValue(u,f,e).items,o=r.length,t=0;t<o;++t)r[t].setValue(!0);Ext.resumeLayouts(!0)}return this},privates:{getFocusables:function(){return this.getBoxes()},initDefaultFocusable:function(n){var i=this,r,t;return r=i.getChecked(),t=r.length?r[0]:i.findNextFocusableChild(null,!0,null,n),t&&i.activateFocusable(t),t},onFocusableContainerFocusLeave:function(){this.clearFocusables();this.initDefaultFocusable()},doFocusableChildAdd:function(n){var i=this,f=i.mixins.focusablecontainer,r,t,u;for(r=n.isContainer?i.getBoxes("",n):[n],t=0,u=r.length;t<u;t++)f.doFocusableChildAdd.call(i,r[t])},doFocusableChildRemove:function(n){var i=this,f=i.mixins.focusablecontainer,r,t,u;for(r=n.isContainer?i.getBoxes("",n):[n],t=0,u=r.length;t<u;t++)f.doFocusableChildRemove.call(i,r[t])},focusChild:function(n,t,i){var r=this.mixins.focusablecontainer.focusChild.apply(this,arguments);i.ctrlKey||r.setValue(!0)}}},0,["radiogroup"],["component","box","container","fieldcontainer","checkboxgroup","radiogroup"],{component:!0,box:!0,container:!0,fieldcontainer:!0,checkboxgroup:!0,radiogroup:!0},["widget.radiogroup"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.form,"RadioGroup"],0);Ext.cmd.derive("Ext.form.action.DirectAction",Ext.Mixin,{mixinConfig:{id:"directaction"},resolveMethod:function(n){var r=this,u=r.form,i=u.api,t;return t=i[n],typeof t!="function"&&(i[n]=t=Ext.direct.Manager.parseMethod(t)),t}},0,0,0,0,0,0,[Ext.form.action,"DirectAction"],0);Ext.cmd.derive("Ext.form.action.DirectLoad",Ext.form.action.Load,{alternateClassName:"Ext.form.Action.DirectLoad",type:"directload",run:function(){var n=this,t=n.form,f=n.metadata||t.metadata,r=n.timeout||t.timeout,u,i;i=n.resolveMethod("load");u=i.directCfg.method.getArgs({params:n.getParams(),paramOrder:t.paramOrder,paramsAsHash:t.paramsAsHash,options:r!=null?{timeout:r*1e3}:null,metadata:f,callback:n.onComplete,scope:n});i.apply(window,u)},processResponse:function(n){return this.result=n},onComplete:function(n){if(n)this.onSuccess(n);else this.onFailure(null)}},0,0,0,0,["formaction.directload"],[[Ext.form.action.DirectAction.prototype.mixinId||Ext.form.action.DirectAction.$className,Ext.form.action.DirectAction]],[Ext.form.action,"DirectLoad",Ext.form.Action,"DirectLoad"],0);Ext.cmd.derive("Ext.form.action.DirectSubmit",Ext.form.action.Submit,{alternateClassName:"Ext.form.Action.DirectSubmit",type:"directsubmit",doSubmit:function(){var n=this,r=n.form,e=n.metadata||r.metadata,u=n.timeout||r.timeout,t,i,f;t=n.resolveMethod("submit");i=n.buildForm();f=t.directCfg.method.getArgs({params:i.formEl,options:u!=null?{timeout:u*1e3}:null,metadata:e,callback:n.onComplete,scope:n});t.apply(window,f);n.cleanup(i)},processResponse:function(n){return this.result=n},onComplete:function(n){if(n)this.onSuccess(n);else this.onFailure(null)}},0,0,0,0,["formaction.directsubmit"],[[Ext.form.action.DirectAction.prototype.mixinId||Ext.form.action.DirectAction.$className,Ext.form.action.DirectAction]],[Ext.form.action,"DirectSubmit",Ext.form.Action,"DirectSubmit"],0);Ext.cmd.derive("Ext.form.action.StandardSubmit",Ext.form.action.Submit,{doSubmit:function(){var n=this.buildForm();n.formEl.submit();this.cleanup(n)}},0,0,0,0,["formaction.standardsubmit"],0,[Ext.form.action,"StandardSubmit"],0);Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Text,{alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},isPickerField:!0,matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:"x-pickerfield-open",isExpanded:!1,editable:!0,applyTriggers:function(n){var i=this,t=n.picker;return t.cls||(t.cls=i.triggerCls),Ext.form.field.Text.prototype.applyTriggers.call(this,n)},initEvents:function(){var n=this;Ext.form.field.Text.prototype.initEvents.call(this);n.keyNav=new Ext.util.KeyNav(n.inputEl,{down:n.onDownArrow,esc:{handler:n.onEsc,scope:n,defaultEventAction:!1},scope:n,forceKeyDown:!0});n.editable||n.mon(n.inputEl,"click",n.onTriggerClick,n);Ext.isGecko&&n.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(n){Ext.isIE&&n.preventDefault();this.isExpanded&&(this.collapse(),n.stopEvent())},onDownArrow:function(n){this.isExpanded||(n.stopEvent(),this.onTriggerClick())},expand:function(){var n=this,i,t,r,u;if(n.rendered&&!n.isExpanded&&!n.isDestroyed){i=n.bodyEl;t=n.getPicker();r=Ext.getDoc();u=n.collapseIf;t.setMaxHeight(t.initialConfig.maxHeight);n.matchFieldWidth&&(t.width=n.bodyEl.getWidth());t.show();n.isExpanded=!0;n.alignPicker();i.addCls(n.openCls);n.hideListeners=r.on({mousewheel:n.collapseIf,touchstart:n.collapseIf,scope:n,delegated:!1,destroyable:!0});Ext.on("resize",n.alignPicker,n,{buffer:1});n.fireEvent("expand",n);n.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){if(!this.isDestroyed){var n=this.getPicker();n.isVisible()&&n.isFloating()&&this.doAlign()}},doAlign:function(){var n=this,t=n.picker,r="-above",i;n.picker.alignTo(n.triggerWrap,n.pickerAlign,n.pickerOffset);i=t.el.getY()<n.inputEl.getY();n.bodyEl[i?"addCls":"removeCls"](n.openCls+r);t[i?"addCls":"removeCls"](t.baseCls+r)},collapse:function(){var n=this;if(n.isExpanded&&!n.isDestroyed&&!n.destroying){var i=n.openCls,t=n.picker,r="-above";t.hide();n.isExpanded=!1;n.bodyEl.removeCls([i,i+r]);t.el.removeCls(t.baseCls+r);n.hideListeners.destroy();Ext.un("resize",n.alignPicker,n);n.fireEvent("collapse",n);n.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(n){var t=this;t.isDestroyed||n.within(t.bodyEl,!1,!0)||t.owns(n.target)||Ext.fly(n.target).isFocusable()||t.collapse()},getPicker:function(){var n=this,t=n.picker;return t||(n.picker=t=n.createPicker(),t.ownerCmp=n),n.picker},onFocusLeave:function(n){var t=this;t.collapse();Ext.form.field.Text.prototype.onFocusLeave.call(this,n)},getRefItems:function(){var n=[];return this.picker&&(n[0]=this.picker),n},createPicker:Ext.emptyFn,onTriggerClick:function(){var n=this;n.readOnly||n.disabled||(n.isExpanded?n.collapse():n.expand())},beforeDestroy:function(){var n=this,t=n.picker;Ext.form.field.Text.prototype.beforeDestroy.call(this);Ext.un("resize",n.alignPicker,n);Ext.destroy(n.keyNav,t);t&&(n.picker=t.pickerField=null)}},0,["pickerfield"],["component","box","field","textfield","pickerfield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0);Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.view.NavigationModel,{navigateOnSpace:!0,initKeyNav:function(n){var t=this,i=n.pickerField;if(t.keyNav||(Ext.view.NavigationModel.prototype.initKeyNav.call(this,n),t.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:t.onKeyEsc,scope:t})),i){if(!i.rendered){i.on("render",Ext.Function.bind(t.initKeyNav,t,[n],0),t,{single:!0});return}t.fieldKeyNav=new Ext.util.KeyNav({disabled:!0,target:i.inputEl,forceKeyDown:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t})}},processViewEvent:function(n,t,i,r,u){return u.within(n.listWrap)?u:u.getKey()===u.ESC?(Ext.fly(u.target).isInputField()&&(u.target=u.target.parentNode),u):void 0},enable:function(){this.fieldKeyNav.enable();Ext.view.NavigationModel.prototype.enable.call(this)},disable:function(){this.fieldKeyNav.disable();Ext.view.NavigationModel.prototype.disable.call(this)},onItemMouseDown:function(n,t,i,r,u){Ext.view.NavigationModel.prototype.onItemMouseDown.call(this,n,t,i,r,u);u.preventDefault()},onKeyUp:function(){var t=this,n=t.view,u=n.all,i=n.highlightedItem,r=i?n.indexOf(i):-1,f=r>0?r-1:u.getCount()-1;t.setPosition(f)},onKeyDown:function(){var t=this,n=t.view,u=n.all,i=n.highlightedItem,r=i?n.indexOf(i):-1,f=r<u.getCount()-1?r+1:0;t.setPosition(f)},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(n){var i=this.view,t=i.pickerField;return i.isVisible()&&(t.selectOnTab&&this.selectHighlighted(n),t.collapse&&t.collapse()),!0},onKeyEnter:function(n){var i=this.view,r=i.getSelectionModel(),t=i.pickerField,u=r.getCount();n.stopEvent();this.selectHighlighted(n);!t.multiSelect&&u===r.getCount()&&t.collapse&&t.collapse()},onKeySpace:function(){return this.navigateOnSpace&&Ext.view.NavigationModel.prototype.onKeySpace.apply(this,arguments),!0},onKeyEsc:function(){this.view.pickerField&&this.view.pickerField.collapse()},focusItem:function(n){var i=this,t=i.view;typeof n=="number"&&(n=t.all.item(n));n&&(n=n.dom,t.highlightItem(n),t.getScrollable().scrollIntoView(n,!1))},selectHighlighted:function(n){var i=this,r=i.view,u=r.getSelectionModel(),t,f=i.recordIndex;r.all.getCount()&&(t=i.getRecord(),t&&(n.getKey()!==n.ENTER&&u.isSelected(t)||(u.selectWithEvent(t,n),r.store.data.contains(t)||i.setPosition(Math.min(f,r.store.getCount()-1)))))},destroy:function(){Ext.destroy(this.fieldKeyNav);Ext.view.NavigationModel.prototype.destroy.call(this)}},0,0,0,0,["view.navigation.boundlist"],0,[Ext.view,"BoundListKeyNav"],0);Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(n){var i=this,t=i.owner,r=t.pagingToolbar;i.scrollPos=t.listWrap.getScroll();Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);t.floating&&(n.savedXY=t.getXY(),t.setXY([0,-9999]));r&&(n.toolbarContext=n.context.getCmp(r));n.listContext=n.getEl("listWrap")},beginLayoutCycle:function(n){var t=this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);n.heightModel.auto&&(t.el.setHeight("auto"),t.listWrap.setHeight("auto"))},getLayoutItems:function(){var n=this.owner.pagingToolbar;return n?[n]:[]},isValidParent:function(){return!0},finishedLayout:function(n){var t=this,i=n.savedXY,f=t.owner,r=f.listWrap,u=t.scrollPos;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);i&&t.owner.setXY(i);r.setScrollLeft(u.left);r.setScrollTop(u.top)},measureContentWidth:function(){return this.owner.listWrap.getWidth()},measureContentHeight:function(){return this.owner.listWrap.getHeight()},publishInnerHeight:function(n,t){var r=n.toolbarContext,i=0;r&&(i=r.getProp("height"));i===undefined?this.done=!1:n.listContext.setHeight(t-n.getFrameInfo().height-i)},calculateOwnerHeightFromContentHeight:function(n){var t=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),i=n.toolbarContext;return i&&(t+=i.getProp("height")),t}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0);Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","box","tbitem"],{component:!0,box:!0,tbitem:!0},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0);Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:"x-toolbar-text",ariaRole:null,beforeRender:function(){var n=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this);n&&(this.html=n)},setText:function(n){this.update(n)}},0,["tbtext"],["component","box","tbitem","tbtext"],{component:!0,box:!0,tbitem:!0,tbtext:!0},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0);Ext.cmd.derive("Ext.form.trigger.Spinner",Ext.form.trigger.Trigger,{cls:"x-form-trigger-spinner",spinnerCls:"x-form-spinner",spinnerUpCls:"x-form-spinner-up",spinnerDownCls:"x-form-spinner-down",focusCls:"x-form-spinner-focus",overCls:"x-form-spinner-over",clickCls:"x-form-spinner-click",focusFieldOnClick:!0,vertical:!0,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"><\/div><\/tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"><\/div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"><\/div><\/tpl>',destroy:function(){var n=this;n.spinnerEl&&(n.spinnerEl.destroy(),n.spinnerEl=n.upEl=n.downEl=null);Ext.form.trigger.Trigger.prototype.destroy.call(this)},getBodyRenderData:function(){var n=this;return{vertical:n.vertical,upDisabledCls:n.upEnabled?"":n.spinnerUpCls+"-disabled",downDisabledCls:n.downEnabled?"":n.spinnerDownCls+"-disabled",spinnerCls:n.spinnerCls,spinnerUpCls:n.spinnerUpCls,spinnerDownCls:n.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var n=this,r=arguments,i=n.clickRepeater?r[1]:r[0],t=n.field;t.readOnly||t.disabled||(n.upEl.contains(i.target)?Ext.callback(n.upHandler,n.scope,[t,n,i],0,t):n.downEl.contains(i.target)&&Ext.callback(n.downHandler,n.scope,[t,n,i],0,t));t.inputEl.focus()},onFieldRender:function(){var n=this,i=n.vertical,r,t;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);r=n.spinnerEl=n.el.select("."+n.spinnerCls,!0);t=r.elements;n.upEl=i?t[0]:t[1];n.downEl=i?t[1]:t[0]},setUpEnabled:function(n){this.upEl[n?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(n){this.downEl[n?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}},0,0,0,0,["trigger.spinner"],0,[Ext.form.trigger,"Spinner"],0);Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Text,{alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(n){var t=this,i=n.spinner;return i.upEnabled=t.spinUpEnabled,i.downEnabled=t.spinDownEnabled,Ext.form.field.Text.prototype.applyTriggers.call(this,n)},onRender:function(){var n=this,t=n.getTrigger("spinner");(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).call(this);n.keyNavEnabled&&(n.spinnerKeyNav=new Ext.util.KeyNav(n.inputEl,{scope:n,up:n.spinUp,down:n.spinDown}));n.mouseWheelEnabled&&n.mon(n.bodyEl,"mousewheel",n.onMouseWheel,n);n.spinUpEl=t.upEl;n.spinDownEl=t.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var n=this;n.spinUpEnabled&&!n.disabled&&(n.fireEvent("spin",n,"up"),n.fireEvent("spinup",n),n.onSpinUp())},spinDown:function(){var n=this;n.spinDownEnabled&&!n.disabled&&(n.fireEvent("spin",n,"down"),n.fireEvent("spindown",n),n.onSpinDown())},setSpinUpEnabled:function(n){var t=this,i=t.spinUpEnabled;t.spinUpEnabled=n;i!==n&&t.rendered&&t.getTrigger("spinner").setUpEnabled(n)},setSpinDownEnabled:function(n){var t=this,i=t.spinDownEnabled;t.spinDownEnabled=n;i!==n&&t.rendered&&t.getTrigger("spinner").setDownEnabled(n)},onMouseWheel:function(n){var t=this,i;t.hasFocus&&(i=n.getWheelDelta(),i>0?t.spinUp():i<0&&t.spinDown(),n.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");Ext.form.field.Text.prototype.onDestroy.call(this)}},0,["spinnerfield"],["component","box","field","textfield","spinnerfield"],{component:!0,box:!0,field:!0,textfield:!0,spinnerfield:!0},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],0);Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var n=this;n.decimalSeparator===null&&(n.decimalSeparator=Ext.util.Format.decimalSeparator);Ext.form.field.Spinner.prototype.initComponent.call(this);n.setMinValue(n.minValue);n.setMaxValue(n.maxValue)},setValue:function(n){var t=this,i,r;return t.hasFocus&&(i=t.getBind(),r=i&&i.value,r&&r.syncing&&n===t.value)?t:Ext.form.field.Spinner.prototype.setValue.call(this,n)},getErrors:function(n){n=arguments.length>0?n:this.processRawValue(this.getRawValue());var t=this,i=Ext.form.field.Spinner.prototype.getErrors.call(this,n),u=Ext.String.format,r;return n.length<1?i:(n=String(n).replace(t.decimalSeparator,"."),isNaN(n)&&i.push(u(t.nanText,n)),r=t.parseValue(n),t.minValue===0&&r<0?i.push(this.negativeText):r<t.minValue&&i.push(u(t.minText,t.minValue)),r>t.maxValue&&i.push(u(t.maxText,t.maxValue)),i)},rawToValue:function(n){var t=this.fixPrecision(this.parseValue(n));return t===null&&(t=n||null),t},valueToRaw:function(n){var t=this,i=t.decimalSeparator;return n=t.parseValue(n),n=t.fixPrecision(n),n=Ext.isNumber(n)?n:parseFloat(String(n).replace(i,".")),isNaN(n)?"":String(n).replace(".",i)},getSubmitValue:function(){var t=this,n=Ext.form.field.Spinner.prototype.getSubmitValue.call(this);return t.submitLocaleSeparator||(n=n.replace(t.decimalSeparator,".")),n},onChange:function(){this.toggleSpinners();Ext.form.field.Spinner.prototype.onChange.apply(this,arguments)},toggleSpinners:function(){var n=this,i=n.getValue(),r=i===null,t;(n.spinUpEnabled||n.spinUpDisabledByToggle)&&(t=r||i<n.maxValue,n.setSpinUpEnabled(t,!0));(n.spinDownEnabled||n.spinDownDisabledByToggle)&&(t=r||i>n.minValue,n.setSpinDownEnabled(t,!0))},setMinValue:function(n){var t=this,i;t.minValue=Ext.Number.from(n,Number.NEGATIVE_INFINITY);t.toggleSpinners();t.disableKeyFilter!==!0&&(i=t.baseChars+"",t.allowExponential?i+=t.decimalSeparator+"e+-":(t.allowDecimals&&(i+=t.decimalSeparator),t.minValue<0&&(i+="-")),i=Ext.String.escapeRegex(i),t.maskRe=new RegExp("["+i+"]"),t.autoStripChars&&(t.stripCharsRe=new RegExp("[^"+i+"]","gi")))},setMaxValue:function(n){this.maxValue=Ext.Number.from(n,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(n){return n=parseFloat(String(n).replace(this.decimalSeparator,".")),isNaN(n)?null:n},fixPrecision:function(n){var i=this,r=isNaN(n),t=i.decimalPrecision;return r||!n?r?"":n:((!i.allowDecimals||t<=0)&&(t=0),parseFloat(Ext.Number.toFixed(parseFloat(n),t)))},onBlur:function(n){var t=this,i=t.rawToValue(t.getRawValue());Ext.isEmpty(i)||t.setValue(i);Ext.form.field.Spinner.prototype.onBlur.call(this,n)},setSpinUpEnabled:function(n,t){Ext.form.field.Spinner.prototype.setSpinUpEnabled.apply(this,arguments);t?this.spinUpDisabledByToggle=!n:delete this.spinUpDisabledByToggle},onSpinUp:function(){var n=this;n.readOnly||n.setSpinValue(Ext.Number.constrain(n.getValue()+n.step,n.minValue,n.maxValue))},setSpinDownEnabled:function(n,t){Ext.form.field.Spinner.prototype.setSpinDownEnabled.apply(this,arguments);t?this.spinDownDisabledByToggle=!n:delete this.spinDownDisabledByToggle},onSpinDown:function(){var n=this;n.readOnly||n.setSpinValue(Ext.Number.constrain(n.getValue()-n.step,n.minValue,n.maxValue))},setSpinValue:function(n){var t=this;t.enforceMaxLength&&t.fixPrecision(n).toString().length>t.maxLength||t.setValue(n)}},0,["numberfield"],["component","box","field","textfield","spinnerfield","numberfield"],{component:!0,box:!0,field:!0,textfield:!0,spinnerfield:!0,numberfield:!0},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,"Number"],0);Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var n=this,t={scope:n,blur:n.onPagingBlur};return t[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=n.onPagingKeyDown,[{itemId:"first",tooltip:n.firstText,overflowText:n.firstText,iconCls:"x-tbar-page-first",disabled:!0,handler:n.moveFirst,scope:n},{itemId:"prev",tooltip:n.prevText,overflowText:n.prevText,iconCls:"x-tbar-page-prev",disabled:!0,handler:n.movePrevious,scope:n},"-",n.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:"x-tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:n.inputItemWidth,margin:"-1 2 3 2",listeners:t},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(n.afterPageText,1)},"-",{itemId:"next",tooltip:n.nextText,overflowText:n.nextText,iconCls:"x-tbar-page-next",disabled:!0,handler:n.moveNext,scope:n},{itemId:"last",tooltip:n.lastText,overflowText:n.lastText,iconCls:"x-tbar-page-last",disabled:!0,handler:n.moveLast,scope:n},"-",{itemId:"refresh",tooltip:n.refreshText,overflowText:n.refreshText,iconCls:"x-tbar-loading",disabled:n.store.isLoading(),handler:n.doRefresh,scope:n}]},initComponent:function(){var n=this,i=n.items||n.buttons||[],t;n.bindStore(n.store||"ext-empty-store",!0);t=n.getPagingItems();n.items=n.prependButtons?i.concat(t):t.concat(i);delete n.buttons;n.displayInfo&&(n.items.push("->"),n.items.push({xtype:"tbtext",itemId:"displayItem"}));Ext.toolbar.Toolbar.prototype.initComponent.call(this)},beforeRender:function(){Ext.toolbar.Toolbar.prototype.beforeRender.apply(this,arguments);this.updateBarInfo()},updateBarInfo:function(){var n=this;n.store.isLoading()||(n.calledInternal=!0,n.onLoad(),n.calledInternal=!1)},updateInfo:function(){var n=this,i=n.child("#displayItem"),f=n.store,t=n.getPageData(),r,u;i&&(r=f.getCount(),u=r===0?n.emptyMsg:Ext.String.format(n.displayMsg,t.fromRecord,t.toRecord,t.total),i.setText(u))},onLoad:function(){var n=this,f,i,t,e,o,r,u;if(o=n.store.getCount(),r=o===0,r)i=0,t=0,e=Ext.String.format(n.afterPageText,0);else{if(f=n.getPageData(),i=f.currentPage,t=f.pageCount,i>t){t>0?n.store.loadPage(t):n.getInputItem().reset();return}e=Ext.String.format(n.afterPageText,isNaN(t)?1:t)}Ext.suspendLayouts();u=n.child("#afterTextItem");u&&u.setText(e);u=n.getInputItem();u&&u.setDisabled(r).setValue(i);n.setChildDisabled("#first",i===1||r);n.setChildDisabled("#prev",i===1||r);n.setChildDisabled("#next",i===t||r);n.setChildDisabled("#last",i===t||r);n.setChildDisabled("#refresh",!1);n.updateInfo();Ext.resumeLayouts(!0);n.calledInternal||n.fireEvent("change",n,f||n.emptyPageData)},setChildDisabled:function(n,t){var i=this.child(n);i&&i.setDisabled(t)},getPageData:function(){var n=this.store,t=n.getTotalCount();return{total:t,currentPage:n.currentPage,pageCount:Math.ceil(t/n.pageSize),fromRecord:(n.currentPage-1)*n.pageSize+1,toRecord:Math.min(n.currentPage*n.pageSize,t)}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(n){var t=this.getInputItem(),i=!1,r;return t&&(r=t.getValue(),i=parseInt(r,10),!r||isNaN(i))?(t.setValue(n.currentPage),!1):i},onPagingBlur:function(){var n=this.getInputItem(),t;n&&(t=this.getPageData().currentPage,n.setValue(t))},onPagingKeyDown:function(n,t){this.processKeyEvent(n,t)},processKeyEvent:function(n,t){var u=this,r=t.getKey(),f=u.getPageData(),e=t.shiftKey?10:1,i;r===t.RETURN?(t.stopEvent(),i=u.readPageFromInput(f),i!==!1&&(i=Math.min(Math.max(1,i),f.pageCount),i!==f.currentPage&&u.fireEvent("beforechange",u,i)!==!1&&u.store.loadPage(i))):r===t.HOME||r===t.END?(t.stopEvent(),i=r===t.HOME?1:f.pageCount,n.setValue(i)):(r===t.UP||r===t.PAGE_UP||r===t.DOWN||r===t.PAGE_DOWN)&&(t.stopEvent(),i=u.readPageFromInput(f),i&&((r===t.DOWN||r===t.PAGE_DOWN)&&(e*=-1),i+=e,i>=1&&i<=f.pageCount&&n.setValue(i)))},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return this.fireEvent("beforechange",this,1)!==!1?(this.store.loadPage(1),!0):!1},movePrevious:function(){var n=this,t=n.store,i=t.currentPage-1;return i>0&&n.fireEvent("beforechange",n,i)!==!1?(t.previousPage(),!0):!1},moveNext:function(){var n=this,t=n.store,r=n.getPageData().pageCount,i=t.currentPage+1;return i<=r&&n.fireEvent("beforechange",n,i)!==!1?(t.nextPage(),!0):!1},moveLast:function(){var n=this,t=n.getPageData().pageCount;return n.fireEvent("beforechange",n,t)!==!1?(n.store.loadPage(t),!0):!1},doRefresh:function(){var n=this,t=n.store,i=t.currentPage;return n.fireEvent("beforechange",n,i)!==!1?(t.loadPage(i),!0):!1},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){this.rendered&&this.updateBarInfo()},onDestroy:function(){this.bindStore(null);Ext.toolbar.Toolbar.prototype.onDestroy.call(this)}},0,["pagingtoolbar"],["component","box","container","toolbar","pagingtoolbar"],{component:!0,box:!0,container:!0,toolbar:!0,pagingtoolbar:!0},["widget.pagingtoolbar"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0);Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:"x-boundlist",itemCls:"x-boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,enableInitialSelection:!1,refreshSelmodelOnRefresh:!0,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:!0,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="x-list-plain">',"<\/ul>","<\/div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],focusOnToFront:!1,initComponent:function(){var n=this,t=n.baseCls,i=n.itemCls;n.selectedItemCls=t+"-selected";n.trackOver&&(n.overItemCls=t+"-item-over");n.itemSelector="."+i;n.scrollerSelector="ul.x-list-plain";n.floating&&n.addCls(t+"-floating");n.tpl?n.tpl.isTemplate||(n.tpl=new Ext.XTemplate(n.tpl)):n.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+i+'">'+n.getInnerTpl(n.displayField)+"<\/li>","<\/tpl>");n.pageSize&&(n.pagingToolbar=n.createPagingToolbar());Ext.view.View.prototype.initComponent.call(this)},getRefOwner:function(){return this.pickerField||Ext.view.View.prototype.getRefOwner.call(this)},getRefItems:function(){var n=Ext.view.View.prototype.getRefItems.call(this),t=this.pagingToolbar;return t&&n.push(t),n},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var t=this,n=t.tpl;n.field=t.pickerField;n.store=t.store;Ext.view.View.prototype.refresh.call(this);n.field=n.store=null},bindStore:function(n,t){var i=this.pagingToolbar;Ext.view.View.prototype.bindStore.apply(this,arguments);i&&i.bindStore(n,t)},getInnerTpl:function(n){return"{"+n+"}"},onShow:function(){Ext.view.View.prototype.onShow.call(this);Ext.Element.getActiveElement()!==this.pickerField.inputEl.dom&&this.focus()},onHide:function(){var n=this.pickerField.inputEl.dom;Ext.Element.getActiveElement()===n||Ext.EventObject&&Ext.EventObject.pointerType==="touch"||n.focus();Ext.view.View.prototype.onHide.apply(this,arguments)},afterComponentLayout:function(){var n=this.pickerField;Ext.view.View.prototype.afterComponentLayout.apply(this,arguments);n&&n.alignPicker&&n.alignPicker()},onItemClick:function(n){var r=this,t=r.pickerField,u=t.valueField,i=r.getSelectionModel().getSelection();!t.multiSelect&&i.length&&(i=i[0],i&&t.isEqual(n.get(u),i.get(u))&&t.collapse&&t.collapse())},onContainerClick:function(n){if(this.pagingToolbar&&this.pagingToolbar.rendered&&n.within(this.pagingToolbar.el))return!1},onDestroy:function(){Ext.view.View.prototype.onDestroy.call(this);Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var n=this.pagingToolbar;Ext.view.View.prototype.finishRenderChildren.apply(this,arguments);n&&n.finishRender()}}},0,["boundlist"],["component","box","dataview","boundlist"],{component:!0,box:!0,dataview:!0,boundlist:!0},["widget.boundlist"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0);Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:!1,delimiter:", ",displayField:"text"},publishes:["selection"],twoWayBindable:["selection"],triggerCls:"x-form-arrow-trigger",hiddenName:"",collapseOnSelect:!1,hiddenDataCls:"x-hidden-display x-form-data-hidden",ariaRole:"combobox",childEls:{hiddenDataEl:!0},filtered:!1,afterRender:function(){var n=this;Ext.form.field.Picker.prototype.afterRender.apply(this,arguments);n.setHiddenValue(n.value)},multiSelect:!1,triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,clearValueOnEmpty:!0,getGrowWidth:function(){var n=this,e=n.inputEl.dom.value,o,i,s,r,t,u,f;if(n.growToLongestValue)for(o=n.displayField,i=n.store,s=i.data.length,r=0,t=0;t<s;t++)u=i.getAt(t).data[o],f=u.length,f>r&&(r=f,e=u);return e},initComponent:function(){var n=this,r=Ext.isDefined,u=n.store,f=n.transform,t,i;"pinList"in n&&(n.collapseOnSelect=!n.pinList);f&&(t=Ext.getDom(f),t&&(n.store||(u=Ext.Array.map(Ext.Array.from(t.options),function(n){return[n.value,n.text]})),n.name||(n.name=t.name),"value"in n||(n.value=t.value)));n.bindStore(u||"ext-empty-store",!0,!0);i=n.queryMode==="local";r(n.queryDelay)||(n.queryDelay=i?10:500);r(n.minChars)||(n.minChars=i?0:4);Ext.form.field.Picker.prototype.initComponent.call(this);n.doQueryTask=new Ext.util.DelayedTask(n.doRawQuery,n);t&&(n.transformInPlace&&(n.render(t.parentNode,t),delete n.renderTo),Ext.removeNode(t))},getSubTplMarkup:function(n){var t=this,i="",r=Ext.form.field.Picker.prototype.getSubTplMarkup.apply(this,arguments);return t.hiddenName&&(i='<div id="'+n.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+t.hiddenDataCls+'" role="presentation"><\/div>'),i+r},applyDisplayTpl:function(n){var t=this;return n?n.isTemplate||(n=new Ext.XTemplate(n)):n=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+t.getDisplayField()+'"]]}<tpl if="xindex < xcount">'+t.getDelimiter()+"<\/tpl><\/tpl>"),n},applyFilters:function(n,t){var i=this;return n===null||n.isFilterCollection?n:(n&&(t||(t=this.getFilters()),t.beginUpdate(),t.splice(0,t.length,n),t.each(function(n){n.ownerId=i.id}),t.endUpdate()),t)},applyValueNotFoundText:function(n){var t=this,i=t.valueNotFoundRecord||(t.valueNotFoundRecord=new Ext.data.Model);return i.set(t.displayField,n),t.valueField&&t.displayField!==t.valueField&&i.set(t.valueField,n),n},getFilters:function(n){var t=this.filters;return t||n===!1||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},updateFilters:function(n,t){var i=this;if(t&&t.un("endupdate","onEndUpdateFilters",i),n)n.on("endupdate","onEndUpdateFilters",i);i.onEndUpdateFilters(n)},onEndUpdateFilters:function(n){var t=this,f=t.filtered,u=!!n&&n.length>0,i,r;(f||u)&&(t.filtered=u,i=[],r=t.store.getFilters(),r.each(function(r){r.ownerId!==t.id||n.contains(r)||i.push(r)}),r.splice(0,i,n.items))},completeEdit:function(n){var t=this,i=t.queryFilter;Ext.form.field.Picker.prototype.completeEdit.call(this,n);t.doQueryTask.cancel();t.assertValue();i&&t.queryMode==="local"&&t.clearFilterOnBlur&&t.getStore().getFilters().remove(i)},onFocus:function(n){var t=this;Ext.form.field.Picker.prototype.onFocus.call(this,n);t.triggerAction!=="all"&&t.queryFilter&&t.queryMode==="local"&&t.clearFilterOnBlur&&(delete t.lastQuery,t.doRawQuery())},assertValue:function(){var n=this,r=n.getRawValue(),i=n.getDisplayValue(),u=n.lastSelectedRecords,t;n.forceSelection&&(n.multiSelect?r!==i&&n.setRawValue(i):(t=n.findRecordByDisplay(r),t?n.getDisplayValue([n.getRecordDisplayData(t)])!==i&&n.select(t,!0):u?n.setValue(u):n.setRawValue("")));n.collapse()},onTypeAhead:function(){var n=this,u=n.displayField,r=n.store.findRecord(u,n.getRawValue()),f=n.getPicker(),t,e,i;r&&(t=r.get(u),e=t.length,i=n.getRawValue().length,f.highlightItem(f.getNode(r)),i!==0&&i!==e&&(n.setRawValue(t),n.selectText(i,t.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){var n=this.queryFilter;Ext.form.field.Picker.prototype.beforeReset.call(this);n&&this.getStore().getFilters().remove(n)},onUnbindStore:function(){var n=this,t=n.picker,i=n.queryFilter;i&&!n.store.isDestroyed&&(n.changingFilters=!0,n.getStore().removeFilter(i,!0),n.changingFilters=!1);n.pickerSelectionModel.destroy();t&&t.bindStore(null)},onBindStore:function(n,t){var i=this,u=i.picker,r,f;n&&(n.autoCreated&&(i.queryMode="local",i.valueField=i.displayField="field1",n.expanded||(i.displayField="field2"),i.setDisplayTpl(null)),Ext.isDefined(i.valueField)||(i.valueField=i.displayField),r={byValue:{rootProperty:"data",unique:!1}},r.byValue.property=i.valueField,n.setExtraKeys(r),i.displayField===i.valueField?n.byText=n.byValue:(r.byText={rootProperty:"data",unique:!1},r.byText.property=i.displayField,n.setExtraKeys(r)),f={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:i.valueField,rootProperty:"data"}},listeners:{beginupdate:i.onValueCollectionBeginUpdate,endupdate:i.onValueCollectionEndUpdate,scope:i}},i.valueCollection=new Ext.util.Collection(f),i.pickerSelectionModel=new Ext.selection.DataViewModel({mode:i.multiSelect?"SIMPLE":"SINGLE",deselectOnContainerClick:!1,enableInitialSelection:!1,pruneRemoved:!1,selected:i.valueCollection,store:n}),t||i.resetToDefault(),u&&(u.setSelectionModel(i.pickerSelectionModel),u.getStore()!==n&&u.bindStore(n)))},bindStore:function(n,t,i){var r=this,u=r.queryFilter;r.mixins.storeholder.bindStore.call(r,n,i);n=r.getStore();n&&u&&!t&&n.getFilters().add(u);i||!n||n.isEmptyStore||r.setValueOnData()},getStoreListeners:function(n){if(!n.isEmptyStore){var t=this,i={datachanged:t.onDataChanged,load:t.onLoad,exception:t.onException,update:t.onStoreUpdate,remove:t.checkValueOnChange};return n.getRemoteFilter()||(i.filterchange=t.checkValueOnChange),i}},onDataChanged:function(){this.grow&&this.growToLongestValue&&this.autoSize()},checkValueOnChange:function(){var n=this,t=n.getStore();!n.destroying&&t.isLoaded()&&(n.multiSelect||!n.forceSelection||n.changingFilters||n.findRecordByValue(n.value)||n.setValue(null))},onStoreUpdate:function(){this.updateValue()},onException:function(){this.collapse()},onLoad:function(n,t,i){var r=this,u=!r.valueCollection.byValue.get(r.value);!i||!u||n.lastOptions&&"rawQuery"in n.lastOptions||r.setValueOnData();r.checkValueOnChange()},setValueOnData:function(){var n=this;n.setValue(n.value);n.isExpanded&&n.getStore().getCount()&&n.doAutoSelect()},doRawQuery:function(){var n=this,t=n.inputEl.dom.value;n.multiSelect&&(t=t.split(n.delimiter).pop());n.doQuery(t,!1,!0)},doQuery:function(n,t,i){var r=this,u=r.beforeQuery({query:n||"",rawQuery:i,forceAll:t,combo:r,cancel:!1});return u===!1||u.cancel||(r.queryCaching&&u.query===r.lastQuery?r.expand():(r.lastQuery=u.query,r.queryMode==="local"?r.doLocalQuery(u):r.doRemoteQuery(u))),!0},beforeQuery:function(n){var t=this;return t.fireEvent("beforequery",n)===!1?n.cancel=!0:n.cancel||n.query.length<t.minChars&&!n.forceAll&&(n.cancel=!0),n},doLocalQuery:function(n){var t=this,r=n.query,u=t.getStore(),i=t.queryFilter;t.queryFilter=null;t.changingFilters=!0;i&&u.removeFilter(i,!0);r&&(i=t.queryFilter=new Ext.util.Filter({id:t.id+"-filter",anyMatch:t.anyMatch,caseSensitive:t.caseSensitive,root:"data",property:t.displayField,value:t.enableRegEx?new RegExp(r):r}),u.addFilter(i,!0));t.changingFilters=!1;t.store.getCount()||t.getPicker().emptyText?(t.getPicker().refresh(),t.expand()):t.collapse();t.afterQuery(n)},doRemoteQuery:function(n){var t=this,i=function(){t.isDestroyed||t.afterQuery(n)};t.expand();t.pageSize?t.loadPage(1,{rawQuery:n.rawQuery,callback:i}):t.store.load({params:t.getParams(n.query),rawQuery:n.rawQuery,callback:i})},afterQuery:function(n){var t=this;t.store.getCount()&&(t.typeAhead&&t.doTypeAhead(),n.rawQuery?t.picker&&!t.picker.getSelectionModel().hasSelection()&&t.doAutoSelect():t.doAutoSelect());t.checkChange()},loadPage:function(n,t){this.store.loadPage(n,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(n,t){return this.loadPage(t),!1},getParams:function(n){var t={},i=this.queryParam;return i&&(t[i]=n),t},doAutoSelect:function(){var n=this,t=n.picker;t&&n.autoSelect&&n.store.getCount()>0&&t.getNavigationModel().setPosition(n.picker.getSelectionModel().lastSelected||0)},doTypeAhead:function(){var n=this,t=Ext.event.Event;n.typeAheadTask||(n.typeAheadTask=new Ext.util.DelayedTask(n.onTypeAhead,n));n.lastKey!==t.BACKSPACE&&n.lastKey!==t.DELETE&&n.typeAheadTask.delay(n.typeAheadDelay)},onTriggerClick:function(){var n=this;n.readOnly||n.disabled||(n.isExpanded?n.collapse():n.triggerAction==="all"?n.doQuery(n.allQuery,!0):n.triggerAction==="last"?n.doQuery(n.lastQuery,!0):n.doQuery(n.getRawValue(),!1,!0))},onFieldMutation:function(n){var t=this,i=n.getKey(),r=i===n.BACKSPACE||i===n.DELETE,u=t.inputEl.dom.value,f=u.length;!t.readOnly&&(u!==t.lastMutatedValue||r)&&i!==n.TAB&&(t.lastMutatedValue=u,t.lastKey=i,f&&(n.type!=="keyup"||!n.isSpecialKey()||r)?t.doQueryTask.delay(t.queryDelay):(f||i&&!r||(t.multiSelect||(t.value=null,t.displayTplData=undefined),t.clearValueOnEmpty&&t.valueCollection.removeAll(),t.collapse(),t.queryFilter&&(t.changingFilters=!0,t.store.removeFilter(t.queryFilter,!0),t.changingFilters=!1)),Ext.form.field.Picker.prototype.onFieldMutation.call(this,n)))},onDestroy:function(){var n=this;n.doQueryTask.cancel();n.typeAheadTask&&(n.typeAheadTask.cancel(),n.typeAheadTask=null);n.bindStore(null);n.valueCollection=Ext.destroy(n.valueCollection);Ext.form.field.Picker.prototype.onDestroy.call(this)},onAdded:function(){var n=this;Ext.form.field.Picker.prototype.onAdded.apply(this,arguments);n.picker&&(n.picker.ownerCt=n.up("[floating]"),n.picker.registerWithOwnerCt())},createPicker:function(){var n=this,t,i=Ext.apply({xtype:"boundlist",pickerField:n,selectionModel:n.pickerSelectionModel,floating:!0,hidden:!0,store:n.getPickerStore(),displayField:n.displayField,preserveScrollOnRefresh:!0,pageSize:n.pageSize,tpl:n.tpl},n.listConfig,n.defaultListConfig);if(t=n.picker=Ext.widget(i),n.pageSize)t.pagingToolbar.on("beforechange",n.onPageChange,n);if(!t.initialConfig.maxHeight)t.on({beforeshow:n.onBeforePickerShow,scope:n});t.getSelectionModel().on({beforeselect:n.onBeforeSelect,beforedeselect:n.onBeforeDeselect,scope:n});return t.getNavigationModel().navigateOnSpace=!1,t},getPickerStore:function(){return this.store},onBeforePickerShow:function(n){var t=this,i=t.getPosition()[1]-Ext.getBody().getScroll().top,r=Ext.Element.getViewportHeight()-i-t.getHeight();n.maxHeight=Math.max(i,r)-5},onBeforeSelect:function(n,t,i){return this.fireEvent("beforeselect",this,t,i)},onBeforeDeselect:function(n,t,i){return this.fireEvent("beforedeselect",this,t,i)},getSelection:function(){var n=this.getPicker().getSelectionModel(),t=n.getSelection();return t.length?n.getLastSelected():null},updateSelection:function(n){var t=this,i;t.ignoreNextSelection||(t.ignoreNextSelection=!0,i=t.getPicker().getSelectionModel(),n?(i.select(n),t.hasHadSelection=!0):i.deselectAll(),t.ignoreNextSelection=!1)},updateBindSelection:function(n,t){var i=this,r=null;i.ignoreNextSelection||(i.ignoreNextSelection=!0,t.length&&(r=n.getLastSelected(),i.hasHadSelection=!0),i.hasHadSelection&&i.setSelection(r),i.ignoreNextSelection=!1)},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var n=this,r=n.store,t=n.valueCollection.getRange(),u=t[0],i=t.length;(n.updateBindSelection(n.pickerSelectionModel,t),n.isSelectionUpdating())||(Ext.suspendLayouts(),n.lastSelection=t,i&&(n.lastSelectedRecords=t),n.updateValue(),i&&(!n.multiSelect&&r.contains(u)||n.collapseOnSelect||!r.getCount())&&(n.updatingValue=!0,n.collapse(),n.updatingValue=!1),Ext.resumeLayouts(!0),i&&!n.suspendCheckChange&&(n.multiSelect||(t=u),n.fireEvent("select",n,t)))},isSelectionUpdating:function(){var n=this.pickerSelectionModel;return n.deselectingDuringSelect||n.refreshing},onExpand:function(){var n=this.getPicker().getNavigationModel();n&&n.enable();this.doAutoSelect()},onCollapse:function(){var n=this.getPicker().getNavigationModel();n&&n.disable();this.updatingValue&&this.doQueryTask.cancel()},select:function(n,t){var i=this,r=i.picker,u;n&&n.isModel&&t===!0&&r&&(u=!r.getSelectionModel().isSelected(n));u||i.suspendEvent("select");i.setValue(n);i.resumeEvent("select")},findRecord:function(n,t){var i=this.store,r=i.findExact(n,t);return r!==-1?i.getAt(r):!1},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(n){var t=this.store.byValue.get(n),i=!1;return t&&(i=t[0]||t),i},findRecordByDisplay:function(n){var t=this.store.byText.get(n),i=!1;return t&&(i=t[0]||t),i},addValue:function(n){if(n!=null)return this.doSetValue(n,!0)},setValue:function(n){var t=this;if(n!=null)return t.doSetValue(n);t.suspendEvent("select");t.valueCollection.beginUpdate();t.pickerSelectionModel.deselectAll();t.valueCollection.endUpdate();t.resumeEvent("select")},setRawValue:function(n){Ext.form.field.Picker.prototype.setRawValue.call(this,n);this.lastMutatedValue=n},doSetValue:function(n,t){var i=this,f=i.getStore(),b=f.getModel(),e=[],k=[],d=i.autoLoadOnValue,l=f.getCount()>0||f.isLoaded(),a=f.hasPendingLoad(),v=d&&!l&&!a,g=i.forceSelection,y=i.pickerSelectionModel,nt=i.displayField===i.valueField,c=f.isEmptyStore,p=i.lastSelection,u,o,r,h,s,w;if((a||v||!l||c)&&(n.isModel||(i.value=t?Ext.Array.from(i.value).concat(n):n,i.setHiddenValue(i.value),i.setRawValue(nt?n:"")),v&&!c&&f.load(),!n.isModel||c))return i;for(n=t?Ext.Array.from(i.value).concat(n):Ext.Array.from(n),u=0,o=n.length;u<o;u++)r=n[u],r&&r.isModel||(r=i.findRecordByValue(w=r),r||(r=i.valueCollection.find(i.valueField,w))),r||(g?i.valueNotFoundRecord&&(r=i.valueNotFoundRecord):!r&&n[u]&&(h={},h[i.displayField]=n[u],i.valueField&&i.displayField!==i.valueField&&(h[i.valueField]=n[u]),r=new b(h))),r&&(e.push(r),k.push(r.get(i.valueField)));if(p)if(o=p.length,o===e.length)for(u=0;!s&&u<o;u++)Ext.Array.indexOf(i.lastSelection,e[u])===-1&&(s=!0);else s=!0;else s=e.length;return s?(i.suspendEvent("select"),i.valueCollection.beginUpdate(),e.length?y.select(e,!1):y.deselectAll(),i.valueCollection.endUpdate(),i.resumeEvent("select")):i.updateValue(),i},updateValue:function(){var n=this,f=n.valueCollection.getRange(),o=f.length,t=[],u=n.displayTplData||(n.displayTplData=[]),e=n.inputEl,i,r;for(u.length=0,i=0;i<o;i++)r=f[i],u.push(n.getRecordDisplayData(r)),r!==n.valueNotFoundRecord&&t.push(r.get(n.valueField));n.setHiddenValue(t);n.value=n.multiSelect?t:t[0];Ext.isDefined(n.value)||(n.value=undefined);n.displayTplData=u;e&&n.emptyText&&!Ext.isEmpty(n.value)&&e.removeCls(n.emptyCls);n.setRawValue(n.getDisplayValue());n.checkChange();n.applyEmptyText()},setHiddenValue:function(n){var e=this,s=e.hiddenName,i,r,u,o,f,t;if(e.hiddenDataEl&&s){for(n=Ext.Array.from(n),r=e.hiddenDataEl.dom,u=r.childNodes,o=u[0],f=n.length,t=u.length,!o&&f>0&&(e.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:s})),t=1,o=r.firstChild);t>f;)r.removeChild(u[0]),--t;while(t<f)r.appendChild(o.cloneNode(!0)),++t;for(i=0;i<f;i++)u[i].value=n[i]}},getDisplayValue:function(n){return n=n||this.displayTplData,this.getDisplayTpl().apply(n)},getRecordDisplayData:function(n){return n.data},getValue:function(){var n=this,i=n.getStore(),r=n.picker,u=n.getRawValue(),t=n.value;return i.isEmptyStore||n.getDisplayValue()===u||(n.displayTplData=undefined,r&&(n.valueCollection.suspendEvents(),r.getSelectionModel().deselectAll(),n.valueCollection.resumeEvents(),n.lastSelection=null),t=i.isLoaded()&&(n.multiSelect||n.forceSelection)?n.value=undefined:n.value=u),n.value=t==null?null:t,n.value},getSubmitValue:function(){var n=this.getValue();return Ext.isEmpty(n)&&(n=""),n},isEqual:function(n,t){var u=Ext.Array.from,i,r;if(n=u(n),t=u(t),r=n.length,r!==t.length)return!1;for(i=0;i<r;i++)if(t[i]!==n[i])return!1;return!0},clearValue:function(){this.setValue([])},onEditorTab:function(n){var t=this.getPicker().getNavigationModel();this.selectOnTab&&t&&this.isExpanded&&t.selectHighlighted(n)}},0,["combobox","combo"],["component","box","field","textfield","pickerfield","combobox","combo"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0},["widget.combo","widget.combobox"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0);Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",isMonthPicker:!0,focusable:!0,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}<\/a>',"<\/div>","<\/tpl>","<\/div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"><\/a>',"<\/div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"><\/a>',"<\/div>","<\/div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}<\/a>',"<\/div>","<\/tpl>","<\/div>",'<div class="x-clear"><\/div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}<\/div>","<\/tpl>","<\/div>"],okText:"OK",cancelText:"Cancel",baseCls:"x-monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:"x-monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var n=this;n.selectedCls=n.baseCls+"-selected";n.small&&n.addCls(n.smallCls);n.setValue(n.value);n.activeYear=n.getYear((new Date).getFullYear()-4,-4);n.showButtons&&(n.okBtn=new Ext.button.Button({text:n.okText,handler:n.onOkClick,scope:n}),n.cancelBtn=new Ext.button.Button({text:n.cancelText,handler:n.onCancelClick,scope:n}));Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var n=this,t=0,i=[],r=Ext.Date.getShortMonthName,u=n.monthOffset,f=n.monthMargin,e="";for(n.padding&&!n.width&&n.cacheWidth(),Ext.Component.prototype.beforeRender.call(this);t<u;++t)i.push(r(t),r(t+u));Ext.isDefined(f)&&(e="margin: 0 "+f+"px;");Ext.apply(n.renderData,{months:i,years:n.getYears(),showButtons:n.showButtons,monthStyle:e})},cacheWidth:function(){var n=this,t=n.parseBox(n.padding),i=Ext.getBody().createChild({cls:n.baseCls+" "+n.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});n.self.prototype.width=i.getWidth()+t.left+t.right;i.destroy()},afterRender:function(){var n=this,t=n.bodyEl;Ext.Component.prototype.afterRender.call(this);n.mon(t,"click",n.onBodyClick,n);n.mon(t,"dblclick",n.onBodyClick,n);n.years=t.select("."+n.baseCls+"-year a");n.months=t.select("."+n.baseCls+"-month a");n.backRepeater=new Ext.util.ClickRepeater(n.prevEl,{handler:Ext.Function.bind(n.adjustYear,n,[-n.totalYears])});n.prevEl.addClsOnOver(n.baseCls+"-yearnav-prev-over");n.nextRepeater=new Ext.util.ClickRepeater(n.nextEl,{handler:Ext.Function.bind(n.adjustYear,n,[n.totalYears])});n.nextEl.addClsOnOver(n.baseCls+"-yearnav-next-over");n.updateBody();Ext.isDefined(n.monthMargin)||(Ext.picker.Month.prototype.monthMargin=n.calculateMonthMargin())},calculateMonthMargin:function(){for(var t=this,i=t.months,r=i.first(),n=r.getMargin("l");n&&t.getLargest()>t.measureMaxHeight;)--n,i.setStyle("margin","0 "+n+"px");return n},getLargest:function(){var n=0;return this.months.each(function(t){var i=t.getHeight();i>n&&(n=i)}),n},setValue:function(n){var t=this,r=t.activeYear,i;return t.value=n?Ext.isDate(n)?[n.getMonth(),n.getFullYear()]:[n[0],n[1]]:[null,null],t.rendered&&(i=t.value[1],i!==null&&(i<r||i>r+t.yearOffset)&&(t.activeYear=i-t.yearOffset+1),t.updateBody()),t},getValue:function(){return this.value},hasSelection:function(){var n=this.value;return n[0]!==null&&n[1]!==null},getYears:function(){for(var t=this,i=t.yearOffset,r=t.activeYear,f=r+i,n=r,u=[];n<f;++n)u.push(n,n+i);return u},updateBody:function(){var n=this,o=n.years,s=n.months,l=n.getYears(),r=n.selectedCls,a=n.getYear(null),t=n.value[0],h=n.monthOffset,u,f,i,c,e;if(n.rendered){for(o.removeCls(r),s.removeCls(r),f=o.elements,c=f.length,i=0;i<c;i++)e=Ext.fly(f[i]),u=l[i],e.dom.innerHTML=u,u===a&&e.addCls(r);t!==null&&(t=t<h?t*2:(t-h)*2+1,s.item(t).addCls(r))}},getYear:function(n,t){var i=this.value[1];return t=t||0,i===null?n:i+t},onBodyClick:function(n,t){var i=this,r=n.type==="dblclick";if(n.getTarget("."+i.baseCls+"-month")){n.stopEvent();i.onMonthClick(t,r)}else if(n.getTarget("."+i.baseCls+"-year")){n.stopEvent();i.onYearClick(t,r)}},adjustYear:function(n){typeof n!="number"&&(n=this.totalYears);this.activeYear+=n;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(n,t){var i=this;i.value[0]=i.resolveOffset(i.months.indexOf(n),i.monthOffset);i.updateBody();i.fireEvent("month"+(t?"dbl":"")+"click",i,i.value);i.fireEvent("select",i,i.value)},onYearClick:function(n,t){var i=this;i.value[1]=i.activeYear+i.resolveOffset(i.years.indexOf(n),i.yearOffset);i.updateBody();i.fireEvent("year"+(t?"dbl":"")+"click",i,i.value);i.fireEvent("select",i,i.value)},resolveOffset:function(n,t){return n%2==0?n/2:t+Math.floor(n/2)},beforeDestroy:function(){var n=this;n.years=n.months=null;Ext.destroyMembers(n,"backRepeater","nextRepeater","okBtn","cancelBtn");Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");Ext.Component.prototype.onDestroy.call(this)},privates:{finishRenderChildren:function(){var n=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments);this.showButtons&&(n.okBtn.finishRender(),n.cancelBtn.finishRender())}}},0,["monthpicker"],["component","box","monthpicker"],{component:!0,box:!0,monthpicker:!0},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0);Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",isDatePicker:!0,focusable:!0,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="button" title="{prevText}"><\/div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}<\/div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="button" title="{nextText}"><\/div>',"<\/div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" {%','if (values.$comp.focusable) {out.push("tabindex=\\"0\\"");}','%} cellspacing="0">','<thead><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}<\/div>',"<\/th>","<\/tpl>","<\/tr><\/thead>",'<tbody><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"><\/div>',"<\/td>","<\/tpl>","<\/tr><\/tbody>","<\/table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}<\/div>',"<\/tpl>","<\/div>",{firstInitial:function(n){return Ext.picker.Date.prototype.getDayInitial(n)},isEndOfWeek:function(n){n--;var t=n%7==0&&n!==0;return t?'<\/tr><tr role="row">':""},renderTodayBtn:function(n,t){Ext.DomHelper.generateMarkup(n.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(n,t){Ext.DomHelper.generateMarkup(n.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:"x-datepicker",longDayFormat:"F d, Y",initHour:12,numDays:42,initComponent:function(){var n=this,t=Ext.Date.clearTime;n.selectedCls=n.baseCls+"-selected";n.disabledCellCls=n.baseCls+"-disabled";n.prevCls=n.baseCls+"-prevday";n.activeCls=n.baseCls+"-active";n.cellCls=n.baseCls+"-cell";n.nextCls=n.baseCls+"-prevday";n.todayCls=n.baseCls+"-today";n.format||(n.format=Ext.Date.defaultFormat);n.dayNames||(n.dayNames=Ext.Date.dayNames);n.dayNames=n.dayNames.slice(n.startDay).concat(n.dayNames.slice(0,n.startDay));Ext.Component.prototype.initComponent.call(this);n.value=n.value?t(n.value,!0):t(new Date);n.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var n=[],t=this.monthBtn,i=this.todayBtn;return t&&n.push(t),i&&n.push(i),n},beforeRender:function(){var n=this,i=new Array(n.numDays),t=Ext.Date.format(new Date,n.format);n.padding&&!n.width&&n.cacheWidth();n.monthBtn=new Ext.button.Split({ownerCt:n,ownerLayout:n.getComponentLayout(),text:"",tooltip:n.monthYearText,listeners:{click:n.doShowMonthPicker,arrowclick:n.doShowMonthPicker,scope:n}});n.showToday&&(n.todayBtn=new Ext.button.Button({ownerCt:n,ownerLayout:n.getComponentLayout(),text:Ext.String.format(n.todayText,t),tooltip:Ext.String.format(n.todayTip,t),tooltipType:"title",handler:n.selectToday,scope:n}));Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(n,{renderData:{}});Ext.apply(n.renderData,{dayNames:n.dayNames,showToday:n.showToday,prevText:n.prevText,nextText:n.nextText,days:i});n.protoEl.unselectable()},cacheWidth:function(){var n=this,t=n.parseBox(n.padding),i=Ext.getBody().createChild({cls:n.baseCls+" "+n.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});n.self.prototype.width=i.getWidth()+t.left+t.right;i.destroy()},onRender:function(){var n=this;Ext.Component.prototype.onRender.apply(this,arguments);n.cells=n.eventEl.select("tbody td");n.textNodes=n.eventEl.query("tbody td div");n.eventEl.set({"aria-labelledby":n.monthBtn.id});n.mon(n.eventEl,{scope:n,mousewheel:n.handleMouseWheel,click:{fn:n.handleDateClick,delegate:"div."+n.baseCls+"-date"}})},initEvents:function(){var n=this,i=n.pickerField,t=Ext.Date,r=t.DAY;if(Ext.Component.prototype.initEvents.call(this),!n.focusable)n.el.on({mousedown:n.onMouseDown});n.prevRepeater=new Ext.util.ClickRepeater(n.prevEl,{handler:n.showPrevMonth,scope:n,preventDefault:!0,stopDefault:!0});n.nextRepeater=new Ext.util.ClickRepeater(n.nextEl,{handler:n.showNextMonth,scope:n,preventDefault:!0,stopDefault:!0});n.keyNav=new Ext.util.KeyNav(i?i.inputEl:n.eventEl,Ext.apply({scope:n,capture:!0,left:function(i){i.ctrlKey?n.showPrevMonth():n.update(t.add(n.activeDate,r,-1))},right:function(i){i.ctrlKey?n.showNextMonth():n.update(t.add(n.activeDate,r,1))},up:function(i){i.ctrlKey?n.showNextYear():n.update(t.add(n.activeDate,r,-7))},down:function(i){i.ctrlKey?n.showPrevYear():n.update(t.add(n.activeDate,r,7))},pageUp:function(t){t.ctrlKey?n.showPrevYear():n.showPrevMonth()},pageDown:function(t){t.ctrlKey?n.showNextYear():n.showNextMonth()},tab:function(t){return n.handleTabClick(t),!0},enter:function(t){n.handleDateClick(t,n.activeCell.firstChild)},space:function(){n.setValue(new Date(n.activeCell.firstChild.dateValue));var r=n.startValue,u=n.value,t;i&&(t=i.getValue(),t&&r&&t.getTime()===u.getTime()?i.setValue(r):i.setValue(u))},home:function(){n.update(t.getFirstDateOfMonth(n.activeDate))},end:function(){n.update(t.getLastDateOfMonth(n.activeDate))}},n.keyNavConfig));n.disabled&&n.syncDisabled(!0);n.update(n.value)},onMouseDown:function(n){n.preventDefault()},handleTabClick:function(){var n=this,t=n.getSelectedDate(n.activeDate),i=n.handler;n.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(n.disabledCellCls)||(n.setValue(new Date(t.dateValue)),n.fireEvent("select",n,n.value),i&&i.call(n.scope||n,n,n.value),n.onSelect())},getSelectedDate:function(n){var r=this,e=n.getTime(),u=r.cells,o=r.selectedCls,f=u.elements,s=f.length,i,t;for(u.removeCls(o),t=0;t<s;t++)if(i=f[t].firstChild,i.dateValue===e)return i;return null},initDisabledDays:function(){var t=this,i=t.disabledDates,u="(?:",f,n,e,r;if(!t.disabledDatesRE&&i){for(f=i.length-1,e=i.length,n=0;n<e;n++)r=i[n],u+=Ext.isDate(r)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(r,t.format))+"$":r,n!==f&&(u+="|");t.disabledDatesRE=new RegExp(u+")")}},setDisabledDates:function(n){var t=this;return Ext.isArray(n)?(t.disabledDates=n,t.disabledDatesRE=null):t.disabledDatesRE=n,t.initDisabledDays(),t.update(t.value,!0),t},setDisabledDays:function(n){return this.disabledDays=n,this.update(this.value,!0)},setMinDate:function(n){return this.minDate=n,this.update(this.value,!0)},setMaxDate:function(n){return this.maxDate=n,this.update(this.value,!0)},setValue:function(n){return this.value=Ext.Date.clearTime(n||new Date,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(n){return n.substr(0,1)},onEnable:function(){var n=this;Ext.Component.prototype.onEnable.call(this);n.syncDisabled(!1);n.update(n.activeDate)},onShow:function(){var n=this;Ext.Component.prototype.onShow.call(this);n.syncDisabled(!1);n.pickerField&&(n.startValue=n.pickerField.getValue())},onHide:function(){Ext.Component.prototype.onHide.call(this);this.syncDisabled(!0)},onDisable:function(){Ext.Component.prototype.onDisable.call(this);this.syncDisabled(!0)},getActive:function(){return this.activeDate||this.value},runAnimation:function(n){var t=this.monthPicker,i={duration:200,callback:function(){t.setVisible(!n)}};n?t.el.slideOut("t",i):t.el.slideIn("t",i)},hideMonthPicker:function(n){var t=this,i=t.monthPicker;return i&&i.isVisible()&&(t.shouldAnimate(n)?t.runAnimation(!0):i.hide()),t},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(n){var t=this,r=t.el,i;return t.rendered&&!t.disabled&&(i=t.createMonthPicker(),i.isVisible()||(i.setValue(t.getActive()),i.setSize(r.getSize()),i.floatParent=null,i.setPosition(-r.getBorderWidth("l"),-r.getBorderWidth("t")),t.shouldAnimate(n)?t.runAnimation(!1):i.show())),t},shouldAnimate:function(n){return Ext.isDefined(n)?n:!this.disableAnim},createMonthPicker:function(){var n=this,t=n.monthPicker;if(!t){n.monthPicker=t=new Ext.picker.Month({renderTo:n.el,ownerCmp:n,floating:!0,padding:n.padding,shadow:!1,small:n.showToday===!1,listeners:{scope:n,cancelclick:n.onCancelClick,okclick:n.onOkClick,yeardblclick:n.onOkClick,monthdblclick:n.onOkClick}});n.disableAnim||t.el.setStyle("display","none");t.hide();n.on("beforehide",n.doHideMonthPicker,n)}return t},onOkClick:function(n,t){var i=this,r=t[0],f=t[1],u=new Date(f,r,i.getActive().getDate());u.getMonth()!==r&&(u=Ext.Date.getLastDateOfMonth(new Date(f,r,1)));i.setValue(u);i.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(n){if(n.stopEvent(),!this.disabled){var t=n.getWheelDelta();t>0?this.showPrevMonth():t<0&&this.showNextMonth()}},handleDateClick:function(n,t){var i=this,r=i.handler;n.stopEvent();i.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(i.disabledCellCls)||(i.setValue(new Date(t.dateValue)),i.fireEvent("select",i,i.value),r&&r.call(i.scope||i,i,i.value),i.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var n=this,t=n.todayBtn,i=n.handler;return t&&!t.disabled&&(n.setValue(Ext.Date.clearTime(new Date)),n.fireEvent("select",n,n.value),i&&i.call(n.scope||n,n,n.value),n.onSelect()),n},selectedUpdate:function(n){var i=this,e=n.getTime(),u=i.cells,f=i.selectedCls,r,o=u.getCount(),t;for(t=i.activeCell,t&&(Ext.fly(t).removeCls(f),t.setAttribute("aria-selected",!1)),r=0;r<o;r++)if(t=u.item(r),i.textNodes[r].dateValue===e){i.activeCell=t.dom;i.eventEl.dom.setAttribute("aria-activedescendant",t.dom.id);t.dom.setAttribute("aria-selected",!0);t.addCls(f);i.fireEvent("highlightitem",i,t);break}},fullUpdate:function(n){var t=this,tt=t.cells.elements,it=t.textNodes,s=t.disabledCellCls,i=Ext.Date,r=0,rt=0,ut=+i.clearTime(n,!0),ft=+i.clearTime(new Date),b=t.minDate?i.clearTime(t.minDate,!0):Number.NEGATIVE_INFINITY,k=t.maxDate?i.clearTime(t.maxDate,!0):Number.POSITIVE_INFINITY,h=t.disabledDatesRE,et=t.disabledDatesText,c=t.disabledDays?t.disabledDays.join(""):!1,ot=t.disabledDaysText,l=t.format,d=i.getDaysInMonth(n),st=i.getFirstDateOfMonth(n),f=st.getDay()-t.startDay,y=i.add(n,i.MONTH,-1),ht=t.ariaTitleDateFormat,p,u,g,o,nt,a,v,w,e;for(f<0&&(f+=7),d+=f,p=i.getDaysInMonth(y)-f,u=new Date(y.getFullYear(),y.getMonth(),p,t.initHour),t.showToday&&(o=i.clearTime(new Date),g=o<b||o>k||h&&l&&h.test(i.dateFormat(o,l))||c&&c.indexOf(o.getDay())!==-1,t.disabled||t.todayBtn.setDisabled(g)),nt=function(n,r){var f=tt[n];e=+i.clearTime(u,!0);f.setAttribute("aria-label",i.format(u,ht));f.firstChild.dateValue=e;e===ft&&(r+=" "+t.todayCls,f.firstChild.title=t.todayText,t.todayElSpan=Ext.DomHelper.append(f.firstChild,{tag:"span",cls:"x-hidden-clip",html:t.todayText},!0));e===ut?(t.activeCell=f,t.eventEl.dom.setAttribute("aria-activedescendant",f.id),f.setAttribute("aria-selected",!0),r+=" "+t.selectedCls,t.fireEvent("highlightitem",t,f)):f.setAttribute("aria-selected",!1);e<b?(r+=" "+s,f.setAttribute("aria-label",t.minText)):e>k?(r+=" "+s,f.setAttribute("aria-label",t.maxText)):c&&c.indexOf(u.getDay())!==-1?(f.setAttribute("aria-label",ot),r+=" "+s):h&&l&&(w=i.dateFormat(u,l),h.test(w)&&(f.setAttribute("aria-label",et.replace("%0",w)),r+=" "+s));f.className=r+" "+t.cellCls};r<t.numDays;++r)r<f?(a=++p,v=t.prevCls):r>=d?(a=++rt,v=t.nextCls):(a=r-f+1,v=t.activeCls),it[r].innerHTML=a,u.setDate(u.getDate()+1),nt(r,v);t.monthBtn.setText(Ext.Date.format(n,t.monthYearFormat))},update:function(n,t){var i=this,r=i.activeDate;return i.rendered&&(i.activeDate=n,!t&&r&&i.el&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()?i.selectedUpdate(n,r):i.fullUpdate(n,r)),i},beforeDestroy:function(){var n=this;n.rendered&&(Ext.destroy(n.keyNav,n.monthPicker,n.monthBtn,n.nextRepeater,n.prevRepeater,n.todayBtn,n.todayElSpan),delete n.textNodes,delete n.cells.elements);Ext.Component.prototype.beforeDestroy.call(this)},privates:{finishRenderChildren:function(){var n=this;Ext.Component.prototype.finishRenderChildren.call(this);n.monthBtn.finishRender();n.showToday&&n.todayBtn.finishRender()},getFocusEl:function(){return this.eventEl},syncDisabled:function(n){var t=this,i=t.keyNav;i&&(i.setDisabled(n),t.prevRepeater.setDisabled(n),t.nextRepeater.setDisabled(n),t.todayBtn&&t.todayBtn.setDisabled(n))}}},0,["datepicker"],["component","box","datepicker"],{component:!0,box:!0,datepicker:!0},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0);Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:"x-form-date-trigger",showToday:!0,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,valuePublishEvent:["select","blur"],initComponent:function(){var n=this,r=Ext.isString,t,i;t=n.minValue;i=n.maxValue;r(t)&&(n.minValue=n.parseDate(t));r(i)&&(n.maxValue=n.parseDate(i));n.disabledDatesRE=null;n.initDisabledDays();Ext.form.field.Picker.prototype.initComponent.call(this)},initValue:function(){var n=this,t=n.value;Ext.isString(t)&&(n.value=n.rawToValue(t));Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){for(var i=this.disabledDates,u=i.length-1,r="(?:",f=i.length,t,n=0;n<f;n++)t=i[n],r+=Ext.isDate(t)?"^"+Ext.String.escapeRegex(t.dateFormat(this.format))+"$":t,n!==u&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(n){var t=this,i=t.picker;t.disabledDates=n;t.initDisabledDays();i&&i.setDisabledDates(t.disabledDatesRE)},setDisabledDays:function(n){var t=this.picker;this.disabledDays=n;t&&t.setDisabledDays(n)},setMinValue:function(n){var t=this,i=t.picker,r=Ext.isString(n)?t.parseDate(n):n;t.minValue=r;i&&(i.minText=Ext.String.format(t.minText,t.formatDate(t.minValue)),i.setMinDate(r))},setMaxValue:function(n){var t=this,i=t.picker,r=Ext.isString(n)?t.parseDate(n):n;t.maxValue=r;i&&(i.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue)),i.setMaxDate(r))},getErrors:function(n){n=arguments.length>0?n:this.formatDate(this.processRawValue(this.getRawValue()));var t=this,r=Ext.String.format,c=Ext.Date.clearTime,i=Ext.form.field.Picker.prototype.getErrors.call(this,n),u=t.disabledDays,l=t.disabledDatesRE,f=t.minValue,e=t.maxValue,y=u?u.length:0,o=0,a,s,v,h;if(n===null||n.length<1)return i;if(a=n,n=t.parseDate(n),!n)return i.push(r(t.invalidText,a,Ext.Date.unescapeFormat(t.format))),i;if(h=n.getTime(),f&&h<c(f).getTime()&&i.push(r(t.minText,t.formatDate(f))),e&&h>c(e).getTime()&&i.push(r(t.maxText,t.formatDate(e))),u)for(v=n.getDay();o<y;o++)if(v===u[o]){i.push(t.disabledDaysText);break}return s=t.formatDate(n),l&&l.test(s)&&i.push(r(t.disabledDatesText,s)),i},rawToValue:function(n){return this.parseDate(n)||n||null},valueToRaw:function(n){return this.formatDate(this.parseDate(n))},safeParse:function(n,t){var r=this,i=Ext.Date,u=null,e=r.useStrict,f;return i.formatContainsHourInfo(t)?u=i.parse(n,t,e):(f=i.parse(n+" "+r.initTime,t+" "+r.initTimeFormat,e),f&&(u=i.clearTime(f))),u},getSubmitValue:function(){var t=this.submitFormat||this.format,n=this.getValue();return n?Ext.Date.format(n,t):""},parseDate:function(n){if(!n||Ext.isDate(n))return n;var t=this,i=t.safeParse(n,t.format),f=t.altFormats,r=t.altFormatsArray,u=0,e;if(!i&&f)for(r=r||f.split("|"),e=r.length;u<e&&!i;++u)i=t.safeParse(n,r[u]);return i},formatDate:function(n){return Ext.isDate(n)?Ext.Date.dateFormat(n,this.format):n},createPicker:function(){var n=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:n,floating:!0,focusable:!1,hidden:!0,minDate:n.minValue,maxDate:n.maxValue,disabledDatesRE:n.disabledDatesRE,disabledDatesText:n.disabledDatesText,disabledDays:n.disabledDays,disabledDaysText:n.disabledDaysText,format:n.format,showToday:n.showToday,startDay:n.startDay,minText:t(n.minText,n.formatDate(n.minValue)),maxText:t(n.maxText,n.formatDate(n.maxValue)),listeners:{scope:n,select:n.onSelect},keyNavConfig:{esc:function(){n.collapse()}}})},onSelect:function(n,t){var i=this;i.setValue(t);i.fireEvent("select",i,t);i.collapse()},onExpand:function(){var n=this.getValue();this.picker.setValue(Ext.isDate(n)?n:new Date)},onBlur:function(n){var t=this,i=t.rawToValue(t.getRawValue());Ext.isDate(i)&&t.setValue(i);Ext.form.field.Picker.prototype.onBlur.call(this,n)}},0,["datefield"],["component","box","field","textfield","pickerfield","datefield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,datefield:!0},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0);Ext.cmd.derive("Ext.form.field.FileButton",Ext.button.Button,{childEls:["fileInputEl"],inputCls:"x-form-file-input",cls:"x-form-file-btn",preventDefault:!1,tabIndex:null,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" role="{role}" ','<tpl if="tabIndex != null">tabindex="{tabIndex}"<\/tpl>',">"],getAfterMarkup:function(n){return this.getTpl("afterTpl").apply(n)},getTemplateArgs:function(){var n=Ext.button.Button.prototype.getTemplateArgs.call(this);return n.inputCls=this.inputCls,n.inputName=this.inputName,n.tabIndex=this.ownerCt.tabIndex,n},afterRender:function(){var n=this;Ext.button.Button.prototype.afterRender.apply(this,arguments);n.fileInputEl.on({scope:n,change:n.fireChange,focus:n.onFileFocus,blur:n.onFileBlur})},fireChange:function(n){this.fireEvent("change",this,n,this.fileInputEl.dom.value)},createFileInput:function(n){var t=this,i=t.fileInputEl=t.el.createChild({name:t.inputName,id:n?undefined:t.id+"-fileInputEl",cls:t.inputCls,tag:"input",type:"file",size:1,role:"button"});i.dom.setAttribute(Ext.Component.componentIdAttribute,t.id);i.on({scope:t,change:t.fireChange,focus:t.onFileFocus,blur:t.onFileBlur})},onFileFocus:function(n){if(!this.hasFocus)this.onFocus(n)},onFileBlur:function(n){if(this.hasFocus)this.onBlur(n)},reset:function(n){var t=this;n&&t.fileInputEl.destroy();t.createFileInput(!n)},restoreInput:function(n){var t=this;t.fileInputEl.destroy();n=Ext.get(n);t.el.appendChild(n);t.fileInputEl=n},onDisable:function(){Ext.button.Button.prototype.onDisable.call(this);this.fileInputEl.dom.disabled=!0},onEnable:function(){Ext.button.Button.prototype.onEnable.call(this);this.fileInputEl.dom.disabled=!1},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el}}},0,["filebutton"],["component","box","button","filebutton"],{component:!0,box:!0,button:!0,filebutton:!0},["widget.filebutton"],0,[Ext.form.field,"FileButton"],0);Ext.cmd.derive("Ext.form.trigger.Component",Ext.form.trigger.Trigger,{cls:"x-form-trigger-cmp",onFieldRender:function(){var t=this,n=t.component;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);n.isComponent||n.isWidget||(n=Ext.widget(n));t.component=n;n.render(t.el)},destroy:function(){var n=this.component;(n.isComponent||n.isWidget)&&n.destroy();this.component=null;Ext.form.trigger.Trigger.prototype.destroy.call(this)}},0,0,0,0,["trigger.component"],0,[Ext.form.trigger,"Component"],0);Ext.cmd.derive("Ext.form.field.File",Ext.form.field.Text,{alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],needArrowKeys:!1,triggers:{filebutton:{type:"component",hideOnReadOnly:!1,preventMouseDown:!1}},buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:"x-form-file-wrap",inputCls:"x-form-text-file",readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(n){var t=this,i=(n||{}).filebutton;if(i)return i.component=Ext.apply({xtype:"filebutton",ownerCt:t,id:t.id+"-button",ui:t.ui,disabled:t.disabled,text:t.buttonText,style:t.buttonOnly?"":t.getButtonMarginProp()+t.buttonMargin+"px",inputName:t.getName(),listeners:{scope:t,change:t.onFileChange}},t.buttonConfig),Ext.form.field.Text.prototype.applyTriggers.call(this,n)},getSubTplData:function(n){var t=Ext.form.field.Text.prototype.getSubTplData.call(this,n);return t.tabIdx=-1,t},onRender:function(){var n=this,t,i,r,u;(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).apply(this,arguments);t=n.inputEl;t.dom.name="";t.on("focus",n.focus,n);u=n.getTrigger("filebutton");i=n.button=u.component;n.fileInputEl=i.fileInputEl;r=i.el;n.buttonOnly&&(n.inputWrap.setDisplayed(!1),n.shrinkWrap=3);u.el.setWidth(r.getWidth()+r.getMargin("lr"));Ext.isIE&&n.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"><\/td>'},onFileChange:function(n,t,i){this.duringFileSelect=!0;Ext.form.field.File.superclass.setValue.call(this,i);delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setValue:Ext.emptyFn,reset:function(){var n=this,t=n.clearOnSubmit;n.rendered&&(n.button.reset(t),n.fileInputEl=n.button.fileInputEl,t&&(n.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null)));Ext.form.field.Text.prototype.reset.call(this)},onShow:function(){Ext.form.field.Text.prototype.onShow.call(this);this.button.updateLayout()},onDisable:function(){Ext.form.field.Text.prototype.onDisable.call(this);this.button.disable()},onEnable:function(){Ext.form.field.Text.prototype.onEnable.call(this);this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var t=this,n;return t.rendered?(n=t.button.fileInputEl.dom,t.reset()):(n=document.createElement("input"),n.type="file",n.className="x-hidden-display",n.name=t.getName()),n},restoreInput:function(n){if(this.rendered){var t=this.button;t.restoreInput(n);this.fileInputEl=t.fileInputEl}},onDestroy:function(){this.fileInputEl=this.button=null;Ext.form.field.Text.prototype.onDestroy.call(this)},getButtonMarginProp:function(){return"margin-left:"},privates:{getFocusEl:function(){return this.button}}},0,["fileuploadfield","filefield"],["component","box","field","textfield","filefield","fileuploadfield"],{component:!0,box:!0,field:!0,textfield:!0,filefield:!0,fileuploadfield:!0},["widget.filefield","widget.fileuploadfield"],0,[Ext.form.field,"File",Ext.form,"FileUploadField",Ext.ux.form,"FileUploadField",Ext.form,"File"],0);Ext.cmd.derive("Ext.form.field.Hidden",Ext.form.field.Base,{alternateClassName:"Ext.form.Hidden",focusable:!1,inputType:"hidden",isTextInput:!1,hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden";Ext.form.field.Base.prototype.initComponent.call(this)},isEqual:function(n,t){return this.isEqualAsString(n,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,["hidden","hiddenfield"],["component","box","field","hiddenfield","hidden"],{component:!0,box:!0,field:!0,hiddenfield:!0,hidden:!0},["widget.hidden","widget.hiddenfield"],0,[Ext.form.field,"Hidden",Ext.form,"Hidden"],0);Ext.cmd.derive("Ext.picker.Color",Ext.Component,{alternateClassName:"Ext.ColorPalette",focusable:!0,componentCls:"x-color-picker",selectedCls:"x-color-picker-selected",itemCls:"x-color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;<\/span>',"<\/a>","<\/tpl>"],initComponent:function(){var n=this;if(Ext.Component.prototype.initComponent.apply(this,arguments),n.handler)n.on("select",n.handler,n.scope,!0)},initRenderData:function(){var n=this;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{itemCls:n.itemCls,colors:n.colors})},onRender:function(){var n=this,t=n.clickEvent;Ext.Component.prototype.onRender.apply(this,arguments);n.mon(n.el,t,n.handleClick,n,{delegate:"a"});t!=="click"&&n.mon(n.el,"click",Ext.emptyFn,n,{delegate:"a",stopEvent:!0})},afterRender:function(){var n=this,t;Ext.Component.prototype.afterRender.apply(this,arguments);n.value&&(t=n.value,n.value=null,n.select(t,!0))},handleClick:function(n){var t=this,i;n.stopEvent();t.disabled||(i=n.currentTarget.className.match(t.colorRe)[1],t.select(i.toUpperCase()))},select:function(n,t){var i=this,f=i.selectedCls,e=i.value,u,r;if(n=n.replace("#",""),!i.rendered){i.value=n;return}(n!==e||i.allowReselect)&&(u=i.el,i.value&&(r=u.down("a.color-"+e,!0),Ext.fly(r).removeCls(f)),r=u.down("a.color-"+n,!0),Ext.fly(r).addCls(f),i.value=n,t!==!0&&i.fireEvent("select",i,n))},clear:function(){var n=this,t=n.value,i;t&&n.rendered&&(i=n.el.down("a.color-"+t,!0),Ext.fly(i).removeCls(n.selectedCls));n.value=null},getValue:function(){return this.value||null}},0,["colorpicker"],["component","box","colorpicker"],{component:!0,box:!0,colorpicker:!0},["widget.colorpicker"],0,[Ext.picker,"Color",Ext,"ColorPalette"],0);Ext.cmd.derive("Ext.layout.component.field.HtmlEditor",Ext.layout.component.field.FieldContainer,{type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(n){var t=this.owner,i;Ext.isGecko&&(i=t.textareaEl.dom,this.lastValue=i.value,i.value="");Ext.layout.component.field.FieldContainer.prototype.beginLayout.apply(this,arguments);n.toolbarContext=n.context.getCmp(t.toolbar);n.inputCmpContext=n.context.getCmp(t.inputCmp);n.bodyCellContext=n.getEl("bodyEl");n.textAreaContext=n.getEl("textareaEl");n.iframeContext=n.getEl("iframeEl")},beginLayoutCycle:function(n){var t=this,i=n.widthModel,r=n.heightModel,u=t.owner,f=u.iframeEl,e=u.textareaEl,o=r.natural||r.shrinkWrap?t.naturalHeight:"";Ext.layout.component.field.FieldContainer.prototype.beginLayoutCycle.apply(this,arguments);i.shrinkWrap?(f.setStyle("width",""),e.setStyle("width","")):i.natural&&n.bodyCellContext.setWidth(t.naturalWidth);f.setStyle("height",o);e.setStyle("height",o)},finishedLayout:function(){var n=this.owner;Ext.layout.component.field.FieldContainer.prototype.finishedLayout.apply(this,arguments);Ext.isGecko&&(n.textareaEl.dom.value=this.lastValue)}},0,0,0,0,["layout.htmleditor"],0,[Ext.layout.component.field,"HtmlEditor"],0);Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:"x-toolbar-separator",ariaRole:"separator"},0,["tbseparator"],["component","box","tbitem","tbseparator"],{component:!0,box:!0,tbitem:!0,tbseparator:!0},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0);Ext.cmd.derive("Ext.layout.container.boxOverflow.Menu",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="x-toolbar-no-items" role="menuitem">(None)<\/div>',menuCls:"x-box-menu",constructor:function(n){var t=this;Ext.layout.container.boxOverflow.None.prototype.constructor.call(this,n);t.menuItems=[]},beginLayout:function(n){Ext.layout.container.boxOverflow.None.prototype.beginLayout.call(this,n);this.clearOverflow(n)},beginLayoutCycle:function(n,t){Ext.layout.container.boxOverflow.None.prototype.beginLayoutCycle.call(this,n,t);t||(this.clearOverflow(n),this.layout.cacheChildItems(n))},onRemove:function(n){Ext.Array.remove(this.menuItems,n)},clearItem:function(n){var t=n.menu;n.isButton&&t&&n.setMenu(t,!1)},getSuffixConfig:function(){var n=this,i=n.layout,t=i.owner,r=t.id;return n.menu=new Ext.menu.Menu({listeners:{scope:n,beforeshow:n.beforeMenuShow}}),n.menuTrigger=new Ext.button.Button({id:r+"-menu-trigger",cls:n.menuCls+"-after x-toolbar-item",plain:t.usePlainButtons,ownerCt:t,ownerLayout:i,iconCls:"x-"+n.getOwnerType(t)+"-more-icon",ui:t.defaultButtonUI||"default",menu:n.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),n.menuTrigger.getRenderTree()},getOverflowCls:function(n){return this.menuCls+"-body-"+n},handleOverflow:function(n){var t=this,i=t.layout;return t.showTrigger(n),i.direction!=="vertical"&&t.menuTrigger.setLocalY((n.state.boxPlan.maxSize-t.menuTrigger[i.names.getHeight]())/2),{reservedSpace:t.triggerTotalWidth}},captureChildElements:function(){var t=this,n=t.menuTrigger,i=t.layout.names;n.rendering&&(n.finishRender(),t.triggerTotalWidth=n[i.getWidth]()+n.el.getMargin(i.parallelMargins))},clearOverflow:function(){var n=this,r=n.menuItems,f=r.length,u=n.layout.owner,e=u._asLayoutRoot,t,i;for(u.suspendLayouts(),n.captureChildElements(),n.hideTrigger(),u.resumeLayouts(),i=0;i<f;i++)t=r[i],t.suspendLayouts(),t.show(),n.clearItem(t),t.resumeLayouts(e);r.length=0},showTrigger:function(n){var i=this,h=i.layout,c=h.owner,l=h.names,p=l.x,a=l.width,w=n.state.boxPlan,v=w.targetSize[a],y=n.childItems,u=i.menuTrigger,f=i.menuItems,e,o,t,s,r;for(u.suspendLayouts(),u.show(),u.resumeLayouts(i._asLayoutRoot),v-=i.triggerTotalWidth,c.suspendLayouts(),t=0,r=f.length;t<r;++t)i.clearItem(f[t]);for(f.length=0,t=0,r=y.length;t<r;t++)e=y[t],s=e.props,s[p]+s[a]>v&&(o=e.target,i.menuItems.push(o),o.hide());c.resumeLayouts()},hideTrigger:function(){var n=this.menuTrigger;n&&n.hide()},beforeMenuShow:function(n){var u=this,f=u.menuItems,i=0,o=f.length,t,r,e=function(n,t){return n.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};for(n.suspendLayouts(),n.removeAll(!1);i<o;i++)(t=f[i],!i&&t instanceof Ext.toolbar.Separator)||(r&&(e(t,r)||e(r,t))&&n.add("-"),u.addComponentToMenu(n,t),r=t);n.items.length<1&&n.add(u.noItemsMenuText);n.resumeLayouts()},createMenuConfig:function(n,t){var i=Ext.apply({},n.initialConfig),r=n.toggleGroup;if(Ext.copyTo(i,n,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.applyIf(i,{text:n.overflowText||n.text,hideOnClick:t,destroyMenu:!1,listeners:null}),n.isFormField?(i.value=n.getValue(),i.listeners={change:function(t,i){n.setValue(i)}}):(r||n.enableToggle)&&Ext.apply(i,{hideOnClick:!1,group:r,checked:n.pressed,handler:function(t,i){n.onClick(i)}}),n.isButton&&!n.changeListenersAdded){n.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle});n.changeListenersAdded=!0}return delete i.margin,delete i.ownerCt,delete i.xtype,delete i.id,delete i.itemId,i},onButtonAttrChange:function(n){var t=n.overflowClone;t.suspendLayouts();t.setText(n.text);t.setIcon(n.icon);t.setIconCls(n.iconCls);t.resumeLayouts(!0)},onButtonToggle:function(n,t){n.overflowClone.checked!==t&&n.overflowClone.setChecked(t)},addComponentToMenu:function(n,t){var i=this,r,u,f;if(!(t instanceof Ext.toolbar.Fill))if(t instanceof Ext.toolbar.Separator)n.add("-");else if(t.overflowClone)n.add(t.overflowClone);else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=n.add(i.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=n.add(i.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(u=t.items.items,f=u.length,r=0;r<f;r++)i.addComponentToMenu(n,u[r]);else t.overflowClone=n.add(Ext.create(Ext.getClassName(t),i.createMenuConfig(t)))},destroy:function(){var n=this.menuTrigger;n&&!this.layout.owner.items.contains(n)&&delete n.ownerCt;Ext.destroy(this.menu,n)}},1,0,0,0,["box.overflow.Menu","box.overflow.menu"],0,[Ext.layout.container.boxOverflow,"Menu",Ext.layout.boxOverflow,"Menu"],0);Ext.cmd.derive("Ext.form.field.HtmlEditor",Ext.form.FieldContainer,{alternateClassName:"Ext.form.HtmlEditor",focusable:!0,componentLayout:"htmleditor",textareaCls:"x-htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","<\/textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"><\/iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:"x-html-editor-wrap",defaultButtonUI:"default-toolbar",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:"x-html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,nonDigitsRE:/\D/g,initComponent:function(){var n=this;n.items=[n.createToolbar(),n.createInputCmp()];n.layout={type:"vbox",align:"stretch"};n.value==null&&(n.value="");Ext.form.FieldContainer.prototype.initComponent.apply(this,arguments);n.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var n=this,t=n.id+"-inputCmp",i={id:t,name:n.name,textareaCls:n.textareaCls+" x-hidden",value:n.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:"x-htmleditor-iframe"};return n.getInsertionRenderData(i,n.subTplInsertions),{flex:1,xtype:"component",tpl:n.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:t,cls:"x-html-editor-input",data:i}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){function i(t,i,f){return{itemId:t,cls:r+"btn-icon",iconCls:r+"edit-"+t,enableToggle:i!==!1,scope:n,handler:f||n.relayBtnCmd,clickEvent:"mousedown",tooltip:e?n.buttonTips[t]||u:u,overflowText:n.buttonTips[t].title||u,tabIndex:-1}}var n=this,t=[],f,e=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),r="x-",o,u;for(n.enableFont&&!Ext.isSafari2&&(o=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+r+'font-select">',"<\/select>"],childEls:["selectEl"],afterRender:function(){n.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var n=this.selectEl;n&&(n.dom.disabled=!0);Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var n=this.selectEl;n&&(n.dom.disabled=!1);Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){n.win.focus();n.relayCmd("fontName",n.fontSelect.dom.value);n.deferFocus()},element:"selectEl"}}),t.push(o,"-")),n.enableFormat&&t.push(i("bold"),i("italic"),i("underline")),n.enableFontSize&&t.push("-",i("increasefontsize",!1,n.adjustFont),i("decreasefontsize",!1,n.adjustFont)),n.enableColors&&t.push("-",{itemId:"forecolor",cls:r+"btn-icon",iconCls:r+"edit-forecolor",overflowText:n.buttonTips.forecolor.title,tooltip:e?n.buttonTips.forecolor||u:u,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(t,i){n.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+i:i);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:r+"btn-icon",iconCls:r+"edit-backcolor",overflowText:n.buttonTips.backcolor.title,tooltip:e?n.buttonTips.backcolor||u:u,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(t,i){Ext.isGecko?(n.execCmd("useCSS",!1),n.execCmd("hilitecolor","#"+i),n.execCmd("useCSS",!0),n.deferFocus()):n.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+i:i);this.up("menu").hide()}}]})}),n.enableAlignments&&t.push("-",i("justifyleft"),i("justifycenter"),i("justifyright")),Ext.isSafari2||(n.enableLinks&&t.push("-",i("createlink",!1,n.createLink)),n.enableLists&&t.push("-",i("insertorderedlist"),i("insertunorderedlist")),n.enableSourceEdit&&t.push("-",i("sourceedit",!0,function(){n.toggleSourceEdit(!n.sourceEditMode)}))),f=0;f<t.length;f++)t[f].itemId!=="sourceedit"&&(t[f].disabled=!0);return{xtype:"toolbar",defaultButtonUI:n.defaultButtonUI,cls:"x-html-editor-tb",enableOverflow:!0,items:t,listeners:{click:function(n){n.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(n){var t=this,r=t.textareaEl,u=t.iframeEl,i;t.readOnly=n;r&&(r.dom.readOnly=n);t.initialized&&(i=t.getEditorBody(),Ext.isIE?(u.setDisplayed(!1),i.contentEditable=!n,u.setDisplayed(!0)):t.setDesignMode(!n),i&&(i.style.cursor=n?"default":"text"),t.disableItems(n))},getDocMarkup:function(){var n=this,t=n.iframeEl.getHeight()-n.iframePad*2;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(n.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}<\/style><\/head><body><\/body><\/html>",n.iframePad,t,n.defaultFont)},getEditorBody:function(){var n=this.getDoc();return n.body||n.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var t=this,o=0,i,n,u,f,r,s,e;if(!t.defaultFont){for(n=t.textareaEl.getStyle("font-family"),n=Ext.String.capitalize(n.split(",")[0]),i=Ext.Array.clone(t.fontFamilies),Ext.Array.include(i,n),i.sort(),t.defaultFont=n,u=t.down("#fontSelect").selectEl.dom,r=0,s=i.length;r<s;++r)n=i[r],e=n.toLowerCase(),f=new Option(n,e),n===t.defaultFont&&(o=r),f.style.fontFamily=e,Ext.isIE?u.add(f):u.options.add(f);u.options[o].selected=!0}},isEqual:function(n,t){return this.isEqualAsString(n,t)},afterRender:function(){var n=this,t=n.inputCmp;Ext.form.FieldContainer.prototype.afterRender.apply(this,arguments);n.iframeEl=t.iframeEl;n.textareaEl=t.textareaEl;n.inputEl=n.iframeEl;n.enableFont&&n.initDefaultFont();n.monitorTask=Ext.TaskManager.start({run:n.checkDesignMode,scope:n,interval:100})},initFrameDoc:function(){var n=this,t,i;Ext.TaskManager.stop(n.monitorTask);t=n.getDoc();n.win=n.getWin();t.open();t.write(n.getDocMarkup());t.close();i={run:function(){var t=n.getDoc();(t.body||t.readyState==="complete")&&(Ext.TaskManager.stop(i),n.setDesignMode(!0),Ext.defer(n.initEditor,10,n))},interval:10,duration:1e4,scope:n};Ext.TaskManager.start(i)},checkDesignMode:function(){var n=this,t=n.getDoc();t&&(!t.editorInitialized||n.getDesignMode()!=="on")&&n.initFrameDoc()},setDesignMode:function(n){var t=this,i=t.getDoc();i&&(t.readOnly&&(n=!1),i.designMode=/on|true/i.test(String(n).toLowerCase())?"on":"off")},getDesignMode:function(){var n=this.getDoc();return n?String(n.designMode).toLowerCase():""},disableItems:function(n){for(var r=this.getToolbar().items.items,u=r.length,i,t=0;t<u;t++)i=r[t],i.getItemId()!=="sourceedit"&&i.setDisabled(n)},toggleSourceEdit:function(n){var t=this,u=t.iframeEl,i=t.textareaEl,r="x-hidden",f=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(n)||(n=!t.sourceEditMode);t.sourceEditMode=n;f.pressed!==n&&f.toggle(n);n?(t.disableItems(!0),t.syncValue(),u.addCls(r),i.removeCls(r),i.dom.removeAttribute("tabindex"),i.focus(),t.inputEl=i):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),u.removeCls(r),i.addCls(r),i.dom.setAttribute("tabindex",-1),t.deferFocus(),t.inputEl=u);t.fireEvent("editmodechange",t,n);t.updateLayout()},createLink:function(){var n=prompt(this.createLinkText,this.defaultLinkValue);n&&n!=="http://"&&this.relayCmd("createlink",n)},clearInvalid:Ext.emptyFn,setValue:function(n){var t=this,i=t.textareaEl;return(n===null||n===undefined)&&(n=""),t.value!==n&&(i&&(i.dom.value=n),t.pushValue(),!t.rendered&&t.inputCmp&&(t.inputCmp.data.value=n),t.mixins.field.setValue.call(t,n)),t},cleanHtml:function(n){return n=String(n),Ext.isWebKit&&(n=n.replace(this.safariNonsenseRE,"")),n.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,""),10)&&(n=n.substring(1)),n},syncValue:function(){var t=this,u,f,n,e,i,r;t.initialized&&(u=t.getEditorBody(),n=u.innerHTML,r=t.textareaEl.dom,Ext.isWebKit&&(e=u.getAttribute("style"),i=e.match(t.textAlignRE),i&&i[1]&&(n='<div style="'+i[0]+'">'+n+"<\/div>")),n=t.cleanHtml(n),t.fireEvent("beforesync",t,n)!==!1&&(Ext.isGecko&&r.value===""&&n==="<br>"&&(n=""),r.value!==n&&(r.value=n,f=!0),t.fireEvent("sync",t,n),f&&t.checkChange()))},getValue:function(){var n=this,t;return n.sourceEditMode||n.syncValue(),t=n.rendered?n.textareaEl.dom.value:n.value,n.value=t,t},pushValue:function(){var n=this,t;n.initialized&&(t=n.textareaEl.dom.value||"",!n.activated&&t.length<1&&(t=n.defaultValue),n.fireEvent("beforepush",n,t)!==!1&&(n.getEditorBody().innerHTML=t,Ext.isGecko&&(n.setDesignMode(!1),n.setDesignMode(!0)),n.fireEvent("push",n,t)))},focus:function(n,t){var i=this,u,r;return t?(i.focusTask||(i.focusTask=new Ext.util.DelayedTask(i.focus)),i.focusTask.delay(Ext.isNumber(t)?t:10,null,i,[n,!1])):(n&&(i.textareaEl&&i.textareaEl.dom&&(u=i.textareaEl.dom.value),u&&u.length&&i.execCmd("selectall",!0)),r=i.getFocusEl(),r&&r.focus&&r.focus()),i},initEditor:function(){var n=this,u,f,r,i,t;if(!n.destroying&&!n.isDestroyed){if(u=n.getEditorBody(),!u){setTimeout(function(){n.initEditor()},10);return}if(f=n.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]),f["background-attachment"]="fixed",u.bgProperties="fixed",Ext.DomHelper.applyStyles(u,f),r=n.getDoc(),i=Ext.get(r),i){try{i.clearListeners()}catch(e){}t=n.onEditorEvent.bind(n);i.on({mousedown:t,dblclick:t,click:t,keyup:t,delegated:!1,buffer:100});t=n.onRelayedEvent;i.on({mousedown:t,mousemove:t,mouseup:t,click:t,dblclick:t,delegated:!1,scope:n});if(Ext.isGecko)i.on("keypress",n.applyCommand,n);if(n.fixKeys)i.on("keydown",n.fixKeys,n,{delegated:!1});if(n.fixKeysAfter)i.on("keyup",n.fixKeysAfter,n,{delegated:!1});if(Ext.isIE9)Ext.get(r.documentElement).on("focus",n.focus,n);if(Ext.isIE8){i.on("focusout",function(){n.savedSelection=r.selection.type!=="None"?r.selection.createRange():null},n);i.on("focusin",function(){n.savedSelection&&n.savedSelection.select()},n)}Ext.getWin().on("beforeunload",n.beforeDestroy,n);r.editorInitialized=!0;n.initialized=!0;n.pushValue();n.setReadOnly(n.readOnly);n.fireEvent("initialize",n)}}},beforeDestroy:function(){var n=this,r=n.monitorTask,t,i;if(r&&Ext.TaskManager.stop(r),n.rendered){if(Ext.getWin().un(n.beforeDestroy,n),t=n.getDoc(),t&&(Ext.get(t).destroy(),t.hasOwnProperty))for(i in t)try{t.hasOwnProperty(i)&&delete t[i]}catch(u){}delete n.iframeEl;delete n.textareaEl;delete n.toolbar;delete n.inputCmp}Ext.form.FieldContainer.prototype.beforeDestroy.call(this)},onRelayedEvent:function(n){var t=this.iframeEl,i=Ext.fly(t).getTrueXY(),u=n.getXY(),r=n.getXY();n.xy=[i[0]+r[0],i[1]+r[1]];n.injectEvent(t);n.xy=u},onFirstFocus:function(){var n=this,t,i;if(n.activated=!0,n.disableItems(n.readOnly),Ext.isGecko){n.win.focus();t=n.win.getSelection();t.focusNode&&!n.getValue().length&&(i=t.getRangeAt(0),i.selectNodeContents(n.getEditorBody()),i.collapse(!0),n.deferFocus());try{n.execCmd("useCSS",!0);n.execCmd("styleWithCSS",!1)}catch(r){}}n.fireEvent("activate",n)},adjustFont:function(n){var i=n.getItemId()==="increasefontsize"?1:-1,t=this.getDoc().queryCommandValue("FontSize")||"2",u=Ext.isString(t)&&t.indexOf("px")!==-1,r;t=parseInt(t,10);u?(t=t<=10?1+i:t<=13?2+i:t<=16?3+i:t<=18?4+i:t<=24?5+i:6+i,t=Ext.Number.constrain(t,1,6)):(r=Ext.isSafari,r&&(i*=2),t=Math.max(1,t+i)+(r?"px":0));this.relayCmd("FontSize",t)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function o(){var n;for(t=0,s=arguments.length,i;t<s;t++){i=arguments[t];try{n=u.queryCommandState(i)}catch(r){n=!1}h[i].toggle(n)}}var n=this,t,s,h,u,i,r,f,e;if(!n.readOnly){if(!n.activated){n.onFirstFocus();return}for(h=n.getToolbar().items.map,u=n.getDoc(),n.enableFont&&!Ext.isSafari2&&(r=u.queryCommandValue("fontName"),i=(r?r.split(",")[0].replace(n.reStripQuotes,""):n.defaultFont).toLowerCase(),f=n.fontSelect.dom,(i!==f.value||i!==r)&&(f.value=i)),n.enableFormat&&o("bold","italic","underline"),n.enableAlignments&&o("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&n.enableLists&&o("insertorderedlist","insertunorderedlist"),e=n.toolbar.query("menu"),t=0;t<e.length;t++)e[t].hide();n.syncValue()}},relayBtnCmd:function(n){this.relayCmd(n.getItemId())},relayCmd:function(n,t){Ext.defer(function(){var i=this;this.isDestroyed||(i.win.focus(),i.execCmd(n,t),i.updateToolbar())},10,this)},execCmd:function(n,t){var i=this,r=i.getDoc();r.execCommand(n,!1,t===undefined?null:t);i.syncValue()},applyCommand:function(n){if(n.ctrlKey){var r=this,i=n.getCharCode(),t;if(i>0){i=String.fromCharCode(i);switch(i){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(r.win.focus(),r.execCmd(t),r.deferFocus(),n.preventDefault())}}},insertAtCursor:function(n){var r=this,e=r.getWin(),u=r.getDoc(),t,i,o,f,h,s,c;if(r.activated){if(e.focus(),e.getSelection){if(t=e.getSelection(),t.getRangeAt&&t.rangeCount){for(i=t.getRangeAt(0),i.deleteContents(),o=u.createElement("div"),o.innerHTML=n,f=u.createDocumentFragment();h=o.firstChild;)s=f.appendChild(h);c=f.firstChild;i.insertNode(f);s&&(i=i.cloneRange(),i.setStartAfter(s),i.collapse(!0),t.removeAllRanges(),t.addRange(i))}}else u.selection&&t.type!=="Control"&&(t=u.selection,i=t.createRange(),i.collapse(!0),t.createRange().pasteHTML(n));r.deferFocus()}},fixKeys:function(){var n;return Ext.isIE?function(t){var u=this,e=t.getKey(),r=u.getDoc(),o=u.readOnly,i,f;e===t.TAB?(t.stopEvent(),o||(i=r.selection.createRange(),i&&(i.collapse&&(i.collapse(!0),i.pasteHTML("&#160;&#160;&#160;&#160;")),u.deferFocus()))):e===t.ENTER&&(o||(Ext.isIE10m?(i=r.selection.createRange(),i&&(f=i.parentElement(),f&&f.tagName.toLowerCase()==="li"||(t.stopEvent(),i.pasteHTML("<br />"),i.collapse(!1),i.select()))):(i=r.getSelection().getRangeAt(0),i&&i.commonAncestorContainer.parentNode.tagName.toLowerCase()!=="li"&&(t.stopEvent(),n=r.createElement("div"),i.insertNode(n)))))}:Ext.isOpera?function(n){var t=this,i=n.getKey(),r=t.readOnly;i===n.TAB&&(n.stopEvent(),r||(t.win.focus(),t.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),t.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(n){var i=this,r=n.getKey(),u=i.getDoc(),f=i.readOnly,t;f||r!==n.BACKSPACE&&r!==n.DELETE||(t=u.body.innerHTML,(t==="<p>&nbsp;<\/p>"||t==="<P>&nbsp;<\/P>")&&(u.body.innerHTML=""))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}},0,["htmleditor"],["component","box","container","fieldcontainer","htmleditor"],{component:!0,box:!0,container:!0,fieldcontainer:!0,htmleditor:!0},["widget.htmleditor"],[["field",Ext.form.field.Field]],[Ext.form.field,"HtmlEditor",Ext.form,"HtmlEditor"],0);Ext.cmd.derive("Ext.form.field.Tag",Ext.form.field.ComboBox,{noWrap:!1,multiSelect:!0,delimiter:",",forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,filterPickList:!1,grow:!0,growMin:!1,growMax:!1,selectOnFocus:!0,fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper" class="x-tagfield {fieldCls} {typeCls} {typeCls}-{ui} style="{wrapperStyle}">','<ul id="{cmpId}-itemList" data-ref="itemList" class="x-tagfield-list{itemListCls}">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" class="x-tagfield-input">','<div id="{cmpId}-emptyEl" data-ref="emptyEl" class="{emptyCls}">{emptyText}<\/div>','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" <\/tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"<\/tpl>','<tpl if="size">size="{size}" <\/tpl>','<tpl if="tabIdx != null">tabindex="{tabIdx}" <\/tpl>','<tpl if="disabled"> disabled="disabled"<\/tpl>','class="x-tagfield-input-field {inputElCls}" autocomplete="off">',"<\/li>","<\/ul>","<\/div>",{disableFormats:!0}],extraFieldBodyCls:"x-tagfield-body",childEls:["listWrapper","itemList","inputEl","inputElCt","emptyEl"],emptyInputCls:"x-tagfield-emptyinput",clearValueOnEmpty:!1,tagItemSelector:".x-tagfield-item",tagItemCloseSelector:".x-tagfield-item-close",tagSelectedCls:"x-tagfield-item-selected",initComponent:function(){var n=this,i=n.typeAhead,t=n.delimiter;(n.createNewOnEnter||n.createNewOnBlur)&&(n.forceSelection=!1);n.typeAhead=!1;n.value==null&&(n.value=[]);n.selectionModel=new Ext.selection.Model({mode:"MULTI",onSelectChange:function(n,t,i,r){r()},listeners:{scope:n,selectionchange:n.onSelectionChange,focuschange:n.onFocusChange}});Ext.form.field.ComboBox.prototype.initComponent.call(this);n.typeAhead=i;t&&n.multiSelect&&(n.delimiterRegexp=new RegExp(Ext.String.escapeRegex(t)))},initEvents:function(){var n=this,t=n.inputEl;if(Ext.form.field.ComboBox.prototype.initEvents.apply(this,arguments),!n.enableKeyEvents){t.on("keydown",n.onKeyDown,n);t.on("keyup",n.onKeyUp,n)}n.listWrapper.on("click",n.onItemListClick,n)},isValid:function(){var n=this,t=n.disabled,i=n.forceValidation||!t;return i?n.validateValue(n.getValue()):t},onBindStore:function(n){var t=this;Ext.form.field.ComboBox.prototype.onBindStore.call(this,n);n&&(t.valueStore=new Ext.data.Store({model:n.getModel()}),t.selectionModel.bindStore(t.valueStore),t.filterPickList&&(t.listFilter=new Ext.util.Filter({scope:t,filterFn:t.filterPicked}),t.changingFilters=!0,n.filter(t.listFilter),t.changingFilters=!1))},filterPicked:function(n){return!this.valueCollection.contains(n)},onUnbindStore:function(n){var t=this,i=t.valueStore,r=t.picker;r&&r.bindStore(null);i&&(i.destroy(),t.valueStore=null);t.filterPickList&&!n.isDestroyed&&(t.changingFilters=!0,n.removeFilter(t.listFilter),t.changingFilters=!1);Ext.form.field.ComboBox.prototype.onUnbindStore.apply(this,arguments)},onValueCollectionEndUpdate:function(){var n=this,i=n.valueCollection.items,t=n.valueStore;n.isSelectionUpdating()||(n.filterPickList&&(n.changingFilters=!0,n.store.filter(n.listFilter),n.changingFilters=!1),Ext.form.field.ComboBox.prototype.onValueCollectionEndUpdate.call(this),Ext.suspendLayouts(),t&&(t.suspendEvents(),t.loadRecords(i),t.resumeEvents()),Ext.resumeLayouts(!0))},checkValueOnDataChange:Ext.emptyFn,onSelectionChange:function(n,t){this.applyMultiselectItemMarkup();this.fireEvent("valueselectionchange",this,t)},onFocusChange:function(n,t,i){this.fireEvent("valuefocuschange",this,t,i)},onDestroy:function(){this.selectionModel=Ext.destroy(this.selectionModel);Ext.form.field.ComboBox.prototype.onDestroy.apply(this,arguments)},getSubTplData:function(){var t=this,n=Ext.form.field.ComboBox.prototype.getSubTplData.apply(this,arguments),e=t.emptyText,o=t.emptyInputCls,i=e&&n.value.length<1,r=t.growMin,u=t.growMax,f="";return n.value="",n.emptyText=i?e:"",n.emptyCls=i?t.emptyCls:o,n.inputElCls=i?o:"",n.itemListCls="",t.grow&&(Ext.isNumber(r)&&r>0&&(f+="min-height:"+r+"px;"),Ext.isNumber(u)&&u>0&&(f+="max-height:"+u+"px;")),n.wrapperStyle=f,t.stacked===!0&&(n.itemListCls+=" x-tagfield-stacked"),t.multiSelect||(n.itemListCls+=" x-tagfield-singleselect"),n},afterRender:function(){var n=this,t=n.inputEl;Ext.supports.Placeholder&&t&&n.emptyText&&t.dom.removeAttribute("placeholder");n.applyMultiselectItemMarkup();Ext.form.field.ComboBox.prototype.afterRender.apply(this,arguments)},findRecord:function(n,t){var i=this.getStore().queryRecords(n,t);return i.length?i[0]:!1},getCursorPosition:function(){var n;return document.selection?(n=document.selection.createRange(),n.collapse(!0),n.moveStart("character",-this.inputEl.dom.value.length),n=n.text.length):n=this.inputEl.dom.selectionStart,n},hasSelectedText:function(){var n=this.inputEl.dom,t,i;return document.selection?(t=document.selection,i=t.createRange(),i.parentElement()===n):n.selectionStart!==n.selectionEnd},onKeyDown:function(n){var t=this,u=n.getKey(),o=t.inputEl,s=o.dom.value,f=t.valueCollection,i=t.selectionModel,e=!1,r;if(!t.readOnly&&!t.disabled&&t.editable){if(f.getCount()>0&&(s===""||t.getCursorPosition()===0&&!t.hasSelectedText())&&(r=i.getCount()>0?f.indexOf(i.getLastSelected()):-1,u===n.BACKSPACE||u===n.DELETE?(r>-1?(i.getCount()>1&&(r=-1),f.remove(i.getSelection())):f.remove(f.last()),i.clearSelections(),r>0?i.select(r-1):f.getCount()&&i.select(f.last()),e=!0):u===n.RIGHT||u===n.LEFT?r===-1&&u===n.LEFT?(i.select(f.last()),e=!0):r>-1&&(u===n.RIGHT?r<f.getCount()-1?(i.select(r+1,n.shiftKey),e=!0):n.shiftKey||(i.deselectAll(),e=!0):u===n.LEFT&&r>0&&(i.select(r-1,n.shiftKey),e=!0)):u===n.A&&n.ctrlKey&&(i.selectAll(),e=n.A)),e){t.preventKeyUpEvent=e;n.stopEvent();return}t.isExpanded&&u===n.ENTER&&t.picker.highlightedItem&&(t.preventKeyUpEvent=!0);t.enableKeyEvents&&Ext.form.field.ComboBox.prototype.onKeyDown.apply(this,arguments);n.isSpecialKey()||n.hasModifier()||i.deselectAll()}},onKeyUp:function(n,t){var i=this,u=i.inputEl,r=u.dom.value,f=i.preventKeyUpEvent;if(i.preventKeyUpEvent){n.stopEvent();(f===!0||n.getKey()===f)&&delete i.preventKeyUpEvent;return}(i.multiSelect&&i.delimiterRegexp&&i.delimiterRegexp.test(r)||i.createNewOnEnter&&n.getKey()===n.ENTER)&&(r=Ext.Array.clean(r.split(i.delimiterRegexp)),u.dom.value="",i.setValue(i.valueStore.getRange().concat(r)),u.focus());Ext.form.field.ComboBox.prototype.onKeyUp.call(this,n,t)},onTypeAhead:function(){var n=this,f=n.displayField,r=n.inputEl.dom,e=n.getPicker(),u=n.getStore().findRecord(f,r.value),t,o,i;u&&(t=u.get(f),o=t.length,i=r.value.length,e.highlightItem(e.getNode(u)),i!==0&&i!==o&&(r.value=t,n.selectText(i,t.length)))},onItemListClick:function(n){var t=this,r=t.selectionModel,i=n.getTarget(t.tagItemSelector),u=i?n.getTarget(t.tagItemCloseSelector):!1;t.readOnly||t.disabled||(n.stopPropagation(),i?(u?(t.removeByListItemNode(i),t.valueStore.getCount()>0&&t.fireEvent("select",t,t.valueStore.getRange())):t.toggleSelectionByListItemNode(i,n.shiftKey),Ext.supports.TouchEvents||t.inputEl.focus()):(r.getCount()>0&&r.deselectAll(),t.inputEl.focus(),t.triggerOnClick&&t.onTriggerClick()))},getMultiSelectItemMarkup:function(){var n=this,t="x-",i=n.valueField;return n.multiSelectItemTpl||(n.labelTpl||(n.labelTpl="{"+n.displayField+"}"),n.labelTpl=n.getTpl("labelTpl"),n.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li data-selectionIndex="{[xindex - 1]}" data-recordId="{internalId}" data-value="{[this.getItemValue(values)]}" class="'+t+"tagfield-item",'<tpl if="this.isSelected(values)">'," "+n.tagSelectedCls,"<\/tpl>","{%","values = values.data;","%}",'" qtip="{'+n.displayField+'}">','<div class="'+t+'tagfield-item-text">{[this.getItemLabel(values)]}<\/div>','<div class="'+t+'tagfield-item-close"><\/div>',"<\/li>","<\/tpl>",{isSelected:function(t){return n.selectionModel.isSelected(t)},getItemLabel:function(t){return n.labelTpl.apply(t)},getItemValue:function(n){return n.get(i)},strict:!0}])),n.multiSelectItemTpl.isTemplate||(n.multiSelectItemTpl=this.getTpl("multiSelectItemTpl")),n.multiSelectItemTpl.apply(n.valueCollection.getRange())},applyMultiselectItemMarkup:function(){var n=this,t=n.itemList;t&&(t.select(".x-tagfield-item").destroy(),n.inputElCt.insertHtml("beforeBegin",n.getMultiSelectItemMarkup()),n.autoSize())},getRecordByListItemNode:function(n){return this.valueCollection.items[Number(n.getAttribute("data-selectionIndex"))]},toggleSelectionByListItemNode:function(n,t){var u=this,i=u.getRecordByListItemNode(n),r=u.selectionModel;i&&(r.isSelected(i)?r.deselect(i):r.select(i,t))},removeByListItemNode:function(n){var t=this,i=t.getRecordByListItemNode(n);i&&t.pickerSelectionModel.deselect(i)},getDisplayValue:function(){return this.getRawValue()},getRawValue:function(){var n=this,i=n.inputEl,t;return n.inputEl=!1,t=Ext.form.field.ComboBox.prototype.getRawValue.apply(this,arguments),n.inputEl=i,t},setRawValue:function(n){var t=this,r=t.inputEl,i;return t.inputEl=!1,i=Ext.form.field.ComboBox.prototype.setRawValue.call(this,n),t.inputEl=r,i},removeValue:function(n){var i=this,e=i.valueCollection,u,r,t,f=[];if(n){for(n=Ext.Array.from(n),r=0,u=n.length;r<u;++r)t=n[r],t.isModel||(t=e.byValue.get(t)),t&&f.push(t);i.valueCollection.beginUpdate();i.pickerSelectionModel.deselect(f);i.valueCollection.endUpdate()}},setValue:function(n,t,i){var r=this,h=r.valueStore,c=r.valueField,o=[],l=r.store,e,a,f,u,v,s;for(Ext.isEmpty(n)&&(n=null),Ext.isString(n)&&r.multiSelect&&(n=n.split(r.delimiter)),n=Ext.Array.from(n,!0),f=0,a=n.length;f<a;f++)e=n[f],e&&e.isModel||(u=h.findExact(c,e),u>-1?n[f]=h.getAt(u):(u=r.findRecord(c,e),u||(r.forceSelection?o.push(e):(u={},u[r.valueField]=e,u[r.displayField]=e,v=r.valueStore.getModel(),u=new v(u))),u&&(n[f]=u)));if(!l.isEmptyStore&&i!==!0&&o.length>0&&r.queryMode==="remote")return s={},s[r.valueParam||r.valueField]=o.join(r.delimiter),l.load({params:s,callback:function(){r.itemList&&r.itemList.unmask();r.setValue(n,t,!0);r.autoSize();r.lastQuery=!1}}),!1;if(!r.multiSelect&&n.length>0){for(f=n.length-1;f>=0;f--)if(n[f].isModel){n=n[f];break}Ext.isArray(n)&&(n=n[n.length-1])}return Ext.form.field.ComboBox.prototype.setValue.call(this,n,t)},updateValue:function(){for(var n=this,t=n.valueCollection.getRange(),r=t.length,i=0;i<r;i++)t[i]=t[i].get(n.valueField);n.setHiddenValue(t);n.value=n.multiSelect?t:t[0];Ext.isDefined(n.value)||(n.value=undefined);n.applyMultiselectItemMarkup();n.checkChange()},getValueRecords:function(){return this.valueCollection.getRange()},getSubmitData:function(){var n=this,t=Ext.form.field.ComboBox.prototype.getSubmitData.apply(this,arguments);return n.multiSelect&&n.encodeSubmitValue&&t&&t[n.name]&&(t[n.name]=Ext.encode(t[n.name])),t},assertValue:function(){var n=this,t=n.inputEl.dom.value,r=Ext.isEmpty(t)?!1:n.findRecordByDisplay(t),i=!1;r||n.forceSelection||!n.createNewOnBlur||Ext.isEmpty(t)?r&&(i=r):i=t;i&&n.addValue(i);n.inputEl.dom.value="";n.collapse()},isEqual:function(n,t){var u=Ext.Array.from,f=this.valueField,i,r,e,o;if(n=u(n),t=u(t),r=n.length,r!==t.length)return!1;for(i=0;i<r;i++)if(e=n[i].isModel?n[i].get(f):n[i],o=t[i].isModel?t[i].get(f):t[i],e!==o)return!1;return!0},applyEmptyText:function(){var n=this,f=n.emptyText,t=n.emptyEl,u=n.inputEl,e=n.listWrapper,i=n.emptyCls,r=n.emptyInputCls,o;n.rendered&&f&&(o=Ext.isEmpty(n.value)&&!n.hasFocus,o?(u.dom.value="",t.setHtml(f),t.addCls(i),t.removeCls(r),e.addCls(i),u.addCls(r)):(t.addCls(r),t.removeCls(i),e.removeCls(i),u.removeCls(r)),n.autoSize())},preFocus:function(){var n=this,t=n.inputEl,i=t.dom.value==="";n.emptyEl.addCls(n.emptyInputCls);n.emptyEl.removeCls(n.emptyCls);n.listWrapper.removeCls(n.emptyCls);n.inputEl.removeCls(n.emptyInputCls);(n.selectOnFocus||i)&&t.dom.select()},onFocus:function(){var n=this,t=n.focusCls,i=n.itemList;t&&i&&i.addCls(t);Ext.form.field.ComboBox.prototype.onFocus.apply(this,arguments)},onBlur:function(){var n=this,t=n.focusCls,i=n.itemList;t&&i&&i.removeCls(t);Ext.form.field.ComboBox.prototype.onBlur.apply(this,arguments)},renderActiveError:function(){var n=this,i=n.invalidCls,t=n.itemList,r=n.hasActiveError();i&&t&&t[r?"addCls":"removeCls"](n.invalidCls+"-field");Ext.form.field.ComboBox.prototype.renderActiveError.apply(this,arguments)},autoSize:function(){var n=this;return n.grow&&n.rendered&&(n.autoSizing=!0,n.updateLayout()),n},afterComponentLayout:function(){var n=this,t;n.autoSizing&&(t=n.getHeight(),t!==n.lastInputHeight&&(n.isExpanded&&n.alignPicker(),n.fireEvent("autosize",n,t),n.lastInputHeight=t,n.autoSizing=!1))}},0,["tagfield"],["component","box","field","textfield","pickerfield","combobox","combo","tagfield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0,tagfield:!0},["widget.tagfield"],0,[Ext.form.field,"Tag"],0);Ext.cmd.derive("Ext.picker.Time",Ext.view.BoundList,{config:{store:!0},statics:{createStore:function(n,t){for(var u=Ext.Date,f=u.clearTime,i=this.prototype.initDate,e=[],r=f(new Date(i[0],i[1],i[2])),o=u.add(f(new Date(i[0],i[1],i[2])),"mi",1439);r<=o;)e.push({disp:u.dateFormat(r,n),date:r}),r=u.add(r,"mi",t);return new Ext.data.Store({model:Ext.picker.Time.prototype.modelType,data:e})}},increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:"x-timepicker",loadMask:!1,initComponent:function(){var t=this,i=Ext.Date,r=i.clearTime,n=t.initDate;t.absMin=r(new Date(n[0],n[1],n[2]));t.absMax=i.add(r(new Date(n[0],n[1],n[2])),"mi",1439);t.updateList();Ext.view.BoundList.prototype.initComponent.call(this)},applyStore:function(n){return n===!0&&(n=Ext.picker.Time.createStore(this.format,this.increment)),n},setMinValue:function(n){this.minValue=n;this.updateList()},setMaxValue:function(n){this.maxValue=n;this.updateList()},normalizeDate:function(n){var t=this.initDate;return n.setFullYear(t[0],t[1],t[2]),n},updateList:function(){var n=this,r=n.normalizeDate(n.minValue||n.absMin),u=n.normalizeDate(n.maxValue||n.absMax),t=n.getStore().getFilters(),i=n.rangeFilter;t.beginUpdate();i&&t.remove(i);i=n.rangeFilter=new Ext.util.Filter({filterFn:function(n){var t=n.get("date");return t>=r&&t<=u}});t.add(i);t.endUpdate()}},0,["timepicker"],["component","box","dataview","boundlist","timepicker"],{component:!0,box:!0,dataview:!0,boundlist:!0,timepicker:!0},["widget.timepicker"],0,[Ext.picker,"Time"],function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})});Ext.cmd.derive("Ext.form.field.Time",Ext.form.field.ComboBox,{alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:"x-form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var n=this,t=n.minValue,i=n.maxValue;t&&n.setMinValue(t);i&&n.setMaxValue(i);n.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+n.displayField+'"])]}<tpl if="xindex < xcount">'+n.delimiter+"<\/tpl><\/tpl>",{formatDate:n.formatDate.bind(n)});n.store=Ext.picker.Time.createStore(n.format,n.increment);Ext.form.field.ComboBox.prototype.initComponent.call(this);n.getPicker()},isEqual:function(n,t){var u=Ext.Array.from,f=Ext.Date.isEqual,i,r;if(n=u(n),t=u(t),r=n.length,r!==t.length)return!1;for(i=0;i<r;i++)if(!f(t[i],n[i]))return!1;return!0},setMinValue:function(n){var t=this,i=t.picker;t.setLimit(n,!0);i&&i.setMinValue(t.minValue)},setMaxValue:function(n){var t=this,i=t.picker;t.setLimit(n,!1);i&&i.setMaxValue(t.maxValue)},setLimit:function(n,t){var u=this,i,r;Ext.isString(n)?i=u.parseDate(n):Ext.isDate(n)&&(i=n);i?(r=u.getInitDate(),r.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):r=null;u[t?"minValue":"maxValue"]=r},getInitDate:function(n,t,i){var r=this.initDateParts;return new Date(r[0],r[1],r[2],n||0,t||0,i||0,0)},valueToRaw:function(n){return this.formatDate(this.parseDate(n))},getErrors:function(n){n=arguments.length>0?n:this.getRawValue();var t=this,u=Ext.String.format,r=Ext.form.field.ComboBox.prototype.getErrors.call(this,n),s=t.minValue,h=t.maxValue,f=t.displayTplData,c=t.getRawValue(),e,l,o,i;if(f&&f.length>0)for(e=0,l=f.length;e<l;e++){if(i=f[e],i=i.date||i.disp,o=t.parseDate(i),!o){r.push(u(t.invalidText,i,Ext.Date.unescapeFormat(t.format)));continue}s&&o<s&&r.push(u(t.minText,t.formatDate(s)));h&&o>h&&r.push(u(t.maxText,t.formatDate(h)))}else c.length&&!t.parseDate(c)&&r.push(u(t.invalidText,c,Ext.Date.unescapeFormat(t.format)));return r},formatDate:function(n){var i=[],t,r;for(n=Ext.Array.from(n),t=0,r=n.length;t<r;t++)i.push(Ext.form.field.Date.prototype.formatDate.call(this,n[t]));return i.join(this.delimiter)},parseDate:function(n){var i=this,t=n,f=i.altFormats,r=i.altFormatsArray,u=0,e;if(n&&!Ext.isDate(n)&&(t=i.safeParse(n,i.format),!t&&f))for(r=r||f.split("|"),e=r.length;u<e&&!t;++u)t=i.safeParse(n,r[u]);return t&&i.snapToIncrement&&(t=new Date(Ext.Number.snap(t.getTime(),i.increment*6e4))),t},safeParse:function(n,t){var f=this,i=Ext.Date,r,u=null;return i.formatContainsDateInfo(t)?u=i.parse(n,t):(r=i.parse(f.initDate+" "+n,f.initDateFormat+" "+t),r&&(u=r)),u},getSubmitValue:function(){var n=this,i=n.submitFormat||n.format,t=n.getValue();return t?Ext.Date.format(t,i):null},createPicker:function(){var n=this;return n.listConfig=Ext.apply({xtype:"timepicker",pickerField:n,cls:undefined,minValue:n.minValue,maxValue:n.maxValue,increment:n.increment,format:n.format,maxHeight:n.pickerMaxHeight},n.listConfig),Ext.form.field.ComboBox.prototype.createPicker.call(this)},completeEdit:function(){var n=this,t=n.getValue();Ext.form.field.ComboBox.prototype.completeEdit.apply(this,arguments);n.validateValue(t)&&n.setValue(t)},findRecordByValue:function(n){return typeof n=="string"&&(n=this.parseDate(n)),Ext.form.field.ComboBox.prototype.findRecordByValue.call(this,n)},rawToValue:function(n){var i=this,r,u,t,f;if(i.multiSelect){for(u=[],r=Ext.Array.from(n),t=0,f=r.length;t<f;t++)u.push(i.parseDate(r[t]));return u}return i.parseDate(n)},setValue:function(n){return this.getPicker(),Ext.isDate(n)&&(n=this.getInitDate(n.getHours(),n.getMinutes(),n.getSeconds())),Ext.form.field.ComboBox.prototype.setValue.call(this,n)},getValue:function(){return this.rawToValue(Ext.form.field.ComboBox.prototype.getValue.apply(this,arguments))}},0,["timefield"],["component","box","field","textfield","pickerfield","combobox","combo","timefield"],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0,timefield:!0},["widget.timefield"],0,[Ext.form.field,"Time",Ext.form,"TimeField",Ext.form,"Time"],0);Ext.cmd.derive("Ext.form.field.Trigger",Ext.form.field.Text,{alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:"x-form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){}},onClassExtended:function(){this.warnDeprecated()},constructor:function(n){this.self.warnDeprecated();Ext.form.field.Text.prototype.constructor.call(this,n)}},1,["trigger","triggerfield"],["component","box","field","textfield","triggerfield","trigger"],{component:!0,box:!0,field:!0,textfield:!0,triggerfield:!0,trigger:!0},["widget.trigger","widget.triggerfield"],0,[Ext.form.field,"Trigger",Ext.form,"TriggerField",Ext.form,"TwinTriggerField",Ext.form,"Trigger"],0);Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{alignment:"l-l?",hideEl:!1,cls:"x-small-editor x-grid-editor x-grid-cell-editor",treeNodeSelector:".x-tree-node-text",shim:!1,shadow:!1,constructor:function(n){var t;this.y=0;n=Ext.apply({},n);t=n.field;t&&(t.monitorTab=!1);Ext.Editor.prototype.constructor.call(this,n)},setGrid:function(n){var t=this,i=t.grid,r,u;if(n!==i){u={beforerefresh:t.beforeViewRefresh,refresh:t.onViewRefresh,scope:t};i&&i.getView().un(u);r=n.getView();t.renderTo=r.getTargetEl().dom;t.grid=n;r.on(u)}},afterFirstLayout:function(n,t){delete this.y;Ext.Editor.prototype.afterFirstLayout.call(this,n,t)},beforeViewRefresh:function(){var n=this,t=n.el&&n.el.dom;t&&(!n.editing||n.field.column&&n.field.column.sorting||(n.grid.view.cellFocused=!1,n.wasAllowBlur=n.allowBlur,n.allowBlur=!1),t.parentNode&&t.parentNode.removeChild(t))},onViewRefresh:function(){var n=this,i=n.el&&n.el.dom,t;i&&(t=n.field.column&&n.field.column.sorting,n.editing&&!t?(n.allowBlur=n.wasAllowBlur,n.renderTo.appendChild(i),n.grid.view.cellFocused=!0,n.field.focus()):t||Ext.getDetachedBody().dom.appendChild(i),n.editing&&t&&n.completeEdit())},startEdit:function(n,t){this.context=this.editingPlugin.context;Ext.Editor.prototype.startEdit.call(this,n,t)},onShow:function(){var n=this,t=n.boundEl.first();n.el.dom.parentNode!==n.renderTo&&n.renderTo.appendChild(n.el.dom);t&&(n.isForTree&&(t=t.child(n.treeNodeSelector)),t.hide());Ext.Editor.prototype.onShow.apply(this,arguments)},onEditComplete:function(n){n&&this.restoreCell();Ext.Editor.prototype.onEditComplete.apply(this,arguments)},onHide:function(){this.restoreCell();Ext.Editor.prototype.onHide.apply(this,arguments)},restoreCell:function(){var t=this,n=t.boundEl.first();n&&(t.isForTree&&(n=n.child(t.treeNodeSelector)),n.show())},afterRender:function(){var n=this,t=n.field;Ext.Editor.prototype.afterRender.apply(this,arguments);t.isCheckbox&&t.mon(t.inputEl,{mousedown:n.onCheckBoxMouseDown,click:n.onCheckBoxClick,scope:n})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(!1,10)},realign:function(n){var t=this,r=t.boundEl,i=r.first(),u=i.dom.firstChild,f=r.getWidth(),o=Ext.Array.clone(t.offsets),c=t.grid,e,s="",h=!u||u.nodeType===3&&!Ext.String.trim(s=u.data).length;t.isForTree&&(e=t.getTreeNodeOffset(i),f-=Math.abs(e),o[0]+=e);c.columnLines&&(f-=r.getBorderWidth("rl"));n===!0&&t.field.setWidth(f);h&&(i.dom.innerHTML="X");t.alignTo(i,t.alignment,o);h&&(i.dom.firstChild.data=s)},getTreeNodeOffset:function(n){return n.child(this.treeNodeSelector).getOffsetsTo(n)[0]},onEditorTab:function(n){var t=this.field;if(t.onEditorTab)t.onEditorTab(n)},onFocusLeave:function(n){this.previousFocus=null;Ext.Editor.prototype.onFocusLeave.call(this,n);this.selectSameEditor=!1}},1,0,["component","box","container","editor"],{component:!0,box:!0,container:!0,editor:!0},0,0,[Ext.grid,"CellEditor"],0);Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(n,t,i){this.headerCt=t;i&&(this.secondHeaderCt=i);this.visibleOnly=!!n},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},hasVariableRowHeight:function(){var n=this,i=n.getColumns(),r=i.length,t;if(n.variableRowHeight==null)for(n.variableRowHeight=!1,t=0;!n.variableRowHeight&&t<r;t++)n.variableRowHeight=!!i[t].variableRowHeight;return n.variableRowHeight},getHeaderIndex:function(n){return n.isGroupHeader&&(n=this.getHeaderColumns(n)[0]),Ext.Array.indexOf(this.getColumns(),n)},getHeaderAtIndex:function(n){var t=this.getColumns(),i=t[n];return i||null},getPreviousSibling:function(n){var t=this.getHeaderIndex(n),i=null;return t>0&&(i=this.getColumns()[t-1]),i},getNextSibling:function(n){var t=this.getHeaderIndex(n),i;return t!==-1&&(i=this.getColumns()[t+1]),i||null},getFirst:function(){var n=this.getColumns();return n.length>0?n[0]:null},getLast:function(){var n=this.getColumns(),t=n.length;return t>0?n[t-1]:null},getHeaderByDataIndex:function(n){for(var r=this.getColumns(),u=r.length,i,t=0;t<u;++t)if(i=r[t],i.dataIndex===n)return i;return null},getHeaderById:function(n){for(var r=this.getColumns(),u=r.length,i,t=0;t<u;++t)if(i=r[t],i.getItemId()===n)return i;return null},getVisibleHeaderClosestToIndex:function(n){var t=this.getHeaderAtIndex(n);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},cacheColumns:function(){var n=this.getHeaderColumns(this.headerCt),t=this.secondHeaderCt;t&&(n=n.concat(this.getHeaderColumns(t)));this.columns=n},getHeaderColumns:function(n){var t=this.visibleOnly?n.getVisibleGridColumns():n.getGridColumns();return Ext.Array.clone(t)},invalidate:function(){var n=this.rootColumns;this.columns=this.variableRowHeight=null;n&&n.invalidate()},destroy:function(){this.columns=this.rootColumns=null}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")});Ext.cmd.derive("Ext.grid.RowEditorButtons",Ext.container.Container,{frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(n){var u=this,t=n.rowEditor,i="x-",r=t.editingPlugin;n=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:t.buttonUI,scope:r,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:r.completeEdit,text:t.saveBtnText,disabled:t.updateButtonDisabled},{cls:i+"row-editor-cancel-button",handler:r.cancelEdit,text:t.cancelBtnText}]},n);Ext.container.Container.prototype.constructor.call(this,n);u.addClsWithUI(u.position)},setButtonPosition:function(n){var t=this,i=this.rowEditor,r=i.getHeight(),u=i.body,f="",e="";t.removeClsWithUI(t.position);t.position=n;t.addClsWithUI(n);n==="top"?f=r-u.getBorderWidth("t")+"px":e=r-u.getBorderWidth("b")+"px";t.el.setStyle({top:e,bottom:f})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var n=Ext.container.Container.prototype.getFrameInfo.call(this);return n.top=!0,n}}},1,["roweditorbuttons"],["component","box","container","roweditorbuttons"],{component:!0,box:!0,container:!0,roweditorbuttons:!0},["widget.roweditorbuttons"],0,[Ext.grid,"RowEditorButtons"],0);Ext.cmd.derive("Ext.grid.RowEditor",Ext.form.Panel,{saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,_wrapCls:"x-grid-row-editor-wrap",errorCls:"x-grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",initComponent:function(){var n=this,t=n.editingPlugin.grid,r=Ext.container.Container,i,u,f;n.cls="x-grid-editor x-grid-row-editor";n.layout={type:"hbox",align:"middle"};n.lockable=t.lockable;n.lockable?(n.items=[f=n.lockedColumnContainer=new r({id:t.id+"-locked-editor-cells",scrollable:{x:!1,y:!1},layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),u=n.normalColumnContainer=new r({scrollable:{x:!1,y:!1},flex:1,id:t.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})],f.getScrollable().addPartner(t.lockedGrid.view.getScrollable(),"x"),u.getScrollable().addPartner(t.normalGrid.view.getScrollable(),"x")):(n.setScrollable({x:!1,y:!1}),n.getScrollable().addPartner(t.view.getScrollable(),"x"),n.lockedColumnContainer=n.normalColumnContainer=n);Ext.form.Panel.prototype.initComponent.apply(this,arguments);n.fields&&(n.addFieldsForColumn(n.fields,!0),n.insertColumnEditor(n.fields),delete n.fields);n.mon(Ext.GlobalEvents,{scope:n,show:n.repositionIfVisible});i=n.getForm();i.on("validitychange",n.onValidityChange,n);i.on("errorchange",n.onErrorChange,n)},onGridResize:function(){var n=this,i=n.getClientWidth(),t=n.editingPlugin.grid,r=t.body,u=n.getFloatingButtons();n.wrapEl.setLocalX(r.getOffsetsTo(t)[0]+r.getBorderWidth("l")-t.el.getBorderWidth("l"));n.setWidth(i);u.setLocalX((i-u.getWidth())/2);n.lockable&&n.lockedColumnContainer.setWidth(t.lockedGrid.view.el.dom.clientWidth)},syncAllFieldWidths:function(){var n=this;Ext.Array.each(n.query("[isEditorComponent]"),function(t){if(t.column.isVisible())n.onColumnShow(t.column)},n)},syncFieldWidth:function(n){var t=n.getEditor(),i;t._marginWidth=t._marginWidth||t.el.getMargin("lr");i=n.getWidth()-t._marginWidth;t.setWidth(i);t.xtype==="displayfield"&&(t.inputWidth=i)},onValidityChange:function(n,t){this.updateButton(t);this.isValid=t},onErrorChange:function(){var n=this,t;n.errorSummary&&n.isVisible()&&(t=n.getForm().isValid(),n[t?"hideToolTip":"showToolTip"]())},updateButton:function(n){var t=this.floatingButtons;t?t.child("#update").setDisabled(!n):this.updateButtonDisabled=!n},afterRender:function(){var n=this,r=n.editingPlugin,t=r.grid,i=t.lockable?t.normalGrid.view:t.view;Ext.form.Panel.prototype.afterRender.apply(this,arguments);n.scrollingView=i;n.scrollingViewEl=i.el;i.on("scroll",n.onViewScroll,n);if(n.mon(n.el,{click:Ext.emptyFn,stopPropagation:!0}),n.mon(t,"resize",n.onGridResize,n),n.lockable)t.lockedGrid.view.on("resize","onGridResize",n);n.el.swallowEvent(["keypress","keydown"]);n.initKeyNav();n.mon(r.view,{beforerefresh:n.onBeforeViewRefresh,refresh:n.onViewRefresh,itemremove:n.onViewItemRemove,scope:n});n.preventReposition=!0;n.syncAllFieldWidths();delete n.preventReposition},initKeyNav:function(){var n=this,t=n.editingPlugin;n.keyNav=new Ext.util.KeyNav(n.el,{enter:t.onEnterKey,esc:t.onEscKey,scope:t})},onBeforeViewRefresh:function(n){var t=this,i=n.el.dom;t.el.dom.parentNode===i&&i.removeChild(t.el.dom)},onViewRefresh:function(n){var t=this,i=t.context,r;i&&(r=n.getRow(i.record))?(i.row=r,t.reposition(),t.tooltip&&t.tooltip.isVisible()&&t.tooltip.setTarget(i.row)):t.editingPlugin.cancelEdit()},onViewItemRemove:function(n,t,i,r){if(!r.refreshing){var u=this.context;u&&n===u.record&&this.editingPlugin.cancelEdit()}},onViewScroll:function(){var n=this,u=n.editingPlugin.view.el,i=n.scrollingView,r=i.getScrollY(),f=i.getScrollX(),e=r!==n.lastScrollTop,t;n.lastScrollTop=r;n.lastScrollLeft=f;n.isVisible()&&(t=Ext.getDom(n.context.row),t&&u.contains(t)?e&&(n.context.row=t,n.reposition(null,!0),(n.tooltip&&n.tooltip.isVisible()||n.hiddenTip)&&n.repositionTip(),n.syncEditorClip()):n.setLocalY(-400))},onColumnResize:function(n){var t=this;t.rendered&&!t.editingPlugin.reconfiguring&&(t.onGridResize(),t.onViewScroll(),n.isGroupHeader||(t.syncFieldWidth(n),t.repositionIfVisible()))},onColumnHide:function(n){this.editingPlugin.reconfiguring||n.isGroupHeader||(n.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(n){var t=this;t.rendered&&!t.editingPlugin.reconfiguring&&!n.isGroupHeader&&n.getEditor&&(n.getEditor().show(),t.syncFieldWidth(n),t.preventReposition||this.repositionIfVisible())},onColumnMove:function(n,t,i){var r=this,c=n.isLocked(),s=c?r.lockedColumnContainer:r.normalColumnContainer,f,u,h,e,o;if(n.isGroupHeader){for(Ext.suspendLayouts(),e=i>t,o=e?1:0,f=n.getGridColumns(),u=0,h=f.length;u<h;++u)n=f[u],i=n.getIndex(),e&&++o,r.setColumnEditor(n,i+o,s);Ext.resumeLayouts(!0)}else r.setColumnEditor(n,n.getIndex(),s)},setColumnEditor:function(n,t,i){this.addFieldsForColumn(n);i.insert(t,n.getEditor())},onColumnAdd:function(n){n.isGroupHeader&&(n=n.getGridColumns());this.addFieldsForColumn(n);this.insertColumnEditor(n);this.preventReposition=!1},insertColumnEditor:function(n){var t=this,r,u,i;if(Ext.isArray(n)){for(i=0,u=n.length;i<u;i++)t.insertColumnEditor(n[i]);return}n.getEditor&&(r=n.isLocked()?t.lockedColumnContainer:t.normalColumnContainer,r.insert(n.getIndex(),n.getEditor()),t.needsSyncFieldWidths=!0)},destroyColumnEditor:function(n){var u=this,i,r,t;if(Ext.isArray(n)){for(t=0,r=n.length;t<r;t++)u.removeColumnEditor(n[t]);return}n.hasEditor()&&(i=n.getEditor())&&i.destroy()},getFloatingButtons:function(){var n=this,t=n.floatingButtons;return t||(n.floatingButtons=t=new Ext.grid.RowEditorButtons({rowEditor:n})),t},repositionIfVisible:function(n){var t=this,i=t.view;(!n||n!==t&&n.el.isAncestor(i.el))&&t.isVisible()&&i.isVisible(!0)&&t.reposition()},isLayoutChild:function(){return!1},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(n){var i=this,t;return i.lockable?(t=[i.lockedColumnContainer],t.push.apply(t,i.lockedColumnContainer.getRefItems(n)),t.push(i.normalColumnContainer),t.push.apply(t,i.normalColumnContainer.getRefItems(n))):t=Ext.form.Panel.prototype.getRefItems.apply(this,arguments),t.push.apply(t,i.getFloatingButtons().getRefItems(n)),t},reposition:function(n,t){var i=this,f=i.context,r=f&&f.row,s=0,h=i.wrapEl,c,e,o,u;r&&Ext.isElement(r)&&(o=i.syncButtonPosition(i.getScrollDelta()),i.editingPlugin.grid.rowLines||(s=-parseInt(Ext.fly(r).first().getStyle("border-bottom-width"),10)),c=i.calculateLocalRowTop(r),e=i.calculateEditorTop(c)+s,t||(u=function(){o&&i.scrollingViewEl.scrollBy(0,o,!0);i.focusColumnField(f.column)}),i.syncEditorClip(),n?h.animate(Ext.applyIf({to:{top:e},duration:n.duration||125,callback:u},n)):(h.setLocalY(e),u&&u()))},getScrollDelta:function(){var t=this,r=t.scrollingViewEl.dom,u=t.context,i=t.body,n=0;return u&&(n=Ext.fly(u.row).getOffsetsTo(r)[1],n<0?n-=i.getBorderPadding().beforeY:n>0&&(n=Math.max(n+t.getHeight()+t.floatingButtons.getHeight()-r.clientHeight-i.getBorderWidth("b"),0),n>0&&(n-=i.getBorderPadding().afterY))),n},calculateLocalRowTop:function(n){var t=this.editingPlugin.grid;return Ext.fly(n).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(n){return n-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var t=this,n=t.editingPlugin.grid;return t.lockable?n.lockedGrid.getWidth()+n.normalGrid.view.el.dom.clientWidth:n.view.el.dom.clientWidth},getEditor:function(n){var t=this;return Ext.isNumber(n)?t.query("[isEditorComponent]")[n]:n.isHeader&&!n.isGroupHeader?n.getEditor():void 0},addFieldsForColumn:function(n,t){var i=this,u,f,r;if(Ext.isArray(n)){for(u=0,f=n.length;u<f;u++)i.addFieldsForColumn(n[u],t);return}if(n.getEditor)if(r=n.getEditor(null,i.getDefaultFieldCfg()),n.align==="right"&&(r.fieldStyle="text-align:right"),n.xtype==="actioncolumn"&&(r.fieldCls+=" x-form-action-col-field"),i.isVisible()&&i.context&&(r.is("displayfield")?i.renderColumnData(r,i.context.record,n):(r.suspendEvents(),r.setValue(i.context.record.get(n.dataIndex)),r.resumeEvents())),n.hidden)i.onColumnHide(n);else if(n.rendered&&!t)i.onColumnShow(n)},getDefaultFieldCfg:function(){return{xtype:"displayfield",getModelData:function(){return null}}},loadRecord:function(n){for(var i=this,r=i.getForm(),h=r.getFields(),f=h.items,u=f.length,e,o,s,t=0;t<u;t++)s=f[t],s.suspendEvents(),s.reset();for(r.loadRecord(n),t=0;t<u;t++)f[t].resumeEvents();for(r.hasInvalidField()===r.wasValid&&delete r.wasValid,o=r.isValid(),i.errorSummary&&(o?i.hideToolTip():i.showToolTip()),i.updateButton(o),e=i.query(">displayfield"),u=e.length,t=0;t<u;t++)i.renderColumnData(e[t],n)},renderColumnData:function(n,t,i){var f=this,v=f.editingPlugin.grid,e=v.headerCt,o=f.scrollingView,s=o.dataSource,r=i||n.column,u=t.get(r.dataIndex),h=r.editRenderer||r.renderer,c,l,a,y=r.usingDefaultRenderer&&!r.scope?r:r.scope;h&&(c={tdCls:"",style:""},l=s.indexOf(t),a=e.getHeaderIndex(r),u=h.call(y||e.ownerCt,u,c,t,l,a,s,o));n.setRawValue(u)},beforeEdit:function(){var n=this,t;if(n.isVisible()&&n.errorSummary&&!n.autoCancel&&n.isDirty())return t=n.getScrollDelta(),t&&n.scrollingViewEl.scrollBy(0,t,!0),n.showToolTip(),!1},startEdit:function(n,t){var i=this,u=i.editingPlugin,f=u.grid,o=i.context=u.context,e=i.isVisible(),r=i.wrapEl;Ext.suspendLayouts();i.rendered||(i.width=i.getClientWidth(),i.render(f.el,f.el.dom.firstChild),r=i.wrapEl=i.el.wrap(),r.setVisibilityMode(3),r.addCls(i._wrapCls),i.getFloatingButtons().render(r),i.onViewScroll());o.grid.getSelectionModel().selectByPosition({row:n,column:t});i.onGridResize();i.loadRecord(n);Ext.resumeLayouts(e);e?i.reposition(!0):i.show()},syncButtonPosition:function(n){var t=this,i=t.getFloatingButtons(),r=t.scrollingView,u=t.getScrollDelta()-(r.getScrollable().getSize().y-r.getScrollY()-t.scrollingViewEl.dom.clientHeight);return u>0?(t._buttonsOnTop||(i.setButtonPosition("top"),t._buttonsOnTop=!0),n=0):t._buttonsOnTop!==!1&&(i.setButtonPosition("bottom"),t._buttonsOnTop=!1),n},syncEditorClip:function(){var n=this,t=n.getScrollDelta(),r=n.el,s=n.floatingButtons,i=s.el,u=Math.max,f,e,o;t?(n.isOverflowing=!0,f=n.body,e=s.getHeight(),o=n.getHeight(),u=Math.max,t>0?n._buttonsOnTop?(t-=e-f.getBorderWidth("b"),n.clipBottom(r,u(o-t),0),t-=o-f.getBorderWidth("t"),t>0?n.clipBottom(i,u(e-t,0)):n.clearClip(i)):(n.clipBottom(i,u(e-t,0)),t-=e-f.getBorderWidth("b"),t>0?n.clipBottom(r,u(o-t,0)):n.clearClip(r)):t<0&&(t=Math.abs(t),n.clipTop(r,t),t-=o-f.getBorderWidth("b"),t>0?n.clipTop(i,t):n.clearClip(i))):n.isOverflowing&&(n.clearClip(i),n.clearClip(r),n.isOverflowing=!1)},focusColumnField:function(n){var t,i;n&&!n.isDestroyed&&(n.isVisible()&&(t=this.getEditor(n),t&&t.isFocusable(!0)&&(i=!0,t.focus())),i||this.focusColumnField(n.next()))},cancelEdit:function(){var r=this,t=r.getForm(),f=t.getFields(),i=f.items,u=i.length,n;for(r.hide(),t.clearInvalid(),n=0;n<u;n++)i[n].suspendEvents();for(t.reset(),n=0;n<u;n++)i[n].resumeEvents()},completeEdit:function(){var n=this,t=n.getForm();return t.isValid()?(t.updateRecord(n.context.record),n.hide(),!0):!1},onShow:function(){var n=this;n.wrapEl.show();n.previousFocus=Ext.Element.getActiveElement();Ext.form.Panel.prototype.onShow.apply(this,arguments);n.needsSyncFieldWidths&&(n.suspendLayouts(),n.syncAllFieldWidths(),n.resumeLayouts(!0));delete n.needsSyncFieldWidths;n.reposition()},onHide:function(){var n=this;n.el.contains(Ext.Element.getActiveElement())&&(n.context?(n.context.view.grid.focus(),n.context=null):n.previousFocus.focus());n.wrapEl.hide();Ext.form.Panel.prototype.onHide.apply(this,arguments);n.tooltip&&n.hideToolTip()},onResize:function(n,t){this.wrapEl.setSize(n,t)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){var n=this,t=n.tooltip,i=n.editingPlugin.grid;return t||(n.tooltip=t=new Ext.tip.ToolTip({cls:"x-grid-row-editor-errors",title:n.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!0,constrainPosition:!0,constrainTo:document.body}),i.add(t),n.mon(i,{afterlayout:n.onGridLayout,scope:n})),t},hideToolTip:function(){var n=this,t=n.getToolTip();t.rendered&&t.disable();n.hiddenTip=!1},showToolTip:function(){var n=this,t=n.getToolTip();t.update(n.getErrors());n.repositionTip();t.enable()},onGridLayout:function(){this.tooltip&&this.tooltip.isVisible()&&this.repositionTip()},repositionTip:function(){var n=this,t=n.getToolTip(),e=n.context,r=Ext.get(e.row),i=n.scrollingViewEl,o=i.dom.clientHeight,u=i.getY(),s=u+o,h=r.getHeight(),f=r.getY(),c=f+h;c>u&&f<s?(t.anchorTarget=i,t.mouseOffset=[0,r.getOffsetsTo(i)[1]],t.show(),n.hiddenTip=!1):(t.hide(),n.hiddenTip=!0)},getErrors:function(){for(var n=this,t=[],f=n.query(">[isFormField]"),e=f.length,r,u,i=0;i<e;i++)u=f[i],r=u.getErrors(),r.length&&t.push(n.createErrorListItem(r[0],u.column.text));return t.length||n.autoCancel||!n.isDirty()||(t[0]=n.createErrorListItem(n.dirtyText)),'<ul class="x-list-plain">'+t.join("")+"<\/ul>"},createErrorListItem:function(n,t){return n=t?t+": "+n:n,'<li class="'+this.errorCls+'">'+n+"<\/li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);Ext.form.Panel.prototype.beforeDestroy.call(this)},clipBottom:function(n,t){n.setStyle("clip","rect(0 auto "+t+"px 0)")},clipTop:function(n,t){n.setStyle("clip","rect("+t+"px, auto, auto, 0)")},clearClip:function(n){n.setStyle("clip",Ext.isIE8?"rect(-1000px auto 1000px auto)":"auto")}},0,["roweditor"],["component","box","container","panel","form","roweditor"],{component:!0,box:!0,container:!0,panel:!0,form:!0,roweditor:!0},["widget.roweditor"],0,[Ext.grid,"RowEditor"],0);Ext.cmd.derive("Ext.view.DropZone",Ext.dd.DropZone,{indicatorCls:"x-grid-drop-indicator",indicatorHtml:'<div class="x-grid-drop-indicator-left" role="presentation"><\/div><div class="x-grid-drop-indicator-right" role="presentation"><\/div>',constructor:function(n){var t=this;Ext.apply(t,n);t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id);Ext.dd.DropZone.prototype.constructor.call(this,t.view.el)},fireViewEvent:function(){var n=this,t;return n.lock(),t=n.view.fireEvent.apply(n.view,arguments),n.unlock(),t},getTargetFromEvent:function(n){var u=n.getTarget(this.view.getItemSelector()),f,i,r,t,e,o;if(!u)for(f=n.getY(),t=0,i=this.view.getNodes(),e=i.length;t<e;t++)if(r=i[t],o=Ext.fly(r).getBox(),f<=o.bottom)return r;return u},getIndicator:function(){var n=this;return n.indicator||(n.indicator=new Ext.Component({ariaRole:"presentation",html:n.indicatorHtml,cls:n.indicatorCls,ownerCt:n.view,floating:!0,shadow:!1})),n.indicator},getPosition:function(n,t){var r=n.getXY()[1],i=Ext.fly(t).getRegion();return i.bottom-r>=(i.bottom-i.top)/2?"before":"after"},containsRecordAtOffset:function(n,t,i){if(!t)return!1;var r=this.view,e=r.indexOf(t),u=r.getNode(e+i),f=u?r.getRecord(u):null;return f&&Ext.Array.contains(n,f)},positionIndicator:function(n,t,i){var r=this,u=r.view,f=r.getPosition(i,n),e=u.getRecord(n),s=t.records,o;Ext.Array.contains(s,e)||(f!=="before"||r.containsRecordAtOffset(s,e,-1))&&(f!=="after"||r.containsRecordAtOffset(s,e,1))?r.invalidateDrop():(r.valid=!0,(r.overRecord!==e||r.currentPosition!==f)&&(o=Ext.fly(n).getY()-u.el.getY()-1,f==="after"&&(o+=Ext.fly(n).getHeight()),u.touchScroll===2&&(o+=u.getScrollY()),r.getIndicator().setWidth(Ext.fly(u.el).getWidth()).showAt(0,o),r.overRecord=e,r.currentPosition=f))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(n,t,i,r){var u=this;return Ext.Array.contains(r.records,u.view.getRecord(n))||u.positionIndicator(n,r,i),u.valid?u.dropAllowed:u.dropNotAllowed},notifyOut:function(){var n=this;Ext.dd.DropZone.prototype.notifyOut.apply(this,arguments);n.overRecord=n.currentPosition=null;n.valid=!1;n.indicator&&n.indicator.hide()},onContainerOver:function(n,t,i){var r=this,u=r.view,f=u.dataSource.getCount();return f?r.positionIndicator(u.all.last(),i,t):(r.overRecord=r.currentPosition=null,r.getIndicator().setWidth(Ext.fly(u.el).getWidth()).showAt(0,0),r.valid=!0),r.dropAllowed},onContainerDrop:function(n,t,i){return this.onNodeDrop(n,null,t,i)},onNodeDrop:function(n,t,i,r){var u=this,f=!1,e={wait:!1,processDrop:function(){u.invalidateDrop();u.handleNodeDrop(r,u.overRecord,u.currentPosition);f=!0;u.fireViewEvent("drop",n,r,u.overRecord,u.currentPosition)},cancelDrop:function(){u.invalidateDrop();f=!0}},o=!1;if(u.valid){if(o=u.fireViewEvent("beforedrop",n,r,u.overRecord,u.currentPosition,e),e.wait)return;o!==!1&&(f||e.processDrop())}return o},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;Ext.dd.DropZone.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.view,"DropZone"],0);Ext.cmd.derive("Ext.grid.ViewDropZone",Ext.view.DropZone,{indicatorHtml:'<div class="x-grid-drop-indicator-left" role="presentation"><\/div><div class="x-grid-drop-indicator-right" role="presentation"><\/div>',indicatorCls:"x-grid-drop-indicator",handleNodeDrop:function(n,t,i){var r=this.view,f=r.getStore(),e,o,u,s;if(n.copy)for(o=n.records,n.records=[],u=0,s=o.length;u<s;u++)n.records.push(o[u].copy());else n.view.store.remove(n.records,n.view===r);t&&i?(e=f.indexOf(t),i!=="before"&&e++,f.insert(e,n.records)):f.add(n.records);r.getSelectionModel().select(n.records);r.getNavigationModel().setPosition(n.records[0])}},0,0,0,0,0,0,[Ext.grid,"ViewDropZone"],0);Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",stopSelection:!0,actionIdRe:new RegExp("x-action-col-(\\d+)"),altText:"",menuText:"<i>Actions<\/i>",sortable:!1,innerCls:"x-grid-cell-inner-action-col",actionIconCls:"x-action-col-icon",constructor:function(n){var t=this,i=Ext.apply({},n),u=i.items||t.items||[t],f,r,e;for(t.origRenderer=i.renderer||t.renderer,t.origScope=i.scope||t.scope,t.renderer=t.scope=i.renderer=i.scope=null,i.items=null,Ext.grid.column.Column.prototype.constructor.call(this,i),t.items=u,r=0,e=u.length;r<e;++r)if(u[r].getClass){f=!0;break}(t.origRenderer||f)&&(t.hasCustomRenderer=!0)},initComponent:function(){var n=this;Ext.grid.column.Column.prototype.initComponent.call(this);n.sortable&&!n.dataIndex&&(n.sortable=!1)},defaultRenderer:function(n,t,i,r,u,f,e){var s=this,y="x-",c=s.origScope||s,p=s.items,w=p.length,h=0,o,l,a,v;for(l=Ext.isFunction(s.origRenderer)?s.origRenderer.apply(c,arguments)||"":"",t.tdCls+=" x-action-col-cell";h<w;h++)o=p[h],a=o.disabled||(o.isDisabled?o.isDisabled.call(o.scope||c,e,r,u,o,i):!1),v=a?null:o.tooltip||(o.getTip?o.getTip.apply(o.scope||c,arguments):null),o.hasActionConfiguration||(o.stopSelection=s.stopSelection,o.disable=Ext.Function.bind(s.disableAction,s,[h],0),o.enable=Ext.Function.bind(s.enableAction,s,[h],0),o.hasActionConfiguration=!0),l+='<img role="button" alt="'+(o.altText||s.altText)+'" src="'+(o.icon||Ext.BLANK_IMAGE_URL)+'" class="'+s.actionIconCls+" "+y+"action-col-"+String(h)+" "+(a?y+"item-disabled":" ")+(Ext.isFunction(o.getClass)?o.getClass.apply(o.scope||c,arguments):o.iconCls||s.iconCls||"")+'"'+(v?' data-qtip="'+v+'"':"")+" />";return l},updater:function(n,t,i,r,u){var f={};n.firstChild.innerHTML=this.defaultRenderer(t,f,i,null,null,u,r);Ext.fly(n).addCls(f.tdCls)},enableAction:function(n,t){var i=this;n?Ext.isNumber(n)||(n=Ext.Array.indexOf(i.items,n)):n=0;i.items[n].disabled=!1;i.up("tablepanel").el.select(".x-action-col-"+n).removeCls(i.disabledCls);t||i.fireEvent("enable",i)},disableAction:function(n,t){var i=this;n?Ext.isNumber(n)||(n=Ext.Array.indexOf(i.items,n)):n=0;i.items[n].disabled=!0;i.up("tablepanel").el.select(".x-action-col-"+n).addCls(i.disabledCls);t||i.fireEvent("disable",i)},beforeDestroy:function(){return this.renderer=this.items=null,Ext.grid.column.Column.prototype.beforeDestroy.apply(this,arguments)},processEvent:function(n,t,i,r,u,f,e,o){var h=this,c=f.getTarget(),l=n==="keydown"&&f.getKey(),a,s,v;if(l&&!Ext.fly(c).findParent(t.getCellSelector())&&(c=Ext.fly(i).down(".x-action-col-icon",!0)),c&&(a=c.className.match(h.actionIdRe))&&(s=h.items[parseInt(a[1],10)],v=s.disabled||(s.isDisabled?s.isDisabled.call(s.scope||h.origScope||h,t,r,u,s,e):!1),s&&!v)){if(n==="mousedown")return s.stopSelection&&f.preventDefault(),!1;if((n==="click"||l===f.ENTER||l===f.SPACE)&&(Ext.callback(s.handler||h.handler,s.scope||h.origScope,[t,r,u,s,f,e,o],undefined,h),s.stopSelection!==!1))return!1}return Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)},cascade:function(n,t){n.call(t||this,this)},getRefItems:function(){return[]},privates:{getFocusables:function(){return[]}}},1,["actioncolumn"],["component","box","container","headercontainer","gridcolumn","actioncolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,actioncolumn:!0},["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0);Ext.cmd.derive("Ext.grid.column.Boolean",Ext.grid.column.Column,{alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:!1,defaultRenderer:function(n){return n===undefined?this.undefinedText:!n||n==="false"?this.falseText:this.trueText},updater:function(n,t){n.firstChild.innerHTML=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,t)}},0,["booleancolumn"],["component","box","container","headercontainer","gridcolumn","booleancolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,booleancolumn:!0},["widget.booleancolumn"],0,[Ext.grid.column,"Boolean",Ext.grid,"BooleanColumn"],0);Ext.cmd.derive("Ext.grid.column.Check",Ext.grid.column.Column,{alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],align:"center",stopSelection:!0,tdCls:"x-grid-cell-checkcolumn",innerCls:"x-grid-cell-inner-checkcolumn",clickTargetName:"el",defaultFilterType:"boolean",constructor:function(){this.scope=this;Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},processEvent:function(n,t,i,r,u,f,e,o){var s=this,c=n==="keydown"&&f.getKey(),l=n==="mousedown",a=s.disabled,v=!1,h;return!a&&(l||c===f.ENTER||c===f.SPACE)?(h=!s.isRecordChecked(e),s.fireEvent("beforecheckchange",s,r,h)!==!1&&(s.setRecordCheck(e,h,i,o,f),s.fireEvent("checkchange",s,r,h),l&&f.stopEvent(),s.stopSelection||t.selModel.selectByPosition({row:r,column:u}))):v=a||n!=="click"?Ext.grid.column.Column.prototype.processEvent.apply(this,arguments):!1,v},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(n){var t=this,r=t.disabledCls,i;i=t.up("tablepanel").el.select(t.getCellSelector());n?i.addCls(r):i.removeCls(r)},defaultRenderer:function(n,t){var i="x-",r=i+"grid-checkcolumn";return this.disabled&&(t.tdCls+=" "+this.disabledCls),n&&(r+=" "+i+"grid-checkcolumn-checked"),'<img class="'+r+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'},isRecordChecked:function(n){var t=this.property;return t?n[t]:n.get(this.dataIndex)},setRecordCheck:function(n,t,i){var r=this,u=r.property;u?(n[u]=t,r.updater(i,t)):n.set(r.dataIndex,t)},updater:function(n,t){var r={},i;n.firstChild.innerHTML=this.defaultRenderer(t,r);i=r.tdCls;i&&Ext.fly(n).addCls(i)}},1,["checkcolumn"],["component","box","container","headercontainer","gridcolumn","checkcolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,checkcolumn:!0},["widget.checkcolumn"],0,[Ext.grid.column,"Check",Ext.ux,"CheckColumn",Ext.grid.column,"CheckColumn"],0);Ext.cmd.derive("Ext.grid.column.Date",Ext.grid.column.Column,{alternateClassName:"Ext.grid.DateColumn",isDateColumn:!0,defaultFilterType:"date",producesHTML:!1,initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat);Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(n){return Ext.util.Format.date(n,this.format)},updater:function(n,t){n.firstChild.innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,t)}},0,["datecolumn"],["component","box","container","headercontainer","gridcolumn","datecolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,datecolumn:!0},["widget.datecolumn"],0,[Ext.grid.column,"Date",Ext.grid,"DateColumn"],0);Ext.cmd.derive("Ext.grid.column.Number",Ext.grid.column.Column,{alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:!1,defaultRenderer:function(n){return Ext.util.Format.number(n,this.format)},updater:function(n,t){n.firstChild.innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,t)}},0,["numbercolumn"],["component","box","container","headercontainer","gridcolumn","numbercolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,numbercolumn:!0},["widget.numbercolumn"],0,[Ext.grid.column,"Number",Ext.grid,"NumberColumn"],0);Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",text:"&#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",producesHTML:!1,constructor:function(){var n=this;n.width=n.width;Ext.grid.column.Column.prototype.constructor.apply(this,arguments);n.sortable=!1;n.scope=n},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:"x-row-numberer",tdCls:"x-grid-cell-row-numberer x-grid-cell-special",innerCls:"x-grid-cell-inner-row-numberer",rowspan:undefined,defaultRenderer:function(n,t,i,r,u,f,e){var o=this.rowspan,s=f.currentPage,h=e.store.indexOf(i);return t&&o&&(t.tdAttr='rowspan="'+o+'"'),s>1&&(h+=(s-1)*f.pageSize),h+1},updater:function(n,t,i,r,u){n.firstChild.innerHTML=this.defaultRenderer(t,null,i,null,null,u,r)}},1,["rownumberer"],["component","box","container","headercontainer","gridcolumn","rownumberer"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,rownumberer:!0},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0);Ext.cmd.derive("Ext.grid.column.Template",Ext.grid.column.Column,{alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var n=this;n.tpl=!Ext.isPrimitive(n.tpl)&&n.tpl.compile?n.tpl:new Ext.XTemplate(n.tpl);n.hasCustomRenderer=!0;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(n,t,i){var r=Ext.apply({},i.data,i.getAssociatedData());return this.tpl.apply(r)},updater:function(n,t){n.firstChild.innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,t)}},0,["templatecolumn"],["component","box","container","headercontainer","gridcolumn","templatecolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,templatecolumn:!0},["widget.templatecolumn"],0,[Ext.grid.column,"Template",Ext.grid,"TemplateColumn"],0);Ext.cmd.derive("Ext.grid.column.Widget",Ext.grid.column.Column,{config:{defaultWidgetUI:{}},sortable:!1,onWidgetAttach:null,stopSelection:!0,preventUpdate:!0,initComponent:function(){var t=this,n;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments);n=t.widget;t.widget=n=Ext.apply({},n);n.ui||(n.ui=t.getDefaultWidgetUI()[n.xtype]||"default");t.isFixedSize=Ext.isNumber(n.width)},processEvent:function(n,t,i,r,u,f){var o=t.innerSelector,e;if(this.stopSelection&&n==="click"&&(e=f.getTarget(o),e&&e!==f.target))return!1},beforeRender:function(){var n=this,t=n.tdCls,i;n.listenerScopeFn=function(t){return t==="this"?this:n.resolveListenerScope(t)};n.liveWidgets={};n.cachedStyles={};n.freeWidgetStack=[i=n.getFreeWidget()];t=t?t+" ":"";n.tdCls=t+i.getTdCls();n.setupViewListeners(n.getView());Ext.grid.column.Column.prototype.beforeRender.call(this)},afterRender:function(){var n=this.getView();if(Ext.grid.column.Column.prototype.afterRender.call(this),n&&n.viewReady&&!n.ownerGrid.reconfiguring)this.onViewRefresh(n,n.getViewRange())},defaultRenderer:Ext.emptyFn,updater:function(n,t,i){this.updateWidget(i)},onResize:function(n){var t=this,u=t.liveWidgets,r=t.getView(),f,i;if(!t.isFixedSize&&t.rendered&&r&&r.viewReady&&(i=r.getEl().down(t.getCellInnerSelector()),i)){n-=parseInt(t.getCachedStyle(i,"padding-left"),10)+parseInt(t.getCachedStyle(i,"padding-right"),10);for(f in u)u[f].setWidth(n)}},onAdded:function(){var t=this,n;if(Ext.grid.column.Column.prototype.onAdded.apply(this,arguments),n=t.getView(),n&&(t.setupViewListeners(n),n&&n.viewReady&&t.rendered&&n.getEl().down(t.getCellSelector())))t.onViewRefresh(n,n.getViewRange())},onRemoved:function(n){var t=this,i=t.liveWidgets,r=t.viewListeners,u;if(t.rendered&&(t.viewListeners=r&&Ext.destroy(r),!n))for(u in i)i[u].detachFromBody();Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments)},onDestroy:function(){var t=this,r=t.liveWidgets,u=t.freeWidgetStack,f,n,i,e;if(t.rendered){for(f in r)n=r[f],n.$widgetRecord=n.$widgetColumn=null,delete n.getWidgetRecord,delete n.getWidgetColumn,n.destroy();for(i=0,e=u.length;i<e;++i)u[i].destroy()}t.freeWidgetStack=t.liveWidgets=null;Ext.grid.column.Column.prototype.onDestroy.call(this)},getWidget:function(n){var t=this.liveWidgets,i;return n&&t&&(i=t[n.internalId]),i||null},privates:{getCachedStyle:function(n,t){var i=this.cachedStyles;return i[t]||(i[t]=Ext.fly(n).getStyle(t))},getFreeWidget:function(){var n=this,t=n.freeWidgetStack?n.freeWidgetStack.pop():null;return t||(t=Ext.widget(n.widget),t.resolveListenerScope=n.listenerScopeFn,t.getWidgetRecord=n.widgetRecordDecorator,t.getWidgetColumn=n.widgetColumnDecorator,t.dataIndex=n.dataIndex,t.measurer=n,t.ownerCmp=n,t.isLayoutChild=n.returnFalse),t},onBeforeRefresh:function(){var n=this.liveWidgets;for(var t in n)n[t].detachFromBody()},onItemAdd:function(n,t,i){var r=this,v=r.getView(),y=!!r.onWidgetAttach,a=r.dataIndex,h=r.isFixedSize,p=n.length,o,f,c,e,u,l,s;if(r.rendered&&!r.hidden)for(o=0;o<p;o++)(f=n[o],f.isNonData)||(c=v.getRowFromItem(i[o]),c&&(e=c.cells[r.getVisibleIndex()].firstChild,h||s||(s=r.lastBox.width-parseInt(r.getCachedStyle(e,"padding-left"),10)-parseInt(r.getCachedStyle(e,"padding-right"),10)),u=r.liveWidgets[f.internalId]=r.getFreeWidget(),u.$widgetColumn=r,u.$widgetRecord=f,Ext.fly(e).empty(),u.defaultBindProperty&&a&&u.setConfig(u.defaultBindProperty,f.get(a)),y&&Ext.callback(r.onWidgetAttach,r.scope,[r,u,f],0,r),l=u.el||u.element,l?(e.appendChild(l.dom),h||u.setWidth(s),u.reattachToBody()):(h||(u.width=s),u.render(e))))},onItemRemove:function(n){var i=this,r=i.liveWidgets,t;i.rendered&&n&&(t=r[n.internalId])&&(delete r[n.internalId],i.freeWidgetStack.unshift(t),t.$widgetRecord=t.$widgetColumn=null,t.detachFromBody())},onItemUpdate:function(n){this.updateWidget(n)},onViewRefresh:function(n,t){var i=this,a=n.all,k=!!i.onWidgetAttach,e=i.liveWidgets,p=i.dataIndex,v=i.isFixedSize,u,r,o,s,h,c,l,f,w,y,b;if(i.rendered&&!i.hidden){for(i.liveWidgets={},Ext.suspendLayouts(),c=a.startIndex,l=0;c<=a.endIndex;c++,l++)(f=t[l],f.isNonData)||(h=f.internalId,u=n.getRow(a.item(c)).cells[i.getVisibleIndex()].firstChild,r=i.liveWidgets[h]=e[h]||i.getFreeWidget(),r.$widgetRecord=f,r.$widgetColumn=i,delete e[h],y=i.lastBox,y&&!v&&s===undefined&&(s=y.width-parseInt(i.getCachedStyle(u,"padding-left"),10)-parseInt(i.getCachedStyle(u,"padding-right"),10)),r.defaultBindProperty&&p&&r.setConfig(r.defaultBindProperty,t[l].get(p)),k&&Ext.callback(i.onWidgetAttach,i.scope,[i,r,f],0,i),o=r.el||r.element,o?(b=o.dom,b.parentNode!==u&&(Ext.fly(u).empty(),u.appendChild(o.dom)),v||r.setWidth(s),r.reattachToBody()):(v||(r.width=s),Ext.fly(u).empty(),r.render(u)));Ext.resumeLayouts(!0);for(w in e)r=e[w],r.$widgetRecord=r.$widgetColumn=null,i.freeWidgetStack.unshift(r),r.detachFromBody()}},returnFalse:function(){return!1},setupViewListeners:function(n){var t=this;if(t.viewListeners=n.on({refresh:t.onViewRefresh,itemupdate:t.onItemUpdate,itemadd:t.onItemAdd,itemremove:t.onItemRemove,scope:t,destroyable:!0}),Ext.isIE8)n.on("beforerefresh",t.onBeforeRefresh,t)},updateWidget:function(n){var i=this.dataIndex,t;this.rendered&&(t=this.liveWidgets[n.internalId],t&&t.defaultBindProperty&&i&&t.setConfig(t.defaultBindProperty,n.get(i)))},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}},0,["widgetcolumn"],["component","box","container","headercontainer","gridcolumn","widgetcolumn"],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,widgetcolumn:!0},["widget.widgetcolumn"],0,[Ext.grid.column,"Widget"],0);Ext.cmd.derive("Ext.grid.feature.Feature",Ext.util.Observable,{wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(n){this.initialConfig=n;Ext.util.Observable.prototype.constructor.apply(this,arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(n,t,i,r){return[n,t,i,r]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}},1,0,0,0,["feature.feature"],0,[Ext.grid.feature,"Feature"],0);Ext.cmd.derive("Ext.grid.feature.AbstractSummary",Ext.grid.feature.Feature,{summaryRowCls:"x-grid-row-summary",summaryRowSelector:".x-grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(n,t,i){t.record.isSummary&&this.summaryFeature.showSummaryRow?this.summaryFeature.outputSummaryRecord(t.record,t,n,i):this.nextTpl.applyOut(t,n,i)},priority:1e3},showSummaryRow:!0,init:function(){var n=this;n.view.summaryFeature=n;n.rowTpl=n.view.self.prototype.rowTpl;n.view.addRowTpl(n.summaryRowTpl).summaryFeature=n;n.summaryData={};n.groupInfo={};n.summaryTableCls||(n.summaryTableCls="x-grid-item")},toggleSummaryRow:function(n,t){var i=this,u=i.showSummaryRow,r;n=n!=null?!!n:!i.showSummaryRow;i.showSummaryRow=n;n&&n!==u&&(i.updateNext=!0);i.lockingPartner?t||(i.lockingPartner.toggleSummaryRow(n,!0),r=!0):r=!0;r&&i.grid.ownerGrid.getView().refresh()},createRenderer:function(n,t){var r=this,u=t.ownerGroup,f=u?r.summaryData[u]:r.summaryData,i=n.dataIndex||n.getItemId();return function(r,u){return n.summaryRenderer?n.summaryRenderer(t.data[i],f,i,u):t.data[i]}},outputSummaryRecord:function(n,t,i){for(var f=t.view,h=f.rowValues,e=t.columns||f.headerCt.getVisibleGridColumns(),o=e.length,r,s={view:f,record:n,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:f.getRowId(n),columns:e},u=0;u<o;u++)r=e[u],r.savedRenderer=r.renderer,r.renderer=r.summaryType||r.summaryRenderer?this.createRenderer(r,n):Ext.emptyFn;for(f.rowValues=s,f.self.prototype.rowTpl.applyOut(s,i,parent),f.rowValues=h,u=0;u<o;u++)r=e[u],r.renderer=r.savedRenderer,r.savedRenderer=null},getSummary:function(n,t,i,r){var f=!!r,u=f?r:n;if(t){if(Ext.isFunction(t))return f?u.aggregate(i,t):u.aggregate(t,null,!1,[i]);switch(t){case"count":return u.count(i);case"min":return u.min(i);case"max":return u.max(i);case"sum":return u.sum(i);case"average":return u.average(i);default:return""}}},generateSummaryData:function(n){var f=this,t=f.view.store.getProxy().getReader(),r={},e={},u,o,s,i;if(s=t.getRootProperty(),t.setRootProperty(f.remoteRoot),t.buildExtractors(!0),i=t.getRoot(t.rawData),i)for(Ext.isArray(i)||(i=[i]),o=i.length,u=0;u<o;++u)r=t.extractRecordData(i[u],f.readDataOptions),n&&(e[r[n]]=r);return t.setRootProperty(s),t.buildExtractors(!0),n?e:r},setSummaryData:function(n,t,i,r){var u=this.summaryData;r?(u[r]||(u[r]={}),u[r][t]=i):u[t]=i}},0,0,0,0,["feature.abstractsummary"],0,[Ext.grid.feature,"AbstractSummary"],0);Ext.cmd.derive("Ext.grid.feature.GroupStore",Ext.util.Observable,{isStore:!0,defaultViewSize:100,isFeatureStore:!0,badGrouperKey:"[object Object]",constructor:function(n,t){var i=this;Ext.util.Observable.prototype.constructor.call(this);i.groupingFeature=n;i.bindStore(t)},bindStore:function(n){var t=this;n&&t.store===n||(Ext.destroy(t.storeListeners),t.store=null);n&&(t.storeListeners=n.on({groupchange:t.onGroupChange,remove:t.onRemove,add:t.onAdd,idchanged:t.onIdChanged,update:t.onUpdate,refresh:t.onRefresh,clear:t.onClear,scope:t,destroyable:!0}),t.store=n,t.processStore(n))},processStore:function(n){var f=this,t=f.groupingFeature,b=t.startCollapsed,u=f.data,l=Ext.Array,tt=l.indexOf,it=l.splice,e=n.getGroups(),k=e?e.length:0,a=n.getGroupField(),o=e&&l.unique(Ext.Object.getValues(e.itemGroupKeys)),d=!1,v=t.getCache(),s,y,i,g,h,p,c,r,w,nt;if(t.invalidateCache(),y=t.getCache(),u?u.clear():u=f.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),n.getCount())if(t.startCollapsed=!1,k>0){for(nt=n.getModel(),i=0;i<k;i++){if(h=e.getAt(i),r=h.getGroupKey(),f.badGrouperKey===r){t.startCollapsed=b;n.group(t.getGrouper(a));return}s=y[r]=v[r]||t.getMetaGroup(r);s.raw=h.getAt(0).get(a);it(o,tt(o,r),1);d=s.isCollapsed=b||s.isCollapsed;d?(w={},w[a]=r,s.placeholder=c=new nt(w),c.isNonData=c.isCollapsedPlaceholder=!0,c.group=h,u.add(c)):u.insert(f.data.length,h.items)}if(o.length)for(i=0,g=o.length;i<g;i++)p=o[i],y[p]=v[p];v=null}else u.add(n.getRange())},isCollapsed:function(n){return this.groupingFeature.getCache()[n].isCollapsed},isLoading:function(){return!1},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(n,t){return t<this.getCount()},getRange:function(n,t,i){var r=this.data.getRange(n,Ext.isNumber(t)?t+1:t);return i&&i.callback&&i.callback.call(i.scope||this,r,n,t,i),r},getAt:function(n){return this.data.getAt(n)},getById:function(n){return this.store.getById(n)},getByInternalId:function(n){return this.store.getByInternalId(n)||this.data.byInternalId.get(n)},expandGroup:function(n){var t=this,f=t.groupingFeature,r,u,i,e;typeof n=="string"&&(n=f.getGroup(n));n&&(e=n.items,r=f.getMetaGroup(n),u=r.placeholder);e.length&&(i=t.data.indexOf(u))!==-1&&(r.isCollapsed=!1,t.isExpandingOrCollapsing=1,t.data.removeAt(i),t.data.insert(i,n.items),t.fireEvent("replace",t,i,[u],n.items),t.fireEvent("groupexpand",t,n),t.isExpandingOrCollapsing=0)},collapseGroup:function(n){var t=this,u=t.groupingFeature,r,f,e,i;typeof n=="string"&&(n=u.getGroup(n));n&&(i=n.items);i&&(e=i.length)&&(r=t.data.indexOf(i[0]))!==-1&&(u.getMetaGroup(n).isCollapsed=!0,t.isExpandingOrCollapsing=2,t.data.removeAt(r,e),t.data.insert(r,f=t.getGroupPlaceholder(n)),t.fireEvent("replace",t,r,i,[f]),t.fireEvent("groupcollapse",t,n),t.isExpandingOrCollapsing=0)},getGroupPlaceholder:function(n){var i=this.groupingFeature.getMetaGroup(n);if(!i.placeholder){var r=this.store,f=r.getModel(),u={},e=n.getGroupKey(),t;u[r.getGroupField()]=e;t=i.placeholder=new f(u);t.isNonData=t.isCollapsedPlaceholder=!0;t.group=n}return i.placeholder},indexOf:function(n){return n.isCollapsedPlaceholder?-1:this.data.indexOf(n)},indexOfId:function(n){return this.data.indexOfKey(n)},indexOfTotal:function(n){return this.store.indexOf(n)},onRefresh:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onRemove:function(n){var t=this;n.isMoving()||(t.processStore(t.store),t.fireEvent("refresh",t))},onClear:function(){var n=this;n.processStore(n.store);n.fireEvent("clear",n)},onAdd:function(n,t){var i=this;i.processStore(i.store);i.fireEvent("replace",i,i.indexOf(t[0]),[],t)},onIdChanged:function(n,t,i){this.data.updateKey(t,i)},onUpdate:function(n,t,i,r){var u=this,o=u.groupingFeature,s,c,f,e,h;if(n.isGrouped()){if(s=t.group=o.getGroup(t),c=o.getMetaGroup(t),r&&Ext.Array.contains(r,o.getGroupField()))return u.onRefresh(u.store);c.isCollapsed?u.fireEvent("update",u,c.placeholder):(Ext.suspendLayouts(),u.fireEvent("update",u,t,i,r),h=s.items,f=h[0],e=h[h.length-1],f!==t&&(f.group=s,u.fireEvent("update",u,f,"edit",r),delete f.group),e!==t&&e!==f&&o.showSummaryRow&&(e.group=s,u.fireEvent("update",u,e,"edit",r),delete e.group),Ext.resumeLayouts(!0));delete t.group}else u.fireEvent("update",u,t,i,r)},onGroupChange:function(n,t){t||this.processStore(n);this.fireEvent("groupchange",n,t)},destroy:function(){var n=this;n.bindStore(null);n.clearListeners();Ext.destroyMembers(n,"data","groupingFeature")}},1,0,0,0,0,0,[Ext.grid.feature,"GroupStore"],0);Ext.cmd.derive("Ext.grid.feature.Grouping",Ext.grid.feature.Feature,{eventPrefix:"group",eventSelector:".x-grid-group-hd",refreshData:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:"x-grid-group-collapsed",hdCollapsedCls:"x-grid-group-hd-collapsed",hdNotCollapsibleCls:"x-grid-group-hd-not-collapsible",collapsibleCls:"x-grid-group-hd-collapsible",ctCls:"x-group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,groupers:null,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',"x-",'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',"x-",'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr}>','{[values.groupHeaderTpl.apply(values.metaGroupCache, parent) || "&#160;"]}',"<\/div>","<\/div>","<\/td>","<\/tr>","<\/tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","<\/tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","<\/tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","<\/tpl>",{priority:200,beginRowSync:function(n){var t=this.owner;n.add("header",t.eventSelector);n.add("summary",t.summaryRowSelector)},syncContent:function(n,t,i){n=Ext.fly(n,"syncDest");t=Ext.fly(t,"sycSrc");var r=this.owner,e=n.down(r.eventSelector,!0),o=t.down(r.eventSelector,!0),u=n.down(r.summaryRowSelector,!0),f=t.down(r.summaryRowSelector,!0);e&&o&&Ext.fly(e).syncContent(o);u&&f&&(i?this.groupingFeature.view.updateColumns(u,f,i):Ext.fly(u).syncContent(f))}}],init:function(n){var t=this,i=t.view,r=t.getGridStore(),u,f;i.isGrouping=r.isGrouped();t.mixins.summary.init.call(t);Ext.grid.feature.Feature.prototype.init.call(this,n);i.headerCt.on({columnhide:t.onColumnHideShow,columnshow:t.onColumnHideShow,columnmove:t.onColumnMove,scope:t});i.addTpl(Ext.XTemplate.getTpl(t,"outerTpl")).groupingFeature=t;i.addRowTpl(Ext.XTemplate.getTpl(t,"groupRowTpl")).groupingFeature=t;i.preserveScrollOnRefresh=!0;r.isBufferedStore?t.collapsible=!1:(u=t.lockingPartner,t.dataSource=u&&u.dataSource?i.dataSource=f=u.dataSource:i.dataSource=f=new Ext.grid.feature.GroupStore(t,r));n=n.ownerLockable||n;n.on("beforereconfigure",t.beforeReconfigure,t);i.on({afterrender:t.afterViewRender,scope:t,single:!0});if(f)f.on("groupchange",t.onGroupChange,t);else t.setupStoreListeners(r)},getGridStore:function(){return this.view.getStore()},indexOf:function(n){return this.dataSource.indexOf(n)},isInCollapsedGroup:function(n){var i=this,u=i.getGridStore(),r=!1,t;return u.isGrouped()&&(t=i.getMetaGroup(n))&&(r=!!(t&&t.isCollapsed)),r},createCache:function(){var n=this.metaGroupCache={},t=this.lockingPartner;return t&&(t.metaGroupCache=n),n},getCache:function(){return this.metaGroupCache||this.createCache()},invalidateCache:function(){var n=this.lockingPartner;this.metaGroupCache=null;n&&(n.metaGroupCache=null)},vetoEvent:function(n,t,i,r){if(r.type!=="mouseover"&&r.type!=="mouseout"&&r.type!=="mouseenter"&&r.type!=="mouseleave"&&r.getTarget(this.eventSelector))return!1},enable:function(){var n=this,t=n.view,u=n.getGridStore(),r=n.hideGroupedHeader&&n.getGroupedHeader(),i;t.isGrouping=!0;t.lockingPartner&&(t.lockingPartner.isGrouping=!0);Ext.grid.feature.Feature.prototype.enable.call(this);n.lastGrouper&&(u.group(n.lastGrouper),n.lastGrouper=null);r&&r.hide();i=n.view.headerCt.getMenu().down("#groupToggleMenuItem");i&&i.setChecked(!0,!0)},disable:function(){var n=this,i=n.view,r=n.getGridStore(),u=n.hideGroupedHeader&&n.getGroupedHeader(),f=r.getGrouper(),t;i.isGrouping=!1;i.lockingPartner&&(i.lockingPartner.isGrouping=!1);Ext.grid.feature.Feature.prototype.disable.call(this);f&&(n.lastGrouper=f,r.clearGrouping());u&&u.show();t=n.view.headerCt.getMenu().down("#groupToggleMenuItem");t&&(t.setChecked(!1,!0),t.disable())},afterViewRender:function(){var n=this,t=n.view;t.on({scope:n,groupclick:n.onGroupClick});n.enableGroupingMenu&&n.injectGroupingMenu();n.pruneGroupedHeader();n.lastGrouper=n.getGridStore().getGrouper();n.disabled&&n.disable()},injectGroupingMenu:function(){var n=this,t=n.view.headerCt;t.showMenuBy=n.showMenuBy;t.getMenuItems=n.getMenuItems()},onColumnHideShow:function(){var n=this,i=n.view,c=i.headerCt,f=c.getMenu(),r=f.activeHeader,e=f.down("#groupMenuItem"),o,s=n.grid.getVisibleColumnManager().getColumns().length,u,h,t;if(r&&e&&(o=r.groupable===!1||!r.dataIndex||n.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",e[o]()),i.rendered&&s)for(u=i.el.query("."+n.ctCls),t=0,h=u.length;t<h;++t)u[t].colSpan=s},onColumnMove:function(){var n=this,u=n.view,t,e,f,i,r,o;if(u.getStore().isGrouped()){e=n.getCache().map;Ext.suspendLayouts();for(t in e)f=n.getGroup(t),i=f.first(),r=f.last(),o=n.getMetaGroup(t),o.isCollapsed&&(i=r=n.dataSource.getGroupPlaceholder(t)),u.refreshNode(i),n.showSummaryRow&&r!==i&&u.refreshNode(r);Ext.resumeLayouts(!0)}},showMenuBy:function(n,t,i){var r=this,f=r.getMenu(),o=f.down("#groupMenuItem"),s=i.groupable===!1||!i.dataIndex||r.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",u=f.down("#groupToggleMenuItem"),e=r.grid.getStore().isGrouped();o[s]();u&&(u.setChecked(e,!0),u[e?"enable":"disable"]());Ext.grid.header.Container.prototype.showMenuBy.apply(r,arguments)},getMenuItems:function(){var n=this,t=n.groupByText,i=n.disabled||!n.getGroupField(),r=n.showGroupsText,u=n.enableNoGroups,f=n.view.headerCt.getMenuItems;return function(){var e=f.call(this);return e.push("-",{iconCls:"x-group-by-icon",itemId:"groupMenuItem",text:t,handler:n.onGroupMenuItemClick,scope:n}),u&&e.push({itemId:"groupToggleMenuItem",text:r,checked:!i,checkHandler:n.onGroupToggleMenuItemClick,scope:n}),e}},onGroupMenuItemClick:function(n){var t=this,r=n.parentMenu,i=r.activeHeader,u=t.view,f=t.getGridStore();t.disabled&&(t.lastGrouper=null,t.block(),t.enable(),t.unblock());u.isGrouping=!0;f.group(t.getGrouper(i.dataIndex)||i.dataIndex);t.pruneGroupedHeader()},block:function(n){var t=this;t.blockRefresh=t.view.blockRefresh=!0;t.lockingPartner&&!n&&t.lockingPartner.block(!0)},unblock:function(n){var t=this;t.blockRefresh=t.view.blockRefresh=!1;t.lockingPartner&&!n&&t.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(n,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var n=this,t=n.getGroupedHeader();n.hideGroupedHeader&&t&&(Ext.suspendLayouts(),n.prunedHeader&&n.prunedHeader!==t&&n.prunedHeader.show(),n.prunedHeader=t,t.rendered&&t.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(n){var u=this.view.getEl(),i,t,f,r;if(u)for(n=Ext.htmlEncode(n),i=u.query(this.eventSelector),t=0,f=i.length;t<f;++t)if(r=i[t],r.getAttribute("data-groupName")===n)return r},getGroup:function(n){var t=this.getGridStore(),i;return t.isGrouped()&&(n.isModel&&(n=n.get(t.getGroupField())),i=t.getGroups().getByKey(n)),i},getGrouper:function(n){var t=this.groupers;return t?Ext.Array.findBy(t,function(t){return t.property===n}):null},getGroupField:function(){return this.getGridStore().getGroupField()},getMetaGroup:function(n){var t=this.metaGroupCache||this.createCache(),i,r;return n.isModel&&(n=this.getGroup(n)),n&&(i=typeof n=="string"?n:n.getGroupKey(),r=t[i],r||(r=t[i]={isCollapsed:!1,lastGroup:null,lastGroupGeneration:null,lastFilterGeneration:null,aggregateRecord:new Ext.data.Model},t.map||(t.map={}),t.map[i]=!0)),r},isExpanded:function(n){return!this.getMetaGroup(n).isCollapsed},expand:function(n,t){this.doCollapseExpand(!1,n,t)},expandAll:function(){var i=this,t=i.getCache(),r=i.lockingPartner;for(var n in t)t.hasOwnProperty(n)&&(t[n].isCollapsed=!1);Ext.suspendLayouts();i.dataSource.onRefresh();Ext.resumeLayouts(!0);for(n in t)t.hasOwnProperty(n)&&(i.afterCollapseExpand(!1,n),r&&r.afterCollapseExpand(!1,n))},collapse:function(n,t){this.doCollapseExpand(!0,n,t)},isAllCollapsed:function(){var i=this,n=i.getCache();for(var t in n)if(n.hasOwnProperty(t)&&!n[t].isCollapsed)return!1;return!0},isAllExpanded:function(){var i=this,n=i.getCache();for(var t in n)if(n.hasOwnProperty(t)&&n[t].isCollapsed)return!1;return!0},collapseAll:function(){var r=this,t=r.getCache(),n,i=r.lockingPartner;for(n in t)t.hasOwnProperty(n)&&(t[n].isCollapsed=!0);Ext.suspendLayouts();r.dataSource.onRefresh();i&&!i.isAllCollapsed()&&i.collapseAll();Ext.resumeLayouts(!0);for(n in t)t.hasOwnProperty(n)&&(r.afterCollapseExpand(!0,n),i&&i.afterCollapseExpand(!0,n))},doCollapseExpand:function(n,t,i){var r=this,f=r.lockingPartner,u=r.getGroup(t);r.getMetaGroup(u).isCollapsed!==n&&(Ext.suspendLayouts(),n?r.dataSource.collapseGroup(u):r.dataSource.expandGroup(u),Ext.resumeLayouts(!0),r.afterCollapseExpand(n,t,i),f&&f.afterCollapseExpand(n,t,!1))},afterCollapseExpand:function(n,t,i){var f=this,r=f.view,e=r.bufferedRenderer,u;u=f.getHeaderNode(t);r.fireEvent(n?"groupcollapse":"groupexpand",r,u,t);i&&(u?r.scrollElIntoView(Ext.fly(u).up(r.getItemSelector()),!1,!0):e&&e.scrollTo(f.getGroup(t).getAt(0)))},onGroupChange:function(n,t){t?this.lastGrouper=t:this.view.ownerGrid.getView().refresh()},getMenuItem:function(n){var t=this.view,i=t.headerCt.down("gridcolumn[dataIndex="+n+"]"),r=t.headerCt.getMenu();return i?r.down("menuitem[headerId="+i.id+"]"):null},onGroupKey:function(n,t){var i=this,r=i.getGroupName(t.target);if(r)i.onGroupClick(i.view,t.target,r,t)},onGroupClick:function(n,t,i,r){var u=this,e=u.getCache(),s=e.map,o=!u.isExpanded(i),f;if(u.collapsible){if(r.ctrlKey){Ext.suspendLayouts();for(f in s)f===i?o&&u.expand(i):e[f].isCollapsed||u.doCollapseExpand(!0,f,!1);Ext.resumeLayouts(!0);return}o?u.expand(i):u.collapse(i)}},setupRowData:function(n,t,i){var u=this,c=i.recordIndex,h=u.refreshData,r=u.getCache(),l=h.header,e=h.groupField,s=u.getGridStore(),b=u.view.dataSource,a=u.grid.columnManager.getHeaderByDataIndex(e),w=!!(a&&a.renderer),v,f,y,p,o;if(i.isCollapsedGroup=!1,i.summaryRecord=i.groupHeaderCls=null,h.doGrouping){if(v=s.getGrouper(),n.isCollapsedPlaceholder){f=n.group.getGroupKey();o=n.group.items;i.isFirstRow=i.isLastRow=!0;i.groupHeaderCls=u.hdCollapsedCls;i.isCollapsedGroup=i.needsWrap=!0;i.groupName=f;i.metaGroupCache=r;r.groupField=e;r.name=r.renderedGroupValue=w?a.renderer(r[f].raw,{},n):f;r.groupValue=o[0].get(e);r.columnName=l?l.text:e;i.collapsibleCls=u.collapsible?u.collapsibleCls:u.hdNotCollapsibleCls;r.rows=r.children=o;u.showSummaryRow&&(i.summaryRecord=h.summaryData[f]);return}f=v.getGroupString(n);n.group?(o=n.group.items,i.isFirstRow=n===o[0],i.isLastRow=n===o[o.length-1]):(i.isFirstRow=c===0,i.isFirstRow||(y=s.getAt(c-1),y&&(i.isFirstRow=!y.isEqual(v.getGroupString(y),f))),i.isLastRow=c===(s.isBufferedStore?s.getTotalCount():s.getCount())-1,i.isLastRow||(p=s.getAt(c+1),p&&(i.isLastRow=!p.isEqual(v.getGroupString(p),f))));i.isFirstRow&&(r.groupField=e,r.name=r.renderedGroupValue=w?a.renderer(r[f].raw,{},n):f,r.groupValue=n.get(e),r.columnName=l?l.text:e,i.collapsibleCls=u.collapsible?u.collapsibleCls:u.hdNotCollapsibleCls,i.groupName=f,u.isExpanded(f)||(i.itemClasses.push(u.hdCollapsedCls),i.isCollapsedGroup=!0),r.rows=b.isBufferedStore?r.children=[]:r.children=u.getRecordGroup(n).items,i.metaGroupCache=r);i.isLastRow&&u.showSummaryRow&&(i.summaryRecord=h.summaryData[f],i.itemClasses.push("x-grid-group-last"));i.needsWrap=i.isFirstRow||i.summaryRecord}},setup:function(n,t){var i=this,r=i.refreshData,u=t.view,f=u.isGrouping=!i.disabled&&i.getGridStore().isGrouped(),e=u.bufferedRenderer;i.skippedRows=0;e&&(e.variableRowHeight=u.bufferedRenderer.variableRowHeight||f);r.groupField=i.getGroupField();r.header=i.getGroupedHeader(r.groupField);r.doGrouping=f;t.groupHeaderTpl=Ext.XTemplate.getTpl(i,"groupHeaderTpl");f&&i.showSummaryRow&&(r.summaryData=i.generateSummaryData())},cleanup:function(n,t){var i=this.refreshData;t.metaGroupCache=t.groupHeaderTpl=t.isFirstRow=null;i.groupField=i.header=null},getAggregateRecord:function(n,t){var i;return t!==!0&&n.aggregateRecord||(i=new Ext.data.Model,n.aggregateRecord=i,i.isNonData=i.isSummary=!0),n.aggregateRecord},generateSummaryData:function(){var n=this,r=n.getGridStore(),e=r.getFilters(),o=r.getGroups().items,v=r.getProxy().getReader(),y=n.getGroupField(),p=n.lockingPartner,w=n.updateNext,s={},h=n.view.ownerCt,u,c,t,i,f,l,a;for(n.remoteRoot&&v.rawData&&(l=!0,a=n.mixins.summary.generateSummaryData.call(n,y)),u=0,c=o.length;u<c;++u)t=o[u],i=n.getMetaGroup(t),w||l||r.updating||n.didGroupChange(t,i,e)?(f=n.populateRecord(t,i,a),p&&h!==h.ownerLockable.normalGrid||(i.lastGroup=t,i.lastGroupGeneration=t.generation,i.lastFilterGeneration=e.generation)):f=n.getAggregateRecord(i),s[t.getGroupKey()]=f;return n.updateNext=!1,s},getGroupName:function(n){var r=this,f=r.view,u=r.eventSelector,t,i;return t=Ext.fly(n).findParent(u),t||(i=Ext.fly(n).findParent(f.itemSelector),i&&(t=i.down(u,!0))),t?Ext.htmlDecode(t.getAttribute("data-groupname")):void 0},getRecordGroup:function(n){var t=this.getGridStore(),i=t.getGrouper();if(i)return t.getGroups().getByKey(i.getGroupString(n))},getGroupedHeader:function(n){var i=this,f=i.view.headerCt,u=i.lockingPartner,r,t;return n=n||i.getGroupField(),n&&(r="[dataIndex="+n+"]",t=f.down(r),!t&&u&&(t=u.view.headerCt.down(r))),t||null},getFireEventArgs:function(n,t,i,r){return[n,t,i,this.getGroupName(i),r]},destroy:function(){var n=this,t=n.dataSource;n.storeListeners=Ext.destroy(n.storeListeners);n.view=n.prunedHeader=n.grid=n.dataSource=null;n.invalidateCache();Ext.grid.feature.Feature.prototype.destroy.call(this);t&&(t.bindStore(null),Ext.destroy(t))},beforeReconfigure:function(n,t,i,r){var u=this,o=u.view,f=u.dataSource,e;t&&t!==r&&(e=t.isBufferedStore,f||(Ext.destroy(u.storeListeners),u.setupStoreListeners(t)),e!==r.isBufferedStore&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),o.isGrouping=!!t.getGrouper(),f.bindStore(t))},populateRecord:function(n,t,i){var u=this,v=u.grid.ownerLockable?u.grid.ownerLockable.view:u.view,y=u.getGridStore(),r=u.getAggregateRecord(t),a=v.headerCt.getGridColumns(),p=a.length,c=n.getGroupKey(),o,e,s,f,l,h;if(r.beginEdit(),i){o=i[c];for(e in o)o.hasOwnProperty(e)&&e!==r.idProperty&&r.set(e,o[e])}for(s=0;s<p;++s)f=a[s],l=f.dataIndex||f.getItemId(),i?h=r.get(f.dataIndex):(h=u.getSummary(y,f.summaryType,l,n),r.set(l,h)),u.setSummaryData(r,f.getItemId(),h,c);return r.ownerGroup=c,r.endEdit(!0),r.commit(),r},privates:{didGroupChange:function(n,t,i){var r=!0;return n===t.lastGroup&&(r=t.lastGroupGeneration!==n.generation||t.lastFilterGeneration!==i.generation),r},setupStoreListeners:function(n){var t=this;t.storeListeners=n.on({groupchange:t.onGroupChange,scope:t,destroyable:!0})}}},0,0,0,0,["feature.grouping"],[["summary",Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,"Grouping"],0);Ext.cmd.derive("Ext.grid.feature.GroupingSummary",Ext.grid.feature.Grouping,{showSummaryRow:!0,vetoEvent:function(n,t,i,r){var u=Ext.grid.feature.Grouping.prototype.vetoEvent.apply(this,arguments);return u!==!1&&r.getTarget(this.summaryRowSelector)&&(u=!1),u}},0,0,0,0,["feature.groupingsummary"],0,[Ext.grid.feature,"GroupingSummary"],0);Ext.cmd.derive("Ext.grid.feature.RowBody",Ext.grid.feature.Feature,{rowBodyCls:"x-grid-row-body",rowBodyHiddenCls:"x-grid-row-body-hidden",rowBodyTdSelector:"td.x-grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr.x-grid-rowbody-tr",colSpanDecrement:0,bodyBefore:!1,outerTpl:{fn:function(n,t,i){var u=t.view,r=u.rowValues;this.rowBody.setup(t.rows,r);this.nextTpl.applyOut(t,n,i);this.rowBody.cleanup(t.rows,r)},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="x-grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}>','<td class="x-grid-td x-grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="x-grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}<\/div>',"<\/td>","<\/tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,beginRowSync:function(n){n.add("rowBody",this.owner.eventSelector)},syncContent:function(n,t){var i=this.owner,r=Ext.fly(n).down(i.eventSelector,!0),u;r&&(u=Ext.fly(t).down(i.eventSelector,!0))&&Ext.fly(r).syncContent(u)}}],init:function(n){var t=this,i=t.view=n.getView();n.variableRowHeight=i.variableRowHeight=!0;i.rowBodyFeature=t;n.mon(i,{element:"el",click:t.onClick,scope:t});i.headerCt.on({columnschanged:t.onColumnsChanged,scope:t});i.addTpl(t.outerTpl).rowBody=t;i.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=t;Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},onClick:function(n){var i=this,t=n.getTarget(i.eventSelector);t&&Ext.fly(t=t.previousSibling||t.nextSibling).is(i.view.rowSelector)&&(n.target=t,i.view.handleEvent(n))},getSelectedRow:function(n,t){var i=n.getNode(t);return i?Ext.fly(i).down(this.eventSelector):null},onColumnsChanged:function(n){for(var i=this.view.el.query(this.rowBodyTdSelector),r=n.getVisibleGridColumns().length,u=i.length,t=0;t<u;++t)i[t].setAttribute("colSpan",r)},setupRowData:function(n,t,i){this.getAdditionalData&&Ext.apply(i,this.getAdditionalData(n.data,t,n,i))},setup:function(n,t){t.rowBodyCls=this.rowBodyCls;t.rowBodyColspan=this.view.headerCt.visibleColumnManager.getColumns().length-this.colSpanDecrement},cleanup:function(n,t){t.rowBodyCls=t.rowBodyColspan=t.rowBody=null}},0,0,0,0,["feature.rowbody"],0,[Ext.grid.feature,"RowBody"],0);Ext.cmd.derive("Ext.grid.feature.Summary",Ext.grid.feature.AbstractSummary,{dock:undefined,dockedSummaryCls:"x-docked-summary",panelBodyCls:"x-summary-",hasFeatureEvent:!1,fullSummaryTpl:["{%","var me = this.summaryFeature,","    record = me.summaryRecord,","    view = values.view,","    bufferedRenderer = view.bufferedRenderer;","this.nextTpl.applyOut(values, out, parent);","if (!me.disabled && me.showSummaryRow && view.store.isLast(values.record)) {","if (bufferedRenderer) {","    bufferedRenderer.variableRowHeight = true;","}","me.outputSummaryRecord((record && record.isModel) ? record : me.createSummaryRecord(view), values, out, parent);","}","%}",{priority:300,beginRowSync:function(n){n.add("fullSummary",this.summaryRowSelector)},syncContent:function(n,t,i){n=Ext.fly(n,"syncDest");t=Ext.fly(t,"sycSrc");var e=this.owner,f=e.summaryRowSelector,r=n.down(f,!0),u=t.down(f,!0);r&&u&&(i?this.summaryFeature.view.updateColumns(r,u,i):Ext.fly(r).syncContent(u))}}],init:function(n){var t=this,i=t.view,r=t.dock;if(Ext.grid.feature.AbstractSummary.prototype.init.apply(this,arguments),r){n.headerCt.on({add:t.onStoreUpdate,afterlayout:t.onStoreUpdate,scope:t});n.on({beforerender:function(){var u=[t.summaryTableCls];i.columnLines&&(u[u.length]=i.ownerCt.colLinesCls);t.summaryBar=n.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+u.join(" ")+'">','<tr class="'+t.summaryRowCls+'"><\/tr>',"<\/table>","<\/div>"],scrollable:{x:!1,y:!1},hidden:!t.showSummaryRow,itemId:"summaryBar",cls:[t.dockedSummaryCls,t.dockedSummaryCls+"-"+r],xtype:"component",dock:r,weight:1e7})[0]},afterrender:function(){n.body.addCls(t.panelBodyCls+r);i.on("scroll",t.onViewScroll,t);t.onStoreUpdate()},single:!0});n.headerCt.afterComponentLayout=Ext.Function.createSequence(n.headerCt.afterComponentLayout,function(){var n=this.getTableWidth(),i=t.summaryBar.innerCt;t.summaryBar.item.setWidth(n);this.tooNarrow&&(n+=Ext.getScrollbarSize().width);i.setWidth(n)})}else if(n.bufferedRenderer){t.wrapsItem=!0;i.addRowTpl(Ext.XTemplate.getTpl(t,"fullSummaryTpl")).summaryFeature=t;i.on("refresh",t.onViewRefresh,t)}else t.wrapsItem=!1,t.view.addFooterFn(t.renderSummaryRow);n.on({beforereconfigure:t.onBeforeReconfigure,columnmove:t.onStoreUpdate,scope:t});t.bindStore(n,n.getStore())},onBeforeReconfigure:function(n,t){this.summaryRecord=null;t&&this.bindStore(n,t)},bindStore:function(n,t){var i=this;Ext.destroy(i.storeListeners);i.storeListeners=t.on({scope:i,destroyable:!0,update:i.onStoreUpdate,datachanged:i.onStoreUpdate})},renderSummaryRow:function(n,t,i){var f=n.view,r=f.findFeature("summary"),u;!r.disabled&&r.showSummaryRow&&(u=r.summaryRecord,t.push('<table cellpadding="0" cellspacing="0" class="'+r.summaryItemCls+'" style="table-layout: fixed; width: 100%;">'),r.outputSummaryRecord(u&&u.isModel?u:r.createSummaryRecord(f),n,t,i),t.push("<\/table>"))},toggleSummaryRow:function(n,t){var i=this,r=i.summaryBar;Ext.grid.feature.AbstractSummary.prototype.toggleSummaryRow.call(this,n,t);r&&(r.setVisible(i.showSummaryRow),i.onViewScroll())},getSummaryBar:function(){return this.summaryBar},vetoEvent:function(n,t,i,r){return!r.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},onViewRefresh:function(n){var t=this,i,r;t.disabled||!t.showSummaryRow||n.all.getCount()||(i=t.createSummaryRecord(n),r=Ext.fly(n.getNodeContainer()).createChild({tag:"table",cellpadding:0,cellspacing:0,cls:t.summaryItemCls,style:"table-layout: fixed; width: 100%"},!1,!0),r.appendChild(Ext.fly(n.createRowElement(i,-1)).down(t.summaryRowSelector,!0)))},createSummaryRecord:function(n){var i=this,o=n.headerCt.getVisibleGridColumns(),s=i.remoteRoot,t=i.summaryRecord,c=o.length,u,r,f,e,h;if(t||(h={id:n.id+"-summary-record"},t=i.summaryRecord=new Ext.data.Model(h)),t.beginEdit(),s&&n.store.proxy.reader.rawData)t.set(i.generateSummaryData());else if(!s)for(u=0;u<c;u++)r=o[u],f=r.dataIndex||r.getItemId(),e=i.getSummary(n.store,r.summaryType,f),t.set(f,e),i.setSummaryData(t,r.getItemId(),e);return t.endEdit(!0),t.commit(!0),t.isSummary=!0,t},onStoreUpdate:function(){var n=this,r=n.view,f=n.summaryRowSelector,e=n.dock,o,u,t,i;r.rendered&&(o=n.createSummaryRecord(r),u=Ext.fly(r.createRowElement(o,-1)).down(f,!0),u)&&(e?(i=n.summaryBar.item.dom.firstChild,t=i.firstChild):(t=n.view.el.down(f,!0),i=t?t.parentNode:null),i&&(i.insertBefore(u,t),i.removeChild(t)),e&&n.onColumnHeaderLayout())},onColumnHeaderLayout:function(){for(var r=this.view,u=r.headerCt.getVisibleGridColumns(),n,f=u.length,e=this.summaryBar.el,i,t=0;t<f;t++)n=u[t],i=e.down(r.getCellSelector(n),!0),i&&Ext.fly(i).setWidth(n.width||(n.lastBox?n.lastBox.width:100))},destroy:function(){var n=this;n.summaryRecord=n.storeListeners=Ext.destroy(n.storeListeners);Ext.grid.feature.AbstractSummary.prototype.destroy.call(this)}},0,0,0,0,["feature.summary"],0,[Ext.grid.feature,"Summary"],0);Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,activated:!1,activeCls:"x-menu-item-active",ariaRole:"menuitem",clickHideDelay:0,destroyMenu:!0,disabledCls:"x-menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:!0,baseCls:"x-menu-item",arrowCls:"x-menu-item-arrow",baseIconCls:"x-menu-item-icon",textCls:"x-menu-item-text",indentCls:"x-menu-item-indent",indentNoSeparatorCls:"x-menu-item-indent-no-separator",indentRightIconCls:"x-menu-item-indent-right-icon",indentRightArrowCls:"x-menu-item-indent-right-arrow",linkCls:"x-menu-item-link",linkHrefCls:"x-menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}<\/tpl>{childElCls}" href="{href}" role="menuitem" <tpl if="hrefTarget"> target="{hrefTarget}"<\/tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"<\/tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}<\/span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});<\/tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};<\/tpl>"><tpl if="glyph">&#{glyph};<\/tpl><\/div><\/tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"><\/div><\/tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"><\/div><\/tpl><\/a><\/tpl>',maskOnDisable:!1,iconAlign:"left",canFocus:function(){var n=this;return n.focusable&&n.rendered&&n.canActivate!==!1&&!n.destroying&&!n.isDestroyed&&n.isVisible(!0)},onFocus:function(n){var t=this;Ext.Component.prototype.onFocus.call(this,n);t.disabled||(t.plain||t.addCls(t.activeCls),t.activated=!0,t.hasListeners.activate&&t.fireEvent("activate",t))},onFocusLeave:function(n){var t=this;Ext.Component.prototype.onFocusLeave.call(this,n);t.activated&&(t.plain||t.removeCls(t.activeCls),t.doHideMenu(),t.activated=!1,t.hasListeners.deactivate&&t.fireEvent("deactivate",t))},doHideMenu:function(){var n=this.menu;this.cancelDeferExpand();n&&n.isVisible()&&n.hide()},deferHideParentMenus:function(){var n=this.getRefOwner();n.floating&&(n.bubble(function(t){if(!t.floating&&!t.isMenuItem)return!1;t.isMenu&&(n=t)}),n.hide())},expandMenu:function(n,t){var i=this;i.activated&&i.menu&&(i.hideOnClick=!1,i.cancelDeferHide(),t=t==null?i.menuExpandDelay:t,t===0?i.doExpandMenu(n):(i.cancelDeferExpand(),i.expandMenuTimer=Ext.defer(i.doExpandMenu,t,i,[n])))},doExpandMenu:function(n){var i=this,t=i.menu;t.isVisible()||(i.parentMenu.activeChild=t,t.ownerCmp=i,t.parentMenu=i.parentMenu,t.constrainTo=document.body,t.autoFocus=!n||!n.pointerType,t.showBy(i,i.menuAlign))},getRefItems:function(n){var t=this.menu,i;return t&&(i=t.getRefItems(n),i.unshift(t)),i||[]},getValue:function(){return this.value},hideMenu:function(n){var t=this;t.menu&&(t.cancelDeferExpand(),t.hideMenuTimer=Ext.defer(t.doHideMenu,Ext.isNumber(n)?n:t.menuHideDelay,t))},initComponent:function(){var n=this,t=n.cls?[n.cls]:[],i;n.hasOwnProperty("canActivate")&&(n.focusable=n.canActivate);n.plain&&t.push("x-menu-item-plain");t.length&&(n.cls=t.join(" "));n.menu&&(i=n.menu,n.menu=null,n.setMenu(i));Ext.Component.prototype.initComponent.apply(this,arguments)},onClick:function(n){var t=this,r=t.clickHideDelay,u=n.browserEvent,i,f;return(!t.href||t.disabled)&&(n.stopEvent(),t.disabled)?!1:t.disabled||t.handlingClick?void 0:(t.hideOnClick&&(r?t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,r,t):t.deferHideParentMenus()),i=t.fireEvent("click",t,n),t.isDestroyed)?void 0:(i!==!1&&t.handler&&Ext.callback(t.handler,t.scope,[t,n],0,t),f=Ext.isIE9m?u.returnValue===!1?!0:!1:!!u.defaultPrevented,t.href&&n.type!=="click"&&!f&&(t.handlingClick=!0,t.itemEl.dom.click(),t.handlingClick=!1),t.hideOnClick||t.focus(),i)},onRemoved:function(){var n=this;n.activated&&n.parentMenu.activeItem===n&&n.parentMenu.deactivateActiveItem();Ext.Component.prototype.onRemoved.apply(this,arguments);n.parentMenu=n.ownerCmp=null},beforeDestroy:function(){var n=this;n.rendered&&n.clearTip();Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var n=this;n.cancelDeferExpand();n.cancelDeferHide();clearTimeout(n.deferHideParentMenusTimer);n.setMenu(null);Ext.Component.prototype.onDestroy.apply(this,arguments)},beforeRender:function(){var n=this,t=n.glyph,h=Ext._glyphFontFamily,i=!!(n.icon||n.iconCls||t),u=!!n.menu,e=n.iconAlign==="right"&&!u,f=n.isMenuCheckItem,r=[],c=n.ownerCt,o=c.plain,s;Ext.Component.prototype.beforeRender.call(this);i&&u&&n.showCheckbox&&(i=!1);typeof t=="string"&&(s=t.split("@"),t=s[0],h=s[1]);(!o||i&&!e||f)&&(c.showSeparator&&!o?r.push(n.indentCls):r.push(n.indentNoSeparatorCls));u?r.push(n.indentRightArrowCls):i&&(e||f)&&r.push(n.indentRightIconCls);Ext.applyIf(n.renderData,{hasHref:!!n.href,href:n.href||"#",hrefTarget:n.hrefTarget,icon:n.icon,iconCls:n.iconCls,glyph:t,glyphCls:t?"x-menu-item-glyph":undefined,glyphFontFamily:h,hasIcon:i,hasMenu:u,indent:!o||i||f,isCheckItem:f,rightIcon:e,plain:n.plain,text:n.text,arrowCls:n.arrowCls,baseIconCls:n.baseIconCls,textCls:n.textCls,indentCls:r.join(" "),linkCls:n.linkCls,linkHrefCls:n.linkHrefCls,groupCls:n.group?n.groupCls:"",tabIndex:n.tabIndex})},onRender:function(){var n=this;Ext.Component.prototype.onRender.apply(this,arguments);n.tooltip&&n.setTooltip(n.tooltip,!0)},getMenu:function(){return this.menu||null},setMenu:function(n,t){var i=this,r=i.menu,u=i.arrowEl,f;r&&(r.ownerCmp=r.parentMenu=null,(t===!0||t!==!1&&i.destroyMenu)&&Ext.destroy(r));n?(f=n.isMenu,n=i.menu=Ext.menu.Manager.get(n,{ownerCmp:i,focusOnToFront:!1}),n.setOwnerCmp(i,f)):n=i.menu=null;n&&i.rendered&&!i.destroying&&u&&u[n?"addCls":"removeCls"](i.arrowCls)},setHandler:function(n,t){this.handler=n||null;this.scope=t},setIcon:function(n){var t=this.iconEl,i=this.icon;t&&(t.src=n||Ext.BLANK_IMAGE_URL);this.icon=n;this.fireEvent("iconchange",this,i,n)},setIconCls:function(n){var t=this,i=t.iconEl,r=t.iconCls;i&&(t.iconCls&&i.removeCls(t.iconCls),n&&i.addCls(n));t.iconCls=n;t.fireEvent("iconchange",t,r,n)},setText:function(n){var t=this,i=t.textEl||t.el,r=t.text;t.text=n;t.rendered&&(i.setHtml(n||""),t.updateLayout());t.fireEvent("textchange",t,r,n)},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(n,t){var i=this;return i.rendered?(t||i.clearTip(),Ext.quickTipsActive&&Ext.isObject(n)?(Ext.tip.QuickTipManager.register(Ext.apply({target:i.itemEl.id},n)),i.tooltip=n):i.itemEl.dom.setAttribute(i.getTipAttr(),n)):i.tooltip=n,i},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)},getFocusEl:function(){return this.itemEl}}},0,["menuitem"],["component","box","menuitem"],{component:!0,box:!0,menuitem:!0},["widget.menuitem"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0);Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:"x-menu-item-checked",uncheckedCls:"x-menu-item-unchecked",groupCls:"x-menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:"x-menu-item-checkbox",initComponent:function(){var n=this;n.checked=!!n.checked;Ext.menu.Item.prototype.initComponent.apply(this,arguments);n.group&&(Ext.menu.Manager.registerCheckable(n),n.initialConfig.hideOnClick!==!1&&(n.hideOnClick=!0))},beforeRender:function(){var n=this;Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(n.renderData,{checkboxCls:n.checkboxCls,showCheckbox:n.showCheckbox})},afterRender:function(){var n=this;Ext.menu.Item.prototype.afterRender.call(this);n.checked=!n.checked;n.setChecked(!n.checked,!0);n.checkChangeDisabled&&n.disableCheckChange()},disableCheckChange:function(){var n=this,t=n.checkEl;t&&t.addCls(n.disabledCls);Ext.isIE8&&n.rendered&&n.el.repaint();n.checkChangeDisabled=!0},enableCheckChange:function(){var n=this,t=n.checkEl;t&&t.removeCls(n.disabledCls);n.checkChangeDisabled=!1},onClick:function(n){var t=this;if(!t.disabled&&!t.checkChangeDisabled&&!(t.checked&&t.group)&&(t.setChecked(!t.checked),n.type==="keydown"&&t.menu))return!1;Ext.menu.Item.prototype.onClick.call(this,n)},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.onDestroy.apply(this,arguments)},setChecked:function(n,t){var i=this,u=i.checkedCls,f=i.uncheckedCls,r=i.el;if(i.checked!==n&&(t||i.fireEvent("beforecheckchange",i,n)!==!1)){r&&(n?(r.addCls(u),r.removeCls(f)):(r.addCls(f),r.removeCls(u)));i.checked=n;Ext.menu.Manager.onCheckChange(i,n);t||(Ext.callback(i.checkHandler,i.scope||i,[i,n]),i.fireEvent("checkchange",i,n))}}},0,["menucheckitem"],["component","box","menuitem","menucheckitem"],{component:!0,box:!0,menuitem:!0,menucheckitem:!0},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0);Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:"x-menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){var n=this;Ext.menu.Item.prototype.beforeRender.call(this);n.addCls(n.separatorCls)}},0,["menuseparator"],["component","box","menuitem","menuseparator"],{component:!0,box:!0,menuitem:!0,menuseparator:!0},["widget.menuseparator"],0,[Ext.menu,"Separator"],0);Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:!1,bringParentToFront:!1,defaultFocus:":focusable",menuClickBuffer:0,baseCls:"x-menu",_iconSeparatorCls:"x-menu-icon-separator",_itemCmpCls:"x-menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var n=this,t=["x-menu"],i=n.bodyCls?[n.bodyCls]:[],u=n.floating!==!1,r={element:"el",click:n.onClick,mouseover:n.onMouseOver,scope:n};Ext.supports.Touch&&(r.pointerdown=n.onMouseOver);n.on(r);n.on({beforeshow:n.onBeforeShow,scope:n});n.plain&&t.push("x-menu-plain");n.cls=t.join(" ");i.push("x-menu-body",Ext.dom.Element.unselectableCls);n.bodyCls=i.join(" ");u?n.minWidth===undefined&&(n.minWidth=n.defaultMinWidth):(n.hidden=!!n.initialConfig.hidden,n.constrain=!1);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);Ext.override(n.getLayout(),{configureItem:n.configureItem})},initFloatConstrain:Ext.emptyFn,getInherited:function(){var n=Ext.panel.Panel.prototype.getInherited.call(this);return n.hidden=this.hidden,n},beforeRender:function(){Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var n=this,t=n._iconSeparatorCls;if(n.focusableKeyNav.map.processEvent=function(t){return t.keyCode===t.ESC&&(t.target=n.el.dom),t},n.focusableKeyNav.map.addBinding([{key:27,handler:n.onEscapeKey,scope:n},{key:/[\w]/,handler:n.onShortcutKey,scope:n,shift:!1,ctrl:!1,alt:!1}]),Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments),n.showSeparator&&(n.iconSepEl=n.body.insertFirst({role:"presentation",cls:t+" "+t+"-"+n.ui,html:"&#160;"})),Ext.supports.MSPointerEvents||Ext.supports.PointerEvents)n.el.on({scope:n,click:n.preventClick,translate:!1});n.mouseMonitor=n.el.monitorMouseLeave(100,n.onMouseLeave,n)},onFocusLeave:function(n){var t=this;Ext.panel.Panel.prototype.onFocusLeave.call(this,n);t.mixins.focusablecontainer.onFocusLeave.call(t,n);t.floating&&t.hide()},canActivateItem:function(n){return n&&n.isFocusable()},deactivateActiveItem:function(){var t=this,n=t.lastFocusedChild;n&&n.blur()},getItemFromEvent:function(n){for(var i=this,r=i.layout.getRenderTarget().dom,t=n.getTarget();t.parentNode!==r;)if(t=t.parentNode,!t)return;return Ext.getCmp(t.id)},lookupComponent:function(n){var t=this;return typeof n=="string"?n=t.lookupItemFromString(n):Ext.isObject(n)&&(n=t.lookupItemFromObject(n)),n.dock||(n.minWidth=n.minWidth||t.minWidth),n},lookupItemFromObject:function(n){var t=this;return n.isComponent||(n=n.xtype?Ext.ComponentManager.create(n,n.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(n.checked)?"Check":"")+"Item",n)),n.isMenuItem&&(n.parentMenu=t),n},lookupItemFromString:function(n){return n==="separator"||n==="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:n})},configureItem:function(n){var i=this.owner,r=i.ui,t,u;n.isMenuItem?n.setUI(r):i.items.getCount()>1&&!n.rendered&&!n.dock&&(u=i._itemCmpCls,t=[u+" "+u+"-"+r],i.plain||n.indent===!1&&n.iconCls!=="no-icon"||t.push("x-menu-item-indent-"+r),n.rendered?n.el.addCls(t):n.cls=(n.cls||"")+" "+t.join(" "),n.$extraMenuCls=t);this.callParent(arguments)},onRemove:function(n){Ext.panel.Panel.prototype.onRemove.call(this,n);!n.isDestroyed&&n.$extraMenuCls&&n.el.removeCls(n.$extraMenuCls)},onClick:function(n){var i=this,u=n.type,t,r,f=u==="keydown";if(i.disabled){n.stopEvent();return}t=i.getItemFromEvent(n);t&&t.isMenuItem&&(t.menu&&i.ignoreParentClicks?n.stopEvent():r=t.onClick(n),t.menu&&r!==!1&&f&&t.expandMenu(n,0));(!t||t.disabled)&&(t=undefined);i.fireEvent("click",i,t,n)},onDestroy:function(){var n=this;n.parentMenu=n.ownerCmp=null;n.rendered&&(n.el.un(n.mouseMonitor),Ext.destroy(n.iconSepEl));Ext.panel.Panel.prototype.onDestroy.apply(this,arguments)},onMouseLeave:function(n){this.disabled||this.fireEvent("mouseleave",this,n)},onMouseOver:function(n){var t=this,e=n.getRelatedTarget(),u=!t.el.contains(e),i=t.getItemFromEvent(n),r=t.parentMenu,f=t.ownerCmp;(u&&r&&(r.setActiveItem(f),f.cancelDeferHide(),r.mouseMonitor.mouseenter()),t.disabled)||(i&&(i.containsFocus||i.focus(),i.expandMenu&&i.expandMenu(n)),u&&t.fireEvent("mouseenter",t,n),t.fireEvent("mouseover",t,i,n))},setActiveItem:function(n){var t=this;n&&n!==t.lastFocusedChild&&t.focusChild(n,1)},onEscapeKey:function(){this.floating&&this.hide()},onShortcutKey:function(n,t){for(var e=String.fromCharCode(t.getCharCode()),u=this.query(">[text]"),o=u.length,i=this.lastFocusedChild,f=Ext.Array.indexOf(u,i),r=f;;){if(++r===o&&(r=0),i=u[r],r===f)return;if(i.text&&i.text[0].toUpperCase()===e){i.focus();return}}},onFocusableContainerTabKey:function(){this.floating&&this.hide()},onFocusableContainerEnterKey:function(n){this.onClick(n)},onFocusableContainerSpaceKey:function(n){this.onClick(n)},onFocusableContainerLeftKey:function(){this.parentMenu&&(this.ownerCmp.focus(),this.hide())},onFocusableContainerRightKey:function(n){var i=this,t=i.lastFocusedChild;t&&t.expandMenu&&t.expandMenu(n,0)},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer)return!1},beforeShow:function(){var n=this,t,i;n.floating&&(n.parentMenu||n.allowOtherMenus||Ext.menu.Manager.hideAll(),t=Ext.Element.getActiveElement(),n.focusAnchor=t===document.body?null:t,n.savedMaxHeight=n.maxHeight,i=n.container.getViewSize().height,n.maxHeight=Math.min(n.maxHeight||i,i));Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var n=this;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);Ext.menu.Manager.onShow(n);n.floating&&n.autoFocus&&(n.maxHeight=n.savedMaxHeight,n.focus())},onHide:function(n,t,i){var r=this,u;r.el.contains(Ext.Element.getActiveElement())&&(u=r.focusAnchor||r.ownerCmp||r.up(":focusable"),u&&(r.previousFocus=u));Ext.panel.Panel.prototype.onHide.call(this,n,t,i);r.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(r)},preventClick:function(n){var t=this.getItemFromEvent(n);t&&!t.href&&n.preventDefault()},privates:{setOwnerCmp:function(n,t){var i=this;i.parentMenu=n.isMenuItem?n:null;i.ownerCmp=n;i.registerWithOwnerCt();delete i.hierarchicallyHidden;i.inheritedState&&t&&i.invalidateInheritedState()}}},0,["menu"],["component","box","container","panel","menu"],{component:!0,box:!0,container:!0,panel:!0,menu:!0},["widget.menu"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.menu,"Menu"],0);Ext.cmd.derive("Ext.grid.filters.filter.Base",Ext.Base,{factoryConfig:{type:"grid.filter"},$configPrefixed:!1,$configStrict:!1,config:{itemDefaults:null,menuDefaults:{xtype:"menu"},updateBuffer:500},active:!1,type:"string",dataIndex:null,menu:null,isGridFilter:!0,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(n){var t=this,i;t.initConfig(n);i=t.column;i.on("destroy",t.destroy,t);t.dataIndex=t.dataIndex||i.dataIndex;t.task=new Ext.util.DelayedTask(t.setValue,t)},destroy:function(){this.grid=this.menu=Ext.destroy(this.menu)},addStoreFilter:function(n){this.getGridStore().getFilters().add(n)},createFilter:function(n,t){return new Ext.util.Filter(this.getFilterConfig(n,t))},getFilterConfig:function(n,t){return n.id=this.getBaseIdPrefix(),n.property||(n.property=this.dataIndex),n.root||(n.root=this.defaultRoot),t&&(n.id+="-"+t),n},createMenu:function(){this.menu=Ext.widget(this.getMenuConfig())},getActiveState:function(n,t){var i=n.active;return i!==undefined?i:t!==undefined},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(n){var t=this.getBaseIdPrefix();return n&&(t+="-"+n),this.getGridStore().getFilters().get(t)},onValueChange:function(n,t){var i=this,r=i.updateBuffer;if(n.isValid()){if(t.getKey()===t.RETURN){i.menu.hide();return}r?i.task.delay(r,null,null,[i.getValue(n)]):i.setValue(i.getValue(n))}},preprocess:Ext.emptyFn,removeStoreFilter:function(n){this.getGridStore().getFilters().remove(n)},getValue:Ext.emptyFn,setActive:function(n){var t=this,i=t.owner.activeFilterMenuItem,r;t.active!==n&&(t.active=n,t.preventDefault=!0,r=t.getGridStore().getFilters(),r.beginUpdate(),n?t.activate():t.deactivate(),r.endUpdate(),t.preventDefault=!1,i&&i.activeFilter===t&&i.setChecked(n),t.setColumnActive(n))},setColumnActive:function(n){this.column[n?"addCls":"removeCls"](this.owner.filterCls)},showMenu:function(n){var t=this;t.menu||t.createMenu();n.activeFilter=t;n.setMenu(t.menu,!1);n.setChecked(t.active);n.setDisabled(t.disabled===!0);t.activate(!0)},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.grid.filters.filter,"Base"],0);Ext.cmd.derive("Ext.grid.filters.filter.SingleFilter",Ext.grid.filters.filter.Base,{constructor:function(n){var t=this,i,r;Ext.grid.filters.filter.Base.prototype.constructor.call(this,n);r=t.value;i=t.getStoreFilter();i?t.active=!0:(t.grid.stateful&&t.getGridStore().saveStatefulFilters&&(r=undefined),t.active=t.getActiveState(n,r),i=t.createFilter({operator:t.operator,value:r}),t.active&&t.addStoreFilter(i));t.active&&t.setColumnActive(!0);t.filter=i},activate:function(n){n?this.activateMenu():this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},getValue:function(n){return n.getValue()},onFilterRemove:function(){(!this.menu||this.active)&&(this.active=!1)}},1,0,0,0,0,0,[Ext.grid.filters.filter,"SingleFilter"],0);Ext.cmd.derive("Ext.grid.filters.filter.Boolean",Ext.grid.filters.filter.SingleFilter,{type:"boolean",operator:"=",defaultValue:!1,yesText:"Yes",noText:"No",updateBuffer:0,createMenu:function(){var n=this,t=Ext.id(),i={scope:n,click:n.onClick},r=n.getItemDefaults();Ext.grid.filters.filter.SingleFilter.prototype.createMenu.apply(this,arguments);n.menu.add([Ext.apply({text:n.yesText,filterKey:1,group:t,checked:!!n.defaultValue,listeners:i},r),Ext.apply({text:n.noText,filterKey:0,group:t,checked:!n.defaultValue,listeners:i},r)])},onClick:function(n){this.setValue(!!n.filterKey)},setValue:function(n){var t=this;t.filter.setValue(n);n!==undefined&&t.active?(t.value=n,t.updateStoreFilter()):t.setActive(!0)},activateMenu:Ext.emptyFn},0,0,0,0,["grid.filter.boolean"],0,[Ext.grid.filters.filter,"Boolean"],0);Ext.cmd.derive("Ext.grid.filters.filter.TriFilter",Ext.grid.filters.filter.Base,{menuItems:["lt","gt","-","eq"],constructor:function(n){var t=this,r=!1,o={},u,f,e,i,s;if(Ext.grid.filters.filter.Base.prototype.constructor.call(this,n),i=t.value,f=t.getStoreFilter("lt"),u=t.getStoreFilter("gt"),e=t.getStoreFilter("eq"),f||u||e){if(r=t.active=!0,f)t.onStateRestore(f);if(u)t.onStateRestore(u);if(e)t.onStateRestore(e)}else t.grid.stateful&&t.getGridStore().saveStatefulFilters&&(i=undefined),t.active=t.getActiveState(n,i);if(o.lt=f||t.createFilter({operator:"lt",value:!r&&i&&i.lt||null},"lt"),o.gt=u||t.createFilter({operator:"gt",value:!r&&i&&i.gt||null},"gt"),o.eq=e||t.createFilter({operator:"eq",value:!r&&i&&i.eq||null},"eq"),t.filter=o,t.active&&(t.setColumnActive(!0),!r))for(s in i)t.addStoreFilter(t.filter[s])},activate:function(n){var t=this,o=t.filter,s=t.fields,r,i,u,f,e;if(!t.preventFilterRemoval)for(u in o)r=o[u],i=s[u],f=r.getValue(),f&&(i.setValue(f),e===undefined&&(e=t.owner.activeFilterMenuItem===i.up("menuitem")),e||i.up("menuitem").setChecked(!0,!0),n||t.addStoreFilter(r))},deactivate:function(){var n=this,i=n.filter,r,t;if(n.countActiveFilters()&&!n.preventFilterRemoval){n.preventFilterRemoval=!0;for(r in i)t=i[r],t.getValue()&&n.removeStoreFilter(t);n.preventFilterRemoval=!1}},countActiveFilters:function(){var r=this.filter,n=this.getGridStore().getFilters(),u=this.getBaseIdPrefix(),t=0,i;if(n.length)for(i in r)n.get(u+"-"+i)&&t++;return t},onFilterRemove:function(n){var t=this,i;!t.menu&&t.countActiveFilters()?t.active=!1:t.menu&&(i={},i[n]=null,t.setValue(i))},onStateRestore:Ext.emptyFn,setValue:function(n){var r=this,i=r.filter,e=[],u=[],c=!1,l=r.getGridStore().getFilters(),h,t,f,o,s;if(!r.preventFilterRemoval){if(r.preventFilterRemoval=!0,"eq"in n?(t=i.lt.getValue(),(t||t===0)&&u.push(i.lt),t=i.gt.getValue(),(t||t===0)&&u.push(i.gt),t=n.eq,t||t===0?(e.push(i.eq),i.eq.setValue(t)):u.push(i.eq)):(t=i.eq.getValue(),(t||t===0)&&u.push(i.eq),"lt"in n&&(t=n.lt,t||t===0?(e.push(i.lt),i.lt.setValue(t)):u.push(i.lt)),"gt"in n&&(t=n.gt,t||t===0?(e.push(i.gt),i.gt.setValue(t)):u.push(i.gt))),o=u.length,s=e.length,c=!!(r.countActiveFilters()+s-o),o||s||c!==r.active){if(l.beginUpdate(),o)for(f=0;f<o;f++)h=u[f],r.fields[h.getOperator()].setValue(null),h.setValue(null),r.removeStoreFilter(h);if(s)for(f=0;f<s;f++)r.addStoreFilter(e[f]);r.setActive(c);l.endUpdate()}r.preventFilterRemoval=!1}}},1,0,0,0,0,0,[Ext.grid.filters.filter,"TriFilter"],0);Ext.cmd.derive("Ext.grid.filters.filter.Date",Ext.grid.filters.filter.TriFilter,{type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0},updateBuffer:0,dateFormat:undefined},itemDefaults:{xtype:"menucheckitem",selectOnFocus:!0,width:125,menu:{layout:"auto",plain:!0}},applyDateFormat:function(n){return n||Ext.Date.defaultFormat},createMenu:function(){var n=this,l={scope:n,checkchange:n.onCheckChange},s=n.menuItems,u,f,h,i,c,t,e,r,o;for(Ext.grid.filters.filter.TriFilter.prototype.createMenu.apply(this,arguments),f=n.getItemDefaults(),u=n.getFields(),h=Ext.apply({minDate:n.minDate,maxDate:n.maxDate,format:n.dateFormat,listeners:{scope:n,select:n.onMenuSelect}},n.getPickerDefaults()),n.fields={},i=0,c=s.length;i<c;i++)if(t=s[i],t!=="-"){r={menu:{items:[Ext.apply({itemId:t},h)]}};f&&Ext.merge(r,f);u&&Ext.merge(r,u[t]);e=n.menu.add(r);o=n.fields[t]=e.down("datepicker");o.filter=n.filter[t];o.filterKey=t;e.on(l)}else n.menu.add(t)},getPicker:function(n){return this.fields[n]},onCheckChange:function(n,t){var r=n.down("datepicker").filter,i;!t&&r.getValue()&&(i={},i[r.getOperator()]=null,this.setValue(i))},onFilterRemove:function(n){var t={};t[n]=null;this.setValue(t);this.fields[n].up("menuitem").setChecked(!1,!0)},onStateRestore:function(n){n.setSerializer(this.getSerializer());n.setConvert(this.convertDateOnly)},getFilterConfig:function(n,t){return n=Ext.grid.filters.filter.TriFilter.prototype.getFilterConfig.call(this,n,t),n.serializer=this.getSerializer(),n.convert=this.convertDateOnly,n},convertDateOnly:function(n){var t=null;return n&&(t=Ext.Date.clearTime(n,!0).getTime()),t},getSerializer:function(){var n=this;return function(t){var i=t.value;i&&(t.value=Ext.Date.format(i,n.getDateFormat()))}},onMenuSelect:function(n,t){var r=this.fields,i=r[n.itemId],u=r.gt,f=r.lt,o=r.eq,e={};i.up("menuitem").setChecked(!0,!0);i===o?(f.up("menuitem").setChecked(!1,!0),u.up("menuitem").setChecked(!1,!0)):(o.up("menuitem").setChecked(!1,!0),i===u&&+f.value<+t?(f.up("menuitem").setChecked(!1,!0),e.lt=null):i===f&&+u.value>+t&&(u.up("menuitem").setChecked(!1,!0),e.gt=null));e[i.filterKey]=t;this.setValue(e);n.up("menu").hide()}},0,0,0,0,["grid.filter.date"],0,[Ext.grid.filters.filter,"Date"],0);Ext.cmd.derive("Ext.grid.filters.filter.List",Ext.grid.filters.filter.SingleFilter,{type:"list",operator:"in",itemDefaults:{checked:!1,hideOnClick:!1},idField:"id",labelField:"text",labelIndex:null,loadingText:"Loading...",loadOnShow:!0,single:!1,plain:!0,constructor:function(n){var t=this,i,r;if(Ext.grid.filters.filter.SingleFilter.prototype.constructor.call(this,n),i=t.options,r=t.store,!i&&!r)t.getGridStore().on({scope:t,add:t.onDataChanged,refresh:t.onDataChanged,remove:t.onDataChanged,update:t.onDataChanged});t.labelIndex=t.labelIndex||t.column.dataIndex},destroy:function(){var n=this,t=n.store,i=n.autoStore;t&&(i||t.autoDestroy?t.destroy():t.un("load",n.bindMenuStore,n),n.store=null);i&&n.getGridStore().un({scope:n,add:n.onDataChanged,refresh:n.onDataChanged,remove:n.onDataChanged,update:n.onDataChanged});Ext.grid.filters.filter.SingleFilter.prototype.destroy.call(this)},activateMenu:function(){var u=this,t=u.filter.getValue(),i,n,f,r;if(t&&t.length)for(i=u.menu.items,n=0,f=i.length;n<f;n++)r=i.getAt(n),Ext.Array.indexOf(t,r.value)>-1&&r.setChecked(!0,!0)},bindMenuStore:function(n){var t=this;t.grid.isDestroyed||t.preventFilterRemoval||(t.createListStore(n),t.createMenuItems(t.store),t.loaded=!0)},createListStore:function(n){var t=this,u=t.store,l=n.isStore,o=t.idField,s=t.labelField,h=!1,r,f,e,c,i;if(l)n!==t.getGridStore()?(h=!0,u=t.store=n):(t.autoStore=!0,r=t.getOptionsFromStore(n));else for(r=[],e=0,c=n.length;e<c;e++){i=n[e];switch(Ext.typeOf(i)){case"array":r.push(i);break;case"object":r.push(i);break;default:i!=null&&(f={},f[o]=i,f[s]=i,r.push(f))}}h||(u&&u.destroy(),u=t.store=new Ext.data.Store({fields:[o,s],data:r}),t.loaded=!0);t.setStoreFilter(u)},createMenu:function(n){var t=this,r=t.getGridStore(),i=t.store,f=t.options,u;if(i&&(t.store=i=Ext.StoreManager.lookup(i)),Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this,n),u=t.menu,i)if(i.getCount())t.createMenuItems(i);else{u.add({text:t.loadingText,iconCls:"x-mask-msg-text"});u.on("show",t.show,t);i.on("load",t.bindMenuStore,t,{single:!0})}else if(f)t.bindMenuStore(f);else if(r.getCount()||r.data.filtered)t.bindMenuStore(r);else r.on("load",t.bindMenuStore,t,{single:!0})},createMenuItems:function(n){var t=this,i=t.menu,s=n.getCount(),y=Ext.Array.contains,h,c,f,l,e,a,r,v,u,p,o;if(s&&i){for(h={checkchange:t.onCheckChange,scope:t},c=t.getItemDefaults(),i.suspendLayouts(),i.removeAll(!0),l=t.single?Ext.id():null,a=t.idField,v=t.labelField,o=[],u=0;u<s;u++)(f=n.getAt(u),e=f.get(a),r=f.get(v),r==null||y(o,e))||(o.push(r),p=i.add(Ext.apply({text:r,group:l,value:e,listeners:h},c)));i.resumeLayouts(!0)}},getFilterConfig:function(n,t){return n.value=n.value||[],Ext.grid.filters.filter.SingleFilter.prototype.getFilterConfig.call(this,n,t)},getOptionsFromStore:function(n){var o=this,u=n.getData(),s={},h=[],l=o.dataIndex,a=o.labelIndex,f,i,c,e,t,r;for(n.isFiltered()&&(u=u.getSource()),f=u.items,c=f.length,i=0;i<c;++i)e=f[i].data,t=e[l],r=e[a],r===undefined&&(r=t),s[t]||(s[t]=1,h.push([t,r]));return h},onCheckChange:function(){var n=this,t=n.updateBuffer;t?n.task.delay(t,null,null):n.setValue()},onDataChanged:function(n){this.preventDefault||this.bindMenuStore(n)},setStoreFilter:function(){var n=this,t=n.value,i=n.filter;t&&(Ext.isArray(t)||(t=[t]),i.setValue(t));n.active&&(n.preventFilterRemoval=!0,n.addStoreFilter(i),n.preventFilterRemoval=!1)},setValue:function(){var n=this,f=n.menu.items,r=[],i,t,u;for(n.preventDefault=!0,i=0,t=f.length;i<t;i++)u=f.getAt(i),u.checked&&r.push(u.value);n.filter.setValue(r);t=r.length;t&&n.active?n.updateStoreFilter():n.setActive(!!t);n.preventDefault=!1},show:function(){var n=this.store;!this.loadOnShow||this.loaded||n.hasPendingLoad()||n.load()}},1,0,0,0,["grid.filter.list"],0,[Ext.grid.filters.filter,"List"],0);Ext.cmd.derive("Ext.grid.filters.filter.Number",Ext.grid.filters.filter.TriFilter,{type:"number",config:{fields:{gt:{iconCls:"x-grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:"x-grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:"x-grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:!0,hideEmptyLabel:!1,labelSeparator:"",labelWidth:29,selectOnFocus:!1},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var n=this,h={scope:n,keyup:n.onValueChange,spin:{fn:n.onInputSpin,buffer:200},el:{click:n.stopFn}},e=n.getItemDefaults(),o=n.menuItems,c=n.getFields(),f,r,s,t,u,i;for(Ext.grid.filters.filter.TriFilter.prototype.createMenu.call(this),n.fields={},r=0,s=o.length;r<s;r++)if(t=o[r],t!=="-"){f=c[t];i={labelClsExtra:"x-grid-filters-icon "+f.iconCls};e&&Ext.merge(i,e);Ext.merge(i,f);i.emptyText=i.emptyText||n.emptyText;delete i.iconCls;n.fields[t]=u=n.menu.add(i);u.filter=n.filter[t];u.filterKey=t;u.on(h)}else n.menu.add(t)},getValue:function(n){var t={};return t[n.filterKey]=n.getValue(),t},onInputSpin:function(n){var t={};t[n.filterKey]=n.getValue();this.setValue(t)},stopFn:function(n){n.stopPropagation()}},0,0,0,0,["grid.filter.number","grid.filter.numeric"],0,[Ext.grid.filters.filter,"Number"],0);Ext.cmd.derive("Ext.grid.filters.filter.String",Ext.grid.filters.filter.SingleFilter,{type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:!0,hideEmptyLabel:!1,iconCls:"x-grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:!0},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var t=this,n;Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this);n=Ext.apply({},t.getItemDefaults());!n.iconCls||"labelClsExtra"in n||(n.labelClsExtra="x-grid-filters-icon "+n.iconCls);delete n.iconCls;n.emptyText=n.emptyText||t.emptyText;t.inputItem=t.menu.add(n);t.inputItem.on({scope:t,keyup:t.onValueChange,el:{click:function(n){n.stopPropagation()}}})},setValue:function(n){var t=this;t.inputItem&&t.inputItem.setValue(n);t.filter.setValue(n);n&&t.active?(t.value=n,t.updateStoreFilter()):t.setActive(!!n)},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())}},0,0,0,0,["grid.filter.string"],0,[Ext.grid.filters.filter,"String"],0);Ext.cmd.derive("Ext.grid.filters.Filters",Ext.plugin.Abstract,{pluginId:"gridfilters",defaultFilterTypes:{boolean:"boolean",int:"number",date:"date",number:"number"},filterCls:"x-grid-filters-filtered-column",menuFilterText:"Filters",showMenu:!0,stateId:undefined,init:function(n){var t=this,i,r;t.grid=n;n.filters=t;t.grid.normalGrid&&(t.isLocked=!0);n.clearFilters=t.clearFilters.bind(t);i=n.store;r=n.headerCt;r.on({scope:t,add:t.onAdd,menucreate:t.onMenuCreate});n.on({scope:t,destroy:t.onGridDestroy,beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure});t.bindStore(i);n.stateful&&(i.statefulFilters=!0);t.initColumns()},initColumns:function(){for(var u=this.grid,e=u.getStore(),f=u.columnManager.getColumns(),o=f.length,i,r,n,t=0;t<o;t++)i=f[t],r=i.filter,r&&!r.isGridFilter&&(n||(n=e.getFilters(),n.beginUpdate()),this.createColumnFilter(i));n&&n.endUpdate()},createColumnFilter:function(n){var i=this,r=n.filter,t={column:n,grid:i.grid,owner:i},u,f,e;Ext.isString(r)?t.type=r:Ext.apply(t,r);t.type||(f=i.store.getModel(),u=f&&f.getField(n.dataIndex),e=u&&u.type,t.type=e&&i.defaultFilterTypes[e]||n.defaultFilterType||"string");n.filter=Ext.Factory.gridFilter(t)},onAdd:function(n,t){var i=t.filter;i&&!i.isGridFilter&&this.createColumnFilter(t)},onMenuCreate:function(n,t){t.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(n){var t=this,i,r,u,f;t.showMenu&&(t.filterMenuItem||(t.filterMenuItem={}),u=n.up("tablepanel"),f=u.id,i=t.filterMenuItem[f],(!i||i.isDestroyed)&&(i=t.createMenuItem(n,f)),t.activeFilterMenuItem=i,r=t.getMenuFilter(u.headerCt),r&&r.showMenu(i),i.setVisible(!!r),t.sep.setVisible(!!r))},createMenuItem:function(n,t){var i=this,r;return i.sep=n.add("-"),r=n.add({checked:!1,itemId:"filters",text:i.menuFilterText,listeners:{scope:i,checkchange:i.onCheckChange}}),i.filterMenuItem[t]=r},onGridDestroy:function(){var n=this,t=n.filterMenuItem,i;n.bindStore(null);n.sep=Ext.destroy(n.sep);for(i in t)t[i].destroy();n.grid=null},onUnbindStore:function(n){n.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(n){this.local=!n.getRemoteFilter();n.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(n,t){for(var e=t.items.length,o=this.grid.columnManager,u,f,i,r=0;r<e;r++)if(u=t.items[r],f=o.getHeaderByDataIndex(u.getProperty()),f){if(i=f.filter,!i||!i.menu||u.getId().indexOf(i.getBaseIdPrefix())===-1)continue;if(!i.preventFilterRemoval)i.onFilterRemove(u.getOperator())}},getMenuFilter:function(n){return n.getMenu().activeHeader.filter},onCheckChange:function(n,t){var i=this.isLocked?n.up("tablepanel"):this.grid,r=this.getMenuFilter(i.headerCt);r.setActive(t)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(n){var t=this,l=t.grid,e=t.store,o=!1,s=!0,h,r,u,c,f,i;for(Ext.isArray(n)||(n=[n]),u=0,c=n.length;u<c;u++)f=n[u],h=f.dataIndex,r=l.columnManager.getHeaderByDataIndex(h),r&&(o=!0,f.value&&(s=!1),i=r.filter,i&&i.isGridFilter&&(i.deactivate(),i.destroy(),t.activeFilterMenuItem&&(t.activeFilterMenuItem.menu=null)),r.filter=f);o&&(e.suppressNextFilter=s,t.initColumns(),e.suppressNextFilter=!1)},addFilters:function(n){n&&this.addFilter(n)},clearFilters:function(n){var f=this.grid,e=f.columnManager.getColumns(),i=f.store,h=i.getAutoFilter(),o,r,u,s,t;for(n!==undefined&&i.setAutoFilter(n),u=0,s=e.length;u<s;u++)o=e[u],r=o.filter,r&&r.isGridFilter&&(t||(t=i.getFilters(),t.beginUpdate()),r.setActive(!1));t&&t.endUpdate();n!==undefined&&i.setAutoFilter(h)},onBeforeReconfigure:function(n,t){t&&t.getFilters().beginUpdate();this.reconfiguring=!0},onReconfigure:function(n,t,i,r){var u=this,f=u.filterMenuItem;for(var e in f)f[e].setMenu(null);t&&r!==t&&u.bindStore(t);i&&u.initColumns();t&&t.getFilters().endUpdate();u.reconfiguring=!1}},0,0,0,0,["plugin.gridfilters"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.grid.filters,"Filters"],0);Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(n){var t=this,i=n.lockedGrid,r=n.normalGrid;t.lockable=n;Ext.grid.header.Container.prototype.constructor.call(this);i.visibleColumnManager.rootColumns=r.visibleColumnManager.rootColumns=n.visibleColumnManager=t.visibleColumnManager=new Ext.grid.ColumnManager(!0,i.headerCt,r.headerCt);i.columnManager.rootColumns=r.columnManager.rootColumns=n.columnManager=t.columnManager=new Ext.grid.ColumnManager(!1,i.headerCt,r.headerCt);t.relayEvents(i.headerCt,t.headerCtRelayEvents);t.relayEvents(r.headerCt,t.headerCtRelayEvents)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var n=this,t=n.lockable.lockedGrid.headerCt.getColumnsState(),i=n.lockable.normalGrid.headerCt.getColumnsState();return t.concat(i)},applyColumnsState:function(n){for(var h=this,c=h.lockable.lockedGrid,i=c.headerCt,r=h.lockable.normalGrid.headerCt,a=Ext.Array.toValueMap(i.items.items,"stateId"),v=Ext.Array.toValueMap(r.items.items,"stateId"),e=[],o=[],l=1,y=n.length,t,s,f,u=0;u<y;u++)f=n[u],s=a[f.id],t=s||v[f.id],t&&(t.applyColumnState&&t.applyColumnState(f),t.locked===undefined&&(t.locked=!!s),t.locked?(e.push(t),t.hidden||typeof t.width!="number"||(l+=t.width)):o.push(t));e.length+o.length===i.items.getCount()+r.items.getCount()&&(i.removeAll(!1),r.removeAll(!1),i.add(e),r.add(o),c.setWidth(l))},disable:function(){var n=this.lockable;n.lockedGrid.headerCt.disable();n.normalGrid.headerCt.disable()},enable:function(){var n=this.lockable;n.lockedGrid.headerCt.enable();n.normalGrid.headerCt.enable()}},1,0,["component","box","container","headercontainer"],{component:!0,box:!0,container:!0,headercontainer:!0},0,0,[Ext.grid.locking,"HeaderContainer"],0);Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(n){var t=this,r,i;t.ownerGrid=n.ownerGrid;t.ownerGrid.view=t;t.navigationModel=n.locked.xtype==="treepanel"?new Ext.tree.NavigationModel(t):new Ext.grid.NavigationModel(t);n.locked.viewConfig.bindStore=Ext.emptyFn;n.normal.viewConfig.bindStore=t.subViewBindStore;n.normal.viewConfig.isNormalView=n.locked.viewConfig.isLockedView=!0;n.locked.viewConfig.beforeLayout=n.normal.viewConfig.beforeLayout=t.beforeLayout;n.locked.viewConfig.navigationModel=n.normal.viewConfig.navigationModel=t.navigationModel;t.lockedGrid=t.ownerGrid.lockedGrid=Ext.ComponentManager.create(n.locked);t.lockedView=r=t.lockedGrid.getView();t.ownerGrid.shrinkWrapLocked&&(t.lockedGrid.width+=Ext.num(r.getSelectionModel().headerWidth,0)+(t.lockedGrid.getVisibleColumnManager().getColumns().length?1:0));t.selModel=n.normal.viewConfig.selModel=r.getSelectionModel();t.lockedGrid.isTree&&(t.lockedView.animate=!1,n.normal.store=r.store,n.normal.viewConfig.stripeRows=t.lockedView.stripeRows,n.normal.rowLines=t.lockedGrid.rowLines);t.normalGrid=t.ownerGrid.normalGrid=Ext.ComponentManager.create(n.normal);r.lockingPartner=i=t.normalView=t.normalGrid.getView();i.lockingPartner=r;t.loadMask=n.loadMask!==undefined?n.loadMask:t.loadMask;t.mixins.observable.constructor.call(t);t.relayEvents(r,Ext.view.Table.events);t.relayEvents(i,Ext.view.Table.events);i.on({scope:t,itemmouseleave:t.onItemMouseLeave,itemmouseenter:t.onItemMouseEnter});r.on({scope:t,itemmouseleave:t.onItemMouseLeave,itemmouseenter:t.onItemMouseEnter});t.ownerGrid.on({render:t.onPanelRender,scope:t});t.loadingText=i.loadingText;t.loadingCls=i.loadingCls;t.loadingUseMsg=i.loadingUseMsg;t.itemSelector=t.getItemSelector();t.all=i.all;t.bindStore(i.dataSource,!0,"dataSource")},subViewBindStore:function(n){var t=this,i=t.getSelectionModel();n===null||t.ownerGrid.reconfiguring||(n=t.store);i.bindStore(n);i.bindComponent(t)},beforeLayout:function(){var n=this.ownerCt.ownerLockable.view,t=n.lockedGrid.view,i=n.normalGrid.view;n.relayingOperation||(n.lockedGrid.isVisible()&&t.refreshNeeded&&t.doFirstRefresh(t.dataSource),i.refreshNeeded&&i.doFirstRefresh(i.dataSource))},onPanelRender:function(){var n=this,t=n.loadMask,i={target:n.ownerGrid,msg:n.loadingText,msgCls:n.loadingCls,useMsg:n.loadingUseMsg,store:n.ownerGrid.store};n.el=n.ownerGrid.getTargetEl();n.rendered=!0;n.initFocusableEvents();n.fireEvent("render",n);t&&(Ext.isObject(t)&&(i=Ext.apply(i,t)),n.loadMask=new Ext.LoadMask(i))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(n){return this.getViewForColumn(n).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(n){var t=this.lockedView,i;return t.headerCt.cascade(function(t){if(t===n)return i=!0,!1}),i?t:this.normalView},onItemMouseEnter:function(n,t){var r=this,u=r.lockedView,i=r.normalView,f;n.trackOver&&(n!==u&&(i=u),f=i.getNode(t),i.highlightItem(f))},onItemMouseLeave:function(n){var t=this,i=t.lockedView,r=t.normalView;n.trackOver&&(n!==i&&(r=i),r.clearHighlight())},relayFn:function(n,t){t=t||[];var r=this,i=r.lockedView;r.relayingOperation=!0;i[n].apply(i,t);i=r.normalView;i[n].apply(i,t);r.relayingOperation=!1},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(n){var i=this,r=i.lockedView,t=i.normalView;!t.componentLayoutCounter||r.blockRefresh&&t.blockRefresh||(Ext.suspendLayouts(),r.doFirstRefresh(n),t.doFirstRefresh(n),Ext.resumeLayouts(!0))},getStoreListeners:function(){var n=this;return{refresh:n.onDataRefresh,replace:n.onReplace,add:n.onAdd,remove:n.onRemove,update:n.onUpdate,clear:n.refresh,beginupdate:n.onBeginUpdate,endupdate:n.onEndUpdate}},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn("onBeginUpdate",arguments);Ext.resumeLayouts(!0)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn("onEndUpdate",arguments);Ext.resumeLayouts(!0)},onDataRefresh:function(){Ext.suspendLayouts();this.relayFn("onDataRefresh",arguments);Ext.resumeLayouts(!0)},onReplace:function(){Ext.suspendLayouts();this.relayFn("onReplace",arguments);Ext.resumeLayouts(!0)},onAdd:function(){Ext.suspendLayouts();this.relayFn("onAdd",arguments);Ext.resumeLayouts(!0)},onRemove:function(){Ext.suspendLayouts();this.relayFn("onRemove",arguments);Ext.resumeLayouts(!0)},onUpdate:function(){var n=this.normalGrid.view;if(Ext.suspendLayouts(),this.relayFn("onUpdate",arguments),n.hasVariableRowHeight()&&n.bufferedRenderer)Ext.on({afterlayout:n.bufferedRenderer.refreshSize,scope:n.bufferedRenderer,single:!0});Ext.resumeLayouts(!0)},refresh:function(){Ext.suspendLayouts();this.relayFn("refresh",arguments);Ext.resumeLayouts(!0)},getNode:function(n){return this.normalView.getNode(n)},getRow:function(n){return this.normalView.getRow(n)},getCell:function(n,t){var i=this.getViewForColumn(t),r=i.getRow(n);return Ext.fly(r).down(t.getCellSelector())},indexOf:function(n){var t=this.lockedView.indexOf(n);return t||(t=this.normalView.indexOf(n)),t},focus:function(){var n=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");n&&n.focus()},focusRow:function(n){var t,i=this.getNavigationModel().lastFocused;t=i?i.view:this.normalView;t.focusRow(n)},focusCell:function(n){n.view.focusCell(n)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(n){return this.ownerGrid.isVisible(n)},getFocusEl:function(){var n,t=this.getNavigationModel().lastFocused;return n=t?t.view:this.normalView,n.getFocusEl()},getCellInclusive:function(n,t){var r=n.column,i=this.lockedGrid.getColumnManager().getColumns().length;return r>=i?(n=Ext.apply({},n),n.column-=i,this.normalView.getCellInclusive(n,t)):this.lockedView.getCellInclusive(n,t)},getHeaderByCell:function(n){return n?this.getVisibleColumnManager().getHeaderById(n.getAttribute("data-columnId")):!1},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(n){n.column.getView().onCellSelect({record:n.record,column:n.column})},onCellDeselect:function(n){n.column.getView().onCellDeselect({record:n.record,column:n.column})},getCellByPosition:function(n,t){var r=this,i=n.view,u=n.column;return i===r&&(i=u.getView()),i.getCellByPosition(n,t)},getRecord:function(n){var t=this.lockedView.getRecord(n);return t||(t=this.normalView.getRecord(n)),t},scrollBy:function(){var n=this.normalView;n.scrollBy.apply(n,arguments)},ensureVisible:function(){var n=this.normalView;n.ensureVisible.apply(n,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var n=this;n.bindStore(null,!1,"dataSource");n.isDestroyed=!0;n.clearListeners();Ext.destroy(n.loadMask,n.navigationModel,n.selModel)}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]);this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])});Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:"x-grid-inner-locked",normalGridCls:"x-grid-inner-normal",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(n){var f=this,i,t,r,e,u;if(f.subGridXType)i=f.subGridXType;else{if(!n)return"gridpanel";t=this.getXTypes().split("/");r=t.length;e=t[r-1];u=t[r-2];i=u!=="tablepanel"?u:e}return i},injectLockable:function(){this.focusable=!1;this.lockable=!0;this.hasView=!0;var n=this,y=Ext.getScrollbarSize(),p=y.width,c=n.store=Ext.StoreManager.lookup(n.store),u=n.lockedViewConfig,e=n.normalViewConfig,w=Ext.Object,l,o,t,i,r,a,f,s,h=n.viewConfig,b=h&&h.loadMask,d=b!==undefined?b:n.loadMask,k=n.bufferedRenderer,v=p>0&&Ext.supports.touchScroll!==2;for(l=n.constructLockableFeatures(),n.features=null,o=n.constructLockablePlugins(),n.plugins=o.topPlugins,t={id:n.id+"-locked",isLocked:!0,bufferedRenderer:k,ownerGrid:n,ownerLockable:n,xtype:n.determineXTypeToCreate(!0),store:c,reserveScrollbar:v,scrollable:{indicators:{x:!0,y:!1}},scrollerOwner:!1,animate:!1,border:!1,cls:n.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||n.normalGrid.floatedFromCollapse},features:l.lockedFeatures,plugins:o.lockedPlugins},i={id:n.id+"-normal",isLocked:!1,bufferedRenderer:k,ownerGrid:n,ownerLockable:n,xtype:n.determineXTypeToCreate(),store:c,reserveScrollbar:n.reserveScrollbar,scrollerOwner:!1,border:!1,cls:n.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||n.lockedGrid.floatedFromCollapse},features:l.normalFeatures,plugins:o.normalPlugins},n.addCls("x-grid-locked"),Ext.copyTo(i,n,n.bothCfgCopy,!0),Ext.copyTo(t,n,n.bothCfgCopy,!0),Ext.copyTo(i,n,n.normalCfgCopy,!0),Ext.copyTo(t,n,n.lockedCfgCopy,!0),Ext.apply(i,n.normalGridConfig),Ext.apply(t,n.lockedGridConfig),r=0;r<n.normalCfgCopy.length;r++)delete n[n.normalCfgCopy[r]];for(r=0;r<n.lockedCfgCopy.length;r++)delete n[n.lockedCfgCopy[r]];if(n.addStateEvents(["lockcolumn","unlockcolumn"]),a=n.processColumns(n.columns||[],t),t.columns=a.locked,t.columns.items.length||(t.hidden=!0),i.columns=a.normal,i.columns.items.length||(i.hidden=!0),i.flex=1,t.viewConfig=u=u?w.chain(u):{},i.viewConfig=e=e?w.chain(e):{},u.loadingUseMsg=!1,u.loadMask=!1,v&&(u.margin="0 -"+p+" 0 0"),e.loadMask=!1,Ext.applyIf(u,h),Ext.applyIf(e,h),n.initialConfig.layout||(n.layout={type:"hbox",align:"stretch"}),n.getLayout(),n.layout.type==="border"&&(n.split&&(t.split=!0),t.region||(t.region="west"),i.region||(i.region="center"),n.addCls("x-grid-locked-split")),n.layout instanceof Ext.layout.container.Box||(n.split=!1),n.view=new Ext.grid.locking.View({loadMask:d,locked:t,normal:i,ownerGrid:n}),t=n.lockedGrid,i=n.normalGrid,i.getView().getScrollable().addPartner(t.getView().getScrollable(),"y"),y.height&&Ext.supports.touchScroll!==2){t.on({afterlayout:n.afterLockedViewLayout,scope:n});t.getView().getOverflowStyle()}f=t.headerCt;s=i.headerCt;v&&(f.reserveScrollbar=!1);n.headerCt=n.view.headerCt=new Ext.grid.locking.HeaderContainer(n);f.lockedCt=!0;f.lockableInjected=!0;s.lockableInjected=!0;f.on({add:n.delaySyncLockedWidth,remove:n.delaySyncLockedWidth,columnshow:n.delaySyncLockedWidth,columnhide:n.delaySyncLockedWidth,sortchange:n.onLockedHeaderSortChange,columnresize:n.delaySyncLockedWidth,scope:n});s.on({add:n.delaySyncLockedWidth,remove:n.delaySyncLockedWidth,columnshow:n.delaySyncLockedWidth,columnhide:n.delaySyncLockedWidth,sortchange:n.onNormalHeaderSortChange,scope:n});n.modifyHeaderCt();n.items=[t];n.split&&(n.addCls("x-grid-locked-split"),n.items[1]={xtype:"splitter"});n.items.push(i);n.relayHeaderCtEvents(f);n.relayHeaderCtEvents(s);n.storeRelayers=n.relayEvents(c,["filterchange","groupchange"]);n.gridRelayers=n.relayEvents(i,["viewready"])},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(n,t){var u=this,f,l,i,r=new Ext.grid.header.Container,e=[],o=[],a={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:e},v={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:o},s={lockedWidth:t.width||0,locked:a,normal:v},h=!(t.width||t.flex),c;for(u.hasOwnProperty("shrinkWrapLocked")||(u.shrinkWrapLocked=h),Ext.isObject(n)&&(Ext.applyIf(a,n),Ext.applyIf(v,n),c=Ext.apply({},n),delete c.items,Ext.apply(r,c),n=n.items),r.constructing=!0,f=0,l=n.length;f<l;++f)i=n[f],i.isComponent||(i=r.applyDefaults(i),i.initOwnerCt=r,i=r.lookupComponent(i),delete i.initOwnerCt),i.processed=!0,i.locked||i.autoLock?(h&&!i.hidden&&(s.lockedWidth+=u.getColumnWidth(i)||r.defaultWidth),e.push(i)):o.push(i),i.headerId||(i.headerId=(i.initialConfig||i).id||"h"+ ++u.headerCounter);return u.fireEvent("processcolumns",u,e,o),r.destroy(),h&&(t.width=s.lockedWidth),s},getColumnWidth:function(n){var i=n.width||0,r,u,t;if(!i&&n.isGroupHeader)for(r=n.items.items,u=r.length,t=0;t<u;t++)i+=this.getColumnWidth(r[t]);return i},afterLockedViewLayout:function(){var i=this,r=i.lockedGrid,u=i.normalGrid,f=r.getView(),e=u.getView(),o=Ext.getScrollbarSize().height,s=f.scrollFlags.x&&r.headerCt.tooNarrow?o:0,h=e.scrollFlags.x&&u.headerCt.tooNarrow?o:0,n=e.getScrollable(),t=f.getScrollable();s!==h?s?(n.setX("scroll"),t.setX(!0)):(t.setX("scroll"),n.setX(!0)):(t.setX(h?"scroll":!0),n.setX(!0))},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments);this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){if(!this.isDestroyed){var u=this,n=u.normalGrid.getView(),t=u.lockedGrid.getView(),i=n.syncRowHeightBegin(),r=t.syncRowHeightBegin(),f;n.syncRowHeightMeasure(i);t.syncRowHeightMeasure(r);n.syncRowHeightFinish(i,r);t.syncRowHeightFinish(r,i);f=n.getScrollY();t.setScrollY(f)}},modifyHeaderCt:function(){var n=this;n.lockedGrid.headerCt.getMenuItems=n.getMenuItems(n.lockedGrid.headerCt.getMenuItems,!0);n.normalGrid.headerCt.getMenuItems=n.getMenuItems(n.normalGrid.headerCt.getMenuItems,!1);n.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(n.lockedGrid.headerCt.showMenuBy,n.showMenuBy);n.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(n.normalGrid.headerCt.showMenuBy,n.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(n,t,i){var f=this.getMenu(),r=f.down("#unlockItem"),u=f.down("#lockItem"),e=r.prev();i.lockable===!1?(e.hide(),r.hide(),u.hide()):(e.show(),r.show(),u.show(),r.initialConfig.disabled||r.setDisabled(i.lockable===!1),u.initialConfig.disabled||u.setDisabled(!i.isLockable()))},getMenuItems:function(n,t){var i=this,r=i.unlockText,u=i.lockText,f="x-hmenu-unlock",e="x-hmenu-lock",o=i.onUnlockMenuClick.bind(i),s=i.onLockMenuClick.bind(i);return function(){var i=n.call(this);return i.push("-",{itemId:"unlockItem",iconCls:f,text:r,handler:o,disabled:!t}),i.push({itemId:"lockItem",iconCls:e,text:u,handler:s,disabled:t}),i}},delaySyncLockedWidth:function(){var n=this,t=n.syncLockedWidthTask;t||(t=n.syncLockedWidthTask=new Ext.util.DelayedTask(n.syncLockedWidth,n));t.delay(1)},syncLockedWidth:function(){var t=this,i=t.rendered,n=t.lockedGrid,r=n.view,u=t.normalGrid,f=n.getVisibleColumnManager().getColumns().length,e=u.getVisibleColumnManager().getColumns().length,o=t.syncLockedWidthTask;return o&&o.cancel(),Ext.suspendLayouts(),e?(u.show(),f?(i&&t.shrinkWrapLocked&&!n.headerCt.forceFit&&(delete n.flex,n.setWidth(n.headerCt.getTableWidth()+n.el.getBorderWidth("lr"))),n.addCls(t.lockedGridCls),n.show(),t.split&&t.child("splitter").show()):(i&&n.getView().clearViewEl(!0),n.hide(),t.split&&t.child("splitter").hide()),Ext.supports.touchScroll!==2&&Ext.Component.pendingLayouts&&r.getScrollable().setX(!0),i&&(t.ignoreMousewheel=r.scrollFlags.y)):(u.hide(),i&&r.getEl().setStyle("border-bottom-width","0"),n.flex=1,delete n.width,n.removeCls(t.lockedGridCls),n.show(),t.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[f,e]},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(n,t,i){var r=this,f=r.normalGrid,u=r.lockedGrid,o=f.view,s=u.view,l=f.headerCt,e,h,c;(n=n||l.getMenu().activeHeader,c=n.hasFocus,i=i||u.headerCt,h=n.ownerCt,n.isLockable())&&(n.flex&&(n.width=n.getWidth(),n.flex=null),Ext.suspendLayouts(),u.hidden&&u.show(),o.blockRefresh=s.blockRefresh=!0,h.remove(n,!1),n.locked=!0,Ext.isDefined(t)?i.insert(t,n):i.add(n),o.blockRefresh=s.blockRefresh=!1,e=r.syncLockedWidth(),e[0]&&u.getView().refreshView(),e[1]&&f.getView().refreshView(),Ext.resumeLayouts(!0),c&&n.focus(),r.fireEvent("lockcolumn",r,n))},unlock:function(n,t,i){var r=this,u=r.normalGrid,f=r.lockedGrid,o=u.view,s=f.view,c=f.headerCt,e,h;Ext.isDefined(t)||(t=0);n=n||c.getMenu().activeHeader;h=n.hasFocus;i=i||u.headerCt;Ext.suspendLayouts();o.blockRefresh=s.blockRefresh=!0;n.ownerCt.remove(n,!1);n.locked=!1;i.insert(t,n);o.blockRefresh=s.blockRefresh=!1;e=r.syncLockedWidth();e[0]&&f.getView().refreshView();e[1]&&u.getView().refreshView();Ext.resumeLayouts(!0);h&&n.focus();r.fireEvent("unlockcolumn",r,n)},reconfigureLockable:function(n,t){var u=this,e=u.store,r=u.lockedGrid,f=u.normalGrid,i;t&&(r.reconfiguring=f.reconfiguring=!0,r.headerCt.removeAll(),f.headerCt.removeAll(),t=u.processColumns(t,r),r.headerCt.add(t.locked.items),f.headerCt.add(t.normal.items),r.reconfiguring=f.reconfiguring=!1,u.syncLockedWidth());n&&n!==e&&(n=Ext.data.StoreManager.lookup(n),u.store=n,r.view.blockRefresh=f.view.blockRefresh=!0,r.bindStore(n),i=r.view,i.store=n,i.dataSource.isFeatureStore||(i.dataSource=n),i.bufferedRenderer&&i.bufferedRenderer.bindStore(n),f.bindStore(n),i=f.view,i.store=n,i.dataSource.isFeatureStore||(i.dataSource=n),i.bufferedRenderer&&i.bufferedRenderer.bindStore(n),u.view.store=n,u.view.bindStore(f.view.dataSource,!1,"dataSource"),r.view.blockRefresh=f.view.blockRefresh=!1);u.refreshCounter=r.view.refreshCounter},afterReconfigureLockable:function(){var n=this.lockedGrid.getView();this.refreshCounter===n.refreshCounter&&this.view.refresh()},constructLockableFeatures:function(){var t=this.features,n,u,i,r,f=0,e;if(t)for(Ext.isArray(t)||(t=[t]),i=[],r=[],e=t.length;f<e;f++){n=t[f];n.isFeature||(n=Ext.create("feature."+n.ftype,n));switch(n.lockableScope){case"locked":i.push(n);break;case"normal":r.push(n);break;default:n.lockableScope="both";i.push(n);r.push(u=n.clone());u.lockingPartner=n;n.lockingPartner=u}}return{normalFeatures:r,lockedFeatures:i}},constructLockablePlugins:function(){var t=this.plugins,n,u,f,e,i,r,o=0,h,s,c;if(t)for(Ext.isArray(t)||(t=[t]),e=[],i=[],r=[],h=t.length;o<h;o++){n=t[o];n.init?s=n.lockableScope:(c=n.ptype?Ext.ClassManager.getByAlias("plugin."+n.ptype):Ext.ClassManager.get(n.xclass),s=c.prototype.lockableScope);switch(s){case"both":i.push(f=n.clonePlugin());r.push(u=n.clonePlugin());f.lockingPartner=u;u.lockingPartner=f;Ext.destroy(n);break;case"locked":i.push(n);break;case"normal":r.push(n);break;default:e.push(n)}}return{topPlugins:e,normalPlugins:r,lockedPlugins:i}},destroyLockable:function(){var n=this,t=n.syncLockedWidthTask;t&&(t.cancel(),n.syncLockedWidthTask=null);Ext.destroy(n.view,n.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.Component,["constructPlugin"])});Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(n){var t=this,i=n.view,r={scroll:t.onViewScroll,resize:t.onViewResize,refresh:t.onViewRefresh,columnschanged:t.checkVariableRowHeight,boxready:t.onViewBoxReady,scope:t,destroyable:!0},u=i.initialConfig;(n.isTree||n.ownerLockable&&n.ownerLockable.isTree)&&(i.blockRefresh=!1,u&&u.loadMask===undefined&&(i.loadMask=!0));i.positionBody&&(r.refresh=t.onViewRefresh);t.grid=n;t.view=i;t.isRTL=i.getInherited().rtl;i.bufferedRenderer=t;i.preserveScrollOnRefresh=!0;i.animate=!1;t.bindStore(i.dataSource);i.hasOwnProperty("rowHeight")&&(t.rowHeight=i.rowHeight);t.position=0;t.gridListeners=n.on({reconfigure:"onReconfigure",scope:t,destroyable:!0});t.viewListeners=i.on(r)},checkVariableRowHeight:function(){var n=this,t=n.grid;n.variableRowHeight=n.view.hasVariableRowHeight();t.ownerLockable&&(t.ownerLockable.syncRowHeight=n.variableRowHeight)},bindStore:function(n){var t=this,r=t.view,i=r.dataSource,u=i&&i.isFeatureStore;if(u===n.isFeatureStore&&(t.store&&t.unbindStore(),t.storeListeners=n.on({scope:t,groupchange:t.onStoreGroupChange,clear:t.onStoreClear,beforeload:t.onBeforeStoreLoad,load:t.onStoreLoad,destroyable:!0}),t.store=n),t.view.componentLayout.layoutCount){delete t.viewSize;n.isBufferedStore&&n.setViewSize(t.viewSize);t.onViewResize(t.view,0,t.view.getHeight())}},onReconfigure:function(n,t){t&&t!==this.store&&this.bindStore(t)},unbindStore:function(){this.storeListeners.destroy();this.store=null},onBeforeStoreLoad:function(){var n=this.view;n&&n.rendered&&(n.el.dom.style.pointerEvents="none");this.disable()},onStoreLoad:function(){var n=this.view;n&&n.rendered&&(n.el.dom.style.pointerEvents="");this.enable()},onStoreClear:function(){var n=this,t=n.view;t.rendered&&!n.store.isDestroyed&&(n.scrollTop!==0&&(n.bodyTop=n.scrollTop=n.position=n.scrollHeight=0,n.view.setScrollY(0)),n.lastScrollDirection=n.scrollOffset=null,t.hasOwnProperty("rowHeight")||delete n.rowHeight)},onStoreGroupChange:function(){this.refreshSize()},onViewBoxReady:function(n){this.refreshScroller(n,this.scrollHeight)},onViewRefresh:function(n,t){var i=this,r=n.all,u;if(i.checkVariableRowHeight(),!n.componentLayoutCounter&&(n.headerCt.down("{flex}")||i.variableRowHeight)){n.on({boxready:Ext.Function.pass(i.onViewRefresh,[n,t],i),single:!0});return}if(!n.hasOwnProperty("rowHeight")&&r.getCount()&&delete i.rowHeight,i.refreshSize(),!i.refreshing)if(i.scrollTop!==n.getScrollY())i.onViewScroll();else if(i.hasOwnProperty("bodyTop")||(i.bodyTop=r.startIndex*i.rowHeight,n.setScrollY(i.bodyTop)),i.setBodyTop(i.bodyTop),u=n.getHeight(),r.getCount()&&u>0){i.onViewResize(n,null,u);t&&r.getCount()!==t.length&&(t.length=0,t.push.apply(t,i.store.getRange(r.startIndex,r.endIndex)))}},refreshSize:function(){var n=this,i=n.view,r=i.all,t=n.getScrollHeight();r.count&&r.endIndex===n.store.getCount()-1?t=n.scrollHeight=n.bodyTop+i.body.dom.offsetHeight:t!==n.scrollHeight&&(n.scrollHeight=t);n.stretchView(i,t)},onViewResize:function(n,t,i,r,u){var f=this,e;u&&i===u||(e=Math.ceil(i/f.rowHeight)+f.trailingBufferZone+f.leadingBufferZone,f.viewSize=f.setViewSize(e),f.viewClientHeight=n.el.dom.clientHeight);n.touchScroll&&n.getScrollable().setElementSize(null)},onWrappedColumnWidthChange:function(n,t){var i=this,r=i.view;i.store.getCount()&&i.bodyTop&&(i.refreshSize(),i.setViewSize(Math.ceil(r.getHeight()/i.rowHeight)+i.trailingBufferZone+i.leadingBufferZone),i.viewSize>=i.store.getCount()?i.setBodyTop(0):t>n&&i.bodyTop+r.body.dom.offsetHeight-1>i.scrollHeight?i.setBodyTop(Math.max(0,i.scrollHeight-r.body.dom.offsetHeight)):(i.bodyTop>i.scrollTop||i.bodyTop+r.body.dom.offsetHeight<i.scrollTop+r.getHeight(!0))&&i.setBodyTop(i.scrollTop-i.trailingBufferZone*i.rowHeight))},stretchView:function(n,t){var i=this,f=i.store.getCount(),r,u;if(i.scrollTop>t&&(i.position=i.scrollTop=t-n.body.dom.offsetHeight,n.setScrollY(i.scrollTop)),i.bodyTop>t&&n.body.translate(null,i.bodyTop=i.position),n.touchScroll)if(n.getScrollable())i.refreshScroller(n,t);else if(!i.pendingScrollerRefresh){n.on({boxready:function(){i.refreshScroller(n,t);i.pendingScrollerRefresh=!1},single:!0});i.pendingScrollerRefresh=!0}Ext.supports.touchScroll&&Ext.supports.touchScroll!==1||(i.stretcher||(r=n.getTargetEl(),n.refreshCounter&&n.fixedNodes++,u={style:{width:"1px",height:"1px",marginTop:t-1+"px",position:"absolute"}},u.style[i.isRTL?"right":"left"]=0,i.stretcher=r.createChild(u,r.dom.firstChild)),i.hasOwnProperty("viewSize")&&f<=i.viewSize?i.stretcher.dom.style.display="none":(i.stretcher.dom.style.marginTop=t-1+"px",i.stretcher.dom.style.display=""))},refreshScroller:function(n,t){var i=n.getScrollable();i&&i.setSize({x:n.headerCt.getTableWidth(),y:t})},setViewSize:function(n,t){var u=this,s=u.store,e=u.view,r=e.all,h=r.getCount(),o,f,i=u.view.lockingPartner&&u.view.lockingPartner.bufferedRenderer,c=h-n,a,l,v,p,y;if(i&&!t&&i.view.componentLayoutCounter&&(i.viewSize>n?n=i.viewSize:i.setViewSize(n,!0)),c=h-n,c&&(u.scrollTop=e.getScrollY(),u.viewSize=n,s.isBufferedStore&&s.setViewSize(n),h&&(y=s.getCount(),o=r.startIndex,f=Math.min(o+n-1,y-1),!(o===r.startIndex&&f===r.endIndex)))){if(i&&i.disable(),c<0)y>h&&s.getRange(r.endIndex+1,f,{callback:function(n,t){p=e.doAdd(n,t);e.fireEvent("itemadd",n,t,p)}});else if(o=r.endIndex-(c-1),f=r.endIndex,r.removeRange(o,f,!0),e.hasListeners.itemremove)for(v=s.getRange(o,f),a=f,l=v.length-1;l>=0;--a,--l)e.fireEvent("itemremove",v[l],a,u);i&&i.enable()}return n},getViewRange:function(){var i=this,r=i.view.all,n=i.store,t=0;return r.getCount()?t=r.startIndex:n.isBufferedStore&&(n.currentPage||(n.currentPage=1),t=r.startIndex=(n.currentPage-1)*(n.pageSize||1),n.currentPage=1),n.data.getCount()?n.getRange(t,t+(i.viewSize||n.defaultViewSize)-1):[]},onReplace:function(n,t,i,r){var u=this,e=u.view,f=e.all,c,o=f.getCount(),l=t+i.length-1,s=r.length-i.length,h=s*u.rowHeight;if(t>=f.startIndex+u.viewSize){u.refreshSize();return}if(o&&l<f.startIndex){f.moveBlock(s);u.refreshSize();c=f.startIndex;s>0&&(u.doNotMirror=!0,u.handleViewScroll(-1),u.doNotMirror=!1);f.startIndex===c?f.startIndex&&(u.setBodyTop(u.bodyTop+=h),e.suspendEvent("scroll"),e.scrollBy(0,h),e.resumeEvent("scroll"),u.position=u.scrollTop=e.getScrollY()):(e.suspendEvent("scroll"),e.scrollBy(0,(c-f.startIndex)*u.rowHeight),e.resumeEvent("scroll"));e.refreshSize(f.getCount()!==o);return}if(o&&t>f.endIndex){if(u.refreshSize(),s>0)u.onRangeFetched(null,f.startIndex,Math.min(n.getCount(),f.startIndex+u.viewSize)-1,null,!0);e.refreshSize(f.getCount()!==o);return}if(t<f.startIndex&&l<f.endIndex){u.refreshView(f.startIndex-i.length+r.length);return}t<f.startIndex&&l<=f.endIndex&&h&&(e.suspendEvent("scroll"),e.setScrollY(u.position=u.scrollTop+=h),e.resumeEvent("scroll"));u.refreshView()},scrollTo:function(n,t){var y=arguments,i=this,r=i.view,nt=r.el.dom,e=i.store,h=e.getCount(),c,l,f,p,o,w,u,b,tt=0,a,k,d,g,s,v;if(t&&typeof t=="object"?(a=t.select,k=t.focus,g=t.highlight,d=t.animate,s=t.callback,v=t.scope):(a=y[1],s=y[2],v=y[3]),(o=r.dataSource.groupingFeature)&&o.collapsible)u=n.isEntity?n:r.store.getAt(Math.min(Math.max(n,0),r.store.getCount()-1)),w=o.getMetaGroup(u),w&&w.isCollapsed&&(o.expand(o.getGroup(u).getGroupKey()),h=e.getCount()),n=o.indexOf(u);else if(n.isEntity){if(u=n,n=e.indexOf(u),n===-1)return}else n=Math.min(Math.max(n,0),h-1),u=e.getAt(n);if(u&&(f=r.getNode(u))){r.getScrollable().scrollIntoView(f,null,d,g);i.onViewScroll();a&&r.selModel.select(u);k&&r.getNavigationModel().setPosition(u,0);s&&s.call(v||i,n,u,f);return}n<r.all.startIndex?(b=-1,c=Math.max(Math.min(n-Math.floor((i.leadingBufferZone+i.trailingBufferZone)/2),h-i.viewSize+1),0),l=Math.min(c+i.viewSize-1,h-1)):(b=1,l=Math.min(n+Math.floor((i.leadingBufferZone+i.trailingBufferZone)/2),h-1),c=Math.max(l-(i.viewSize-1),0));p=Math.max(c*i.rowHeight,0);e.getRange(c,l,{callback:function(t,o,h){var c=r.getScrollable();(i.renderRange(o,h,!0,!0),u=e.data.getRange(n,n+1)[0],f=r.getNode(u),f)&&(r.body.translate(null,i.bodyTop=p),r.suspendEvent("scroll"),b===1&&(tt=nt.clientHeight-f.offsetHeight),i.position=i.scrollTop=Math.min(Math.max(0,p-r.body.getOffsetsTo(f)[1])-tt,c.getSize().y-nt.clientHeight),c.scrollIntoView(f,null,d,g),r.resumeEvent("scroll"),a&&r.selModel.select(u),k&&r.getNavigationModel().setPosition(u,0),s&&s.call(v||i,n,u,f))}})},onViewScroll:function(){var n=this,r=n.store,u=r.getCount(),t,i,f=n.scrollTop=n.view.getScrollY();n.disabled||u<n.viewSize||(t=f-n.position,i=t>0?1:-1,(Math.abs(t)>=20||i!==n.lastScrollDirection)&&(n.lastScrollDirection=i,n.handleViewScroll(n.lastScrollDirection)))},handleViewScroll:function(n){var t=this,u=t.view.all,f=t.store,e=t.viewSize,o=f.getCount()-1,i,r;if(n===-1?u.startIndex&&t.topOfViewCloseToEdge()&&(i=Math.max(0,t.getLastVisibleRowIndex()+t.trailingBufferZone-e)):u.endIndex<o&&t.bottomOfViewCloseToEdge()&&(i=Math.max(0,t.getFirstVisibleRowIndex()-t.trailingBufferZone)),i==null)t.loadId++;else if(r=Math.min(i+e-1,o),t.variableRowHeight&&r===u.endIndex&&r<o&&(r++,t.viewSize=e++,f.isBufferedStore&&f.setViewSize(t.viewSize)),i!==u.startIndex||r!==u.endIndex)return t.renderRange(i,r),!0},bottomOfViewCloseToEdge:function(){var n=this;return n.variableRowHeight?n.bodyTop+n.view.body.dom.offsetHeight<n.scrollTop+n.view.lastBox.height+n.numFromEdge*n.rowHeight:n.view.all.endIndex-n.getLastVisibleRowIndex()<n.numFromEdge},topOfViewCloseToEdge:function(){var n=this;return n.variableRowHeight?n.bodyTop>n.scrollTop-n.numFromEdge*n.rowHeight:n.getFirstVisibleRowIndex()-n.view.all.startIndex<n.numFromEdge},refreshView:function(n){var t=this,i=t.viewSize,o=t.view.all,f=t.store,e=f.getCount(),u=e-1,r;e<i?(n=0,r=u):(n=Math.max(0,Math.min(n==null?o.startIndex:n,u-(i-t.leadingBufferZone)+1)),r=Math.min(n+i-1,u),r-n+1>i&&(n=r-i+1));f.getRange(n,r,{callback:t.doRefreshView,scope:t})},doRefreshView:function(n,t,i){var u=this,r=u.view,h=r.getNavigationModel(),f=h.getPosition(),e=r.all,a=e.startIndex,v=e.endIndex,c,s,y=e.getCount(),p,w=t!==e.startIndex,l,o;r.refreshCounter?(f&&f.view===r?(f=f.rowIdx<t||f.rowIdx>i?null:f.clone(),h.setPosition()):f=null,r.refreshing=u.refreshing=!0,r.clearViewEl(!0),r.refreshCounter++,n.length?(p=r.doAdd(n,t),w&&(c=e.item(a,!0),s=e.item(v,!0),c?o=-c.offsetTop:s&&(o=s.offsetTop+s.offsetHeight),o?(u.setBodyTop(u.bodyTop+=o),r.suspendEvent("scroll"),r.setScrollY(u.position=u.scrollTop=u.bodyTop?u.scrollTop+o:0),r.resumeEvent("scroll")):(u.setBodyTop(u.bodyTop=l=t*u.rowHeight),r.suspendEvent("scroll"),r.setScrollY(u.position=u.scrollTop=Math.max(l-u.rowHeight*(l<u.bodyTop?u.leadingBufferZone:u.trailingBufferZone,0))),r.resumeEvent("scroll")))):r.addEmptyText(),u.refreshSize(),r.refreshSize(e.getCount()!==y),r.fireEvent("refresh",r,n),f&&(r.cellFocused=!0,h.setPosition(f,null,null,null,!0)),r.headerCt.setSortState(),r.refreshNeeded=r.refreshing=u.refreshing=!1):r.refresh()},renderRange:function(n,t,i,r){var u=this,f=u.view.all,e=u.store;if(!(n===f.startIndex&&t===f.endIndex))if(e.rangeCached(n,t))if(u.cancelLoad(),u.synchronousRender||i)u.onRangeFetched(null,n,t,null,r);else u.renderTask||(u.renderTask=new Ext.util.DelayedTask(u.onRangeFetched,u,null,!1)),u.renderTask.delay(1,null,null,[null,n,t,null,r]);else u.attemptLoad(n,t)},onRangeFetched:function(n,t,i,r,u){var f=this,s=f.view,b,e=s.all,a,l=0,y,o,c=s.lockingPartner&&!u&&!f.doNotMirror&&s.lockingPartner.bufferedRenderer,h,k,d,w,p,v=f.variableRowHeight;if(!s.isDestroyed){if(n)f.scrollTop=f.view.getScrollY();else if(n=f.store.getRange(t,i),!n)return;if(y=t*f.rowHeight,t<e.startIndex&&i>e.endIndex){for(d=e.startIndex-t,s.clearViewEl(!0),h=s.doAdd(n,t),s.fireEvent("itemadd",n,t,h),p=0;p<d;p++)l-=h[p].offsetHeight;o=f.bodyTop+l}else(f.teleported||t>e.endIndex||i<e.startIndex)&&(o=y,v&&(w=f.scrollTop<f.position?f.leadingBufferZone:f.trailingBufferZone,t>w&&(o=f.scrollTop-f.rowHeight*w)),s.clearViewEl(!0),f.teleported=!1),e.getCount()?i>e.endIndex?(a=Math.max(t-e.startIndex,0),v&&(l=e.item(e.startIndex+a,!0).offsetTop),h=e.scroll(Ext.Array.slice(n,e.endIndex+1-t),1,a,t,i),o=v?f.bodyTop+l:y):(a=Math.max(e.endIndex-i,0),b=e.startIndex,h=e.scroll(Ext.Array.slice(n,0,e.startIndex-t),-1,a,t,i),v?(o=f.bodyTop-e.item(b,!0).offsetTop,e.startIndex?o<0&&(l=e.startIndex*f.rowHeight,s.setScrollY(f.position=f.scrollTop+=l),o=f.bodyTop+l):o&&(s.setScrollY(f.position=f.scrollTop-=o),o=0)):o=y):(h=s.doAdd(n,t),s.fireEvent("itemadd",n,t,h)),f.position=f.scrollTop;return o=Math.max(Math.floor(o),0),s.positionBody&&f.setBodyTop(o),h&&c&&!c.disabled&&(c.scrollTop=c.position=f.scrollTop,k=c.onRangeFetched(null,t,i,r,!0),c.bodyTop!==o&&c.setBodyTop(o),c.view.setScrollY(f.scrollTop),v&&s.ownerGrid.syncRowHeights&&f.syncRowHeights(h,k)),h}},syncRowHeights:function(n,t){var r=this,u=n.length,e=t.length,o=[],s=[],h=Ext.grid.locking.RowSynchronizer,i,f;for(u!==e&&(n=r.view.all.slice(),t=r.view.lockingPartner.all.slice(),u=e=n.length),i=0;i<u;i++)o[i]=f=new h(r.view,n[i]),f.measure();for(i=0;i<e;i++)s[i]=f=new h(r.view.lockingPartner,t[i]),f.measure();for(i=0;i<u;i++)o[i].finish(s[i]),s[i].finish(o[i]);r.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var n=this,i=n.view,t=i.lockingPartner&&i.lockingPartner.bufferedRenderer;t&&t.rowHeight!==n.rowHeight&&(delete n.rowHeight,delete t.rowHeight,n.refreshSize(),t.refreshSize())},setBodyTop:function(n){var t=this,i=t.view,u=t.store,r=i.body;r.translate(t.isRTL&&Ext.supports.xOriginBug&&i.scrollFlags.y?Ext.getScrollbarSize().width:null,t.bodyTop=n);t.variableRowHeight&&(i.all.endIndex===u.getCount()-1?t.stretchView(i,t.scrollHeight=t.bodyTop+r.dom.offsetHeight-1):t.bodyTop+r.dom.offsetHeight-1>t.scrollHeight&&t.stretchView(i,t.scrollHeight+=(u.getCount()-i.all.endIndex)*t.rowHeight))},getFirstVisibleRowIndex:function(n,t,i,r){var u=this,h=u.view,e=h.all,c=e.elements,l=u.viewClientHeight,f,o,s=u.bodyTop;if(e.getCount()&&u.variableRowHeight){if(arguments.length)f=n+Math.floor((t-n)/2);else{if(n=e.startIndex,t=e.endIndex,i=u.scrollTop,r=i+l,s>r||s+h.body.dom.offsetHeight<i)return u.teleported=!0,Math.floor(u.scrollTop/u.rowHeight);f=n+Math.min(u.numFromEdge+(u.lastScrollDirection===-1?u.leadingBufferZone:u.trailingBufferZone),Math.floor((t-n)/2))}if(o=s+c[f].offsetTop,o+c[f].offsetHeight<i)return u.getFirstVisibleRowIndex(f+1,t,i,r);if(o<=i)return f;if(f!==n)return u.getFirstVisibleRowIndex(n,f-1,i,r)}return Math.floor(u.scrollTop/u.rowHeight)},getLastVisibleRowIndex:function(n,t,i,r){var u=this,c=u.view,e=c.all,l=e.elements,o=u.viewClientHeight,f,s,a,h=u.bodyTop;if(e.getCount()&&u.variableRowHeight){if(arguments.length)f=n+Math.floor((t-n)/2);else{if(n=e.startIndex,t=e.endIndex,i=u.scrollTop,r=i+o,h>r||h+c.body.dom.offsetHeight<i)return u.teleported=!0,Math.floor(u.scrollTop/u.rowHeight)+Math.ceil(o/u.rowHeight);f=t-Math.min(u.numFromEdge+(u.lastScrollDirection===1?u.leadingBufferZone:u.trailingBufferZone),Math.floor((t-n)/2))}if(s=h+l[f].offsetTop,s>r)return u.getLastVisibleRowIndex(n,f-1,i,r);if(a=s+l[f].offsetHeight,a>=r)return f;if(f!==t)return u.getLastVisibleRowIndex(f+1,t,i,r)}return u.getFirstVisibleRowIndex()+Math.ceil(o/u.rowHeight)},getScrollHeight:function(n){var t=this,r=t.view,u=r.all,o=t.store,f=o.getCount(),e,i;return f?(t.hasOwnProperty("rowHeight")||(e=u.getCount(),e&&(t.rowHeight=t.variableRowHeight?Math.floor(r.body.dom.clientHeight/e):u.first(!0).offsetHeight)),i=Math.floor(f*t.rowHeight),n||i&&u.endIndex===f-1&&(i=Math.max(i,t.bodyTop+r.body.dom.offsetHeight-1)),t.scrollHeight=i):0},attemptLoad:function(n,t){var i=this;i.scrollToLoadBuffer?(i.loadTask||(i.loadTask=new Ext.util.DelayedTask(i.doAttemptLoad,i,[])),i.loadTask.delay(i.scrollToLoadBuffer,i.doAttemptLoad,i,[n,t])):i.doAttemptLoad(n,t)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(n,t){var i=this;this.store.getRange(n,t,{loadId:++i.loadId,callback:function(n,t,r,u){if(u.loadId===i.loadId)this.onRangeFetched(n,t,r,u)},scope:this,fireEvent:!1})},destroy:function(){var n=this,t=n.view;t&&t.el&&t.un("scroll",n.onViewScroll,n);Ext.destroy(n.viewListeners,n.storeListeners,n.gridListeners,n.stretcher)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],function(n){Ext.supports.Touch&&(n.prototype.leadingBufferZone=n.prototype.trailingBufferZone=2,n.prototype.numFromEdge=1)});Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.plugin.Abstract,{clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(){var n=this;Ext.plugin.Abstract.prototype.constructor.apply(this,arguments);n.mixins.observable.constructor.call(n);n.on("edit",function(t,i){n.fireEvent("afteredit",t,i)})},init:function(n){var t=this;t.grid=n;t.view=n.view;t.initEvents();t.mon(n,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onReconfigure,single:!0,scope:t}});n.relayEvents(t,t.relayedEvents);t.grid.ownerLockable&&t.grid.ownerLockable.relayEvents(t,t.relayedEvents);n.isEditable=!0;n.editingPlugin=n.view.editingPlugin=t},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns());delete this.reconfiguring},destroy:function(){var n=this,t=n.grid;Ext.destroy(n.keyNav);n.clearListeners();t&&(t.editingPlugin=t.view.editingPlugin=n.grid=n.view=n.editor=n.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(n){n.isGroupHeader?n=n.getGridColumns():Ext.isArray(n)||(n=[n]);for(var r=this,u=n.length,f=function(n,t){return r.getColumnField(this,t)},e=function(){return r.hasColumnField(this)},o=function(n){r.setColumnField(this,n)},t,i=0;i<u;i++)t=n[i],t.getEditor||(t.getEditor=f),t.hasEditor||(t.hasEditor=e),t.setEditor||(t.setEditor=o)},removeFieldAccessors:function(n){n.isGroupHeader?n=n.getGridColumns():Ext.isArray(n)||(n=[n]);for(var r=n.length,t,i=0;i<r;i++)t=n[i],t.getEditor=t.hasEditor=t.setEditor=t.field=t.editor=null},getColumnField:function(n,t){var r=this,i=n.field;return i&&i.isFormField||(i=n.field=r.createColumnField(n,t)),i&&i.ui==="default"&&!i.hasOwnProperty("ui")&&(i.ui=r.defaultFieldUI),i},hasColumnField:function(n){return!!(n.field&&n.field.isComponent)},setColumnField:function(n,t){n.field=t;n.field=this.createColumnField(n)},createColumnField:function(n,t){var i=n.field,r;return!i&&n.editor&&(i=n.editor,n.editor=null),!i&&t&&(i=t),i&&(r=n.dataIndex,i.isComponent?i.column=n:(i=Ext.isString(i)?{name:r,xtype:i,column:n}:Ext.apply({name:r,column:n},i),i=Ext.ComponentManager.create(i,this.defaultFieldXType)),i.dataIndex=r,i.isEditorComponent=!0,n.field=i),i},initEvents:function(){var n=this;n.initEditTriggers();n.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var n=this,t=n.view;n.triggerEvent==="cellfocus"?n.mon(t,"cellfocus",n.onCellFocus,n):n.triggerEvent==="rowfocus"?n.mon(t,"rowfocus",n.onRowFocus,n):(t.getSelectionModel().isCellModel&&(t.onCellFocus=n.beforeViewCellFocus.bind(n)),n.mon(t,n.triggerEvent||"cell"+(n.clicksToEdit===1?"click":"dblclick"),n.onCellClick,n));n.initAddRemoveHeaderEvents();n.view.getNavigationModel().addKeyBindings({enter:n.onEnterKey,esc:n.onEscKey,scope:n})},beforeViewCellFocus:function(n){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(n.row,n.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(n,t){this.startEdit(t,0)},onCellFocus:function(n,t,i){this.startEdit(i.row,i.column)},onCellClick:function(n,t,i,r,u,f,e){var o=n.expanderSelector,s=n.ownerCt.getColumnManager().getHeaderAtIndex(i),h=s.getEditor(r);!this.shouldStartEdit(h)||o&&e.getTarget(o)||this.startEdit(r,s)},initAddRemoveHeaderEvents:function(){var n=this,t=n.grid.headerCt;n.mon(t,{scope:n,add:n.onColumnAdd,columnmove:n.onColumnMove,beforedestroy:n.beforeGridHeaderDestroy})},onColumnAdd:function(n,t){this.initFieldAccessors(t)},onColumnMove:Ext.emptyFn,onEnterKey:function(n){var t=this,o=t.grid,e,u,i,f,r;t.editing?(r=Ext.getCmp(n.getTarget().getAttribute("componentId")),r&&r.isPickerField&&r.isExpanded||t.completeEdit()):n.view===t.view&&(e=o.getView().getNavigationModel(),i=e.getPosition(),i&&(u=i.record,f=i.column),u&&f&&t.startEdit(u,f))},onEscKey:function(n){if(this.editing){var t=Ext.getCmp(n.getTarget().getAttribute("componentId"));if(!(t&&t.isPickerField&&t.isExpanded))return this.cancelEdit()}},beforeEdit:Ext.emptyFn,shouldStartEdit:function(n){return!!n},startEdit:function(n,t){var i=this,r,u=i.grid.lockable?i.grid:i.view;if(!u.componentLayoutCounter){u.on({boxready:Ext.Function.bind(i.startEdit,i,[n,t]),single:!0});return!1}return i.disabled||i.grid.collapsed||!i.grid.view.isVisible(!0)?!1:(r=i.getEditingContext(n,t),r==null)?!1:!i.preventBeforeCheck&&(i.beforeEdit(r)===!1||i.fireEvent("beforeedit",i,r)===!1||r.cancel)?!1:r},getEditingContext:function(n,t){var h=this,e=h.grid,o=e.visibleColumnManager,r,u,f,s,i;if(Ext.isNumber(t)&&(t=o.getHeaderAtIndex(t)),t)return(t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),r=t.getRootHeaderCt().view,u=r.getRow(n),!u)?void 0:(s=o.getHeaderIndex(t),Ext.isNumber(n)?(f=n,n=r.getRecord(u)):f=r.indexOf(u),!n)?void 0:(i=new Ext.grid.CellContext(r).setAll(r,f,s,n,t),i.grid=e,i.store=r.dataSource,i.field=t.dataIndex,i.value=i.originalValue=n.get(t.dataIndex),i.row=u,i.node=r.getNode(n),i)},cancelEdit:function(){var n=this;n.editing=!1;n.fireEvent("canceledit",n,n.context)},completeEdit:function(){var n=this;n.editing&&n.validateEdit()&&n.fireEvent("edit",n,n.context);n.context=null;n.editing=!1},validateEdit:function(){var n=this,t=n.context;return n.fireEvent("validateedit",n,t)!==!1&&!t.cancel}},1,0,0,0,["editing.editing"],[["observable",Ext.util.Observable]],[Ext.grid.plugin,"Editing"],0);Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{lockableScope:"both",init:function(){var t=this,n=t.lockingPartner;Ext.grid.plugin.Editing.prototype.init.apply(this,arguments);t.editors=n?n.editors?n.editors:n.editors=new Ext.util.MixedCollection(!1,function(n){return n.editorId}):new Ext.util.MixedCollection(!1,function(n){return n.editorId})},beforeGridHeaderDestroy:function(){for(var r=this,u=r.grid.getColumnManager().getColumns(),f=u.length,n,i,t=0;t<f;t++)n=u[t],i=r.editors.getByKey(n.getItemId()),i||(i=n.editor||n.field),Ext.destroy(i),r.removeFieldAccessors(n)},onReconfigure:function(n,t,i){i&&this.editors.clear();Ext.grid.plugin.Editing.prototype.onReconfigure.call(this)},destroy:function(){var n=this;n.editors&&(n.editors.each(Ext.destroy,Ext),n.editors.clear());Ext.grid.plugin.Editing.prototype.destroy.apply(this,arguments)},initCancelTriggers:function(){var n=this,t=n.grid;n.mon(t,{columnresize:n.cancelEdit,columnmove:n.cancelEdit,scope:n})},isCellEditable:function(n,t){var i=this,r=i.getEditingContext(n,t);if(i.grid.view.isVisible(!0)&&r&&(t=r.column,n=r.record,t&&i.getEditor(n,t)))return!0},startEdit:function(n,t,i){var r=this,e,o,f,u;if(!i&&(r.preventBeforeCheck=!0,i=Ext.grid.plugin.Editing.prototype.startEdit.apply(this,arguments),delete r.preventBeforeCheck,i===!1))return!1;if(i&&i.view.isVisible(!0)){if(n=i.record,t=i.column,o=t&&t.getEditor(n)&&!(r.beforeEdit(i)===!1||r.fireEvent("beforeedit",r,i)===!1||i.cancel),o){if(f=r.getActiveEditor(),u=r.getEditor(n,t),f&&(e=u===f,r.completeEdit(!!u),r.editing))return!1}else return!1;return(r.context=i,i.view.scrollCellIntoView(i.view.getCell(n,t)),u)?(e&&(u.editing=!1,Ext.isIE&&(u.selectSameEditor=!0)),r.showEditor(u,i,i.value),f&&!e&&f.hide(),!0):!1}},showEditor:function(n,t,i){var r=this,f=t.record,u=t.view,e=t.column,o=u.getSelectionModel(),s;if(!e.up(r.view.ownerCt))return r.lockingPartner.showEditor(n,r.lockingPartner.getEditingContext(f,e),i);r.setEditingContext(t);s=o.getSelectionMode();o.isCellSelected(u,f,e)||s==="MULTI"&&o.getSelection().length&&(o.getSelection().length!==1||!o.isSelected(f))||o.selectByPosition({row:f,column:e,view:u},s==="MULTI");u.cellFocused||u.getNavigationModel().setPosition(t,null,null,null,!0);u.getNavigationModel().setPosition();n.startEdit(u.getCell(f,e),i,t);n.editing?(r.setActiveEditor(n),r.setActiveRecord(f),r.setActiveColumn(e),r.editing=!0,r.scroll=u.el.getScroll()):u.getNavigationModel().setPosition(t,null,null,null,!0)},completeEdit:function(n){var t=this.getActiveEditor();t&&t.completeEdit(n)},setEditingContext:function(n){this.context=n;this.lockingPartner&&(this.lockingPartner.context=n)},setActiveEditor:function(n){this.activeEditor=n;this.lockingPartner&&(this.lockingPartner.activeEditor=n)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(n){this.activeColumn=n;this.lockingPartner&&(this.lockingPartner.activeColumn=n)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(n){this.activeRecord=n;this.lockingPartner&&(this.lockingPartner.activeRecord=n)},getActiveRecord:function(){return this.activeRecord},getEditor:function(n,t){var r=this,u=r.editors,f=t.getItemId(),i=u.getByKey(f),e=r.grid.ownerLockable||r.grid;if(!i){if(i=t.getEditor(n),!i)return!1;if(i instanceof Ext.grid.CellEditor?i.floating=!0:i=new Ext.grid.CellEditor({floating:!0,editorId:f,field:i}),i.field.excludeForm=!0,i.ownerCt!==e){e.add(i);i.on({scope:r,specialkey:r.onSpecialKey,complete:r.onEditComplete,canceledit:r.cancelEdit});t.on("removed",r.onColumnRemoved,r)}u.add(i)}return t.isTreeColumn&&(i.isForTree=t.isTreeColumn,i.addCls("x-tree-cell-editor")),i.setGrid(r.grid),i.editingPlugin=r,i},onColumnRemoved:function(n){var t=this,r=t.context,i,u=t.grid.ownerLockable||t.grid;r&&r.column===n&&t.cancelEdit();n.un("removed",t.onColumnRemoved,t);n.getEditor&&(i=n.getEditor())&&i.ownerCt===u&&(u.remove(i),i.un({scope:t,specialkey:t.onSpecialKey,complete:t.onEditComplete,canceledit:t.cancelEdit}))},setColumnField:function(n){var t=this.editors.getByKey(n.getItemId());Ext.destroy(t,n.field);this.editors.removeAtKey(n.getItemId());Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments)},getCell:function(n,t){return this.grid.getView().getCell(n,t)},onSpecialKey:function(n,t,i){var r;if(i.getKey()===i.TAB){if(i.stopEvent(),n)n.onEditorTab(i);r=n.getRefOwner().getSelectionModel();return r.onEditorTab(n.editingPlugin,i)}},onEditComplete:function(n,t,i){var r=this,e=r.getActiveColumn(),u=r.context,o,f;if(e){if(o=u.view,f=u.record,r.setActiveEditor(null),r.setActiveColumn(null),r.setActiveRecord(null),u.value=t,!r.validateEdit()){r.editing=!1;return}f.isEqual(t,i)||(f.set(e.dataIndex,t),u.rowIdx=o.indexOf(f));r.fireEvent("edit",r,u);r.editing=!1}},cancelEdit:function(){var n=this,r=n.context,u,i,e,f,t=n.getActiveEditor();if(t){n.setActiveEditor(null);n.setActiveColumn(null);n.setActiveRecord(null);u=r.view;i=u.getSelectionModel();f=i.getSelectionMode()==="MULTI"&&(i.getSelection().length>1||!i.isSelected(e));t.field&&(n.context.value="editedValue"in t?t.editedValue:t.getValue(),t.cancelEdit());r.view.getNavigationModel().deferSetPosition(100,r,null,null,null,f);Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);return}return!0},startEditByPosition:function(n){var t=this,i=t.grid.getColumnManager(),r;return n.isCellContext||(n.column=t.grid.getColumnManager().getColumns()[n.column],n.record=t.view.dataSource.getAt(n.row)),r=i.getHeaderIndex(n.column),n.column=i.getVisibleHeaderClosestToIndex(r),t.startEdit(n.record,n.column)}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0);Ext.cmd.derive("Ext.plugin.AbstractClipboard",Ext.plugin.Abstract,{cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text"},destroy:function(){var n=this,i=n.keyMap,t=n.shared;i?(n.keyMap=Ext.destroy(i),--t.counter||(t.textArea=Ext.destroy(t.textArea))):n.renderListener=Ext.destroy(n.renderListener);n.callParent()},init:function(n){var t=this;n.rendered?this.finishInit(n):t.renderListener=n.on({render:function(){t.renderListener=null;t.finishInit(n)},destroyable:!0,single:!0})},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(n){return this.applySource(n)},applySource:function(n){return n&&(Ext.isString(n)?n=[n]:n.length===0&&(n=null)),n||null},doCutCopy:function(n,t){var i=this,f=i.allFormats||i.syncFormats(),u=i.getData(t,f),o=i.getMemory(),r=i.getSystem(),e;i.shared.data=o&&u;r&&(e=u[r],f[r]<3&&delete u[r],i.setClipboardData(e))},doPaste:function(n,t){var i=this.getFormats();this[i[n].put](t,n)},finishInit:function(n){var t=this;t.keyMap=new Ext.util.KeyMap({target:n.el,binding:[{ctrl:!0,key:"x",fn:t.onCut,scope:t},{ctrl:!0,key:"c",fn:t.onCopy,scope:t},{ctrl:!0,key:"v",fn:t.onPaste,scope:t}]});++t.shared.counter;n.on({destroy:"destroy",scope:t})},getData:function(n,t){var f=this,e=f.getFormats(),r,o,i,u;if(Ext.isString(t))r=f[e[t].get](t,n);else{if(r={},u=[],t)for(i in t)u.push(i);else u=Ext.Object.getAllKeys(e);for(o=u.length;o-->0;)r[i]=f[e[i].get](i,n&&!o)}return r},getHiddenTextArea:function(){var t=this.shared,n=t.textArea;return n||(t.textArea=n=Ext.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px"}})),n},onCopy:function(n){this.doCutCopy(n,!1)},onCut:function(n){this.doCutCopy(n,!0)},onPaste:function(){var t=this,r=t.shared.data,u=t.getSource(),i,f,n;if(u)for(i=0,f=u.length;i<f;++i)if(n=u[i],n==="system"){n=t.getSystem();t.pasteClipboardData(n);break}else if(r&&n in r){t.doPaste(n,r[n]);break}},pasteClipboardData:function(n){var i=this,r=window.clipboardData,t,u;r&&r.getData?i.doPaste(n,r.getData("text")):(u=Ext.Element.getActiveElement(),t=i.getHiddenTextArea().dom,t.value="",t.focus(),Ext.defer(function(){u&&u.focus();i.doPaste(n,t.value);t.value=""},100,i))},setClipboardData:function(n){var i=window.clipboardData;if(i&&i.setData)i.setData("text",n);else{var u=this,t=u.getHiddenTextArea().dom,r=Ext.Element.getActiveElement();t.value=n;t.focus();t.select();Ext.defer(function(){t.value="";r&&r.focus()},50)}},syncFormats:function(){var t=this,n={},i=t.getMemory(),f=t.getSystem(),r,u;if(f&&(n[f]=1),i)for(r=i.length;r-->0;)u=i[r],n[u]=n[u]?3:2;return t.allFormats=n},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null}}},0,0,0,0,0,0,[Ext.plugin,"AbstractClipboard"],0);Ext.cmd.derive("Ext.grid.plugin.Clipboard",Ext.plugin.AbstractClipboard,{formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData"}},getCellData:function(n,t){var l=this.getCmp(),a=l.getSelectionModel(),o=[],v=n==="raw",y=n==="text",u,s,r,f,h,i,c,e;return a.getSelected().eachCell(function(n){e=n.column.getView();i=n.record;h!==i&&(h=i,o.push(c=[]));f=n.column.dataIndex;v?r=i.data[f]:(u=e.all.item(n.rowIdx),u||(u=Ext.fly(e.createRowElement(i,n.rowIdx))),s=u.down(n.column.getCellInnerSelector()),r=s.dom.innerHTML,y&&(r=Ext.util.Format.stripTags(r)));c.push(r);t&&f&&i.set(f,null)}),Ext.util.TSV.encode(o)},getCells:function(n,t){var o=this.getCmp(),s=o.getSelectionModel(),u=[],r,f,i,e;return s.getSelected().eachCell(function(n){i=n.record;f!==i&&(f=i,u.push(e={model:i.self,fields:[]}));r=n.column.dataIndex;e.fields.push({name:r,value:i.data[r]});t&&r&&i.set(r,null)}),u},getTextData:function(n,t){return this.getCellData(n,t)},putCellData:function(n,t){var o=Ext.util.TSV.decode(n),s,c=o.length,a=c?o[0].length:0,f,r,u=this.getCmp().getView(),v=u.dataSource.getCount()-1,y=u.getVisibleColumnManager().getColumns().length-1,p=u.getNavigationModel(),i=p.getPosition(),e,l,h={};for(i=i?new Ext.grid.CellContext(u).setPosition(i.record,i.column):new Ext.grid.CellContext(u).setPosition(0,0),l=i.colIdx,f=0;f<c;f++){for(s=o[f],r=0;r<a;r++){if(e=i.column.dataIndex,e)switch(t){case"raw":h[e]=s[r];break;case"text":h[e]=s[r]}if(i.colIdx===y)break;i.setColumn(i.colIdx+1)}if(i.record.set(h),i.rowIdx===v)break;i.setPosition(i.rowIdx+1,l)}},putTextData:function(n,t){this.putCellData(n,t)}},0,0,0,0,["plugin.clipboard"],0,[Ext.grid.plugin,"Clipboard"],0);Ext.cmd.derive("Ext.grid.plugin.DragDrop",Ext.plugin.Abstract,{dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(n){n.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var n=this;n.dragZone&&n.dragZone.unlock();n.dropZone&&n.dropZone.unlock();(arguments.callee.$previous||Ext.plugin.Abstract.prototype.enable).call(this)},disable:function(){var n=this;n.dragZone&&n.dragZone.lock();n.dropZone&&n.dropZone.lock();(arguments.callee.$previous||Ext.plugin.Abstract.prototype.disable).call(this)},onViewRender:function(n){var t=this,i;t.enableDrag&&(t.containerScroll&&(i=n.getEl()),t.dragZone=new Ext.view.DragZone(Ext.apply({view:n,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText,containerScroll:t.containerScroll,scrollEl:i},t.dragZone)));t.enableDrop&&(t.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:n,ddGroup:t.dropGroup||t.ddGroup},t.dropZone)))}},0,0,0,0,["plugin.gridviewdragdrop"],0,[Ext.grid.plugin,"DragDrop"],0);Ext.cmd.derive("Ext.grid.plugin.RowEditing",Ext.grid.plugin.Editing,{lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var n=this;Ext.grid.plugin.Editing.prototype.constructor.apply(this,arguments);n.clicksToMoveEditor||(n.clicksToMoveEditor=n.clicksToEdit);n.autoCancel=!!n.autoCancel},destroy:function(){Ext.destroy(this.editor);Ext.grid.plugin.Editing.prototype.destroy.apply(this,arguments)},onBeforeReconfigure:function(){Ext.grid.plugin.Editing.prototype.onBeforeReconfigure.apply(this,arguments);this.cancelEdit()},onReconfigure:function(n,t,i){var r=this.editor;Ext.grid.plugin.Editing.prototype.onReconfigure.apply(this,arguments);i&&r&&r.rendered&&(r.needsSyncFieldWidths=!0)},shouldStartEdit:function(){return!0},startEdit:function(n,t){var i=this,u=i.getEditor(),r;return(Ext.isEmpty(t)&&(t=i.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)),u.beforeEdit()!==!1&&(r=Ext.grid.plugin.Editing.prototype.startEdit.call(this,n,t),r))?(i.context=r,i.lockingPartner&&i.lockingPartner.cancelEdit(),u.startEdit(r.record,r.column,r),i.editing=!0,!0):!1},cancelEdit:function(){var n=this;if(n.editing){n.getContextFieldValues();n.getEditor().cancelEdit();Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);return}return!0},completeEdit:function(){var n=this;n.editing&&n.validateEdit()&&(n.editing=!1,n.fireEvent("edit",n,n.context))},validateEdit:function(){return this.getContextFieldValues(),Ext.grid.plugin.Editing.prototype.validateEdit.apply(this,arguments)&&this.getEditor().completeEdit()},getEditor:function(){var n=this;return n.editor||(n.editor=n.initEditor()),n.editor},getContextFieldValues:function(){for(var o=this.editor,r=this.context,s=r.record,u={},f={},e=o.query(">[isFormField]"),h=e.length,t,i,n=0;n<h;n++)i=e[n],t=i.dataIndex,u[t]=i.getValue(),f[t]=s.get(t);Ext.apply(r,{newValues:u,originalValues:f})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){for(var n=this,f=n.grid,e=n.view,o=f.headerCt,r=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s=r.length,u={autoCancel:n.autoCancel,errorSummary:n.errorSummary,fields:o.getGridColumns(),hidden:!0,view:e,editingPlugin:n},i,t=0;t<s;t++)i=r[t],Ext.isDefined(n[i])&&(u[i]=n[i]);return u},initEditTriggers:function(){var n=this,t=n.view,i=n.clicksToMoveEditor===1?"click":"dblclick";Ext.grid.plugin.Editing.prototype.initEditTriggers.apply(this,arguments);n.clicksToMoveEditor!==n.clicksToEdit&&n.mon(t,"cell"+i,n.moveEditorByClick,n);t.on({render:function(){n.mon(n.grid.headerCt,{scope:n,columnresize:n.onColumnResize,columnhide:n.onColumnHide,columnshow:n.onColumnShow})},single:!0})},moveEditorByClick:function(){var n=this;n.editing&&n.superclass.onCellClick.apply(n,arguments)},onColumnAdd:function(n,t){if(t.isHeader){var r=this,i;if(r.initFieldAccessors(t),i=r.editor,i)i.onColumnAdd(t)}},beforeGridHeaderDestroy:function(){for(var i=this.grid.getColumnManager().getColumns(),u=i.length,n,r,t=0;t<u;t++)n=i[t],n.hasEditor&&(n.hasEditor()&&(r=n.getEditor())&&r.destroy(),this.removeFieldAccessors(n))},onColumnResize:function(n,t,i){if(t.isHeader){var u=this,r=u.getEditor();if(r)r.onColumnResize(t,i)}},onColumnHide:function(n,t){var r=this,i=r.getEditor();if(i)i.onColumnHide(t)},onColumnShow:function(n,t){var r=this,i=r.getEditor();if(i)i.onColumnShow(t)},onColumnMove:function(n,t,i,r){var u=this,f=u.getEditor();if(u.initFieldAccessors(t),f)f.onColumnMove(t,i,r)},setColumnField:function(n){var i=this,t=i.getEditor();t&&t.destroyColumnEditor(n);Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments);t&&t.insertColumnEditor(n)},createColumnField:function(n,t){var i=this.editor,r;return i&&(r=i.getDefaultFieldCfg()),Ext.grid.plugin.Editing.prototype.createColumnField.call(this,n,t||r)}},1,0,0,0,["plugin.rowediting"],0,[Ext.grid.plugin,"RowEditing"],0);Ext.cmd.derive("Ext.grid.plugin.RowExpander",Ext.plugin.Abstract,{lockableScope:"normal",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,headerWidth:24,bodyBefore:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{fn:function(n,t,i){var r=this.rowExpander;r.recordsExpanded[t.record.internalId]||t.itemClasses.push(r.rowCollapsedCls);this.nextTpl.applyOut(t,n,i)},syncRowHeights:function(n,t){this.rowExpander.syncRowHeights(n,t)},priority:2e4},setCmp:function(n){var t=this,i;Ext.plugin.Abstract.prototype.setCmp.apply(this,arguments);t.recordsExpanded={};t.rowBodyTpl=Ext.XTemplate.getTpl(t,"rowBodyTpl");i=t.getFeatureConfig(n);n.features=n.features?Ext.Array.push(i,n.features):i},getFeatureConfig:function(n){var t=this,i=[],r={ftype:"rowbody",rowExpander:t,bodyBefore:t.bodyBefore,recordsExpanded:t.recordsExpanded,rowBodyHiddenCls:t.rowBodyHiddenCls,rowCollapsedCls:t.rowCollapsedCls,setupRowData:t.getRowBodyFeatureData,setup:t.setup};return i.push(Ext.apply({lockableScope:"normal",getRowBodyContents:t.getRowBodyContentsFn(t.rowBodyTpl)},r)),n.enableLocking&&i.push(Ext.apply({lockableScope:"locked",getRowBodyContents:t.lockedTpl?t.getRowBodyContentsFn(t.lockedTpl):function(){return""}},r)),i},getRowBodyContentsFn:function(n){var t=this;return function(i){return n.owner=t,n.applyTemplate(i.record.getData())}},init:function(n){n.lockable&&(n=n.normalGrid);var t=this,i=n.ownerLockable,r,u;if(Ext.plugin.Abstract.prototype.init.apply(this,arguments),t.grid=n,r=t.view=n.getView(),t.bindView(r),r.addRowTpl(t.addCollapsedCls).rowExpander=t,i)t.addExpander(i.lockedGrid.headerCt.items.getCount()?i.lockedGrid:n),u=i.lockedGrid.getView(),t.bindView(u),u.addRowTpl(t.addCollapsedCls).rowExpander=t,i.syncRowHeight=!0,i.mon(i,{processcolumns:t.onLockableProcessColumns,lockcolumn:t.onColumnLock,unlockcolumn:t.onColumnUnlock,scope:t}),t.viewListeners=r.on({itemadd:Ext.Function.createAnimationFrame(i.syncRowHeights,i)});else{t.addExpander(n);n.on("beforereconfigure",t.beforeReconfigure,t)}},beforeReconfigure:function(n,t,i){var r=this;r.viewListeners&&r.viewListeners.destroy();i&&(r.expanderColumn=new Ext.grid.Column(r.getHeaderConfig()),i.unshift(r.expanderColumn))},onLockableProcessColumns:function(n,t){this.addExpander(t.length?n.lockedGrid:n.normalGrid)},addExpander:function(n){var t=this,i=t.getHeaderConfig();n.isLocked&&n.ownerLockable.shrinkWrapLocked&&(n.width+=i.width,t.grid=n);t.expanderColumn=n.headerCt.insert(0,i);n.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(n,t,i){var r=this;r.self.prototype.setupRowData.apply(r,arguments);i.rowBody=r.getRowBodyContents(i);i.rowBodyCls=r.recordsExpanded[n.internalId]?"":r.rowBodyHiddenCls},setup:function(n,t){var i=this,r=i.grid.ownerLockable;i.self.prototype.setup.apply(i,arguments);r&&Ext.Array.indexOf(i.grid.columnManager.getColumns(),i.rowExpander.expanderColumn)!==-1&&(t.rowBodyColspan-=1)},bindView:function(n){if(this.expandOnEnter)n.on("itemkeydown",this.onKeyDown,this);if(this.expandOnDblClick)n.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(n,t,i,r,u){if(u.getKey()===u.ENTER)for(var o=n.store,e=n.getSelectionModel().getSelection(),s=e.length,f=0;f<s;f++)r=o.indexOf(e[f]),this.toggleRow(r,e[f])},onDblClick:function(n,t,i,r){this.toggleRow(r,t)},toggleRow:function(n,t){var i=this,r=i.view,l=r.bufferedRenderer,a=r.getScrollable(),v=r,y=r.getNode(n),h=Ext.fly(y),u,f=h.down(i.rowBodyTrSelector,!0),e=h.hasCls(i.rowCollapsedCls),o=e?"removeCls":"addCls",p=e?2:1,s=i.grid.ownerLockable,c;h[o](i.rowCollapsedCls);Ext.fly(f)[o](i.rowBodyHiddenCls);i.recordsExpanded[t.internalId]=e;i.grid.ownerLockable&&(v=s.getView(),s.lockedGrid.isVisible()&&(r=s.view.lockedGrid.view,u=Ext.fly(r.getNode(n)),u&&(u[o](i.rowCollapsedCls),f=u.down(i.rowBodyTrSelector,!0),Ext.fly(f)[o](i.rowBodyHiddenCls))));i.expanderColumn&&(c=Ext.fly(r.getRow(n)).down(i.expanderColumn.getCellSelector(),!0),c&&(c.rowSpan=p));v.fireEvent(e?"expandbody":"collapsebody",y,t,f);(r.getSizeModel().height.shrinkWrap||s)&&r.refreshSize(!0);a&&(l?l.refreshSize():a.refresh(!0))},syncRowHeights:function(n,t){var e=this,r=Ext.fly(n).down(e.rowBodyTrSelector),i=Ext.fly(t).down(e.rowBodyTrSelector),u,f;i.isVisible()?(u=r.getHeight())!==(f=i.getHeight())&&(u>f?i.setHeight(u):r.setHeight(f)):r.dom.style.height=i.dom.style.height=""},onColumnUnlock:function(n){var t=this,i;n=t.grid.ownerLockable;i=n.lockedGrid.visibleColumnManager.getColumns();i.length===1&&(i[0]===t.expanderColumn?(n.unlock(t.expanderColumn),t.grid=n.normalGrid):n.lock(t.expanderColumn,0))},onColumnLock:function(n){var t=this,i,r;n=t.grid.ownerLockable;i=n.lockedGrid.visibleColumnManager.getColumns();i.length===1&&(t.grid=r=n.lockedGrid,r.headerCt.insert(0,t.expanderColumn))},getHeaderConfig:function(){var n=this,t=n.grid.ownerLockable;return{width:n.headerWidth,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:"x-grid-cell-special",innerCls:"x-grid-cell-inner-row-expander",renderer:function(){return'<div class="x-grid-row-expander" role="presentation"><\/div>'},processEvent:function(t,i,r,u,f,e,o){if(e.getTarget(".x-grid-row-expander")&&t==="click")return n.toggleRow(u,o),n.selectRowOnExpand},isLocked:function(){return t&&(t.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return"&#160;"}}}},0,0,0,0,["plugin.rowexpander"],0,[Ext.grid.plugin,"RowExpander"],0);Ext.cmd.derive("Ext.grid.property.Grid",Ext.grid.Panel,{alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:"x-property-grid",initComponent:function(){var n=this;n.source=n.source||{};n.addCls(n.gridCls);n.plugins=n.plugins||[];n.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:n.clicksToEdit,startEdit:function(t){return this.self.prototype.startEdit.call(this,t,n.valueColumn)}}));n.selModel={type:"cellmodel",onCellSelect:function(t){return t.column=n.valueColumn,t.colIdx=n.valueColumn.getVisibleIndex(),this.self.prototype.onCellSelect.call(this,t)}};n.sourceConfig=Ext.apply({},n.sourceConfig);n.store||(n.propStore=n.store=new Ext.grid.property.Store(n,n.source));n.configure(n.sourceConfig);n.sortableColumns&&n.store.sort("name","ASC");n.columns=new Ext.grid.property.HeaderContainer(n,n.store);Ext.grid.Panel.prototype.initComponent.call(this);n.getView().walkCells=this.walkCells;n.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,n.headerCt.trueText],[!1,n.headerCt.falseText]]})})};n.store.on("update",n.onUpdate,n)},configure:function(n){var t=this,o=t.store,r=0,s=t.store.getCount(),h=t.nameField,c=t.valueField,u,i,f,e;if(t.configureLegacy(n),t.inferTypes)for(;r<s;++r)f=o.getAt(r),u=f.get(h),t.getConfigProp(u,"type")||(i=f.get(c),e=Ext.isDate(i)?"date":Ext.isNumber(i)?"number":Ext.isBoolean(i)?"boolean":"string",t.setConfigProp(u,"type",e))},getConfigProp:function(n,t,i){var r=this.sourceConfig[n],u;return r&&(u=r[t]),u||i},setConfigProp:function(n,t,i){var u=this.sourceConfig,r=u[n];return r?r.__copied||(r=Ext.apply({__copied:!0},r),u[n]=r):r=u[n]={__copied:!0},r[t]=i,i},configureLegacy:function(n){var t=this;t.copyLegacyObject(n,t.customRenderers,"renderer");t.copyLegacyObject(n,t.customEditors,"editor");t.copyLegacyObject(n,t.propertyNames,"displayName")},copyLegacyObject:function(n,t,i){for(var r in t)t.hasOwnProperty(r)&&(n[r]||(n[r]={}),n[r][i]=t[r])},onUpdate:function(n,t,i){var r=this,u,f;r.rendered&&i===Ext.data.Model.EDIT&&(u=t.get(r.valueField),f=t.modified.value,r.fireEvent("beforepropertychange",r.source,t.getId(),u,f)!==!1?(r.source&&(r.source[t.getId()]=u),t.commit(),r.fireEvent("propertychange",r.source,t.getId(),u,f)):t.reject())},walkCells:function(n,t,i,r,u,f){var e=this,o=e.ownerCt.valueColumn;return t==="left"?t="up":t==="right"&&(t="down"),n=Ext.view.Table.prototype.walkCells.call(e,n,t,i,r,u,f),n.column=o,n.colIdx=o.getVisibleIndex(),n},getCellEditor:function(n){var i=this,u=n.get(i.nameField),f=n.get(i.valueField),t=i.getConfigProp(u,"editor"),e=i.getConfigProp(u,"type"),r=i.editors;if(t)t instanceof Ext.grid.CellEditor||(t instanceof Ext.form.field.Base||(t=Ext.ComponentManager.create(t,"textfield")),t=i.setConfigProp(u,"editor",new Ext.grid.CellEditor({field:t})));else if(e)switch(e){case"date":t=r.date;break;case"number":t=r.number;break;case"boolean":t=i.editors.boolean;break;default:t=r.string}else t=Ext.isDate(f)?r.date:Ext.isNumber(f)?r.number:Ext.isBoolean(f)?r.boolean:r.string;return t.editorId=u,t.field.column=i.valueColumn,t},beforeDestroy:function(){var n=this;Ext.grid.Panel.prototype.beforeDestroy.call(this);n.destroyEditors(n.editors);n.destroyEditors(n.customEditors);delete n.source},destroyEditors:function(n){for(var t in n)n.hasOwnProperty(t)&&Ext.destroy(n[t])},setSource:function(n,t){var i=this;i.source=n;t!==undefined&&(i.sourceConfig=Ext.apply({},t),i.configure(i.sourceConfig));i.propStore.setSource(n)},getSource:function(){return this.propStore.getSource()},getProperty:function(n){return this.propStore.getProperty(n)},setProperty:function(n,t,i){this.propStore.setValue(n,t,i)},removeProperty:function(n){this.propStore.remove(n)}},0,["propertygrid"],["component","box","container","panel","tablepanel","gridpanel","grid","propertygrid"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0,propertygrid:!0},["widget.propertygrid"],0,[Ext.grid.property,"Grid",Ext.grid,"PropertyGrid"],0);Ext.cmd.derive("Ext.grid.property.HeaderContainer",Ext.grid.header.Container,{alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:"x-grid-property-name",nameColumnInnerCls:"x-grid-cell-inner-property-name",constructor:function(n,t){var i=this;i.grid=n;i.store=t;Ext.grid.header.Container.prototype.constructor.call(this,{isRootHeader:!0,enableColumnResize:Ext.isDefined(n.enableColumnResize)?n.enableColumnResize:i.enableColumnResize,enableColumnMove:Ext.isDefined(n.enableColumnMove)?n.enableColumnMove:i.enableColumnMove,items:[{header:i.nameText,width:n.nameColumnWidth||i.nameWidth,sortable:n.sortableColumns,dataIndex:n.nameField,scope:i,renderer:i.renderProp,itemId:n.nameField,menuDisabled:!0,tdCls:i.nameColumnCls,innerCls:i.nameColumnInnerCls},{header:i.valueText,scope:i,renderer:i.renderCell,getEditor:i.getCellEditor.bind(i),sortable:n.sortableColumns,flex:1,fixed:!0,dataIndex:n.valueField,itemId:n.valueField,menuDisabled:!0}]});i.grid.valueColumn=i.items.getAt(1)},getCellEditor:function(n){return this.grid.getCellEditor(n,this)},renderProp:function(n){return this.getPropertyName(n)},renderCell:function(n,t,i){var r=this,f=r.grid,e=f.getConfigProp(i.get(f.nameField),"renderer"),u=n;return e?e.apply(r,arguments):(Ext.isDate(n)?u=r.renderDate(n):Ext.isBoolean(n)&&(u=r.renderBool(n)),Ext.util.Format.htmlEncode(u))},renderDate:Ext.util.Format.date,renderBool:function(n){return this[n?"trueText":"falseText"]},getPropertyName:function(n){return this.grid.getConfigProp(n,"displayName",n)}},1,0,["component","box","container","headercontainer"],{component:!0,box:!0,container:!0,headercontainer:!0},0,0,[Ext.grid.property,"HeaderContainer",Ext.grid,"PropertyColumnModel"],0);Ext.cmd.derive("Ext.grid.property.Property",Ext.data.Model,{alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name",constructor:function(n,t){Ext.isObject(n)||(n={name:n,value:t});Ext.data.Model.prototype.constructor.call(this,n)}},1,0,0,0,0,0,[Ext.grid.property,"Property",Ext,"PropGridProperty"],0);Ext.cmd.derive("Ext.grid.property.Reader",Ext.data.reader.Reader,{successProperty:null,totalProperty:null,messageProperty:null,read:function(n){return this.readRecords(n)},readRecords:function(n){var u=this.getModel(),t={records:[],success:!0},i;for(var r in n)n.hasOwnProperty(r)&&(i=n[r],this.isEditableValue(i)&&t.records.push(new u({name:r,value:i})));return t.total=t.count=t.records.length,new Ext.data.ResultSet(t)},isEditableValue:function(n){return Ext.isPrimitive(n)||Ext.isDate(n)||n===null}},0,0,0,0,0,0,[Ext.grid.property,"Reader"],0);Ext.cmd.derive("Ext.grid.property.Store",Ext.data.Store,{alternateClassName:"Ext.grid.PropertyStore",remoteSort:!0,constructor:function(n,t){var i=this;i.grid=n;i.source=t;Ext.data.Store.prototype.constructor.call(this,{data:t,model:Ext.grid.property.Property,proxy:i.getProxy()})},getProxy:function(){var n=this.proxy;return n||(n=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),n},getReader:function(){var n=this.reader;return n||(n=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})),n},setSource:function(n){var t=this;t.source=n;t.suspendEvents();t.removeAll();t.getProxy().setData(n);t.load();t.resumeEvents();t.fireEvent("datachanged",t);t.fireEvent("refresh",t)},getProperty:function(n){var t=Ext.isNumber(n)?this.getAt(n):this.getById(n),i=null;return t&&(i=t.get("value")),i},setValue:function(n,t,i){var r=this,u=r.getRec(n);u?(u.set("value",t),r.source[n]=t):i&&(r.source[n]=t,u=new Ext.grid.property.Property({name:n,value:t},n),r.add(u))},remove:function(n){var t=this.getRec(n);t&&(Ext.data.Store.prototype.remove.call(this,t),delete this.source[n])},getRec:function(n){return this.getById(n)},getSource:function(){return this.source},onDestroy:function(){Ext.destroy(this.reader,this.proxy);Ext.data.Store.prototype.onDestroy.call(this)}},1,0,0,0,0,0,[Ext.grid.property,"Store",Ext.grid,"PropertyStore"],0);Ext.cmd.derive("Ext.grid.selection.Selection",Ext.Base,{constructor:function(n){this.view=n.ownerGrid.view}},1,0,0,0,0,0,[Ext.grid.selection,"Selection"],0);Ext.cmd.derive("Ext.grid.selection.Cells",Ext.grid.selection.Selection,{type:"cells",isCells:!0,clone:function(){var n=this,t=new n.self(n.view);return n.startCell&&(t.startCell=n.startCell.clone(),t.endCell=n.endCell.clone()),t},contains:function(n){var t;return!n||!n.isCellContext?!1:this.startCell&&(t=this.getRowRange(),n.rowIdx>=t[0]&&n.rowIdx<=t[1])?(t=this.getColumnRange(),n.colIdx>=t[0]&&n.colIdx<=t[1]):!1},eachRow:function(n,t){for(var r=this,u=r.getRowRange(),f=new Ext.grid.CellContext(r.view),i=u[0];i<=u[1];i++)if(f.setRow(i),n.call(t||r,f.record)===!1)return},eachColumn:function(n,t){for(var r=this,u=r.getColumnRange(),f=new Ext.grid.CellContext(r.view),i=u[0];i<=u[1];i++)if(f.setColumn(i),n.call(t||r,f.column,i)===!1)return},eachCell:function(n,t){for(var u=this,e=u.getRowRange(),o=u.getColumnRange(),f=new Ext.grid.CellContext(u.view),r,i=e[0];i<=e[1];i++)for(f.setRow(i),r=o[0];r<=o[1];r++)if(f.setColumn(r),n.call(t||u,f,r,i)===!1)return},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.rowIdx,this.endCell.rowIdx):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.rowIdx,this.endCell.rowIdx):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.colIdx,this.endCell.colIdx):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.colIdx,this.endCell.colIdx):-1},privates:{clear:function(){var n=this,t=n.view;n.eachCell(function(n){t.onCellDeselect(n)});n.startCell=n.endCell=null},setRangeStart:function(n){this.startCell=(this.endCell=n.clone()).clone();this.view.onCellSelect(n)},setRangeEnd:function(n){var u=this,t,f,s,h,c,l,i,r,e=u.view,a=e.all,o=new Ext.grid.CellContext(e),v=e.getVisibleColumnManager().getColumns().length-1;for(u.endCell=n.clone(),t=u.getRange(),f=u.lastRange||t,s=Math.max(Math.min(t[0][1],f[0][1]),a.startIndex),h=Math.min(Math.max(t[1][1],f[1][1]),a.endIndex),c=Math.min(t[0][0],f[0][0]),l=Math.min(Math.max(t[1][0],f[1][0]),v),i=s;i<=h;i++)for(r=c;r<=l;r++)if(o.setPosition(i,r),i<t[0][1]||i>t[1][1]||r<t[0][0]||r>t[1][0])e.onCellDeselect(o);else e.onCellSelect(o);u.lastRange=t},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getCount:function(){var n=this.getRange();return(n[1][0]-n[0][0]+1)*(n[1][1]-n[0][1]+1)},selectAll:function(){var n=this,t=n.view;n.clear();n.setRangeStart(new Ext.grid.CellContext(t).setPosition(0,0));n.setRangeEnd(new Ext.grid.CellContext(t).setPosition(t.dataSource.getCount()-1,t.getVisibleColumnManager().getColumns().length-1))},isAllSelected:function(){var t=this.rangeStart,n=this.rangeEnd;return t&&!t.colIdx&&!t.rowIdx?n.colIdx===n.view.getVisibleColumnManager().getColumns().length-1&&n.rowIdx===n.view.dataSource.getCount-1:!1},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]}}},0,0,0,0,0,0,[Ext.grid.selection,"Cells"],0);Ext.cmd.derive("Ext.grid.selection.Columns",Ext.grid.selection.Selection,{type:"columns",isColumns:!0,clone:function(){var n=this,t=new n.self(n.view),i=n.selectedColumns;return i&&(t.selectedColumns=Ext.Array.slice(i)),t},eachRow:function(n,t){var i=this.selectedColumns;i&&i.length&&this.view.dataSource.each(n,t||this)},eachColumn:function(n,t){var r=this,o=r.view,u=r.selectedColumns,e,i,f=new Ext.grid.CellContext(o);if(u)for(e=u.length,i=0;i<e;i++)if(f.setColumn(u[i]),n.call(t||r,f.column,f.colIdx)===!1)return!1},eachCell:function(n,t){var u=this,e=u.view,f=u.selectedColumns,o,r,i=new Ext.grid.CellContext(e);f&&(o=f.length,e.dataSource.each(function(e){for(i.setRow(e),r=0;r<o;r++)if(i.setColumn(f[r]),n.call(t||u,i,i.colIdx,i.rowIdx)===!1)return!1}))},contains:function(n){var t=this.selectedColumns;return n&&n.isColumn&&t&&t.length?Ext.Array.contains(t,n):!1},getCount:function(){var n=this.selectedColumns;return n?n.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(n){Ext.Array.include(this.selectedColumns||(this.selectedColumns=[]),n);this.refreshColumns(n)},clear:function(){var n=this,t=n.selectedColumns;t&&t.length&&(n.selectedColumns=[],n.refreshColumns.apply(n,t))},isAllSelected:function(){var n=this.selectedColumns;return n&&n.length===this.view.ownerGrid.getVisibleColumnManager().getColumns().length},refreshColumns:function(){var f=this,t=f.view,e=t.all,i,u=arguments,o=u.length,n,r=new Ext.grid.CellContext(t),s=[];if(t.rendered){for(n=0;n<o;n++)s[n]=f.contains(u[n]);for(i=e.startIndex;i<=e.endIndex;i++)for(r.setRow(i),n=0;n<o;n++)if(r.setColumn(u[n]),s[n])t.onCellSelect(r);else t.onCellDeselect(r)}},remove:function(n){this.selectedColumns&&(Ext.Array.remove(this.selectedColumns,n),this.refreshColumns(n))},selectAll:function(){var n=this;n.clear();n.selectedColumns=n.view.getVisibleColumnManager().getColumns();n.refreshColumns.apply(n,n.selectedColumns)}}},0,0,0,0,0,0,[Ext.grid.selection,"Columns"],0);Ext.cmd.derive("Ext.grid.selection.Rows",Ext.grid.selection.Selection,{type:"rows",isRows:!0,clone:function(){var n=this,t=new n.self(n.view);return n.selectedRecords&&(t.selectedRecords=n.selectedRecords.clone()),n.rangeStart&&(t.setRangeStart(n.rangeStart),t.setRangeEnd(n.rangeEnd)),t},add:function(n){var t=this.selectedRecords||(this.selectedRecords=this.createRecordCollection());if(!t.byInternalId.get(n.internalId)){t.add(n);this.view.onRowSelect(n)}},remove:function(n){var t=this;if(t.selectedRecords&&t.selectedRecords.byInternalId.get(n.internalId)){t.selectedRecords.remove(n);t.view.onRowDeselect(n);return t.allSelected=!1,!0}},contains:function(n){if(!n||!n.isModel)return!1;var t=this,i=!1,f=t.selectedRecords,r,u;return t.allSelected?(t.add(n),!0):(f&&(i=!!f.byInternalId.get(n.internalId)),i||t.rangeStart==null||(u=t.getRange(),r=t.view.dataSource.indexOf(n),i=r>=u[0]&&r<=u[1]),i)},getCount:function(){for(var i=this,n=i.selectedRecords,r=n?n.getCount():0,u=i.getRange(),f=i.view.dataSource,t=u[0];t<=u[1];t++)n&&n.byInternalId.get(f.getAt(t).internalId)||r++;return r},getRecords:function(){var n=this.selectedRecords;return n?n.getRange():[]},selectAll:function(){var n=this;n.clear();n.setRangeStart(0);n.setRangeEnd(n.view.dataSource.getCount()-1);n.addRange();n.allSelected=!0},eachRow:function(n,t){var i=this.selectedRecords;i&&i.each(n,t||this)},eachColumn:function(n,t){var r=this.view.getVisibleColumnManager().getColumns(),u=r.length,i;if(this.selectedRecords)for(i=0;i<u;i++)if(n.call(this||t,r[i],i)===!1)return},eachCell:function(n,t){var u=this,c=u.selectedRecords,l=u.view,e=l.ownerGrid.getVisibleColumnManager().getColumns(),s,r,o,i,h,a,f=!1;e&&(s=e.length,i=new Ext.grid.CellContext(l),c&&c.each(function(o){for(i.setRow(o),r=0;r<s;r++)if(i.setColumn(e[r]),n.call(t||u,i,i.colIdx,i.rowIdx)===!1)return f=!0,!1}),f||u.rangeStart==null||(h=u.getRange(),u.view.dataSource.getRange(h[0],h[1],{callback:function(h){for(a=h.length,r=0;!f&&r<a;r++)for(i.setRow(h[r]),o=0;!f&&o<s;o++)i.setColumn(e[o]),n.call(t||u,i,i.colIdx,i.rowIdx)===!1&&(f=!0)}})))},beginUpdate:function(){var n=this.selectedRecords;n&&n.beginUpdate()},endUpdate:function(){var n=this.selectedRecords;n&&n.endUpdate()},destroy:function(){this.selectedRecords=Ext.destroy(this.selectedRecords)},privates:{clear:function(){var n=this,t=n.view;n.allSelected=!1;n.selectedRecords&&(n.eachRow(function(n){t.onRowDeselect(n)}),n.selectedRecords.clear())},isAllSelected:function(){return!!this.allSelected},setRangeStart:function(n){this.allSelected=!1;this.rangeStart=this.rangeEnd=n;this.view.onRowSelect(n)},setRangeEnd:function(n){var r=this,i,f,t,h,u=r.view,c=u.dataSource,e=u.all,o=r.selectedRecords,s;for(r.rangeEnd=n,i=r.getRange(),f=r.lastRange||i,t=Math.max(Math.min(i[0],f[0]),e.startIndex),n=Math.min(Math.max(i[1],f[1]),e.endIndex);t<=n;t++)if(h=e.item(t),t<i[0]||t>i[1]){o&&(s=o.byInternalId.get(c.getAt(t).internalId))&&o.remove(s);u.onRowDeselect(t)}else u.onRowSelect(t);r.lastRange=i},getRange:function(){var n=this.rangeStart,t=this.rangeEnd;return n==null?[0,-1]:n<=t?[n,t]:[t,n]},getRangeSize:function(){var n=this.getRange();return n[1]-n[0]+1},createRecordCollection:function(){return new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{rootProperty:!1,property:"internalId"}}})},addRange:function(){var n=this,t,i;n.rangeStart!=null&&(t=n.getRange(),i=n.selectedRecords||(n.selectedRecords=n.createRecordCollection()),n.view.dataSource.getRange(t[0],t[1],{callback:function(n){i.add.apply(i,n)}}),n.setRangeStart(n.lastRange=null))}}},0,0,0,0,0,0,[Ext.grid.selection,"Rows"],0);Ext.cmd.derive("Ext.grid.selection.SpreadsheetModel",Ext.selection.Model,{isSpreadsheetModel:!0,config:{columnSelect:{$value:!1,lazy:!0},cellSelect:{$value:!0,lazy:!0},rowSelect:{$value:!0,lazy:!0},dragSelect:{$value:!0,lazy:!0},selected:null},checkboxSelect:!1,checkboxColumnIndex:0,showHeaderCheckbox:!0,checkboxHeaderWidth:24,rowNumbererHeaderWidth:46,columnSelectCls:"x-ssm-column-select",rowNumbererHeaderCls:"x-ssm-row-numberer-hd",rowNumbererTdCls:Ext.grid.column.RowNumberer.prototype.tdCls+" x-ssm-row-numberer-cell",checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-grid-cell-row-checker",bindComponent:function(n){var t=this,i,r;if(t.view!==n&&(t.view&&(t.navigationModel=null,Ext.destroy(t.viewListeners,t.navigationListeners)),t.view=n,n)){if(t.getCellSelect(),r=n.ownerGrid.lockedGrid,r){t.hasLockedHeader=!0;t.onViewCreated(r,r.getView())}else n.grid.on({viewcreated:t.onViewCreated,scope:t,single:!0});t.gridListeners=n.ownerGrid.on({columnschanged:t.onColumnsChanged,scope:t,destroyable:!0});i=t.getViewListeners();i.scope=t;i.destroyable=!0;t.viewListeners=n.on(i);t.navigationModel=n.getNavigationModel();t.navigationListeners=t.navigationModel.on({navigate:t.onNavigate,scope:t,destroyable:!0});t.getColumnSelect()&&n.ownerGrid.addCls(t.columnSelectCls)}},getCheckboxHeaderConfig:function(){var n=this,t=n.showHeaderCheckbox!==!1;return{isCheckerHd:t,text:"&#160;",clickTargetName:"el",width:n.checkboxHeaderWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",tdCls:n.tdCls,cls:t?"x-column-header-checkbox ":"",defaultRenderer:n.checkboxRenderer.bind(n),editRenderer:"&#160;",locked:n.hasLockedHeader}},checkboxRenderer:function(){return'<div class="x-grid-row-checker" role="presentation">&#160;<\/div>'},onHeaderClick:function(n,t,i){var r=this,u=r.selected;t===r.numbererColumn||t===r.checkColumn?(i.stopEvent(),u&&u.isAllSelected()?r.deselectAll():r.selectAll(n.view),r.updateHeaderState()):r.columnSelect&&(r.isColumnSelected(t)?r.deselectColumn(t):r.selectColumn(t,i.ctrlKey))},updateHeaderState:function(){var n=this,r=n.view.dataSource,u=r.getCount(),f=n.views,t=n.selected,o=t&&t.isRows&&!r.isBufferedStore&&u>0&&u===t.getCount(),i=n.checkColumn,e=n.checkerOnCls;f&&f.length&&i&&(o?i.addCls(e):i.removeCls(e))},onReconfigure:function(n,t,i){i&&this.addCheckbox(this.views[0])},getCellContext:function(n,t){return new Ext.grid.CellContext(this.view.ownerGrid.getView()).setPosition(n,t)},select:function(n,t,i){var u=this,r=u.selected,o=u.view,c=o.dataSource,s,e,f,h=!1;for(r&&r.isRows&&r.view===o?t||r.clear():(u.resetSelection(!0),r=u.selected=new Ext.grid.selection.Rows(o)),Ext.isArray(n)||(n=[n]),s=n.length,e=0;e<s;e++)f=n[e],typeof f=="number"&&(f=c.getAt(f)),r.contains(f)||(r.add(f),h=!0);h&&(u.updateHeaderState(),i&&u.fireSelectionChange())},deselect:function(n,t){var r=this,f=r.selected,s=r.view.dataSource,o,u,i,e=!1;if(f&&f.isRows)for(Ext.isArray(n)||(n=[n]),o=n.length,u=0;u<o;u++)i=n[u],typeof i=="number"&&(i=s.getAt(i)),e=e||f.remove(i);e&&(r.updateHeaderState(),t||r.fireSelectionChange())},selectCells:function(n,t,i){var r=this,f=r.view.ownerGrid.view,u;n=n.isCellContext?n.clone():new Ext.grid.CellContext(f).setPosition(n);t=t.isCellContext?t.clone():new Ext.grid.CellContext(f).setPosition(t);r.resetSelection(!0);r.selected=u=new Ext.grid.selection.Cells(n.view);u.setRangeStart(n);u.setRangeEnd(t);i||r.fireSelectionChange()},selectAll:function(n){var t=this,i=t.selected,r,u=t.view;t.rowSelect?(i&&i.isRows||(t.resetSelection(!0),t.selected=i=new Ext.grid.selection.Rows(u)),r=!0):t.cellSelect?(i&&i.isCells||(t.resetSelection(!0),t.selected=i=new Ext.grid.selection.Cells(u)),r=!0):t.columnSelect&&(i&&i.isColumns||(t.resetSelection(!0),t.selected=i=new Ext.grid.selection.Columns(u)),r=!0);r&&(i.selectAll(),t.updateHeaderState(),n||t.fireSelectionChange())},deselectAll:function(n){var t=this.selected;t&&t.getCount()&&(t.clear(),n||this.fireSelectionChange())},selectRows:function(n,t,i){var r=this,u=r.selected,e=u&&!u.isRows,o=n.length,f;for((!t||e)&&r.resetSelection(!0),e||(r.selected=u=new Ext.grid.selection.Rows(r.view)),f=0;f<o;f++)u.add(n[f]);i||r.fireSelectionChange()},isSelected:function(n){return this.isRowSelected(n)},selectColumn:function(n,t,i){var u=this,r=u.selected,f=n.getView();r&&r.isColumns&&r.view===f.ownerGrid.view||(u.resetSelection(!0),u.selected=r=new Ext.grid.selection.Columns(f));r.contains(n)||(t||r.clear(),r.add(n),u.updateHeaderState(),i||u.fireSelectionChange())},deselectColumn:function(n,t){var r=this,i=r.getSelected();i&&i.isColumns&&i.contains(n)&&(i.remove(n),r.updateHeaderState(),t||r.fireSelectionChange())},getSelection:function(){var n=this.selected;return n&&n.isRows?n.getRecords():[]},destroy:function(){var n=this,t=n.scrollEls;Ext.destroy(n.gridListeners,n.viewListeners,n.selected,n.navigationListeners);t&&Ext.dd.ScrollManager.unregister(t);n.selected=n.gridListeners=n.viewListeners=n.selectionData=n.navigationListeners=n.scrollEls=null;Ext.selection.Model.prototype.destroy.call(this)},privates:{getViewListeners:function(){return{beforerefresh:this.onBeforeViewRefresh,keyup:{element:"el",fn:this.onViewKeyUp,scope:this}}},onViewKeyUp:function(n){var t=this.selected;n.keyCode===n.SHIFT&&t&&t.isRows&&t.getRangeSize()&&t.addRange()},onColumnsChanged:function(){var n=this.selected,f,e,t,i,r,u;if(n&&n.isCells)for(r=n.view,u=new Ext.grid.CellContext(r),f=n.getRowRange(),e=r.getVisibleColumnManager().getColumns().length,i=f[0];i<=f[1];i++)for(u.setRow(i),t=0;t<e;t++){u.setColumn(t);r.onCellDeselect(u)}},onBeforeViewRefresh:function(n){var t=this.selected;n.refreshCounter&&t&&t.isCells&&this.resetSelection()},resetSelection:function(n){var t=this.selected;t&&(t.clear(),n||this.fireSelectionChange())},onViewCreated:function(n,t){var i=this,u=t.ownerGrid,r=t.headerCt,f=u.shrinkWrapLocked;if((!u.lockable||t.isLockedView)&&(i.getRowSelect()&&!r.down("rownumberer")&&(i.numbererColumn=r.add(0,{xtype:"rownumberer",width:i.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:i.rowNumbererTdCls,cls:i.rowNumbererHeaderCls,locked:i.hasLockedHeader}),f&&(n.width+=i.numbererColumn.width)),i.checkboxSelect&&(i.addCheckbox(t,!0),i.mon(t.ownerGrid,"reconfigure",i.onReconfigure,i),f&&(n.width+=i.checkColumn.width))),r.sortOnClick=!i.getColumnSelect(),i.getDragSelect())t.on("render",i.onViewRender,i,{single:!0})},onViewRender:function(n){var t=this,i=n.getEl();i.ddScrollConfig={vthresh:50,hthresh:50,frequency:300,increment:100};Ext.dd.ScrollManager.register(i);(t.scrollEls||(t.scrollEls=[])).push(i);n.on("cellmousedown",t.handleMouseDown,t);if(n.lockingPartner)n.lockingPartner.on("cellmousedown",t.handleMouseDown,t)},handleMouseDown:function(n,t,i,r,u,f,e){var s=this,o=s.selected,h=e.position.column,c,l;if(!e.button&&!e.shiftKey&&!e.altKey&&e.pointerType!=="touch"&&h){c=h===s.checkColumn;h===s.numbererColumn||c||!s.cellSelect?s.rowSelect&&(o&&o.isRows?e.ctrlKey||c||o.clear():(o&&o.clear(),o=s.selected=new Ext.grid.selection.Rows(n)),l=!0):(o&&o.clear(),o&&o.isCells||(o=s.selected=new Ext.grid.selection.Cells(n)),l=!0);s.lastOverRecord=s.lastOverColumn=null;Ext.getBody().on("mouseup",s.onMouseUp,s,{single:!0,view:o.view});if(l)o.view.el.on("mousemove",s.onMouseMove,s,{view:o.view})}},onMouseMove:function(n,t,i){var r=this,h=i.view,u,c,a=n.getTarget(h.cellSelector),f=i.view.getHeaderByCell(a),e=r.selected,l,o,s;f&&(u=h.getRecord(a.parentNode),c=r.store.indexOf(u),o=u!==r.lastOverRecord,s=f!==r.lastOverColumn,(o||s)&&(l=r.getCellContext(u,f)),e.isRows?o&&(r.lastOverRecord?e.setRangeEnd(c):e.setRangeStart(c)):(o||s)&&(r.lastOverRecord?e.setRangeEnd(l):e.setRangeStart(l)),(o||s)&&h.getNavigationModel().setPosition(new Ext.grid.CellContext(f.getView()).setPosition(u,f)),r.lastOverColumn=f,r.lastOverRecord=u)},onMouseUp:function(n,t,i){var r=this,u=i.view;u&&!u.isDestroyed&&(u.el.un("mousemove",r.onMouseMove,r),r.selected.isRows&&r.selected.addRange(),r.fireSelectionChange())},addCheckbox:function(n,t){var r=this,i=r.checkboxColumnIndex,u=n.headerCt;i!==!1&&(i==="first"?i=0:i==="last"&&(i=u.getColumnCount()),r.checkColumn=u.add(i,r.getCheckboxHeaderConfig()));t!==!0&&n.refresh()},onNavigate:function(n){var i=this,u=n.view.ownerGrid.view,e=n.record,t=i.selected,f=new Ext.grid.CellContext(u).setPosition(e,n.column),r=n.keyEvent,s=r.getKey(),o;if((!r.ctrlKey||s!==r.UP&&s!==r.LEFT&&s!==r.RIGHT&&s!==r.DOWN)&&(!t||!t.isCells||!(t.getCount()>1)||r.type!=="click")&&(i.cellSelect||i.columnSelect||i.rowSelect)&&n.record&&r.type!=="mousedown"){if(r.ctrlKey&&r.keyCode===r.A){!t||t.getCount()<2?i.selectAll():i.deselectAll();i.updateHeaderState();return}r.shiftKey?f.column===i.numbererColumn||f.column===i.checkColumn||!i.cellSelect||t&&t.isRows?i.rowSelect&&(t&&t.isRows&&t.view===u||(i.resetSelection(!0),t=i.selected=new Ext.grid.selection.Rows(u)),t.getRangeSize()||t.setRangeStart(n.previousRecordIndex||0),t.setRangeEnd(n.recordIndex),o=!0):i.cellSelect&&(t&&t.isCells&&t.view===u||(i.resetSelection(!0),t=i.selected=new Ext.grid.selection.Cells(u)),t.getRangeSize()||t.setRangeStart(n.previousPosition||i.getCellContext(0,0)),t.setRangeEnd(f),o=!0):f.column!==i.numbererColumn&&f.column!==i.checkColumn&&i.cellSelect?i.cellSelect&&(t&&t.isCells&&t.view===u?t.clear():(i.resetSelection(!0),i.selected=t=new Ext.grid.selection.Cells(u)),t.setRangeStart(f),o=!0):i.rowSelect&&(t&&t.isRows&&t.view===u||(i.resetSelection(!0),t=i.selected=new Ext.grid.selection.Rows(u)),r.ctrlKey||f.column===i.checkColumn?t.contains(e)?t.remove(e):t.add(e):(t.clear(),t.add(e)),o=!0);o&&(t.isRows&&i.updateHeaderState(),i.fireSelectionChange())}},isRowSelected:function(n){var i=this,t=i.selected;return t&&t.isRows?(n=Ext.isNumber(n)?i.store.getAt(n):n,t.contains(n)):!1},isColumnSelected:function(n){var i=this,t=i.selected;return t&&t.isColumns?t.contains(n):!1},isCellSelected:function(n,t,i){var f=this,u,r=f.selected;if(n=n.ownerGrid.view,r){if(r.isColumns)return typeof i=="number"&&(i=n.getVisibleColumnManager().getColumns()[i]),r.contains(i);if(r.isCells)return u=new Ext.grid.CellContext(n).setPosition({row:t,column:i}),r.contains(u)}return!1},applySelected:function(n){return n},updateSelected:function(n,t){var i,f,e,r,u;t&&t.clear();n&&n.getCount()&&(i=n.view,n.isRows?n.eachRow(i.onRowSelect,i):n.isColumns?(f=n.getColumns(),e=f.length,e&&(u=new Ext.grid.CelContext(i),i.store.each(function(n){for(u.setRow(n),r=0;r<e;r++){u.setColumn(f[r]);i.onCellSelect(u)}}))):n.isCells&&n.eachCell(i.onCellSelect,i))},updateRowSelect:function(n){var t=this,r=t.selected,i=t.view;i&&i.rendered&&(i.isNormalView&&(i=i.lockingPartner),n?(t.checkColumn&&t.checkColumn.show(),t.numbererColumn?t.numbererColumn.show():t.numbererColumn=i.headerCt.add(0,{xtype:"rownumberer",width:t.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:t.rowNumbererTdCls,cls:t.rowNumbererHeaderCls,locked:t.hasLockedHeader})):(t.checkColumn&&t.checkColumn.hide(),t.numbererColumn&&t.numbererColumn.hide()),!n&&r&&r.isRows&&r.clear())},updateColumnSelect:function(n){for(var t=this,r=t.selected,u=t.views,f=u?u.length:0,i=0;i<f;i++)u[i].headerCt.sortOnClick=!n;!n&&r&&r.isColumns&&r.clear();n?t.view.ownerGrid.addCls(t.columnSelectCls):t.view.ownerGrid.removeCls(t.columnSelectCls)},updateCellSelect:function(n){var i=this,t=i.selected;!n&&t&&t.isCells&&t.clear()},fireSelectionChange:function(){var n=this.view.ownerGrid;n.fireEvent("selectionchange",n,this.selected)},onIdChanged:function(n,t,i){var r=this.selected;r&&r.isRows&&r.selectedRecords&&r.selectedRecords.updateKey(t,i)},onPageAdd:function(n,t,i){var u=this.selected,o=i.length,r,f,e=u.selectedRecords;if(u&&u.isRows&&e)for(r=0;r<o;r++)f=i[r],e.get(f.id)&&e.replace(f)},refresh:function(){var n=this.getSelected();n&&n.isRows&&Ext.selection.Model.prototype.refresh.call(this)},onStoreAdd:function(){var n=this.getSelected();n&&n.isRows&&(Ext.selection.Model.prototype.onStoreAdd.apply(this,arguments),this.updateHeaderState())},onStoreClear:function(){this.resetSelection()},onStoreLoad:function(){var n=this.getSelected();n&&n.isRows&&(Ext.selection.Model.prototype.onStoreLoad.apply(this,arguments),this.updateHeaderState())},onStoreRefresh:function(){var n=this.selected;n&&n.isRows&&n.selectedRecords&&this.updateSelectedInstances(n.selectedRecords);this.updateHeaderState()},onStoreRemove:function(){var n=this.getSelected();n&&n.isRows&&Ext.selection.Model.prototype.onStoreRemove.apply(this,arguments)}}},0,0,0,0,["selection.spreadsheet"],0,[Ext.grid.selection,"SpreadsheetModel"],0);Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(n){var t=this,i=t.getKey(n);return t.map[i]||(++t.length,t.items.push(n),t.map[i]=n),n},clear:function(){var n=this,t=n.items;return n.items=[],n.map={},n.length=0,t},contains:function(n){var t=this.getKey(n);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(n){return n.id},remove:function(n){var t=this,i=t.getKey(n),r=t.items,u;return t.map[i]&&(u=Ext.Array.indexOf(r,n),Ext.Array.erase(r,u,1),delete t.map[i],--t.length),n}},1,0,0,0,0,0,[Ext.util,"Queue"],0);Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(n){var t=this,a=Ext.layout.SizeModel.sizeModels,v=a.configured,o=a.shrinkWrap,y,r,f,u,s,h,i,p,w,b,k,c,e,l;Ext.apply(t,n);i=t.target;y=t.el;t.id=i.id;t.flushedProps={};t.props=s={};t.styles={};i.isComponent?(t.wrapsComponent=!0,t.framing=i.frameSize||null,t.isComponentChild=i.ownerLayout&&i.ownerLayout.isComponentLayout,r=i.lastBox,f=i.ownerCt,f&&(u=f.el&&t.context.items[f.el.id])&&(t.ownerCtContext=u),t.sizeModel=h=i.getSizeModel(u&&u.widthModel.pairsByHeightOrdinal[u.heightModel.ordinal]),t.widthModel=c=h.width,t.heightModel=e=h.height,r&&r.invalid===!1&&(b=i.width===(p=r.width),k=i.height===(w=r.height),c===o&&e===o?l=!0:c===v&&b&&(l=e===o||e===v&&k),l&&(t.optOut=!0,s.width=p,s.height=w))):r=y.lastBox;t.lastBox=r},init:function(n,t){var i=this,u=i.props,e=i.dirty,r=i.ownerCtContext,s=i.target.ownerLayout,c=!i.state,p=n||c,v,l,w,b,a,f,k=i.heightModel,d=i.widthModel,o,h,y=0;if(i.dirty=i.invalid=!1,i.props={},i.remainingChildDimensions=0,i.boxChildren&&(i.boxChildren.length=0),c||(i.clearAllBlocks("blocks"),i.clearAllBlocks("domBlocks")),!i.wrapsComponent)return p;if(f=i.target,i.state={},c)f.beforeLayout&&f.beforeLayout!==Ext.emptyFn&&f.beforeLayout(),!r&&(b=f.ownerCt)&&(r=i.context.items[b.el.id]),r?(i.ownerCtContext=r,i.isBoxParent=s&&s.isItemBoxParent(i)):i.isTopLevel=!0,i.frameBodyContext=i.getEl("frameBody");else for(r=i.ownerCtContext,i.isTopLevel=!r,v=i.children,l=0,w=v.length;l<w;++l)v[l].init(!0);return i.hasRawContent=!(f.isContainer&&f.items.items.length>0),n?(i.widthModel=i.heightModel=null,a=f.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),c&&(i.sizeModel=a),i.widthModel=a.width,i.heightModel=a.height,r&&!i.isComponentChild&&(s.needsItemSize||!f.liquidLayout?r.remainingChildDimensions+=2:(i.widthModel.calculated&&++r.remainingChildDimensions,i.heightModel.calculated&&++r.remainingChildDimensions))):u&&(i.recoverProp("x",u,e),i.recoverProp("y",u,e),i.widthModel.calculated?i.recoverProp("width",u,e):"width"in u&&++y,i.heightModel.calculated?i.recoverProp("height",u,e):"height"in u&&++y,r&&!i.isComponentChild&&(r.remainingChildDimensions+=y)),u&&s&&s.manageMargins&&(i.recoverProp("margin-top",u,e),i.recoverProp("margin-right",u,e),i.recoverProp("margin-bottom",u,e),i.recoverProp("margin-left",u,e)),t&&(o=t.heightModel,h=t.widthModel,h&&o&&d&&k&&d.shrinkWrap&&k.shrinkWrap&&h.constrainedMax&&o.constrainedMin&&(o=null),h&&(i.widthModel=h),o&&(i.heightModel=o),t.state&&Ext.apply(i.state,t.state)),p},initContinue:function(n){var t=this,i=t.ownerCtContext,e=t.target,r=t.widthModel,f=e.getInherited(),u;return r.fixed?f.inShrinkWrapTable=!1:delete f.inShrinkWrapTable,n&&(i&&r.shrinkWrap?(u=i.isBoxParent?i:i.boxParent,u&&u.addBoxChild(t)):r.natural&&(t.boxParent=i)),n},initDone:function(n){var t=this,i=t.props,r=t.state;t.remainingChildDimensions===0&&(i.containerChildrenSizeDone=!0);n&&(i.containerLayoutDone=!0);t.boxChildren&&t.boxChildren.length&&t.widthModel.shrinkWrap&&(t.el.setWidth(1e4),r.blocks=(r.blocks||0)+1)},initAnimation:function(){var n=this,t=n.target,i=n.ownerCtContext;i&&i.isTopLevel?n.animatePolicy=t.ownerLayout.getAnimatePolicy(n):!i&&t.isCollapsingOrExpanding&&t.animCollapse&&(n.animatePolicy=t.componentLayout.getAnimatePolicy(n));n.animatePolicy&&n.context.queueAnimation(n)},addBlock:function(n,t,i){var r=this,u=r[n]||(r[n]={}),f=u[i]||(u[i]={});f[t.id]||(f[t.id]=t,++t.blockCount,++r.context.blockCount)},addBoxChild:function(n){var i=this,t,r=n.widthModel;n.boxParent=this;n.measuresBox=r.shrinkWrap?n.hasRawContent:r.natural;n.measuresBox&&(t=i.boxChildren,t?t.push(n):i.boxChildren=[n])},addPositionStyles:function(n,t){var r=t.x,u=t.y,i=0;return r!==undefined&&(n.left=r+"px",++i),u!==undefined&&(n.top=u+"px",++i),i},addTrigger:function(n,t){var r=this,f=t?"domTriggers":"triggers",e=r[f]||(r[f]={}),o=r.context,i=o.currentLayout,u=e[n]||(e[n]={});u[i.id]||(u[i.id]=i,++i.triggerCount,u=o.triggers[t?"dom":"data"],(u[i.id]||(u[i.id]=[])).push({item:this,prop:n}),r.props[n]!==undefined&&(t&&r.dirty&&n in r.dirty||++i.firedTriggers))},boxChildMeasured:function(){var n=this,t=n.state,i=t.boxesMeasured=(t.boxesMeasured||0)+1;i===n.boxChildren.length&&(t.clearBoxWidth=1,++n.context.progressCount,n.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(n){var t=n.getStyles(n.borderNames,n.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(n){var t=n.getStyles(n.marginNames,n.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(n){var i=n.frameBodyContext||n,t=i.getStyles(n.paddingNames,n.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}},checkCache:function(n){return this.cacheMissHandlers[n](this)},clearAllBlocks:function(n){var t=this[n],i;if(t)for(i in t)this.clearBlocks(n,i)},clearBlocks:function(n,t){var r=this[n],u=r&&r[t],f,i,e;if(u){delete r[t];f=this.context;for(e in u)i=u[e],--f.blockCount,--i.blockCount||i.pending||i.done||f.queueLayout(i)}},block:function(n,t){this.addBlock("blocks",n,t)},domBlock:function(n,t){this.addBlock("domBlocks",n,t)},fireTriggers:function(n,t){var u=this[n],r=u&&u[t],e=this.context,i,f;if(r)for(f in r)i=r[f],++i.firedTriggers,i.done||i.blockCount||i.pending||e.queueLayout(i)},flush:function(){var n=this,i=n.dirty,t=n.state,r=n.el;n.dirtyCount=0;"attributes"in n&&(r.set(n.attributes),delete n.attributes);"innerHTML"in n&&(r.innerHTML=n.innerHTML,delete n.innerHTML);t&&t.clearBoxWidth&&(t.clearBoxWidth=0,n.el.setStyle("width",null),--t.blocks||n.context.queueItemLayouts(n));i&&(delete n.dirty,n.writeProps(i,!0))},flushAnimations:function(){var n=this,c=n.previousSize,t,f,l,e,i,o,u,a,r,s,h;if(c){for(t=n.target,f=t.getAnimationProps(),l=f.duration,e=Ext.Object.getKeys(n.animatePolicy),i=Ext.apply({},{from:{},to:{},duration:l||Ext.fx.Anim.prototype.duration},f),o=0,u=0,a=e.length;u<a;u++)r=e[u],s=c[r],h=n.peek(r),s!==h&&(r=n.translateProps[r]||r,i.from[r]=s,i.to[r]=h,++o);if(o){n.isCollapsingOrExpanding===1?t.componentLayout.undoLayout(n):n.writeProps(i.from);n.el.animate(i);i=Ext.fx.Manager.getFxQueue(n.el.id)[0];t.$layoutAnim=i;i.on({afteranimate:function(){delete t.$layoutAnim;n.isCollapsingOrExpanding===1?(t.componentLayout.redoLayout(n),t.afterCollapse(!0)):n.isCollapsingOrExpanding===2&&t.afterExpand(!0)}})}}},getBorderInfo:function(){var n=this,t=n.borderInfo;return t||(n.borderInfo=t=n.checkCache("borderInfo")),t},getEl:function(n,t){var r=this,u,i,f;if(n){if(n.dom)i=n;else if(u=r.target,t&&(u=t),i=u[n],typeof i=="function"&&(i=i.call(u),i===r.el))return this;i&&(f=r.context.getEl(r,i))}return f||null},getFrameInfo:function(){var i=this,r=i.frameInfo,n,t;return r||(n=i.framing,t=i.getBorderInfo(),i.frameInfo=r=n?{top:n.top+t.top,right:n.right+t.right,bottom:n.bottom+t.bottom,left:n.left+t.left,width:n.width+t.width,height:n.height+t.height}:t),r},getMarginInfo:function(){var t=this,n=t.marginInfo,i,f,r,u;return n||(t.wrapsComponent?(i=t.target,r=i.ownerLayout,u=r?r.id:null,f=r&&r.manageMargins,n=i.margin$,n&&n.ownerId!==u&&(n=null),n||(n=t.parseMargins(i,i.margin)||t.checkCache("marginInfo"),f&&(t.setProp("margin-top",0),t.setProp("margin-right",0),t.setProp("margin-bottom",0),t.setProp("margin-left",0)),n.ownerId=u,i.margin$=n),n.width=n.left+n.right,n.height=n.top+n.bottom):n=t.checkCache("marginInfo"),t.marginInfo=n),n},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var n=this,t=n.paddingInfo;return t||(n.paddingInfo=t=n.checkCache("paddingInfo")),t},getProp:function(n){var t=this,i=t.props[n];return t.addTrigger(n),i},getDomProp:function(n){var t=this,i=t.dirty&&n in t.dirty?undefined:t.props[n];return t.addTrigger(n,!0),i},getStyle:function(n){var i=this,r=i.styles,u,t;return n in r?t=r[n]:(u=i.styleInfo[n],t=i.el.getStyle(n),u&&u.parseInt&&(t=parseInt(t,10)||0),r[n]=t),t},getStyles:function(n,t){var s=this,h=s.styles,c={},o=0,a=n.length,i,r,f,u,l,v,y,e;for(t=t||n,i=0;i<a;++i)u=n[i],u in h?(c[t[i]]=h[u],++o,i&&o===1&&(r=n.slice(0,i),f=t.slice(0,i))):o&&((r||(r=[])).push(u),(f||(f=[])).push(t[i]));if(o<a)for(r=r||n,f=f||t,v=s.styleInfo,y=s.el.getStyle(r),i=r.length;i--;)u=r[i],l=v[u],e=y[u],l&&l.parseInt&&(e=parseInt(e,10)||0),c[f[i]]=e,h[u]=e;return c},hasProp:function(n){return this.getProp(n)!=null},hasDomProp:function(n){return this.getDomProp(n)!=null},invalidate:function(n){this.context.queueInvalidate(this,n)},markDirty:function(){++this.dirtyCount==1&&this.context.queueFlush(this)},onBoxMeasured:function(){var n=this.boxParent,t=this.state;n&&n.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,n.boxChildMeasured())},parseMargins:function(n,t){t===!0&&(t=5);var r=typeof t,i;return r==="string"||r==="number"?i=n.parseBox(t):t&&(i={top:0,right:0,bottom:0,left:0},t&&(t=Ext.apply(i,n.parseBox(t)))),i},peek:function(n){return this.props[n]},recoverProp:function(n,t,i){var r=this,f=r.props,u;n in t&&(f[n]=t[n],i&&n in i&&(u=r.dirty||(r.dirty={}),u[n]=i[n]))},redo:function(n){var i=this,r,u,t;if(i.revertProps(i.props),n&&i.wrapsComponent){if(i.childItems)for(t=0,r=i.childItems,u=r.length;t<u;t++)r[t].redo(n);for(t=0,r=i.children,u=r.length;t<u;t++)r[t].redo()}},removeEl:function(n,t){var r=this,u,i;if(n){if(n.dom)i=n;else if(u=r.target,t&&(u=t),i=u[n],typeof i=="function"&&(i=i.call(u),i===r.el))return this;i&&r.context.removeEl(r,i)}},revertProps:function(n){var t,r=this.flushedProps,i={};for(t in n)r.hasOwnProperty(t)&&(i[t]=n[t]);this.writeProps(i)},setAttribute:function(n,t){var i=this;i.attributes||(i.attributes={});i.attributes[n]=t;i.markDirty()},setBox:function(n){var t=this;"left"in n&&t.setProp("x",n.left);"top"in n&&t.setProp("y",n.top);t.setSize(n.width,n.height)},setContentHeight:function(n,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",n)},setContentWidth:function(n,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",n)},setContentSize:function(n,t,i){return this.setContentWidth(n,i)+this.setContentHeight(t,i)===2},setProp:function(n,t,i){var r=this,u=typeof t,f;return u==="undefined"||u==="number"&&isNaN(t)?0:r.props[n]===t?1:(r.props[n]=t,++r.context.progressCount,i===!1?(r.fireTriggers("domTriggers",n),r.clearBlocks("domBlocks",n)):(f=r.styleInfo[n],f&&(r.dirty||(r.dirty={}),r.dirty[n]=t,r.markDirty())),r.fireTriggers("triggers",n),r.clearBlocks("blocks",n),1)},setHeight:function(n,t){var i=this,f=i.target,r=i.ownerCtContext,u,e,o,s,h;if(n<0&&(n=0),i.wrapsComponent){if(o=i.collapsedVert?0:f.minHeight||0,n=Ext.Number.constrain(n,o,f.maxHeight),s=i.props.height,!i.setProp("height",n,t))return NaN;r&&!i.isComponentChild&&isNaN(s)&&(h=--r.remainingChildDimensions,h||r.setProp("containerChildrenSizeDone",!0));u=i.frameBodyContext;u&&(e=i.getFrameInfo(),u[i.el.vertical?"setWidth":"setHeight"](n-e.height,t))}else if(!i.setProp("height",n,t))return NaN;return n},setWidth:function(n,t){var i=this,f=i.target,r=i.ownerCtContext,u,e,o,s,h;if(n<0&&(n=0),i.wrapsComponent){if(o=i.collapsedHorz?0:f.minWidth||0,n=Ext.Number.constrain(n,o,f.maxWidth),s=i.props.width,!i.setProp("width",n,t))return NaN;r&&!i.isComponentChild&&isNaN(s)&&(h=--r.remainingChildDimensions,h||r.setProp("containerChildrenSizeDone",!0));u=i.frameBodyContext;u&&(e=i.getFrameInfo(),u.setWidth(n-e.width,t))}else if(!i.setProp("width",n,t))return NaN;return n},setSize:function(n,t,i){this.setWidth(n,i);this.setHeight(t,i)},translateProps:{x:"left",y:"top"},undo:function(n){var i=this,r,u,t;if(i.revertProps(i.lastBox),n&&i.wrapsComponent){if(i.childItems)for(t=0,r=i.childItems,u=r.length;t<u;t++)r[t].undo(n);for(t=0,r=i.children,u=r.length;t<u;t++)r[t].undo()}},unsetProp:function(n){var t=this.dirty;delete this.props[n];t&&delete t[n]},writeProps:function(n,t){if(n&&typeof n=="object"){var i=this,l=i.el,u={},f=0,k=i.styleInfo,e,r,a,s=n.width,h=n.height,v=i.target,y,p,o,c,w,b;"displayed"in n&&l.setDisplayed(n.displayed);for(r in n)t&&(i.fireTriggers("domTriggers",r),i.clearBlocks("domBlocks",r),i.flushedProps[r]=1),e=k[r],e&&e.dom&&(u[r]=e.suffix&&(a=parseInt(n[r],10))?a+e.suffix:n[r],++f);("x"in n||"y"in n)&&(v.isComponent?v.setPosition(n.x,n.y):f+=i.addPositionStyles(u,n));i.wrapsComponent&&Ext.isIE9&&((y=s!==undefined&&i.hasOverflowY)||(p=h!==undefined&&i.hasOverflowX))&&(o=i.isAbsolute,o===undefined&&(o=!1,b=i.target.getTargetEl(),w=b.getStyle("position"),i.isAbsolute=o=w==="absolute"),o&&(c=Ext.getScrollbarSize(),y&&(s=parseInt(s,10)+c.width,u.width=s+"px",++f),p&&(h=parseInt(h,10)+c.height,u.height=h+"px",++f)));f&&l.setStyle(u)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var n={dom:!0,parseInt:!0,suffix:"px"},i={dom:!0},t={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:t,containerLayoutDone:t,displayed:t,done:t,x:t,y:t,columnsChanged:t,rowHeights:t,viewOverflowY:t,left:n,top:n,right:n,bottom:n,width:n,height:n,"border-top-width":n,"border-right-width":n,"border-bottom-width":n,"border-left-width":n,"margin-top":n,"margin-right":n,"margin-bottom":n,"margin-left":n,"padding-top":n,"padding-right":n,"padding-bottom":n,"padding-left":n,"line-height":i,display:i,clear:i}});Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(n){var t=this;Ext.apply(t,n);t.items={};t.layouts={};t.blockCount=0;t.cycleCount=0;t.flushCount=0;t.calcCount=0;t.animateQueue=t.newQueue();t.completionQueue=t.newQueue();t.finalizeQueue=t.newQueue();t.finishQueue=t.newQueue();t.flushQueue=t.newQueue();t.invalidateData={};t.layoutQueue=t.newQueue();t.invalidQueue=[];t.triggers={data:{},dom:{}}},callLayout:function(n,t){this.currentLayout=n;n[t](this.getCmp(n.owner))},cancelComponent:function(n,t,i){for(var r=this,v=n,y=!n.isComponent,w=y?v.length:1,o,s,f,u,p,h,c,l,a,e=0;e<w;++e){if(y&&(n=v[e]),i&&n.ownerCt&&(a=this.items[n.ownerCt.el.id],a&&Ext.Array.remove(a.childItems,r.getCmp(n))),!t&&(h=r.invalidQueue,s=h.length,s))for(r.invalidQueue=p=[],o=0;o<s;++o)c=h[o],l=c.item.target,l===n||l.up(n)||p.push(c);u=n.componentLayout;r.cancelLayout(u);u.getLayoutItems&&(f=u.getLayoutItems(),f.length&&r.cancelComponent(f,!0));n.isContainer&&!n.collapsed&&(u=n.layout,r.cancelLayout(u),f=u.getVisibleItems(),f.length&&r.cancelComponent(f,!0))}},cancelLayout:function(n){var t=this;t.completionQueue.remove(n);t.finalizeQueue.remove(n);t.finishQueue.remove(n);t.layoutQueue.remove(n);n.running&&t.layoutDone(n);n.ownerContext=null},clearTriggers:function(n,t){for(var o=n.id,i=this.triggers[t?"dom":"data"],u=i&&i[o],s=u&&u.length||0,f,e,r=0;r<s;++r)e=u[r],f=e.item,i=t?f.domTriggers:f.triggers,delete i[e.prop][o]},flush:function(){var t=this,i=t.flushQueue.clear(),r=i.length,n;if(r)for(++t.flushCount,n=0;n<r;++n)i[n].flush()},flushAnimations:function(){var r=this,t=r.animateQueue.clear(),i=t.length,n;if(i){for(n=0;n<i;n++)t[n].target.animate!==!1&&t[n].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var n=this,r=n.invalidQueue,e=r&&r.length,t,u,f,i;if(n.invalidQueue=[],e){for(u=[],i=0;i<e;++i)t=(f=r[i]).item.target,t.container.isDetachedBody||(u.push(t),f.options&&(n.invalidateData[t.id]=f.options));n.invalidate(u,null)}},flushLayouts:function(n,t,i){var r=this,e=i?r[n].items:r[n].clear(),o=e.length,u,f;if(o){for(u=0;u<o;++u)f=e[u],f.running||r.callLayout(f,t);r.currentLayout=null}},getCmp:function(n){return this.getItem(n,n.el)},getEl:function(n,t){var i=this.getItem(t,t);return i.parent||(i.parent=n,n.children.length?n.children.push(i):n.children=[i]),i},getItem:function(n,t){var i=t.id,r=this.items;return r[i]||(r[i]=new Ext.layout.ContextItem({context:this,target:n,el:t}))},handleFailure:function(){var n=this.layouts,t,i;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(i in n)t=n[i],n.hasOwnProperty(i)&&(t.running=!1,t.ownerContext=null)},invalidate:function(n,t){for(var u=this,p=!n.isComponent,a,h,v,f,i,o,e,r,s,y,l,c=0,w=p?n.length:1;c<w;++c)if(f=p?n[c]:n,f.rendered&&!f.hidden){if(h=f.ownerLayout,e=f.componentLayout,v=!e.ownerContext,l=!1,h&&h.needsItemSize||!f.liquidLayout||(l=!0),(!l||h&&h.setsItemSize)&&(i=u.getCmp(f),r=f.isContainer&&!f.collapsed?f.layout:null,s=u.invalidateData[i.id],delete u.invalidateData[i.id],y=i.init(t,s)),l)continue;s&&u.processInvalidate(s,i,"before");e.beforeLayoutCycle&&e.beforeLayoutCycle(i);r&&r.beforeLayoutCycle&&r.beforeLayoutCycle(i);y=i.initContinue(y);a=!0;e.getLayoutItems&&(e.renderChildren(),o=e.getLayoutItems(),o.length&&u.invalidate(o,!0));r&&(a=!1,r.renderChildren(),(r.needsItemSize||r.activeItemCount)&&(o=r.getVisibleItems(),o.length&&u.invalidate(o,!0)));i.initDone(a);u.resetLayout(e,i,v);r&&u.resetLayout(r,i,v);i.initAnimation();s&&u.processInvalidate(s,i,"after")}u.currentLayout=null},isDescendant:function(n,t){if(n.isContainer)for(var i=t.ownerCt;i;i=i.ownerCt)if(i===n)return!0;return!1},layoutDone:function(n){var t=n.ownerContext;n.running=!1;n.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0);--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(n,t,i){if(n[i]){var r=this,u=r.currentLayout;r.currentLayout=n.layout||null;n[i](t,n);r.currentLayout=u}},queueAnimation:function(n){this.animateQueue.add(n)},queueCompletion:function(n){this.completionQueue.add(n)},queueFinalize:function(n){this.finalizeQueue.add(n)},queueFlush:function(n){this.flushQueue.add(n)},chainFns:function(n,t,i){var r=this,f=n.layout,e=t.layout,u=n[i],o=t[i];return function(i){var s=r.currentLayout;u&&(r.currentLayout=f,u.call(n.scope||n,i,n));r.currentLayout=e;o.call(t.scope||t,i,t);r.currentLayout=s}},purgeInvalidates:function(){for(var o=this,n=[],s=o.invalidQueue,c=s.length,i,h,r,u,f,e,t=0;t<c;++t){for(u=s[t],f=u.item.target,e=!0,i=n.length;i--;){if(h=n[i],r=h.item.target,f.isLayoutChild(r)){e=!1;break}r.isLayoutChild(f)&&Ext.Array.erase(n,i,1)}e&&n.push(u)}o.invalidQueue=n},queueInvalidate:function(n,t){var u=this,o=[],s=u.invalidQueue,h=s.length,r,f,e,i,c;for(n.isComponent?n=u.getCmp(r=n):r=n.target,n.invalid=!0;h--;){if(f=s[h],e=f.item.target,!r.isFloating&&r.up(e))return;if(e===r){(i=f.options)?t&&(t.widthModel&&(i.widthModel=t.widthModel),t.heightModel&&(i.heightModel=t.heightModel),(c=i.state)?t.state&&Ext.apply(c,t.state):i.state=t.state,t.before&&(i.before=u.chainFns(i,t,"before")),t.after&&(i.after=u.chainFns(i,t,"after"))):f.options=t;return}e.isLayoutChild(r)||o.push(f)}o.push({item:n,options:t});u.invalidQueue=o},queueItemLayouts:function(n){var i=n.isComponent?n:n.target,t=i.componentLayout;t.pending||t.invalid||t.done||this.queueLayout(t);t=i.layout;!t||t.pending||t.invalid||t.done||i.collapsed||this.queueLayout(t)},queueLayout:function(n){this.layoutQueue.add(n);n.pending=!0},removeEl:function(n,t){var i=t.id,r=n.children,u=this.items;r&&Ext.Array.remove(r,u[i]);delete u[i]},resetLayout:function(n,t,i){var r=this;r.currentLayout=n;n.done=!1;n.pending=!0;n.firedTriggers=0;r.layoutQueue.add(n);i?(r.layouts[n.id]=n,n.running=!0,n.finishedLayout&&r.finishQueue.add(n),++r.remainingLayouts,++n.layoutCount,n.ownerContext=t,n.beginCount=0,n.blockCount=0,n.calcCount=0,n.triggerCount=0,n.initialized||n.initLayout(),n.beginLayout(t)):(++n.beginCount,n.running||(++r.remainingLayouts,n.running=!0,n.isComponentLayout&&t.unsetProp("done"),r.completionQueue.remove(n),r.finalizeQueue.remove(n)));n.beginLayoutCycle(t,i)},run:function(){var n=this,t=!1,i=n.cycleWatchDog;for(n.purgeInvalidates(),n.flushInvalidates(),n.state=1,n.totalCount=n.layoutQueue.getCount(),n.flush();(n.remainingLayouts||n.invalidQueue.length)&&i--;){if(n.invalidQueue.length&&n.flushInvalidates(),n.runCycle())t=!1;else if(t){if(!n.invalidQueue.length){n.state=2;break}}else n.flush(),t=!0,n.flushLayouts("completionQueue","completeLayout");n.remainingLayouts||n.invalidQueue.length||(n.flush(),n.flushLayouts("completionQueue","completeLayout"),n.flushLayouts("finalizeQueue","finalizeLayout"))}return n.runComplete()},runComplete:function(){var n=this;return(n.state=2,n.remainingLayouts)?(n.handleFailure(),!1):(n.flush(),n.flushLayouts("finishQueue","finishedLayout",!0),n.flushLayouts("finishQueue","notifyOwner"),n.flush(),n.flushAnimations(),!0)},runCycle:function(){var n=this,i=n.layoutQueue.clear(),r=i.length,t;for(++n.cycleCount,n.progressCount=0,t=0;t<r;++t)n.runLayout(n.currentLayout=i[t]);return n.currentLayout=null,n.progressCount>0},runLayout:function(n){var t=this,i=t.getCmp(n.owner);(n.pending=!1,i.state.blocks)||(n.done=!0,++n.calcCount,++t.calcCount,n.calculate(i),n.done?(t.layoutDone(n),n.completeLayout&&t.queueCompletion(n),n.finalizeLayout&&t.queueFinalize(n)):n.pending||n.invalid||n.blockCount+n.triggerCount-n.firedTriggers||t.queueLayout(n))},setItemSize:function(n,t,i){var r=n,u=1,e,f;for(n.isComposite?(r=n.elements,u=r.length,n=r[0]):n.dom||n.el||(u=r.length,n=r[0]),f=0;f<u;)e=this.get(n),e.setSize(t,i),n=r[++f]}},1,0,0,0,0,0,[Ext.layout,"Context"],0);Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(n){n.target.collapsed&&(n.heightModel=this.sizeModels.shrinkWrap)},beginLayout:function(n){var t=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,n);t&&(n.legendContext=n.context.getCmp(t))},beginLayoutCycle:function(n){var t=n.target,i;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);t.collapsed&&(n.setContentHeight(0),n.restoreMinHeight=t.minHeight,delete t.minHeight,n.widthModel.shrinkWrap&&(i=this.lastComponentSize,n.setContentWidth(i&&i.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(n){var i=this.owner,t=n.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments);t&&(i.minHeight=t)},calculateOwnerWidthFromContentWidth:function(n,t){var i=n.legendContext;return i&&(t=Math.max(t,i.getProp("width"))),Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,n,t)},calculateOwnerHeightFromContentHeight:function(n){var t=n.getBorderInfo(),i=n.legendContext;return n.getProp("contentHeight")+n.getPaddingInfo().height+(Ext.isIE8?n.bodyContext.getPaddingInfo().top:0)+(i?i.getProp("height"):t.top)+t.bottom},publishInnerHeight:function(n,t){var r=n.legendContext,i=0;r&&(i=r.getProp("height"));i===undefined?this.done=!1:Ext.layout.component.Body.prototype.publishInnerHeight.call(this,n,t-i)},getLayoutItems:function(){var n=this.owner.legend;return n?[n]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0);Ext.cmd.derive("Ext.layout.container.Absolute",Ext.layout.container.Anchor,{alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:"x-abs-layout-ct",itemCls:"x-abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(n,t){var i=this.targetPadding,r=t.getStyle("left");return n-r+i.left},adjustHeightAnchor:function(n,t){var i=this.targetPadding,r=t.getStyle("top");return n-r+i.top},isItemLayoutRoot:function(){return this.ignoreOnContentChange||Ext.layout.container.Anchor.prototype.isItemLayoutRoot.apply(this,arguments)},isItemShrinkWrap:function(){return!0},beginLayout:function(n){var t=this,i=t.getTarget();Ext.layout.container.Anchor.prototype.beginLayout.apply(this,arguments);i.dom!==document.body&&i.position();t.targetPadding=n.targetContext.getPaddingInfo()},isItemBoxParent:function(){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:Ext.layout.container.Anchor.prototype.onContentChange.apply(this,arguments)},calculateContentSize:function(n,t){var s=this,p=(t||0)|(n.widthModel.shrinkWrap?1:0)|(n.heightModel.shrinkWrap?2:0),i=p&1||undefined,r=p&2||undefined,w=n.childItems,k=w.length,f=0,e=0,h=0,b=n.props,c,l,u,a,o,v,y;if(i&&(isNaN(b.contentWidth)?++h:i=undefined),r&&(isNaN(b.contentHeight)?++h:r=undefined),h){for(o=0;o<k;++o)if(u=w[o],l=u.target,a=r&&u.getProp("height"),y=i&&u.getProp("width"),v=u.getMarginInfo(),a+=v.bottom,y+=v.right,f=Math.max(f,(l.y||0)+a),e=Math.max(e,(l.x||0)+y),isNaN(f)&&isNaN(e)){s.done=!1;return}(i||r)&&(c=n.targetContext.getPaddingInfo());i&&!n.setContentWidth(e+c.width)&&(s.done=!1);r&&!n.setContentHeight(f+c.height)&&(s.done=!1)}}},0,0,0,0,["layout.absolute"],0,[Ext.layout.container,"Absolute",Ext.layout,"AbsoluteLayout"],0);Ext.cmd.derive("Ext.layout.container.Accordion",Ext.layout.container.VBox,{type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:"x-accordion-layout-ct",itemCls:["x-box-item","x-accordion-item"],align:"stretch",enableSplitters:!1,fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:undefined,animate:!0,activeOnTop:!1,multi:!1,panelCollapseMode:"header",defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var n=this;Ext.layout.container.VBox.prototype.constructor.apply(this,arguments);n.animate?(n.animatePolicy={},n.animatePolicy[n.names.x]=!0,n.animatePolicy[n.names.width]=!0):n.animatePolicy=null},beforeRenderItems:function(n){for(var i=this,o=n.length,f=i.owner,s=i.collapseFirst,h=Ext.isDefined(s),r=i.getExpanded(!0)[0],e=i.multi,t,u=0;u<o;u++)t=n[u],t.rendered||(e&&t.collapsible===!1||(t.collapsible=!0),t.collapsible&&(h&&(t.collapseFirst=s),i.hideCollapseTool?(t.hideCollapseTool=i.hideCollapseTool,t.titleCollapse=!0):i.titleCollapse&&t.titleCollapse===undefined&&(t.titleCollapse=i.titleCollapse)),t.hideHeader=t.width=null,t.title=t.title||"&#160;",t.addBodyCls("x-accordion-body"),e||(r?t.collapsed=r!==t:t.hasOwnProperty("collapsed")&&t.collapsed===!1?r=t:t.collapsed=!0,f.mon(t,"show",i.onComponentShow,i)),t.headerOverCls="x-accordion-hd-over");i.processing||e||(r?i.activeOnTop&&(r.collapsed=!1,i.configureItem(r),f.items.indexOf(r)>0&&f.insert(0,r)):o&&(n[0].collapsed=!1))},getItemsRenderTree:function(n){return this.beforeRenderItems(n),Ext.layout.container.VBox.prototype.getItemsRenderTree.apply(this,arguments)},renderItems:function(n){this.beforeRenderItems(n);Ext.layout.container.VBox.prototype.renderItems.apply(this,arguments)},configureItem:function(n){Ext.layout.container.VBox.prototype.configureItem.apply(this,arguments);n.ignoreHeaderBorderManagement=!0;n.animCollapse=!1;this.fill&&(n.flex=1)},beginLayout:function(n){Ext.layout.container.VBox.prototype.beginLayout.apply(this,arguments);this.updatePanelClasses(n)},updatePanelClasses:function(n){for(var u=n.visibleItems,f=u.length,e=!0,r,t,i=0;i<f;i++)r=u[i],t=r.header,t.addCls("x-accordion-hd"),e?t.removeCls("x-accordion-hd-sibling-expanded"):t.addCls("x-accordion-hd-sibling-expanded"),i+1===f&&r.collapsed?t.addCls("x-accordion-hd-last-collapsed"):t.removeCls("x-accordion-hd-last-collapsed"),e=r.collapsed},onBeforeComponentExpand:function(n){var t=this,r=t.owner,f=t.multi,o=!f&&!t.animate&&t.activeOnTop,i,e,u;t.processing||(t.processing=!0,e=r.deferLayouts,r.deferLayouts=!0,f||(i=t.getExpanded()[0],i&&i!==n&&(u=i.$layoutAnim,u&&u.jumpToEnd(),i.collapse())),o&&(Ext.suspendLayouts(),r.insert(0,n),Ext.resumeLayouts()),r.deferLayouts=e,t.processing=!1)},onBeforeComponentCollapse:function(n){var t=this,r=t.owner,i,u,f;if(t.owner.items.getCount()===1)return!1;t.processing||(t.processing=!0,f=r.deferLayouts,r.deferLayouts=!0,i=n.next()||n.prev(),t.multi?(u=t.getExpanded(),u.length===1&&i.expand()):i&&i.expand(),r.deferLayouts=f,t.processing=!1)},onComponentShow:function(n){this.onBeforeComponentExpand(n)},onAdd:function(n){var t=this;Ext.layout.container.VBox.prototype.onAdd.apply(this,arguments);n.collapseMode==="placeholder"&&(n.collapseMode=t.panelCollapseMode);n.collapseDirection=n.headerPosition;t.layoutCount&&!t.multi&&t.owner.items.getCount()>1&&(t.processing=!0,n.collapse(),t.processing=!1)},onRemove:function(n){var t=this,i;Ext.layout.container.VBox.prototype.onRemove.apply(this,arguments);t.owner.destroying||t.multi||n.collapsed||(i=t.owner.items.first(),i&&i.expand())},getExpanded:function(n){for(var r=this.owner.items.items,e=r.length,i=0,u=[],f,t;i<e;++i)t=r[i],t.hidden||(f=n?t.hasOwnProperty("collapsed")&&t.collapsed===!1:!t.collapsed,f&&u.push(t));return u},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn},1,0,0,0,["layout.accordion"],0,[Ext.layout.container,"Accordion",Ext.layout,"AccordionLayout"],0);Ext.cmd.derive("Ext.layout.container.Center",Ext.layout.container.Fit,{alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:"x-center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}<\/div>'],targetElCls:"x-center-target",beginLayout:function(n){var f=this,e=f.percentRe,u,o,i,r,t,s,h;for(Ext.layout.container.Fit.prototype.beginLayout.call(this,n),u=n.childItems,i=0,o=u.length;i<o;++i)r=u[i],t=r.target,s=r.widthModel,h=r.heightModel,e.test(t.width)&&t.getEl().setStyle("width",""),e.test(t.height)&&t.getEl().setStyle("height","");n.targetElContext=n.getEl("targetEl",f)},beginLayoutCycle:function(n,t){var i=this.targetEl;Ext.layout.container.Fit.prototype.beginLayoutCycle.call(this,n,t);i.setStyle("width","");i.setStyle("height","")},getRenderData:function(){var n=Ext.layout.container.Fit.prototype.getRenderData.call(this);return n.targetElCls=this.targetElCls,n},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(n,t){var i=this,r=t||i.owner.getSizeModel(),u=i.percentRe,f=(r.width.shrinkWrap||!u.test(n.width)?0:1)|(r.height.shrinkWrap||!u.test(n.height)?0:2);return i.sizePolicies[f]},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},calculate:function(n){var i=n.targetElContext,t;Ext.layout.container.Fit.prototype.calculate.call(this,n);t=n.state.info;n.widthModel.shrinkWrap&&i.setWidth(t.contentWidth);n.heightModel.shrinkWrap&&i.setHeight(t.contentHeight)},getPos:function(n,t,i){var u=i+"Model",f=n.props[i],r=0;return n[u].calculated||(f+=t.margins[i]),t.ownerContext[u].shrinkWrap||(r=Math.round((t.targetSize[i]-f)/2),isNaN(r)&&(this.done=!1)),Math.max(r,0)},positionItemX:function(n,t){var i=this.getPos(n,t,"width");n.setProp("x",i)},positionItemY:function(n,t){var i=this.getPos(n,t,"height");n.setProp("y",i)},setItemHeight:function(n,t){var i=parseFloat(n.target.height)/100;n.setHeight(Math.round((t.targetSize.height-t.margins.height)*i))},setItemWidth:function(n,t){var i=parseFloat(n.target.width)/100;n.setWidth(Math.round((t.targetSize.width-t.margins.width)*i))}},0,0,0,0,["layout.center","layout.ux.center"],0,[Ext.layout.container,"Center",Ext.ux.layout,"Center"],0);Ext.cmd.derive("Ext.layout.container.Form",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.FormLayout",type:"form",formWrapCls:"x-form-layout-wrap",formWrapAutoLabelCls:"x-form-layout-auto-label",formWrapSizedLabelCls:"x-form-layout-sized-label",formColGroupCls:"x-form-layout-colgroup",formColumnCls:"x-form-layout-column",formLabelColumnCls:"x-form-layout-label-column",childEls:["formWrap","labelColumn"],beforeBodyTpl:'<div id="{ownerId}-formWrap" data-ref="formWrap" class="{formWrapCls}"<tpl if="itemSpacing"> style="border-spacing:{itemSpacing}px"<\/tpl>><div class="{formColGroupCls}"><div id="{ownerId}-labelColumn" data-ref="labelColumn" class="{formColumnCls} {formLabelColumnCls}"<tpl if="labelWidth"> style="width:{labelWidth}"<\/tpl>><\/div><div class="{formColumnCls}"><\/div><\/div>',afterBodyTpl:"<\/div>",getRenderData:function(){var n=this,i=n.labelWidth,r=n.formWrapCls,t=Ext.layout.container.Auto.prototype.getRenderData.call(this);return i?(typeof i=="number"&&(i+="px"),t.labelWidth=i,r+=" "+n.formWrapSizedLabelCls):r+=" "+n.formWrapAutoLabelCls,t.formWrapCls=r,t.formColGroupCls=n.formColGroupCls,t.formColumnCls=n.formColumnCls,t.formLabelColumnCls=n.formLabelColumnCls,t},getRenderTarget:function(){return this.formWrap}},0,0,0,0,["layout.form"],0,[Ext.layout.container,"Form",Ext.layout,"FormLayout"],0);Ext.cmd.derive("Ext.layout.container.SegmentedButton",Ext.layout.container.Container,{needsItemSize:!1,setsItemSize:!1,_btnRowCls:"x-segmented-button-row",getRenderTree:function(){var i=this,t=Ext.layout.container.Container.prototype.getRenderTree.call(this),n,r;if(i.owner.getVertical())for(n=0,r=t.length;n<r;n++)t[n]={cls:i._btnRowCls,cn:t[n]};return t},getItemLayoutEl:function(n){var t=n.el.dom;return this.owner.getVertical()?t.parentNode:t},onDestroy:function(){if(this.rendered)for(var t=this.getRenderTarget(),n;n=t.last();)n.destroy()}},0,0,0,0,["layout.segmentedbutton"],0,[Ext.layout.container,"SegmentedButton"],0);Ext.cmd.derive("Ext.menu.ColorPicker",Ext.menu.Menu,{hideOnClick:!0,pickerId:null,initComponent:function(){var n=this,t=Ext.apply({},n.initialConfig);if(delete t.listeners,Ext.apply(n,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:"x-menu-color-item",margin:0,id:n.pickerId,xtype:"colorpicker"},t)}),Ext.menu.Menu.prototype.initComponent.apply(this,arguments),n.picker=n.down("colorpicker"),n.relayEvents(n.picker,["select"]),n.hideOnClick)n.on("select",n.hidePickerOnSelect,n)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["colormenu"],["component","box","container","panel","menu","colormenu"],{component:!0,box:!0,container:!0,panel:!0,menu:!0,colormenu:!0},["widget.colormenu"],0,[Ext.menu,"ColorPicker"],0);Ext.cmd.derive("Ext.menu.DatePicker",Ext.menu.Menu,{ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:!0,pickerId:null,initComponent:function(){var n=this,t=Ext.apply({},n.initialConfig);if(delete t.listeners,Ext.apply(n,{showSeparator:!1,plain:!0,bodyPadding:0,items:Ext.applyIf({cls:"x-menu-date-item",margin:0,border:!1,id:n.pickerId,xtype:"datepicker"},t)}),Ext.menu.Menu.prototype.initComponent.apply(this,arguments),n.picker=n.down("datepicker"),n.relayEvents(n.picker,["select"]),n.hideOnClick)n.on("select",n.hidePickerOnSelect,n)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["datemenu"],["component","box","container","panel","menu","datemenu"],{component:!0,box:!0,container:!0,panel:!0,menu:!0,datemenu:!0},["widget.datemenu"],0,[Ext.menu,"DatePicker"],0);Ext.cmd.derive("Ext.panel.Pinnable",Ext.Mixin,{mixinId:"pinnable",pinnable:!0,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var n=this,t=n.isPinned();n.addTool(n.pinTool=Ext.widget({xtype:"tool",type:t?"unpin":"pin",callback:"togglePin",scope:n,tooltip:t?n.pinnedTip:n.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(n){var t=this,i;n!==t.isPinned()&&(i=[t,n],t.fireEventArgs("beforepinchange",i)!==!1&&(t.updatePinned(n),t.fireEventArgs("pinchange",i)))},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(n){var t=this,i=t.pinTool;i.setTooltip(n?t.pinnedTip:t.unpinnedTip);i.setType(n?"unpin":"pin")}},0,0,0,0,0,0,[Ext.panel,"Pinnable"],0);Ext.cmd.derive("Ext.plugin.Manager",Ext.Base,{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(n,t,i){var r,u;return n.init?r=n:(i?(n=Ext.apply({},n),n.cmp=i):i=n.cmp,n.xclass?r=Ext.create(n):(u="plugin."+(n.ptype||t),r=Ext.ClassManager.instantiateByAlias(u,n))),r&&i&&r.setCmp&&!r.setCmpCalled&&(r.setCmp(i),r.setCmpCalled=!0),r}},0,0,0,0,0,0,[Ext.plugin,"Manager",Ext,"PluginManager",Ext,"PluginMgr"],0);Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var f=this,r=f.splitter,c=r.collapseTarget,v=r.defaultSplitMin,l=r.vertical?"Width":"Height",y="min"+l,p="max"+l,tt="get"+l,w=r.neighbors,it=w.length,i=c.el.getBox(),b=i.x,k=i.y,d=i.right,g=i.bottom,t=r.vertical?d-b:g-k,e,o,s,u,n,h,a,nt;for(u=(c[y]||Math.min(t,v))-t,n=c[p],n?n-=t:n=1e9,nt=t,e=0;e<it;++e)o=w[e],t=o[tt](),s=o[p],s===null&&(s=undefined),h=t-s,a=t-(o[y]||Math.min(t,v)),isNaN(h)||u<h&&(u=h),n>a&&(n=a);return n-u<2?null:(i=new Ext.util.Region(k,d,g,b),f.constraintAdjusters[f.getCollapseDirection()](i,u,n,r),f.dragInfo={minRange:u,maxRange:n,targetSize:nt},i)},constraintAdjusters:{left:function(n,t,i,r){n[0]=n.x=n.left=n.right+t;n.right+=i+r.getWidth()},top:function(n,t,i,r){n[1]=n.y=n.top=n.bottom+t;n.bottom+=i+r.getHeight()},bottom:function(n,t,i,r){n.bottom=n.top-t;n.top-=i+r.getHeight()},right:function(n,t,i,r){n.right=n.left-t;n[0]=n.x=n.left=n.x-i+r.getWidth()}},onBeforeStart:function(){var t=this,r=t.splitter,u=r.collapseTarget,f=r.neighbors,e=f.length,n,i;if(u.collapsed)return!1;for(n=0;n<e;++n)if(i=f[n],i.collapsed&&i.isHorz===u.isHorz)return!1;return(t.constrainTo=t.calculateConstrainRegion())?!0:!1},performResize:function(n,t){var u=this,r=u.splitter,e=r.getCollapseDirection(),h=r.collapseTarget,o=u.splitAdjusters[r.vertical?"horz":"vert"],i=t[o.index],f=u.dragInfo,s;(e==="right"||e==="bottom")&&(i=-i);i=Math.min(Math.max(f.minRange,i),f.maxRange);i&&((s=r.ownerCt).suspendLayouts(),o.adjustTarget(h,f.targetSize,i),s.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(n,t,i){n.flex=null;n.setSize(t+i)}},vert:{index:1,adjustTarget:function(n,t,i){n.flex=null;n.setSize(undefined,t+i)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0);Ext.cmd.derive("Ext.resizer.Handle",Ext.Component,{handleCls:"",baseHandleCls:"x-resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){var n=this;Ext.Component.prototype.beforeRender.call(this);n.protoEl.unselectable();n.addCls(n.baseHandleCls,n.baseHandleCls+"-"+n.region,n.handleCls)}},0,0,["component","box"],{component:!0,box:!0},0,0,[Ext.resizer,"Handle"],0);Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:"x-resizable-proxy",constructor:function(n){var t=this,i,r,u;n.el||(t.el=n.target.isComponent?n.target.getEl():n.target);Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);t.preserveRatio&&t.minWidth&&t.minHeight&&(i=t.minWidth/t.el.getWidth(),r=t.minHeight/t.el.getHeight(),r>i?t.minWidth=t.el.getWidth()*r:t.minHeight=t.el.getHeight()*i);t.throttle&&(u=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(t,arguments)},t.throttle),t.resize=function(n,i,r){r?Ext.resizer.ResizeTracker.prototype.resize.apply(t,arguments):u.apply(null,arguments)})},onBeforeStart:function(){this.startBox=this.target.getBox()},getProxy:function(){var n=this;return n.dynamic||n.proxy||(n.proxy=n.createProxy(n.target||n.el),n.hideProxy=!0),n.proxy?(n.proxy.show(),n.proxy):void 0},createProxy:function(n){var t,i=this.proxyCls;return t=n.isComponent?n.getProxy().addCls(i):n.createProxy({tag:"div",role:"presentation",cls:i,id:n.id+"-rzproxy"},Ext.getBody()),t.removeCls("x-proxy-el"),t},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id);this.dynamic||this.resize(this.startBox)},onDrag:function(n){(this.dynamic||this.proxy)&&this.updateDimensions(n)},updateDimensions:function(n,t){var r=this,h=r.activeResizeHandle.region,f=r.getOffset(r.constrainTo?"dragTarget":null),u=r.startBox,p,e=0,o=0,c,l,v=0,y=0,k,a,s,i,w,b;h=r.convertRegionName(h);switch(h){case"south":o=f[1];s=2;break;case"north":o=-f[1];y=-o;s=2;break;case"east":e=f[0];s=1;break;case"west":e=-f[0];v=-e;s=1;break;case"northeast":o=-f[1];y=-o;e=f[0];a=[u.x,u.y+u.height];s=3;break;case"southeast":o=f[1];e=f[0];a=[u.x,u.y];s=3;break;case"southwest":e=-f[0];v=-e;o=f[1];a=[u.x+u.width,u.y];s=3;break;case"northwest":o=-f[1];y=-o;e=-f[0];v=-e;a=[u.x+u.width,u.y+u.height];s=3}if(i={width:u.width+e,height:u.height+o,x:u.x+v,y:u.y+y},c=Ext.Number.snap(i.width,r.widthIncrement),l=Ext.Number.snap(i.height,r.heightIncrement),c!==i.width||l!==i.height){switch(h){case"northeast":i.y-=l-i.height;break;case"north":i.y-=l-i.height;break;case"southwest":i.x-=c-i.width;break;case"west":i.x-=c-i.width;break;case"northwest":i.x-=c-i.width;i.y-=l-i.height}i.width=c;i.height=l}i.width<r.minWidth||i.width>r.maxWidth?(i.width=Ext.Number.constrain(i.width,r.minWidth,r.maxWidth),v&&(i.x=u.x+(u.width-i.width))):r.lastX=i.x;i.height<r.minHeight||i.height>r.maxHeight?(i.height=Ext.Number.constrain(i.height,r.minHeight,r.maxHeight),y&&(i.y=u.y+(u.height-i.height))):r.lastY=i.y;(r.preserveRatio||n.shiftKey)&&(p=r.startBox.width/r.startBox.height,w=Math.min(Math.max(r.minHeight,i.width/p),r.maxHeight),b=Math.min(Math.max(r.minWidth,i.height*p),r.maxWidth),s===1?i.height=w:s===2?i.width=b:(k=Math.abs(a[0]-this.lastXY[0])/Math.abs(a[1]-this.lastXY[1]),k>p?i.height=w:i.width=b,h==="northeast"?i.y=u.y-(i.height-u.height):h==="northwest"?(i.y=u.y-(i.height-u.height),i.x=u.x-(i.width-u.width)):h==="southwest"&&(i.x=u.x-(i.width-u.width))));r.setPosition=i.x!==r.startBox.x||i.y!==r.startBox.y;r.resize(i,t)},resize:function(n,t){var i=this,r,u=i.setPosition;(i.dynamic||!i.dynamic&&t)&&(u?i.target.setBox(n):i.target.setSize(n.width,n.height));t||(r=i.getProxy(),r&&r!==i.target&&(u||i.hideProxy?r.setBox(n):r.setSize(n.width,n.height)))},onEnd:function(n){this.updateDimensions(n,!0);this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(n){return n}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0);Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:"x-resizable-handle",overCls:"x-resizable-handle-over",pinnedCls:"x-resizable-pinned",wrapCls:"x-resizable-wrap",wrappedCls:"x-resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(n){var t=this,u=t.handles,w=Ext.dom.Element.unselectableCls,o=[],i,h,s,c,y,r,f,l,a,e,p,v;(Ext.isString(n)||Ext.isElement(n)||n.dom)&&(i=n,n=arguments[1]||{},n.target=i);t.mixins.observable.constructor.call(t,n);i=t.target;i?i.isComponent?(i.addClsWithUI("resizable"),i.minWidth&&(t.minWidth=i.minWidth),i.minHeight&&(t.minHeight=i.minHeight),i.maxWidth&&(t.maxWidth=i.maxWidth),i.maxHeight&&(t.maxHeight=i.maxHeight),i.floating&&(t.hasOwnProperty("handles")||(t.handles="n ne e se s sw w nw")),t.el=i.getEl()):i=t.el=t.target=Ext.get(i):i=t.target=t.el=Ext.get(t.el);t.el.addCls(Ext.Component.prototype.borderBoxCls);Ext.isNumber(t.width)&&(t.width=Ext.Number.constrain(t.width,t.minWidth,t.maxWidth));Ext.isNumber(t.height)&&(t.height=Ext.Number.constrain(t.height,t.minHeight,t.maxHeight));(t.width!==null||t.height!==null)&&t.target.setSize(t.width,t.height);c=t.el.dom.tagName.toUpperCase();(c==="TEXTAREA"||c==="IMG"||c==="TABLE")&&(t.originalTarget=t.target,e=i.isComponent?i.getEl():i,t.el.addCls(t.wrappedCls),t.target=t.el=t.el.wrap({role:"presentation",cls:t.wrapCls,id:t.el.id+"-rzwrap",style:e.getStyle(["margin-top","margin-bottom"])}),p=e.getPositioning(),t.el.setPositioning(p),e.clearPositioning(),a=e.getBox(),p.position!=="absolute"&&(a.x=0,a.y=0),t.el.setBox(a),e.setStyle("position","absolute"),t.isTargetWrapped=!0);t.el.position();t.pinned&&t.el.addCls(t.pinnedCls);t.resizeTracker=new Ext.resizer.ResizeTracker({disabled:t.disabled,target:i,el:t.el,constrainTo:t.constrainTo,handleCls:t.handleCls,overCls:t.overCls,throttle:t.throttle,proxy:t.originalTarget?t.el:null,dynamic:t.originalTarget?!0:t.dynamic,originalTarget:t.originalTarget,delegate:"."+t.handleCls,preserveRatio:t.preserveRatio,heightIncrement:t.heightIncrement,widthIncrement:t.widthIncrement,minHeight:t.minHeight,maxHeight:t.maxHeight,minWidth:t.minWidth,maxWidth:t.maxWidth});t.resizeTracker.on({mousedown:t.onBeforeResize,drag:t.onResize,dragend:t.onResizeEnd,scope:t});for(t.handles==="all"&&(t.handles="n s e w ne nw se sw"),u=t.handles=t.handles.split(t.delimiterRe),s=t.possiblePositions,y=u.length,h=t.handleCls+" "+t.handleCls+"-{0}",t.target.isComponent&&(v=t.target.baseCls,h+=" "+v+"-handle "+v+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(h+=" "+v+"-handle-{0}-br")),r=0;r<y;r++)u[r]&&s[u[r]]&&(f=s[u[r]],o.push('<div id="',t.el.id,"-",f,'-handle" class="',Ext.String.format(h,f)," ",w,'" unselectable="on" role="presentation"',"><\/div>"));for(Ext.DomHelper.append(t.el,o.join("")),o.length=0,r=0;r<y;r++)u[r]&&s[u[r]]&&(f=s[u[r]],l=t[f]=t.el.getById(t.el.id+"-"+f+"-handle"),o.push(l),l.region=f,t.transparent&&l.setOpacity(0));t.resizeTracker.handleEls=o},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(n,t){return this.fireResizeEvent("beforeresize",n,t)},onResize:function(n,t){return this.fireResizeEvent("resizedrag",n,t)},onResizeEnd:function(n,t){return this.fireResizeEvent("resize",n,t)},fireResizeEvent:function(n,t,i){var r=this,u;if(r.hasListeners[n])return u=r.el.getBox(),r.fireEvent(n,r,u.width,u.height,i)},resizeTo:function(n,t){var i=this;i.target.setSize(n,t);i.fireEvent("resize",i,n,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var n=this,t,i=n.handles,u=i.length,f=n.possiblePositions,r;for(n.resizeTracker.destroy(),n.isTargetWrapped&&n.target.destroy(),t=0;t<u;t++)(r=n[f[i[t]]])&&r.destroy()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0);Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.DataViewModel,{isCellModel:!0,deselectOnContainerClick:!1,enableKeyNav:!0,preventWrap:!1,bindComponent:function(n){var t=this,i;t.view&&t.gridListeners&&t.gridListeners.destroy();Ext.selection.DataViewModel.prototype.bindComponent.call(this,n);n&&(i=n.grid||n.ownerCt,i.optimizedColumnMove!==!1&&(t.gridListeners=i.on({columnmove:t.onColumnMove,scope:t,destroyable:!0})))},getViewListeners:function(){var n=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);return n.refresh=this.onViewRefresh,n},getHeaderCt:function(){var n=this.navigationModel.getPosition(),t=n?n.view:this.primaryView;return t.headerCt},onNavigate:function(n){n.record&&this.setPosition(n.position)},selectWithEvent:function(n){this.select(n)},select:function(n,t,i){var r=this,u,f=r.getPosition(),e=r.view.store;(n||n===0)&&(n.isModel?(u=e.indexOf(n),n=u!==-1?{row:u,column:f?f.column:0}:null):typeof n=="number"&&(n={row:n,column:0}));n?r.selectByPosition(n,i):r.deselect()},getCurrentPosition:function(){var n=this.selecting?this.nextSelection:this.selection;return n?{view:n.view,record:n.record,row:n.rowIdx,columnHeader:n.column,column:n.view.getColumnManager().indexOf(n.column)}:n},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(n,t,i){return n&&!n.isCellContext&&(n=new Ext.grid.CellContext(this.view).setPosition({row:n.row,column:typeof n.column=="number"?this.view.getColumnManager().getColumns()[n.column]:n.column})),this.setPosition(n,t,i)},setPosition:function(n,t,i){var r=this,u=r.selection;if(n&&(n=n.isCellContext?n.clone():new Ext.grid.CellContext(r.view).setPosition(n)),!i&&u)if(n&&n.record===u.record&&n.column===u.column&&n.view===u.view)n=null;else r.onCellDeselect(r.selection,t);if(n){r.nextSelection=n;r.selecting=!0;r.onCellSelect(r.nextSelection,t);return r.selecting=!1,r.selection=n}},isCellSelected:function(n,t,i){var f=this,u,r=f.getPosition();if(r&&r.view===n)return u=new Ext.grid.CellContext(n).setPosition({row:t,column:typeof i=="number"?n.getColumnManager().getColumns()[i]:i}),u.record===r.record&&u.column===r.column},onStoreRemove:function(n){var i=this,t=i.getPosition();(Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments),t&&n.isMoving(t.record))||(t&&n.getCount()&&n.indexOf(t.record)!==-1?t.setRow(t.record):i.selection=null)},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var t=this,n=t.getPosition();Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments);n?n.setRow(n.record):t.selection=null},onCellClick:function(n,t,i,r,u,f,e){f!==-1&&this.setPosition(e.position)},onCellSelect:function(n,t){n&&n.rowIdx!==undefined&&n.rowIdx>-1&&this.doSelect(n.record,!1,t)},onCellDeselect:function(n,t){n&&n.rowIdx!==undefined&&this.doDeselect(n.record,t)},onSelectChange:function(n,t,i,r){var f=this,u,e,o;if(t?(u=f.nextSelection,e="select"):(u=f.selection,e="deselect"),o=u.view||f.primaryView,(i||f.fireEvent("before"+e,f,n,u.rowIdx,u.colIdx))!==!1&&r()!==!1){if(t)o.onCellSelect(u);else{o.onCellDeselect(u);delete f.selection}i||f.fireEvent(e,f,n,u.rowIdx,u.colIdx)}},onEditorTab:function(n,t){var r=this,f=t.shiftKey?"left":"right",u=n.context,i=u.view.walkCells(u,f,t,r.preventWrap);i&&(n.startEdit(i.record,i.column)?r.wasEditing=!1:(i.view.getNavigationModel().setPosition(i,null,t),r.wasEditing=!0))},refresh:function(){var n=this.getPosition(),t;n&&(t=this.store.indexOf(this.selected.last()))!==-1&&(n.rowIdx=t)},onColumnMove:function(n){var t=n.up("tablepanel");if(t)this.onViewRefresh(t.view)},onUpdate:function(n){var t=this,i;if(t.isSelected(n)){i=t.selecting?t.nextSelection:t.selection;t.view.onCellSelect(i)}},onViewRefresh:function(n){var u=this,i=u.getPosition(),e,r=n.headerCt,f,t;i&&i.view===n&&(f=i.record,t=i.column,t.isDescendantOf(r)||(t=r.queryById(t.id)||r.down('[text="'+t.text+'"]')||r.down('[dataIndex="'+t.dataIndex+'"]')),i.record?t&&n.store.indexOfId(f.getId())!==-1&&(e=new Ext.grid.CellContext(n).setPosition({row:f,column:t}),u.setPosition(e)):u.selection=null)},selectByPosition:function(n,t){this.setPosition(n,t)}},0,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0);Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:undefined,checkSelector:".x-grid-row-checker",allowDeselect:!0,headerWidth:24,checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-grid-cell-row-checker",constructor:function(){var n=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);n.mode==="SINGLE"&&n.showHeaderCheckbox!==!0&&(n.showHeaderCheckbox=!1)},beforeViewRender:function(n){var t=this,i;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);(!t.hasLockedHeader()||n.headerCt.lockedCt)&&(t.addCheckbox(n,!0),i=n.ownerCt,n.headerCt.lockedCt&&(i=i.ownerCt),t.mon(i,"reconfigure",t.onReconfigure,t))},bindComponent:function(){this.sortable=!1;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){for(var t=this.views,i=t.length,n=0;n<i;n++)if(t[n].headerCt.lockedCt)return!0;return!1},addCheckbox:function(n,t){var r=this,i=r.injectCheckbox,u=n.headerCt;i!==!1&&(i==="first"?i=0:i==="last"&&(i=u.getColumnCount()),Ext.suspendLayouts(),n.getStore().isBufferedStore&&(r.showHeaderCheckbox=!1),r.column=u.add(i,r.getHeaderConfig()),Ext.resumeLayouts());t!==!0&&n.refresh()},onReconfigure:function(n,t,i){i&&this.addCheckbox(this.views[0])},toggleUiHeader:function(n){var r=this.views[0],u=r.headerCt,t=u.child("gridcolumn[isCheckerHd]"),i=this.checkerOnCls;t&&(n?t.addCls(i):t.removeCls(i))},onHeaderClick:function(n,t,i){if(t===this.column){i.stopEvent();var r=this,u=t.el.hasCls("x-grid-hd-checker-on");u?r.deselectAll():r.selectAll()}},getHeaderConfig:function(){var n=this,t=n.showHeaderCheckbox!==!1;return{xtype:"gridcolumn",isCheckerHd:t,text:"&#160;",clickTargetName:"el",width:n.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",tdCls:n.tdCls,cls:t?"x-column-header-checkbox ":"",defaultRenderer:n.renderer.bind(n),editRenderer:n.editRenderer||n.renderEmpty,locked:n.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},renderer:function(){return'<div class="x-grid-row-checker" role="presentation">&#160;<\/div>'},selectByPosition:function(n,t){n.isCellContext||(n=new Ext.grid.CellContext(this.view).setPosition(n.row,n.column));this.checkOnly&&n.column===this.column||Ext.selection.RowModel.prototype.selectByPosition.call(this,n,t)},onSelectChange:function(){Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(n){n&&!this.suspendChange&&this.updateHeaderState();Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var n=this,i=n.store,f=i.getCount(),e=n.views,r=!1,o=0,u,s,t;if(!i.isBufferedStore&&f>0){for(u=n.selected,r=!0,t=0,s=u.getCount();t<s;++t){if(i.indexOfId(u.getAt(t).id)===-1)break;++o}r=f===o}e&&e.length&&n.toggleUiHeader(r)},vetoSelection:function(n){var t=this,f=t.column,i,r,u;return t.checkOnly&&(r=n.type==="click"&&n.getTarget(t.checkSelector),u=n.getKey()===n.SPACE&&n.position.column===f,i=!(r||u)),i||Ext.selection.RowModel.prototype.vetoSelection.call(this,n)},destroy:function(){this.column=null;Ext.selection.RowModel.prototype.destroy.call(this)},privates:{onBeforeNavigate:function(n){var t=n.keyEvent;this.selectionMode!=="SINGLE"&&(n.ctrlKey=n.ctrlKey||t.ctrlKey||t.type==="click"&&!t.shiftKey||t.getKey()===t.SPACE)},selectWithEventMulti:function(n,t,i){var r=this;t.shiftKey||t.ctrlKey||!t.getTarget(r.checkSelector)?Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,n,t,i):i?r.doDeselect(n):r.doSelect(n,!0)}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],0);Ext.cmd.derive("Ext.slider.Thumb",Ext.Base,{overCls:"x-slider-thumb-over",constructor:function(n){var t=this;Ext.apply(t,n||{},{cls:"x-slider-thumb",constrain:!1});t.callParent([n])},render:function(){var n=this;n.el=n.slider.innerEl.insertFirst(n.getElConfig());n.onRender()},onRender:function(){this.disabled&&this.disable();this.initEvents()},getElConfig:function(){var t=this,n=t.slider,i={};return i[n.vertical?"bottom":n.horizontalProp]=n.calculateThumbPosition(n.normalizeValue(t.value))+"%",{style:i,id:this.id,cls:this.cls,role:"presentation"}},move:function(n,t){var i=this,u=i.el,s=i.slider,r=s.vertical?"bottom":s.horizontalProp,f,e,o;n+="%";t?(f={},f[r]=n,Ext.supports.GetPositionPercentage||(e={},e[r]=u.dom.style[r]),o={target:u,duration:350,from:e,to:f,scope:i,callback:i.onAnimComplete},t!==!0&&Ext.apply(o,t),i.anim=new Ext.fx.Anim(o)):u.dom.style[r]=n},onAnimComplete:function(){this.anim=null},enable:function(){var n=this.el;this.disabled=!1;n&&n.removeCls(this.slider.disabledCls)},disable:function(){var n=this.el;this.disabled=!0;n&&n.addCls(this.slider.disabledCls)},initEvents:function(){var n=this;n.tracker=new Ext.dd.DragTracker({el:n.el,onBeforeStart:n.onBeforeDragStart.bind(n),onStart:n.onDragStart.bind(n),onDrag:n.onDrag.bind(n),onEnd:n.onDragEnd.bind(n),tolerance:3,autoStart:300});n.el.hover(n.addOverCls,n.removeOverCls,n)},addOverCls:function(){var n=this;n.disabled||n.el.addCls(n.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(){var n=this,t=n.el,i=n.tracker.getXY(),r=n.pointerOffset=t.getXY();return n.disabled?!1:(r[0]+=Math.floor(t.getWidth()/2)-i[0],r[1]+=Math.floor(t.getHeight()/2)-i[1],n.slider.promoteThumb(n),!0)},onDragStart:function(n){var t=this,i=t.slider;i.onDragStart(t,n);t.el.addCls("x-slider-thumb-drag");t.dragging=t.slider.dragging=!0;t.dragStartValue=t.value;i.fireEvent("dragstart",i,n,t)},onDrag:function(n){var i=this,r=i.slider,e=i.index,t=i.getValueFromTracker(),u,f;t!==undefined&&(i.constrain&&(u=r.thumbs[e+1],f=r.thumbs[e-1],f!==undefined&&t<=f.value&&(t=f.value),u!==undefined&&t>=u.value&&(t=u.value)),r.setValue(e,t,!1),r.fireEvent("drag",r,n,i))},getValueFromTracker:function(){var i=this.slider,n=this.tracker.getXY(),t;return n[0]+=this.pointerOffset[0],n[1]+=this.pointerOffset[1],t=i.getTrackpoint(n),t!==undefined?i.reversePixelValue(t):void 0},onDragEnd:function(n){var t=this,i=t.slider,r=t.value;i.onDragEnd(t,n);t.el.removeCls("x-slider-thumb-drag");t.dragging=i.dragging=!1;i.fireEvent("dragend",i,n);t.dragStartValue!==r&&i.fireEvent("changecomplete",i,r,t)},destroy:function(){var n=this,t=this.anim;t&&t.end();n.el=n.tracker=n.anim=Ext.destroy(n.el,n.tracker)}},1,0,0,0,0,0,[Ext.slider,"Thumb"],0);Ext.cmd.derive("Ext.slider.Tip",Ext.tip.Tip,{minWidth:10,offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(n){var t=this,i,r;t.position||(t.position=n.vertical?t.defaultVerticalPosition:t.defaultHorizontalPosition);switch(t.position){case"top":r=[0,-10];i="b-t?";break;case"bottom":r=[0,10];i="t-b?";break;case"left":r=[-10,0];i="r-l?";break;case"right":r=[10,0];i="l-r?"}t.align||(t.align=i);t.offsets||(t.offsets=r);n.on({scope:t,dragstart:t.onSlide,drag:t.onSlide,dragend:t.hide,destroy:t.destroy})},onSlide:function(n,t,i){var r=this;r.show();r.update(r.getText(i));r.el.alignTo(i.el,r.align,r.offsets)},getText:function(n){return String(n.value)}},0,["slidertip"],["component","box","container","panel","tip","slidertip"],{component:!0,box:!0,container:!0,panel:!0,tip:!0,slidertip:!0},["widget.slidertip"],0,[Ext.slider,"Tip"],0);Ext.cmd.derive("Ext.slider.Multi",Ext.form.field.Base,{alternateClassName:"Ext.slider.MultiSlider",focusable:!0,needArrowKeys:!0,tabIndex:0,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl} class="x-slider {fieldCls} {vertical}','{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"<\/tpl>','<tpl if="isVertical"> aria-orientation="vertical"<tpl else> aria-orientation="horizontal"<\/tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="x-slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="x-slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","<\/div>","<\/div>","<\/div>",{renderThumbs:function(n,t){for(var u=t.$comp,i=0,f=u.thumbs,o=f.length,e,r;i<o;i++)e=f[i],r=e.getElConfig(),r.id=u.id+"-thumb-"+i,Ext.DomHelper.generateMarkup(r,n)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,ariaRole:"slider",defaultBindProperty:"values",initValue:function(){var n=this,t=Ext.valueFrom,i=t(n.values,[t(n.value,t(n.minValue,0))]),r=0,u=i.length;for(n.originalValue=i;r<u;r++)n.addThumb(n.normalizeValue(i[r]))},initComponent:function(){var n=this,r,u,t,f,i;if(n.thumbs=[],n.keyIncrement=Math.max(n.increment,n.keyIncrement),n.extraFieldBodyCls="x-slider-ct-"+(n.vertical?"vert":"horz"),Ext.form.field.Base.prototype.initComponent.call(this),n.useTips){for(r=Ext.isObject(n.useTips)?Ext.apply({},n.useTips):n.tipText?{getText:n.tipText}:{},i=n.plugins=n.plugins||[],f=i.length,t=0;t<f;t++)if(i[t].isSliderTip){u=!0;break}u||n.plugins.push(new Ext.slider.Tip(r))}},addThumb:function(n){var t=this,i=new Ext.slider.Thumb({ownerCt:t,value:n,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});return t.thumbs.push(i),t.rendered&&i.render(),i},promoteThumb:function(n){var t=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),u=t.length,r=1e4,i;for(t[0]!==n&&(Ext.Array.remove(t,n),t.unshift(n)),i=0;i<u;i++)t[i].el.setStyle("zIndex",r),r-=1e3},getSubTplData:function(){var n=this;return Ext.apply(Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments),{$comp:n,isVertical:n.vertical,vertical:n.vertical?"x-slider-vert":"x-slider-horz",minValue:n.minValue,maxValue:n.maxValue,value:n.value,tabIdx:n.tabIndex,childElCls:""})},onRender:function(){var t=this,r=t.thumbs,u=r.length,n=0,i;for((arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).apply(this,arguments),n=0;n<u;n++)i=r[n],i.el=t.el.getById(t.id+"-thumb-"+n),i.onRender()},initEvents:function(){var n=this;Ext.form.field.Base.prototype.initEvents.call(this);n.mon(n.el,{scope:n,mousedown:n.onMouseDown,keydown:n.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(n){var t=this,e=t.vertical,r=t.innerEl,i,u,f;return e?(f="top",i=r.getHeight()):(f=t.horizontalProp,i=r.getWidth()),n=t.transformTrackPoints(r.translatePoints(n)),u=Ext.Number.constrain(n[f],0,i),e?i-u:u},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(n){var t=this,i=!1,r=0,f=t.thumbs,e=f.length,u;if(!t.disabled){for(;!i&&r<e;r++)i=i||n.target===f[r].el.dom;if(t.clickToChange&&!i&&(u=t.getTrackpoint(n.getXY()),u!==undefined))t.onClickChange(u);t.focus()}},onClickChange:function(n){var t=this,i,r;i=t.getNearest(n);i.disabled||(r=i.index,t.setValue(r,Ext.util.Format.round(t.reversePixelValue(n),t.decimalPrecision),undefined,!0))},getNearest:function(n){for(var t=this,s=t.reversePixelValue(n),f=t.getRange()+5,e=null,h=t.thumbs,i=0,c=h.length,r,o,u;i<c;i++)r=t.thumbs[i],o=r.value,u=Math.abs(o-s),Math.abs(u)<=f&&(e=r,f=u);return e},onKeyDown:function(n){var t=this,r,i;if(t.disabled||t.thumbs.length!==1){n.preventDefault();return}r=n.getKey();switch(r){case n.UP:case n.RIGHT:n.stopEvent();i=n.ctrlKey?t.maxValue:t.getValue(0)+t.keyIncrement;t.setValue(0,i,undefined,!0);break;case n.DOWN:case n.LEFT:n.stopEvent();i=n.ctrlKey?t.minValue:t.getValue(0)-t.keyIncrement;t.setValue(0,i,undefined,!0)}},normalizeValue:function(n){var t=this,i=t.zeroBasedSnapping?"snap":"snapInRange";return n=Ext.Number[i](n,t.increment,t.minValue,t.maxValue),n=Ext.util.Format.round(n,t.decimalPrecision),Ext.Number.constrain(n,t.minValue,t.maxValue)},setMinValue:function(n){var i=this,r=i.thumbs,f=r.length,u,t;for(i.minValue=n,t=0;t<f;++t)u=r[t],u.value<n&&i.setValue(t,n,!1);i.syncThumbs()},setMaxValue:function(n){var i=this,r=i.thumbs,f=r.length,u,t;for(i.maxValue=n,t=0;t<f;++t)u=r[t],u.value>n&&i.setValue(t,n,!1);i.syncThumbs()},setValue:function(n,t,i,r){var u=this,h=u.thumbs,f,s,e,o;if(Ext.isArray(n)){for(o=n,i=t,e=0,s=o.length;e<s;++e)f=h[e],f&&u.setValue(e,o[e],i);return u}return f=u.thumbs[n],t=u.normalizeValue(t),t!==f.value&&u.fireEvent("beforechange",u,t,f.value,f)!==!1&&(f.value=t,u.rendered&&(i=Ext.isDefined(i)?i===!1?!1:i:u.animate,f.move(u.calculateThumbPosition(t),i),u.fireEvent("change",u,t,f),u.checkDirty(),r&&u.fireEvent("changecomplete",u,t,f))),u},calculateThumbPosition:function(n){var i=this,r=i.minValue,t=(n-r)/i.getRange()*100;return isNaN(t)&&(t=0),t},getRatio:function(){var n=this,t=n.innerEl,i=n.vertical?t.getHeight():t.getWidth(),r=n.getRange();return r===0?i:i/r},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(n){return this.minValue+n/this.getRatio()},reversePercentageValue:function(n){return this.minValue+this.getRange()*(n/100)},onDisable:function(){var n=this,t=0,u=n.thumbs,e=u.length,i,r,f;for(Ext.form.field.Base.prototype.onDisable.call(this);t<e;t++)i=u[t],r=i.el,i.disable(),Ext.isIE&&(f=r.getXY(),r.hide(),n.innerEl.addCls(n.disabledCls).dom.disabled=!0,n.thumbHolder||(n.thumbHolder=n.endEl.createChild({role:"presentation",cls:"x-slider-thumb "+n.disabledCls})),n.thumbHolder.show().setXY(f))},onEnable:function(){var n=this,t=0,r=n.thumbs,f=r.length,i,u;for(Ext.form.field.Base.prototype.onEnable.call(this);t<f;t++)i=r[t],u=i.el,i.enable(),Ext.isIE&&(n.innerEl.removeCls(n.disabledCls).dom.disabled=!1,n.thumbHolder&&n.thumbHolder.hide(),u.show(),n.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var t=this.thumbs,i=t.length,n=0;n<i;n++)t[n].move(this.calculateThumbPosition(t[n].value))},getValue:function(n){return Ext.isNumber(n)?this.thumbs[n].value:this.getValues()},getValues:function(){for(var t=[],n=0,i=this.thumbs,r=i.length;n<r;n++)t.push(i[n].value);return t},getSubmitValue:function(){var n=this;return n.disabled||!n.submitValue?null:n.getValue()},reset:function(){for(var n=this,i=[].concat(n.originalValue),t=0,u=i.length,r;t<u;t++)r=i[t],n.setValue(t,r);n.clearInvalid();delete n.wasValid},setReadOnly:function(n){var r=this,i=r.thumbs,u=i.length,t=0;for(Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments),n=r.readOnly;t<u;++t)n?i[t].disable():i[t].enable()},beforeDestroy:function(){var t=this,i=t.thumbs,n=0,u=i.length,r;if(t.rendered)for(;n<u;n++)r=i[n],Ext.destroy(r);Ext.form.field.Base.prototype.beforeDestroy.call(this)}},0,["multislider"],["component","box","field","multislider"],{component:!0,box:!0,field:!0,multislider:!0},["widget.multislider"],0,[Ext.slider,"Multi",Ext.slider,"MultiSlider"],0);Ext.cmd.derive("Ext.slider.Single",Ext.slider.Multi,{alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],defaultBindProperty:"value",initComponent:function(){this.publishOnComplete&&(this.valuePublishEvent="changecomplete");Ext.slider.Multi.prototype.initComponent.call(this)},publishOnComplete:!0,getValue:function(){return Ext.slider.Multi.prototype.getValue.call(this,0)},setValue:function(){var n=arguments,t=n.length;return(t===1||t<=3&&typeof n[1]!="number")&&(n=Ext.toArray(n),n.unshift(0)),Ext.slider.Multi.prototype.setValue.apply(this,n)},getNearest:function(){return this.thumbs[0]}},0,["slider","sliderfield"],["component","box","field","multislider","slider","sliderfield"],{component:!0,box:!0,field:!0,multislider:!0,slider:!0,sliderfield:!0},["widget.slider","widget.sliderfield"],0,[Ext.slider,"Single",Ext,"Slider",Ext.form,"SliderField",Ext.slider,"SingleSlider",Ext.slider,"Slider"],0);Ext.cmd.derive("Ext.slider.Widget",Ext.Widget,{cachedConfig:{vertical:!1},config:{clickToChange:!0,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:!0,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:"x-slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:"x-slider-end",children:[{reference:"innerEl",cls:"x-slider-inner"}]}]},thumbCls:"x-slider-thumb",horizontalProp:"left",animateOnSetValue:undefined,applyValue:function(n){var i=this,r=i.animateOnSetValue,t,u;if(Ext.isArray(n))for(n=Ext.Array.from(n),t=0,u=n.length;t<u;++t)i.setThumbValue(t,n[t]=i.normalizeValue(n[t]),r,!0);else n=i.normalizeValue(n),i.setThumbValue(0,n,r,!0);return n},updateVertical:function(n,t){this.element.removeCls("x-slider-"+(t?"vert":"horz"));this.element.addCls("x-slider-"+(n?"vert":"horz"))},doSetHeight:function(){Ext.Widget.prototype.doSetHeight.apply(this,arguments);this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(n){n.stopPropagation()},getThumb:function(n){var t=this,i,r=(t.thumbs||(t.thumbs=[]))[n];return r||(i={cls:t.thumbCls,style:{}},i["data-thumbIndex"]=n,r=t.thumbs[n]=t.innerEl.createChild(i)),r},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.rtl&&Ext.rtl?"right":"left"},update:function(){for(var t=this,i=t.getValue(),r=i.length,n=0;n<r;n++)this.thumbs[n].dom.style[t.getThumbPositionStyle()]=t.calculateThumbPosition(i[n])+"%"},onMouseDown:function(n){var t=this,i,r=n.getXY(),u;if(!t.disabled&&n.button===0){Ext.getDoc().on({scope:t,capture:!0,selectstart:t.stopSelect});if(i=n.getTarget("."+t.thumbCls,null,!0),i)t.animateOnSetValue=!1,t.promoteThumb(i),t.captureMouse(t.onMouseMove,t.onMouseUp,[i],1),u=t.pointerOffset=i.getXY(),u[0]+=Math.floor(i.getWidth()/2)-r[0],u[1]+=Math.floor(i.getHeight()/2)-r[1];else if(t.getClickToChange()&&(r=t.getTrackpoint(r),r!=null))t.onClickChange(r)}},onClickChange:function(n){var t=this,u,i,r;u=t.getNearest(n);i=parseInt(u.getAttribute("data-thumbIndex"),10);r=Ext.util.Format.round(t.reversePixelValue(n),t.decimalPrecision);i?t.setThumbValue(i,r,undefined,!0):t.setValue(r)},getNearest:function(n){for(var t=this,h=t.reversePixelValue(n),f=t.getRange()+5,e=null,o=t.thumbs,i=0,c=o.length,r,s,u;i<c;i++)r=o[i],s=t.reversePercentageValue(parseInt(r.dom.style[t.getThumbPositionStyle()],10)),u=Math.abs(s-h),Math.abs(u)<=f&&(e=r,f=u);return e},promoteThumb:function(n){var t=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),u=t.length,r=1e4,i;for(t[0]!==n&&(Ext.Array.remove(t,n),t.unshift(n)),i=0;i<u;i++)t[i].el.setStyle("zIndex",r),r-=1e3},doMouseMove:function(n,t,i){var r=this,u=n.getXY(),f,e,o;u[0]+=r.pointerOffset[0];u[1]+=r.pointerOffset[1];o=r.getTrackpoint(u);o&&(f=r.reversePixelValue(o),e=parseInt(t.getAttribute("data-thumbIndex"),10),e||!i&&r.getPublishOnComplete()?r.setThumbValue(e,f,!1,i):r.setValue(f))},onMouseMove:function(n,t){this.doMouseMove(n,t,!1)},onMouseUp:function(n,t){var i=this;i.doMouseMove(n,t,!0);Ext.getDoc().un({scope:i,capture:!0,selectstart:i.stopSelect});delete i.animateOnSetValue},stopSelect:function(n){return n.stopEvent(),!1},setThumbValue:function(n,t,i,r){var u=this,f,o,h,e,s;if(Ext.isArray(n)){for(s=n,i=t,e=0,h=s.length;e<h;++e)u.setThumbValue(e,s[e],i,r);return u}return f=u.getThumb(n),o=u.reversePercentageValue(parseInt(f.dom.style[u.getThumbPositionStyle()],10)),t=u.normalizeValue(t),t!==o&&u.fireEvent("beforechange",u,t,o,f)!==!1&&u.element.dom&&(u.element.set({"aria-valuenow":t,"aria-valuetext":t}),u.moveThumb(f,u.calculateThumbPosition(t),Ext.isDefined(i)?i!==!1:u.animate),u.fireEvent("change",u,t,f)),u},getValue:function(n){var i=this,t;return Ext.isNumber(n)?(t=i.thumbs[n].dom.style[i.getThumbPositionStyle()],t=i.reversePercentageValue(parseInt(t,10))):(t=i.getValues(),t.length===1&&(t=t[0])),t},getValues:function(){for(var n=this,i=[],t=0,r=n.thumbs,u=r.length;t<u;t++)i.push(n.reversePercentageValue(parseInt(n.thumbs[t].dom.style[n.getThumbPositionStyle()],10)));return i},moveThumb:function(n,t,i){var e=this,r=e.getThumbPositionStyle(),u,f;t+="%";i?(u={},u[r]=t,Ext.supports.GetPositionPercentage||(f={},f[r]=n.dom.style[r]),new Ext.fx.Anim({target:n,duration:350,from:f,to:u})):n.dom.style[r]=t},normalizeValue:function(n){var t=this,i=t.zeroBasedSnapping?"snap":"snapInRange";return n=Ext.Number[i](n,t.increment,t.minValue,t.maxValue),n=Ext.util.Format.round(n,t.decimalPrecision),Ext.Number.constrain(n,t.minValue,t.maxValue)},getTrackpoint:function(n){var i=this,e=i.getVertical(),r=i.innerEl,t,u,f;return e?(f="top",t=r.getHeight()):(f="left",t=r.getWidth()),n=i.transformTrackPoints(r.translatePoints(n)),u=Ext.Number.constrain(n[f],0,t),e?t-u:u},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(n){var i=this,t=(n-i.getMinValue())/i.getRange()*100;return isNaN(t)&&(t=0),t},getRatio:function(){var n=this,t=n.innerEl,i=n.getVertical()?t.getHeight():t.getWidth(),r=n.getRange();return r===0?i:i/r},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(n){return this.getMinValue()+n/this.getRatio()},reversePercentageValue:function(n){return this.getMinValue()+this.getRange()*(n/100)},captureMouse:function(n,t,i,r){var u=this,e,f;n=n&&Ext.Function.bind(n,u,i,r);t=t&&Ext.Function.bind(t,u,i,r);e=function(){Ext.getDoc().un(f);t&&t.apply(u,arguments)};f={mousemove:n,mouseup:e};Ext.getDoc().on(f)}},0,["sliderwidget"],["widget","sliderwidget"],{widget:!0,sliderwidget:!0},["widget.sliderwidget"],0,[Ext.slider,"Widget"],0);Ext.cmd.derive("Ext.sparkline.Shape",Ext.Base,{constructor:function(n,t,i,r){this.target=n;this.id=t;this.type=i;this.args=r},append:function(){return this.target.appendShape(this),this}},1,0,0,0,0,0,[Ext.sparkline,"Shape"],0);Ext.cmd.derive("Ext.sparkline.CanvasBase",Ext.Base,{shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,setWidth:function(n){this.pixelWidth=n},setHeight:function(n){this.pixelHeight=n},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawShape:function(n,t,i,r){return this._genShape("Shape",[n,t,i,r])},drawCircle:function(n,t,i,r,u,f){return this._genShape("Circle",[n,t,i,r,u,f])},drawPieSlice:function(n,t,i,r,u,f,e){return this._genShape("PieSlice",[n,t,i,r,u,f,e])},drawRect:function(n,t,i,r,u,f){return this._genShape("Rect",[n,t,i,r,u,f])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){},_genShape:function(n,t){var i=this.shapeCount++;return t.unshift(i),new Ext.sparkline.Shape(this,i,n,t)},appendShape:function(){},replaceWithShape:function(){},insertAfterShape:function(){},removeShapeId:function(){},getShapeAt:function(){},render:function(){}},0,0,0,0,0,0,[Ext.sparkline,"CanvasBase"],0);Ext.cmd.derive("Ext.sparkline.CanvasCanvas",Ext.sparkline.CanvasBase,{statics:{contextOverrides:function(){var n=window.devicePixelRatio||1;return{moveTo:function(t,i){this.$moveTo(t*n,i*n)},lineTo:function(t,i){this.$lineTo(t*n,i*n)},arc:function(t,i,r,u,f,e){this.$arc(t*n,i*n,r*n,u,f,e)},clearRect:function(t,i,r,u){this.$clearRect(t*n,i*n,r*n,u*n)}}}()},constructor:function(n){this.owner=n},setWidth:function(n){Ext.sparkline.CanvasBase.prototype.setWidth.apply(this,arguments);this.owner.element.dom.width=n*(window.devicePixelRatio||1)},setHeight:function(n){Ext.sparkline.CanvasBase.prototype.setHeight.apply(this,arguments);this.owner.element.dom.height=n*(window.devicePixelRatio||1)},onOwnerUpdate:function(){var n=this;n.el=n.owner.element;n.interact=!n.owner.initialConfig.disableInteraction;n.shapes={};n.shapeseq=[];n.currentTargetShapeId=n.lastShapeId=null},_getContext:function(n,t,i){var r=this.el.dom.getContext("2d"),f=Ext.sparkline.CanvasCanvas.contextOverrides,u;if(!this.context){for(u in f)r["$"+u]=r[u];Ext.apply(r,f);this.context=r}return n!=null&&(r.strokeStyle=n),r.lineWidth=i||1,t!=null&&(r.fillStyle=t),r},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(n,t,i,r,u){var f=this._getContext(i,r,u),e,o;for(f.beginPath(),f.moveTo(t[0][0]+.5,t[0][1]+.5),e=1,o=t.length;e<o;e++)f.lineTo(t[e][0]+.5,t[e][1]+.5);i!=null&&f.stroke();r!=null&&f.fill();this.targetX!=null&&this.targetY!=null&&f.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawCircle:function(n,t,i,r,u,f,e){var o=this._getContext(u,f,e);o.beginPath();o.arc(t,i,r,0,2*Math.PI,!1);this.targetX!=null&&this.targetY!=null&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n);u!==undefined&&o.stroke();f!==undefined&&o.fill()},_drawPieSlice:function(n,t,i,r,u,f,e,o){var s=this._getContext(e,o);s.beginPath();s.moveTo(t,i);s.arc(t,i,r,u,f,!1);s.lineTo(t,i);s.closePath();e!=null&&s.stroke();o&&s.fill();this.targetX!==undefined&&this.targetY!==undefined&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t+r,i],[t+r,i+u],[t,i+u],[t,i]],f,e)},appendShape:function(n){return this.shapes[n.id]=n,this.shapeseq.push(n.id),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var r=this.shapeseq,i;for(this.shapes[t.id]=t,i=r.length;i--;)r[i]==n&&(r[i]=t.id);delete this.shapes[n]},replaceWithShapes:function(n,t){for(var r=this.shapeseq,f={},u,e,i=n.length;i--;)f[n[i]]=!0;for(i=r.length;i--;)u=r[i],f[u]&&(r.splice(i,1),delete this.shapes[u],e=i);for(i=t.length;i--;)r.splice(e,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(n,t){for(var r=this.shapeseq,i=r.length;i--;)if(r[i]===n){r.splice(i+1,0,t.id);this.shapes[t.id]=t;return}},removeShapeId:function(n){for(var i=this.shapeseq,t=i.length;t--;)if(i[t]===n){i.splice(t,1);break}delete this.shapes[n]},getShapeAt:function(n,t){return this.targetX=n,this.targetY=t,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,u=this.shapes,f=i.length,e=this._getContext(),r,t,n;for(e.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<f;n++)r=i[n],t=u[r],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}},1,0,0,0,0,0,[Ext.sparkline,"CanvasCanvas"],0);Ext.cmd.derive("Ext.sparkline.VmlCanvas",Ext.sparkline.CanvasBase,{constructor:function(n){var t=this;t.owner=n;n.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]}},setWidth:function(n){var t=this;Ext.sparkline.CanvasBase.prototype.setWidth.apply(this,arguments);t.owner.groupEl.dom.coordsize=t.width+" "+(t.height||0);t.owner.groupEl.dom.style.width=n+"px"},setHeight:function(n){var t=this;Ext.sparkline.CanvasBase.prototype.setHeight.apply(this,arguments);t.owner.groupEl.dom.coordsize=(t.width||0)+" "+t.height;t.owner.groupEl.dom.style.height=n+"px"},onOwnerUpdate:function(){var n=this;n.group=n.owner.groupEl;n.el=n.owner.element;n.prerender=[]},_drawShape:function(n,t,i,r,u){for(var f=[],o,s,h,c,e=0,l=t.length;e<l;e++)f[e]=t[e][0]+","+t[e][1];return o=f.splice(0,1),u=u==null?1:u,s=i==null?' stroked="false" ':' strokeWeight="'+u+'px" strokeColor="'+i+'" ',h=r==null?' filled="false"':' fillColor="'+r+'" filled="true" ',c=f[0]===f[f.length-1]?"x ":"",['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',n,'" ',s,h,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',o," l ",f.join(", ")," ",c,'e"><\/svml:shape>'].join("")},_drawCircle:function(n,t,i,r,u,f,e){var o=r*2,s,h;return t-=r,i-=r,s=u==null?' stroked="false" ':' strokeWeight="'+e+'px" strokeColor="'+u+'" ',h=f==null?' filled="false"':' fillColor="'+f+'" filled="true" ',['<svml:oval id="jqsshape',n,'" ',s,h,' style="position:absolute;top:',i,"px; left:",t,"px;width:",o,"px;height:",o,'px"><\/svml:oval>'].join("")},_drawPieSlice:function(n,t,i,r,u,f,e,o){var a,v=this.pixelWidth,y=this.pixelHeight,s,h,c,l,p=e==null?' stroked="false" ':' strokeWeight="1px" strokeColor="'+e+'" ',w=o==null?' filled="false"':' fillColor="'+o+'" filled="true" ';if(u===f)return"";if(f-u==2*Math.PI&&(u=0,f=2*Math.PI),s=t+Math.round(Math.cos(u)*r),h=i+Math.round(Math.sin(u)*r),c=t+Math.round(Math.cos(f)*r),l=i+Math.round(Math.sin(f)*r),s===c&&h===l){if(f-u<Math.PI)return"";s=c=t+r;h=l=i}return s===c&&h===l&&f-u<Math.PI?"":(a=[t-r,i-r,t+r,i+r,s,h,c,l],['<svml:shape coordorigin="0 0" coordsize="',v," ",y,'" id="jqsshape',n,'" ',p,w,' style="position:absolute;height:',y,"px;width:",v,'px" path="m ',t,",",i," wa ",a.join(", "),' x e"><\/svml:shape>'].join(""))},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t,i+u],[t+r,i+u],[t+r,i],[t,i]],f,e)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(n){return this.prerender.push(this["_draw"+n.type].apply(this,n.args)),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var i=this.el.getById("jqsshape"+n,!0),r=this["_draw"+t.type].apply(this,t.args);i.outerHTML=r},replaceWithShapes:function(n,t){for(var u=this.el.getById("jqsshape"+n[0],!0),r="",f=t.length,i=0;i<f;i++)r+=this["_draw"+t[i].type].apply(this,t[i].args);for(u.outerHTML=r,i=1;i<n.length;i++)this.el.getById("jqsshape"+n[i]).destroy()},insertAfterShape:function(n,t){var i=this.el.getById("jqsshape"+n,!0),r=this["_draw"+t.type].apply(this,t.args);i.insertAdjacentHTML("afterEnd",r)},removeShapeId:function(n){var t=this.el.getById("jqsshape"+n,!0);this.group.removeChild(t)},getShapeAt:function(){return this.el.id.substr(8)},render:function(){this.group.dom.innerHTML=this.prerender.join("")}},1,0,0,0,0,0,[Ext.sparkline,"VmlCanvas"],function(){Ext.onInternalReady(function(){var n=document;n.namespaces&&!n.namespaces.svml&&n.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")})});Ext.cmd.derive("Ext.sparkline.Base",Ext.Widget,{cachedConfig:{baseCls:"x-sparkline",lineColor:"#157fcc",fillColor:"#def",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:!1,enableHighlight:!0,highlightColor:null,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:!1,disableInteraction:!1,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:"x-sparkline-tip-target",onClassCreated:function(n){var t=n.prototype,r=n.getConfigurator().configs;for(var i in r)i!=="tipTpl"&&(t[Ext.Config.get(i).names.apply]=t.applyConfigChange)}},constructor:function(n){var t=this;t.canvas=Ext.supports.Canvas?new Ext.sparkline.CanvasCanvas(t):new Ext.sparkline.VmlCanvas(t);t.getDisableTooltips()||(t.element.cls=Ext.sparkline.Base.sparkLineTipClass);Ext.apply(t,n);Ext.Widget.prototype.constructor.call(this,n);t.el=t.element},all:function(n,t,i){for(var r=t.length;r--;)if((!i||t[r]!==null)&&t[r]!==n)return!1;return!0},applyConfigChange:function(n){var t=this;return t.redrawQueue[t.getId()]=t,t.redrawTimer||(Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(t.processRedrawQueue)),n},applyTipTpl:function(n){return n.isTemplate||(n=new Ext.XTemplate(n)),n},normalizeValue:function(n){var t;switch(n){case"undefined":n=undefined;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:t=parseFloat(n);n==t&&(n=t)}return n},normalizeValues:function(n){for(var i=[],t=n.length;t--;)i[t]=this.normalizeValue(n[t]);return i},doSetWidth:function(n){var t=this,i=t.element.dom;Ext.Widget.prototype.doSetWidth.apply(this,arguments);t.canvas.setWidth(n);t.width=n;t.height==null?t.setHeight(parseInt(t.measurer.getCachedStyle(i.parentNode,"line-height"),10)):t.redrawQueue[t.getId()]=t},doSetHeight:function(n){var t=this;Ext.Widget.prototype.doSetHeight.apply(this,arguments);t.canvas.setHeight(n);t.height=n;t.redrawQueue[t.getId()]=t},updateValues:function(n){this.values=n},redraw:function(){var n=this,t;n.getValues()&&(t=n.tooltip,t&&t.isVisible()&&n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&(n.tooltip.triggerElement=n.el.dom),n.onUpdate(),n.canvas.onOwnerUpdate(),n.renderGraph())},onUpdate:Ext.emptyFn,renderGraph:function(){var n=!0;return this.disabled&&(this.canvas.reset(),n=!1),n},onMouseEnter:function(n){this.onMouseMove(n)},onMouseMove:function(n){this.currentPageXY=n.getPoint();this.redraw()},onMouseLeave:function(){var n=this;n.currentPageXY=n.targetX=n.targetY=null;n.redraw()},updateDisplay:function(){var n=this,u,i,t,r;n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&(u=n.canvas.el.getXY(),r=n.getRegion(n.currentPageXY[0]-u[0],n.currentPageXY[1]-u[1]),r==null||n.disableHighlight||n.renderHighlight(r),n.fireEvent("sparklineregionchange",n),i=n.tooltip,r!=null&&i&&(t=n.getRegionTooltip(r),t?n.lastTooltipHTML&&t[0]===n.lastTooltipHTML[0]&&t[1]===n.lastTooltipHTML[1]||(i.setTitle(t[0]),i.update(t[1]),n.lastTooltipHTML=t):i.hide()))},getRegion:Ext.emptyFn,getRegionTooltip:function(n){var i=this,c=i.tooltipChartTitle,f=[],l=i.getTipTpl(),t,e,o,s,a,h,v,u,r;if(t=i.getRegionFields(n),h=i.tooltipFormatter,h)return h(i,i,t);if(!l)return"";if(Ext.isArray(t)||(t=[t]),e=i.tooltipFormatFieldlist,o=i.tooltipFormatFieldlistKey,e&&o){for(s=[],u=t.length;u--;)a=t[u][o],(r=Ext.Array.indexOf(a,e))!==-1&&(s[r]=t[u]);t=s}for(v=t.length,r=0;r<v;r++)t[r].isNull&&i.getTooltipSkipNull()||(Ext.apply(t[r],{prefix:i.getTooltipPrefix(),suffix:i.getTooltipSuffix()}),f.push(l.apply(t[r])));return c||f.length?[c,f.join("<br>")]:""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(n){var u=this,f=u.getHighlightColor(),e=u.getHighlightLighten(),i,o,r,t;if(f)return f;if(e&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(n)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(n),i)){for(r=[],o=n.length===4?16:1,t=0;t<3;t++)r[t]=Ext.Number.constrain(Math.round(parseInt(i[t+1],16)*o*e),0,255);return"rgb("+r.join(",")+")"}return n},destroy:function(){delete this.redrawQueue[this.getId()];Ext.Widget.prototype.destroy.call(this)}},1,0,["widget"],{widget:!0},0,0,[Ext.sparkline,"Base"],function(n){var t=n.prototype;Ext.onInternalReady(function(){t.tooltip=new Ext.tip.ToolTip({id:"sparklines-tooltip",target:document.body,delegate:"."+n.sparkLineTipClass,showDelay:0,dismissDelay:0,hideDelay:400})});n.onClassCreated(n);t.processRedrawQueue=function(){var n=t.redrawQueue;for(var i in n)n[i].redraw();t.redrawQueue={};t.redrawTimer=0}});Ext.cmd.derive("Ext.sparkline.BarBase",Ext.sparkline.Base,{renderHighlight:function(n){this.renderRegion(n,!0)},renderGraph:function(){var n=this,e=n.values,o=n.canvas,u=n.regionShapes||(n.regionShapes={}),t,f,i,r;if(Ext.sparkline.Base.prototype.renderGraph.call(this)){for(i=e.length;i--;)if(t=n.renderRegion(i),t)if(Ext.isArray(t)){for(f=[],r=t.length;r--;)t[r].append(),f.push(t[r].id);u[i]=f}else t.append(),u[i]=t.id;else u[i]=null;n.currentPageXY&&(n.currentRegion=null,n.updateDisplay());o.render()}}},0,0,["widget"],{widget:!0},0,0,[Ext.sparkline,"BarBase"],0);Ext.cmd.derive("Ext.sparkline.RangeMap",Ext.Base,{constructor:function(n){var i,t,r=[];for(i in n)n.hasOwnProperty(i)&&typeof i=="string"&&i.indexOf(":")>-1&&(t=i.split(":"),t[0]=t[0].length===0?-Infinity:parseFloat(t[0]),t[1]=t[1].length===0?Infinity:parseFloat(t[1]),t[2]=n[i],r.push(t));this.map=n;this.rangelist=r||!1},get:function(n){var i=this.rangelist,r,t,u;if((u=this.map[n])!==undefined)return u;if(i)for(r=i.length;r--;)if(t=i[r],t[0]<=n&&t[1]>=n)return t[2]}},1,0,0,0,0,0,[Ext.sparkline,"RangeMap"],0);Ext.cmd.derive("Ext.sparkline.Bar",Ext.sparkline.BarBase,{config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:null,nullColor:null,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:!1,colorMap:null,tipTpl:new Ext.XTemplate("&#9679; {prefix}{value}{suffix}")},remove:function(n,t){for(var u=[],i=0,r=n.length;i<r;i++)n[i]!==t&&u.push(n[i]);return u},all:function(n,t,i){for(var r=n.length;r--;)if((!i||n[r]!==null)&&n[r]!==t)return!1;return!0},applyColorMap:function(n){var t=this;return Ext.isArray(n)?(t.colorMapByIndex=n,t.colorMapByValue=null):(t.colorMapByIndex=null,t.colorMapByValue=n,t.colorMapByValue&&t.colorMapByValue.get==null&&(t.colorMapByValue=new Ext.sparkline.RangeMap(n))),n},onUpdate:function(){for(var n=this,r=n.values,ot=n.getBarWidth(),st=n.getBarSpacing(),l=n.getChartRangeMin(),a=n.getChartRangeMax(),v=n.getChartRangeClip(),y=Infinity,h=-Infinity,d,g,nt,p,o,tt,it=n.getZeroAxis(),b,u,f,rt,ut,e,k,c,ht,ct,t,s,lt,ft=[],et=[],i=0,w=r.length;i<w;i++)t=r[i],d=typeof t=="string"&&t.indexOf(":")>-1,(d||Ext.isArray(t))&&(e=!0,d&&(t=r[i]=n.normalizeValues(t.split(":"))),t=n.remove(t,null),g=Math.min.apply(Math,t),nt=Math.max.apply(Math,t),g<y&&(y=g),nt>h&&(h=nt));for(n.stacked=e,n.regionShapes={},n.totalBarWidth=ot+st,n.width=r.length*ot+(r.length-1)*st,v&&(rt=l==null?-Infinity:l,ut=a==null?Infinity:a),o=[],p=e?[]:o,i=0,w=r.length;i<w;i++)if(e)for(k=r[i],r[i]=ct=[],ft[i]=0,p[i]=et[i]=0,c=0,ht=k.length;c<ht;c++)t=ct[c]=v?Ext.Number.constrain(k[c],rt,ut):k[c],t!==null&&(t>0&&(ft[i]+=t),y<0&&h>0?t<0?et[i]+=Math.abs(t):p[i]+=t:p[i]+=Math.abs(t-(t<0?h:y)),o.push(t));else t=v?Ext.Number.constrain(r[i],rt,ut):r[i],t=r[i]=n.normalizeValue(t),t!==null&&o.push(t);n.max=f=Math.max.apply(Math,o);n.min=u=Math.min.apply(Math,o);n.stackMax=h=e?Math.max.apply(Math,ft):f;n.stackMin=y=e?Math.min.apply(Math,o):u;l!=null&&(v||l<u)&&(u=l);a!=null&&(v||a>f)&&(f=a);b=u<=0&&f>=0&&it?0:it?u>0?u:f:u;n.xAxisOffset=b;tt=e?Math.max.apply(Math,p)+Math.max.apply(Math,et):f-u;n.canvasHeightEf=it&&u<0?n.getHeight()-2:n.getHeight()-1;u<b?(lt=e&&f>=0?h:f,s=(lt-b)/tt*n.getHeight(),s!==Math.ceil(s)&&(n.canvasHeightEf-=2,s=Math.ceil(s))):s=n.getHeight();n.yoffset=s;n.range=tt},getRegion:function(n){var t=Math.floor(n/this.totalBarWidth);return t<0||t>=this.values.length?undefined:t},getRegionFields:function(n){for(var r=Ext.Array.from(this.values[n]),u=[],t,i=r.length;i--;)t=r[i],u.push({isNull:t===null,value:t,color:this.calcColor(i,t,n),offset:n});return u},calcColor:function(n,t,i){var u=this,f=u.colorMapByIndex,e=u.colorMapByValue,r,o,s=u.getZeroColor();return r=this.stacked?u.getStackedBarColor():t<0?u.getNegBarColor():u.getBarColor(),t===0&&s!==undefined&&(r=s),e&&(o=e.get(t))?r=o:f&&f.length>i&&(r=f[i]),Ext.isArray(r)?r[n%r.length]:r},renderRegion:function(n,t){var i=this,r=i.values[n],o=i.xAxisOffset,v=i.range,nt=i.stacked,y=i.canvas,p=i.getBarWidth(),w=n*i.totalBarWidth,tt=i.canvasHeightEf,f=i.yoffset,s,h,u,b,l,c,k,e,d,g,a=i.getNullColor();if(r=Ext.isArray(r)?r:[r],k=r.length,e=r[0],b=i.all(r,null),g=i.all(r,o,!0),b){a&&(u=t?a:i.calcHighlightColor(a,i),s=f>0?f-1:f,y.drawRect(w,s,p-1,0,u,u).append());return}for(l=f,c=0;c<k;c++){if(e=r[c],nt&&e===o){if(!g||d)continue;d=!0}h=v>0?Math.floor(tt*(Math.abs(e-o)/v))+1:1;e<o||e===o&&f===0?(s=l,l+=h):(s=f-h,f-=h);u=i.calcColor(c,e,n);t&&(u=i.calcHighlightColor(u,i));y.drawRect(w,s,p-1,h-1,u,u).append()}}},0,["sparklinebar"],["widget","sparklinebar"],{widget:!0,sparklinebar:!0},["widget.sparklinebar"],0,[Ext.sparkline,"Bar"],function(n){n.onClassCreated(n)});Ext.cmd.derive("Ext.sparkline.Box",Ext.sparkline.Base,{config:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null,tipTpl:new Ext.XTemplate("{field:this.fields}: {value}",{fields:function(n){return{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}[n]}}),tooltipFormatFieldlistKey:"field"},quartile:function(n,t){var i;return t===2?(i=Math.floor(n.length/2),n.length%2?n[i]:(n[i-1]+n[i])/2):n.length%2?(i=(n.length*t+t)/4,i%1?(n[Math.floor(i)]+n[Math.floor(i)-1])/2:n[i-1]):(i=(n.length*t+2)/4,i%1?(n[Math.floor(i)]+n[Math.floor(i)-1])/2:n[i-1])},applyValues:function(n){return n=Ext.Array.map(Ext.Array.from(n),Number),this.disabled=!(n&&n.length),n},getRegion:function(){return 1},getRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==undefined&&n.push({field:"lo",value:this.loutlier}),this.routlier!==undefined&&n.push({field:"ro",value:this.routlier}),this.lwhisker!==undefined&&n.push({field:"lw",value:this.lwhisker}),this.rwhisker!==undefined&&n.push({field:"rw",value:this.rwhisker}),n},renderHighlight:Ext.emptyFn,renderGraph:function(){var n=this,e=n.canvas,t=n.values,b=t.length,k=n.getWidth(),i=n.getHeight(),nt=n.getChartRangeMin(),tt=n.getChartRangeMax(),u=nt==null?Math.min.apply(Math,t):nt,it=tt==null?Math.max.apply(Math,t):tt,f=0,o,v,d,h,a,c,s,y,l,p,r,w=n.getSpotRadius(),rt=n.getOutlierLineColor(),ut=n.getOutlierFillColor(),g=n.getShowOutliers(),ft=n.getOutlierIQR(),et=n.getLineColor(),ot=n.getWhiskerColor(),st=n.getTargetColor();if(Ext.sparkline.Base.prototype.renderGraph.call(this)){if(n.raw)g&&t.length>5?(v=t[0],o=t[1],h=t[2],a=t[3],c=t[4],s=t[5],y=t[6]):(o=t[0],h=t[1],a=t[2],c=t[3],s=t[4]);else if(t.sort(function(n,t){return n-t}),h=n.quartile(t,1),a=n.quartile(t,2),c=n.quartile(t,3),d=c-h,g){for(o=s=null,l=0;l<b;l++)o==null&&t[l]>h-d*ft&&(o=t[l]),t[l]<c+d*ft&&(s=t[l]);v=t[0];y=t[b-1]}else o=t[0],s=t[b-1];n.quartiles=[h,a,c];n.lwhisker=o;n.rwhisker=s;n.loutlier=v;n.routlier=y;r=k/(it-u+1);g&&(f=Math.ceil(w),k-=2*Math.ceil(w),r=k/(it-u+1),v<o&&e.drawCircle((v-u)*r+f,i/2,w,rt,ut).append(),y>s&&e.drawCircle((y-u)*r+f,i/2,w,rt,ut).append());e.drawRect(Math.round((h-u)*r+f),Math.round(i*.1),Math.round((c-h)*r),Math.round(i*.8),n.getBoxLineColor(),n.getBoxFillColor()).append();e.drawLine(Math.round((o-u)*r+f),Math.round(i/2),Math.round((h-u)*r+f),Math.round(i/2),et).append();e.drawLine(Math.round((o-u)*r+f),Math.round(i/4),Math.round((o-u)*r+f),Math.round(i-i/4),ot).append();e.drawLine(Math.round((s-u)*r+f),Math.round(i/2),Math.round((c-u)*r+f),Math.round(i/2),et).append();e.drawLine(Math.round((s-u)*r+f),Math.round(i/4),Math.round((s-u)*r+f),Math.round(i-i/4),ot).append();e.drawLine(Math.round((a-u)*r+f),Math.round(i*.1),Math.round((a-u)*r+f),Math.round(i*.9),n.getMedianColor()).append();n.target&&(p=Math.ceil(n.spotRadius),e.drawLine(Math.round((n.target-u)*r+f),Math.round(i/2-p),Math.round((n.target-u)*r+f),Math.round(i/2+p),st).append(),e.drawLine(Math.round((n.target-u)*r+f-p),Math.round(i/2),Math.round((n.target-u)*r+f+p),Math.round(i/2),st).append());n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&(n.currentRegion=null,n.updateDisplay());e.render()}}},0,["sparklinebox"],["widget","sparklinebox"],{widget:!0,sparklinebox:!0},["widget.sparklinebox"],0,[Ext.sparkline,"Box"],0);Ext.cmd.derive("Ext.sparkline.Bullet",Ext.sparkline.Base,{config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null,tipTpl:new Ext.XTemplate("{fieldkey:this.fields} - {value}",{fields:function(n){return n==="r"?"Range":n==="p"?"Performance":n==="t"?"Target":void 0}})},applyValues:function(n){return n=Ext.Array.map(Ext.Array.from(n),this.normalizeValue),this.disabled=!(n&&n.length),n},onUpdate:function(){var n=this,r=n.values,i,u,t,f=n.getBase();Ext.sparkline.Base.prototype.onUpdate.apply(this,arguments);t=r.slice();t[0]=t[0]===null?t[2]:t[0];t[1]=r[1]===null?t[2]:t[1];i=Math.min.apply(Math,r);u=Math.max.apply(Math,r);i=f==null?i<0?i:0:f;n.min=i;n.max=u;n.range=u-i;n.shapes={};n.valueShapes={};n.regiondata={};r.length||(n.disabled=!0)},getRegion:function(n,t){var i=this.canvas.getShapeAt(n,t);return i!==undefined&&this.shapes[i]!==undefined?this.shapes[i]:undefined},getRegionFields:function(n){return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},renderHighlight:function(n){switch(n.substr(0,1)){case"r":this.renderRange(n.substr(1),!0).append();break;case"p":this.renderPerformance(!0).append();break;case"t":this.renderTarget(!0).append()}},renderRange:function(n,t){var r=this.values[n],u=Math.round(this.getWidth()*((r-this.min)/this.range)),i=this.getRangeColors()[n-2];return t&&(i=this.calcHighlightColor(i)),this.canvas.drawRect(0,0,u-1,this.getHeight()-1,i,i)},renderPerformance:function(n){var i=this.values[1],r=Math.round(this.getWidth()*((i-this.min)/this.range)),t=this.getPerformanceColor();return n&&(t=this.calcHighlightColor(t)),this.canvas.drawRect(0,Math.round(this.getHeight()*.3),r-1,Math.round(this.getHeight()*.4)-1,t,t)},renderTarget:function(n){var u=this.values[0],i=this.getTargetWidth(),f=Math.round(this.getWidth()*((u-this.min)/this.range)-i/2),r=Math.round(this.getHeight()*.1),e=this.getHeight()-r*2,t=this.getTargetColor();return n&&(t=this.calcHighlightColor(t)),this.canvas.drawRect(f,r,i-1,e-1,t,t)},renderGraph:function(){var n=this,f=n.values.length,e=n.canvas,i,t,r=n.shapes||(n.shapes={}),u=n.valueShapes||(n.valueShapes={});if(Ext.sparkline.Base.prototype.renderGraph.call(this)){for(i=2;i<f;i++)t=n.renderRange(i).append(),r[t.id]="r"+i,u["r"+i]=t.id;n.values[1]!==null&&(t=n.renderPerformance().append(),r[t.id]="p1",u.p1=t.id);n.values[0]!==null&&(t=this.renderTarget().append(),r[t.id]="t0",u.t0=t.id);n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&n.updateDisplay();e.render()}}},0,["sparklinebullet"],["widget","sparklinebullet"],{widget:!0,sparklinebullet:!0},["widget.sparklinebullet"],0,[Ext.sparkline,"Bullet"],0);Ext.cmd.derive("Ext.sparkline.Discrete",Ext.sparkline.BarBase,{config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:!1,tipTpl:new Ext.XTemplate("{prefix}{value}{suffix}")},applyValues:function(n){return n=Ext.Array.map(Ext.Array.from(n),Number),this.disabled=!(n&&n.length),n},onUpdate:function(){var n=this,t=n.values,i=n.getChartRangeMin(),r=n.getChartRangeMax(),u=n.getChartRangeClip();Ext.sparkline.BarBase.prototype.onUpdate.apply(this,arguments);n.regionShapes={};n.min=Math.min.apply(Math,t);n.max=Math.max.apply(Math,t);n.range=n.max-n.min;n.width=n.getWidth();n.interval=Math.floor(n.width/t.length);n.itemWidth=n.width/t.length;i!=null&&(u||i<n.min)&&(n.min=i);r!=null&&(u||r>n.max)&&(n.max=r);n.canvas&&n.getLineHeight()==="auto"&&n.setLineHeight(Math.round(n.getHeight()*.3))},getRegion:function(n){return Math.floor(n/this.itemWidth)},getRegionFields:function(n){return{isNull:this.values[n]===undefined,value:this.values[n],offset:n}},renderRegion:function(n,t){var i=this,l=i.values,o=i.min,a=i.max,v=i.range,y=i.interval,p=i.canvas,w=i.getHeight(),s=i.getLineHeight(),h=w-s,u,f,r,e,c=i.getThresholdColor();f=Ext.Number.constrain(l[n],o,a);e=n*y;u=Math.round(h-h*((f-o)/v));r=c&&f<i.getThresholdValue()?c:i.getLineColor();t&&(r=i.calcHighlightColor(r));p.drawLine(e,u,e,u+s,r).append()}},0,["sparklinediscrete"],["widget","sparklinediscrete"],{widget:!0,sparklinediscrete:!0},["widget.sparklinediscrete"],0,[Ext.sparkline,"Discrete"],0);Ext.cmd.derive("Ext.sparkline.Line",Ext.sparkline.Base,{config:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,tipTpl:new Ext.XTemplate("&#9679; {prefix}{y}{suffix}"),valueSpots:null},applyValueSpots:function(n){return n&&!n.get&&(n=new Ext.sparkline.RangeMap(n)),n},onUpdate:function(){this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[]},getRegion:function(n){for(var i=this.regionMap,t=i.length;t--;)if(i[t]!==null&&n>=i[t][0]&&n<=i[t][1])return i[t][2];return undefined},getRegionFields:function(n){return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.getLineColor(),fillColor:this.getFillColor(),offset:n}},renderHighlight:function(n){var t=this,r=t.canvas,i=t.vertices[n],u=t.getSpotRadius(),f=t.getHighlightSpotColor(),e=t.getHighlightLineColor();i&&(u&&f&&r.drawCircle(i[0],i[1],u,null,f).append(),e&&r.drawLine(i[0],t.canvasTop,i[0],t.canvasTop+t.getHeight(),e).append())},scanValues:function(){for(var n=this,i=n.values,c=i.length,r=n.xvalues,e=n.yvalues,u=n.yminmax,f,s,h,o,t=0;t<c;t++)f=i[t],s=typeof i[t]=="string",h=typeof i[t]=="object"&&i[t]instanceof Array,o=s&&i[t].split(":"),s&&o.length===2?(r.push(Number(o[0])),e.push(Number(o[1])),u.push(Number(o[1]))):h?(r.push(f[0]),e.push(f[1]),u.push(f[1])):(r.push(t),i[t]===null||i[t]==="null"?e.push(null):(e.push(Number(f)),u.push(Number(f))));n.xvalues&&(r=n.xvalues);n.maxy=n.maxyorg=Math.max.apply(Math,u);n.miny=n.minyorg=Math.min.apply(Math,u);n.maxx=Math.max.apply(Math,r);n.minx=Math.min.apply(Math,r);n.xvalues=r;n.yvalues=e;n.yminmax=u},processRangeOptions:function(){var n=this,t=n.getNormalRangeMin(),e=n.getNormalRangeMax(),i=n.getChartRangeMin(),r=n.getChartRangeMinX(),u=n.getChartRangeMax(),f=n.getChartRangeMaxX();t!=null&&(t<n.miny&&(n.miny=t),e>n.maxy&&(n.maxy=e));i!=null&&(n.chartRangeClip||i<n.miny)&&(n.miny=i);u!=null&&(n.chartRangeClip||u>n.maxy)&&(this.maxy=u);r!=null&&(n.chartRangeClipX||r<n.minx)&&(n.minx=r);f!=null&&(n.chartRangeClipX||f>n.maxx)&&(n.maxx=f)},drawNormalRange:function(n,t,i,r,u){var e=this.getNormalRangeMin(),f=this.getNormalRangeMax(),o=t+Math.round(i-i*((f-this.miny)/u)),s=Math.round(i*(f-e)/u);this.canvas.drawRect(n,o,r,s,undefined,this.normalRangeColor).append()},renderGraph:function(){var n=this,l=n.canvas,e=n.getWidth(),u=n.getHeight(),ct=n.vertices,i=n.getSpotRadius(),pt=n.regionMap,a,h,v,o,s,ot,r,it,p,y,lt,b,at,st,rt,ut,ft,et,w,k=n.getValueSpots(),d,ht,c,f,t,g=n.getSpotColor(),nt=n.getMinSpotColor(),tt=n.getMaxSpotColor(),vt=n.getNormalRangeMin(),yt=n.getDrawNormalOnTop();if(Ext.sparkline.Base.prototype.renderGraph.call(this)&&(n.scanValues(),n.processRangeOptions(),c=n.xvalues,f=n.yvalues,n.yminmax.length&&!(n.yvalues.length<2))){for(o=s=0,a=n.maxx-n.minx==0?1:n.maxx-n.minx,h=n.maxy-n.miny==0?1:n.maxy-n.miny,v=n.yvalues.length-1,i&&(e<i*4||u<i*4)&&(i=0),i&&(d=n.getHighlightSpotColor()&&!n.disableInteraction,(d||nt||g&&f[v]===n.miny)&&(u-=Math.ceil(i)),(d||tt||g&&f[v]===n.maxy)&&(u-=Math.ceil(i),o+=Math.ceil(i)),(d||(nt||tt)&&(f[0]===n.miny||f[0]===n.maxy))&&(s+=Math.ceil(i),e-=Math.ceil(i)),(d||g||nt||tt&&(f[v]===n.miny||f[v]===n.maxy))&&(e-=Math.ceil(i))),u--,vt==null||yt||n.drawNormalRange(s,o,u,e,h),r=[],it=[r],st=rt=null,ut=f.length,t=0;t<ut;t++)p=c[t],lt=c[t+1],y=f[t],b=s+Math.round((p-n.minx)*(e/a)),at=t<ut-1?s+Math.round((lt-n.minx)*(e/a)):e,rt=b+(at-b)/2,pt[t]=[st||0,rt,t],st=rt,y===null?t&&(f[t-1]!==null&&(r=[],it.push(r)),ct.push(null)):(y<n.miny&&(y=n.miny),y>n.maxy&&(y=n.maxy),r.length||r.push([b,o+u]),ot=[b,o+Math.round(u-u*((y-this.miny)/h))],r.push(ot),ct.push(ot));for(ft=[],et=[],w=it.length,t=0;t<w;t++)r=it[t],r.length&&(n.fillColor&&(r.push([r[r.length-1][0],o+u]),et.push(r.slice(0)),r.pop()),r.length>2&&(r[0]=[r[0][0],r[1][1]]),ft.push(r));for(w=et.length,t=0;t<w;t++)l.drawShape(et[t],n.fillColor,n.fillColor).append();for(vt!=null&&yt&&n.drawNormalRange(s,o,u,e,h),w=ft.length,t=0;t<w;t++)l.drawShape(ft[t],n.getLineColor(),null,n.getLineWidth()).append();if(i&&k)for(k.get==null&&(k=new Ext.sparkline.RangeMap(k)),t=0;t<ut;t++)ht=k.get(f[t]),ht&&l.drawCircle(s+Math.round((c[t]-n.minx)*(e/a)),o+Math.round(u-u*((f[t]-n.miny)/h)),i,null,ht).append();i&&g&&f[v]!=null&&l.drawCircle(s+Math.round((c[c.length-1]-n.minx)*(e/a)),o+Math.round(u-u*((f[v]-n.miny)/h)),i,null,g).append();n.maxy!==n.minyorg&&(i&&nt&&(p=c[Ext.Array.indexOf(f,n.minyorg)],l.drawCircle(s+Math.round((p-n.minx)*(e/a)),o+Math.round(u-u*((n.minyorg-n.miny)/h)),i,null,nt).append()),i&&tt&&(p=c[Ext.Array.indexOf(f,n.maxyorg)],l.drawCircle(s+Math.round((p-n.minx)*(e/a)),o+Math.round(u-u*((n.maxyorg-n.miny)/h)),i,null,tt).append()));n.canvasTop=o;n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&n.updateDisplay();l.render()}}},0,["sparklineline"],["widget","sparklineline"],{widget:!0,sparklineline:!0},["widget.sparklineline"],0,[Ext.sparkline,"Line"],0);Ext.cmd.derive("Ext.sparkline.Pie",Ext.sparkline.Base,{config:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tipTpl:new Ext.XTemplate('&#9679; {value} ({percent:number("0.0")}%)')},applyValues:function(n){return n=Ext.Array.map(Ext.Array.from(n),Number),this.disabled=!(n&&n.length),n},onUpdate:function(){var n=this,t=n.values,r=0,i;if(Ext.sparkline.Base.prototype.onUpdate.apply(this,arguments),n.shapes={},n.valueShapes={},t.length>0)for(i=t.length;i--;)r+=t[i];n.total=r;n.radius=Math.floor(Math.min(n.getWidth(),n.getHeight())/2)},getRegion:function(n,t){var r=window.devicePixelRatio||1,i=this.canvas.getShapeAt(n*r,t*r);return i!=null&&this.shapes[i]!=null?this.shapes[i]:null},getRegionFields:function(n){var t=this.getSliceColors();return{isNull:this.values[n]==null,value:this.values[n],percent:this.values[n]/this.total*100,color:t[n%t.length],offset:n}},renderHighlight:function(n){this.renderSlice(n,!0).append()},renderSlice:function(n,t){for(var i=this,y=i.canvas,o=i.radius,p=i.getBorderWidth(),s=i.getOffset(),w=2*Math.PI,h=i.values,c=i.total,u=s?2*Math.PI*(s/360):0,l,f,e,v=this.getSliceColors(),a=h.length,r=0;r<a;r++){if(l=u,f=u,c>0&&(f=u+w*(h[r]/c)),n===r)return e=v[r%v.length],t&&(e=i.calcHighlightColor(e)),y.drawPieSlice(o,o,o-p,l,f,null,e);u=f}},renderGraph:function(){var n=this,f=n.canvas,e=n.values,i=n.radius,r=n.getBorderWidth(),u,t,o=n.shapes||(n.shapes={}),s=n.valueShapes||(n.valueShapes={});if(Ext.sparkline.Base.prototype.renderGraph.call(this)){for(r&&f.drawCircle(i,i,Math.floor(i-r/2),n.getBorderColor(),null,r).append(),t=e.length;t--;)e[t]&&(u=n.renderSlice(t).append(),s[t]=u.id,o[u.id]=t);n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&(n.currentRegion=null,n.updateDisplay());f.render()}}},0,["sparklinepie"],["widget","sparklinepie"],{widget:!0,sparklinepie:!0},["widget.sparklinepie"],0,[Ext.sparkline,"Pie"],0);Ext.cmd.derive("Ext.sparkline.TriState",Ext.sparkline.BarBase,{config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tipTpl:new Ext.XTemplate("&#9679; {value:this.states}",{states:function(n){var t=Number(n);return t===-1?"Loss":t===0?"Draw":t===1?"Win":n}})},applyColorMap:function(n){var t=this;return Ext.isArray(n)?(t.colorMapByIndex=n,t.colorMapByValue=null):(t.colorMapByIndex=null,t.colorMapByValue=n,t.colorMapByValue&&t.colorMapByValue.get==null&&(t.colorMapByValue=new Ext.sparkline.RangeMap(n))),n},applyValues:function(n){return n=Ext.Array.map(Ext.Array.from(n),Number),this.disabled=!(n&&n.length),n},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var n=this.values;return this._barWidth||(this.getWidth()-(n.length-1)*this.getBarSpacing())/n.length},getRegion:function(n){return Math.floor(n/this.totalBarWidth)},getRegionFields:function(n){return{isNull:this.values[n]==null,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(n,t){var i=this,u=i.values,r=i.colorMapByIndex,f=i.colorMapByValue,e;return f&&(e=f.get(n))?e:r&&r.length>t?r[t]:u[t]<0?i.getNegBarColor():u[t]>0?i.getPosBarColor():i.getZeroBarColor()},renderRegion:function(n,t){var i=this,o=i.values,s=i.canvas,h,f,u,c,e,r;(h=s.pixelHeight,u=Math.round(h/2),c=n*i.totalBarWidth,o[n]<0?(e=u,f=u-1):o[n]>0?(e=0,f=u-1):(e=u-1,f=2),r=i.calcColor(o[n],n),r!=null)&&(t&&(r=i.calcHighlightColor(r)),s.drawRect(c,e,i.getBarWidth()-1,f-1,r,r).append())}},0,["sparklinetristate"],["widget","sparklinetristate"],{widget:!0,sparklinetristate:!0},["widget.sparklinetristate"],0,[Ext.sparkline,"TriState"],0);Ext.cmd.derive("Ext.state.CookieProvider",Ext.state.Provider,{constructor:function(){var n=this;n.path="/";n.expires=new Date(Ext.Date.now()+6048e5);n.domain=null;n.secure=!1;Ext.state.Provider.prototype.constructor.apply(this,arguments);n.state=n.readCookies()},set:function(n,t){var i=this;if(typeof t=="undefined"||t===null){i.clear(n);return}i.setCookie(n,t);Ext.state.Provider.prototype.set.apply(this,arguments)},clear:function(n){this.clearCookie(n);Ext.state.Provider.prototype.clear.apply(this,arguments)},readCookies:function(){for(var i={},e=document.cookie+";",o=/\s?(.*?)=(.*?);/g,r=this.prefix,u=r.length,t,n,f;(t=o.exec(e))!=null;)n=t[1],f=t[2],n&&n.substring(0,u)===r&&(i[n.substr(u)]=this.decodeValue(f));return i},setCookie:function(n,t){var i=this;document.cookie=i.prefix+n+"="+i.encodeValue(t)+(i.expires==null?"":"; expires="+i.expires.toUTCString())+(i.path==null?"":"; path="+i.path)+(i.domain==null?"":"; domain="+i.domain)+(i.secure?"; secure":"")},clearCookie:function(n){var t=this;document.cookie=t.prefix+n+"=null; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(t.path==null?"":"; path="+t.path)+(t.domain==null?"":"; domain="+t.domain)+(t.secure?"; secure":"")}},1,0,0,0,0,0,[Ext.state,"CookieProvider"],0);Ext.cmd.derive("Ext.state.LocalStorageProvider",Ext.state.Provider,{constructor:function(){var n=this;Ext.state.Provider.prototype.constructor.apply(this,arguments);n.store=n.getStorageObject();n.state=n.store?n.readLocalStorage():{}},readLocalStorage:function(){for(var t=this.store,i={},r=t.getKeys(),u=r.length,n;u--;)n=r[u],i[n]=this.decodeValue(t.getItem(n));return i},set:function(n,t){var i=this;i.clear(n);t!=null&&(i.store.setItem(n,i.encodeValue(t)),Ext.state.Provider.prototype.set.apply(this,arguments))},clear:function(n){this.store.removeItem(n);Ext.state.Provider.prototype.clear.apply(this,arguments)},getStorageObject:function(){var t=this.prefix,n=t,i=n.length-1;return n.charAt(i)==="-"&&(n=n.substring(0,i)),new Ext.util.LocalStorage({id:n,prefix:t})}},1,0,0,0,["state.localstorage"],0,[Ext.state,"LocalStorageProvider"],0);Ext.cmd.derive("Ext.toolbar.Breadcrumb",Ext.Container,{isBreadcrumb:!0,baseCls:"x-breadcrumb",layout:"hbox",config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,showMenuIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:"root"},publishes:["selection"],twoWayBindable:["selection"],_breadcrumbCls:"x-breadcrumb",_btnCls:"x-breadcrumb-btn",_folderIconCls:"x-breadcrumb-icon-folder",_leafIconCls:"x-breadcrumb-icon-leaf",initComponent:function(){var n=this,t=n.layout,i=n.getOverflowHandler();typeof t=="string"&&(t={type:t});i&&(t.overflowHandler=i);n.layout=t;n.defaultButtonUI=n.getButtonUI();n._buttons=[];n.addCls([n._breadcrumbCls,n._breadcrumbCls+"-"+n.ui]);Ext.container.Container.prototype.initComponent.call(this)},onDestroy:function(){var n=this;n._buttons=Ext.destroy(n._buttons);n.setStore(null);Ext.container.Container.prototype.onDestroy.call(this)},afterComponentLayout:function(){var n=this,t=n.layout.overflowHandler;Ext.container.Container.prototype.afterComponentLayout.apply(this,arguments);t&&n.tooNarrow&&t.scrollToItem&&t.scrollToItem(n.getSelection().get("depth"))},applySelection:function(n){var t=this.getStore();return t?n==="root"?this.getStore().getRoot():n:null},updateSelection:function(n){var i=this,o=i._buttons,y=[],s=i.items.getCount(),w=i._needsSync,b=i.getDisplayField(),h,c,f,l,a,r,v,t,p,e,u;if(Ext.suspendLayouts(),n){for(r=n,e=n.get("depth"),a=e+1,u=e;r;){if(p=r.getId(),t=o[u],!w&&t&&t._breadcrumbNodeId===p)break;v=r.get(b);t?t.setText(v):t=o[u]=Ext.create({xtype:i.getUseSplitButtons()?"splitbutton":"button",ui:i.getButtonUI(),cls:i._btnCls+" "+i._btnCls+"-"+i.ui,text:v,showEmptyMenu:!0,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:i});h=this.getShowIcons();h!==!1&&(c=r.get("glyph"),l=r.get("icon"),f=r.get("iconCls"),c?(t.setGlyph(c),t.setIcon(null),t.setIconCls(f)):l?(t.setGlyph(null),t.setIconCls(null),t.setIcon(l)):f?(t.setGlyph(null),t.setIcon(null),t.setIconCls(f)):h?(t.setGlyph(null),t.setIcon(null),t.setIconCls((r.isLeaf()?i._leafIconCls:i._folderIconCls)+"-"+i.ui)):(t.setGlyph(null),t.setIcon(null),t.setIconCls(null)));t.setArrowVisible(r.hasChildNodes());t._breadcrumbNodeId=r.getId();r=r.parentNode;u--}if(a>s)y=o.slice(s,e+1),i.add(y);else for(u=s-1;u>=a;u--)i.remove(i.items.items[u],!1)}else i.removeAll(!1);Ext.resumeLayouts(!0);i.fireEvent("selectionchange",i,n);i._needsSync=!1},applyUseSplitButtons:function(n,t){return this.rendered&&n!==t&&Ext.Error.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render"),n},applyStore:function(n){return n&&(n=Ext.data.StoreManager.lookup(n)),n},updateStore:function(n){this._needsSync=!0;n&&!this.isConfiguring&&this.setSelection(n.getRoot())},privates:{_onButtonClick:function(n){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(n._breadcrumbNodeId))},_onMenuClick:function(n,t){t&&this.setSelection(this.getStore().getNodeById(t._breadcrumbNodeId))},_onMenuBeforeShow:function(n){var r=this,c=r.getStore().getNodeById(n.ownerCmp._breadcrumbNodeId),v=r.getDisplayField(),l=r.getShowMenuIcons(),e,t,o,s,u,h,f,a,i;if(c.hasChildNodes()){for(e=c.childNodes,s=[],u=0,a=e.length;u<a;u++)t=e[u],i={text:t.get(v),_breadcrumbNodeId:t.getId()},l!==!1&&(o=t.get("glyph"),h=t.get("icon"),f=t.get("iconCls"),o?(i.glyph=o,i.iconCls=f):h?i.icon=h:f?i.iconCls=f:l&&(i.iconCls=(t.isLeaf()?r._leafIconCls:r._folderIconCls)+"-"+r.ui)),s.push(i);n.removeAll();n.add(s)}else return!1}}},0,["breadcrumb"],["component","box","container","breadcrumb"],{component:!0,box:!0,container:!0,breadcrumb:!0},["widget.breadcrumb"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Breadcrumb"],0);Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1},0,["tbfill"],["component","box","tbfill"],{component:!0,box:!0,tbfill:!0},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0);Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:"x-toolbar-spacer",ariaRole:"presentation"},0,["tbspacer"],["component","box","tbspacer"],{component:!0,box:!0,tbspacer:!0},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0);Ext.cmd.derive("Ext.view.DragZone",Ext.dd.DragZone,{containerScroll:!1,constructor:function(n){var t=this,i,r,u;Ext.apply(t,n);t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id);i=t.view;r=i.ownerCt;u=r?r.getTargetEl().dom:i.el.dom.parentNode;Ext.dd.DragZone.prototype.constructor.call(this,u);t.ddel=document.createElement("div");t.ddel.className="x-grid-dd-wrap"},init:function(n,t,i){var r=this,f=Ext.supports.touchScroll?"itemlongpress":"itemmousedown",u={scope:r};u[f]=r.onItemMouseDown;r.initTarget(n,t,i);r.view.mon(r.view,u)},onValidDrop:function(n,t,i){Ext.dd.DragZone.prototype.onValidDrop.call(this,n,t,i);n.el.focus()},onItemMouseDown:function(n,t,i,r,u){this.isPreventDrag(u,t,i,r)||(n.focusRow&&n.focusRow(t),this.handleMouseDown(u))},isPreventDrag:function(){return!1},getDragData:function(n){var t=this.view,i=n.getTarget(t.getItemSelector());if(i)return{copy:t.copy||t.allowCopy&&n.ctrlKey,event:n,view:t,ddel:this.ddel,item:i,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(i).getXY()}},onInitDrag:function(n,t){var i=this,r=i.dragData,f=r.view,u=f.getSelectionModel(),e=f.getRecord(r.item);u.isSelected(e)||u.selectWithEvent(e,i.DDMInstance.mousedownEvent);r.records=u.getSelection();Ext.fly(i.ddel).setHtml(i.getDragText());i.proxy.update(i.ddel);i.onStartDrag(n,t);return!0},getDragText:function(){var n=this.dragData.records.length;return Ext.String.format(this.dragText,n,n===1?"":"s")},getRepairXY:function(n,t){return t?t.fromPosition:!1}},1,0,0,0,0,0,[Ext.view,"DragZone"],0);Ext.cmd.derive("Ext.tree.ViewDragZone",Ext.view.DragZone,{isPreventDrag:function(n,t){return t.get("allowDrag")===!1||!!n.getTarget(this.view.expanderSelector)},getDragText:function(){var t=this.dragData.records,i=t.length,n=t[0].get(this.displayField),r="s";return i===1&&n?n:(n||(r=""),Ext.String.format(this.dragText,i,r))},afterRepair:function(){var t=this,i=t.view,f=i.selectedItemCls,e=t.dragData.records,r,o=e.length,u=Ext.fly,n;if(Ext.enableFx&&t.repairHighlight)for(r=0;r<o;r++)n=i.getNode(e[r]),u(n.firstChild).highlight(t.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(n)&&u(n).removeCls(f)},afteranimate:function(){i.isSelected(n)&&u(n).addCls(f)}}});t.dragging=!1}},0,0,0,0,0,0,[Ext.tree,"ViewDragZone"],0);Ext.cmd.derive("Ext.tree.ViewDropZone",Ext.view.DropZone,{allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:"x-tree-ddindicator",expandNode:function(n){var t=this.view;this.expandProcId=!1;n.isLeaf()||n.isExpanded()||(t.expand(n),this.expandProcId=!1)},queueExpand:function(n){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[n])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(n,t){var s=this.view,r=s.getRecord(t),u=n.getY(),f=r.isLeaf(),o=!1,i=Ext.fly(t).getRegion(),e;return r.isRoot()?"append":this.appendOnly?f?!1:"append":(this.allowParentInserts||(o=r.hasChildNodes()&&r.isExpanded()),e=(i.bottom-i.top)/(f?2:3),u>=i.top&&u<i.top+e?"before":!o&&(f||u>=i.bottom-e&&u<=i.bottom)?"after":"append")},isValidDropPoint:function(n,t,i,r,u){if(!n||!u.item)return!1;var h=this.view,f=h.getRecord(n),e=u.records,c=e.length,l=e.length,o,s;if(!(f&&t&&c))return!1;for(o=0;o<l;o++)if(s=e[o],s.isNode&&s.contains(f))return!1;return t==="append"&&f.get("allowDrop")===!1?!1:t!=="append"&&f.parentNode.get("allowDrop")===!1?!1:Ext.Array.contains(e,f)?!1:h.fireEvent("nodedragover",f,t,u,r)!==!1},onNodeOver:function(n,t,i,r){var f=this.getPosition(i,n),e=this.dropNotAllowed,s=this.view,u=s.getRecord(n),h=this.getIndicator(),o=0;return this.cancelExpand(),f!=="append"||this.expandProcId||Ext.Array.contains(r.records,u)||u.isLeaf()||u.isExpanded()||this.queueExpand(u),this.isValidDropPoint(n,f,t,i,r)?(this.valid=!0,this.currentPosition=f,this.overRecord=u,h.setWidth(Ext.fly(n).getWidth()),o=Ext.fly(n).getY()-Ext.fly(s.el).getY()-1,s.touchScroll===2&&(o+=s.getScrollY()),f==="before"?(e=u.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between",h.showAt(0,o),t.proxy.show()):f==="after"?(e=u.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between",o+=Ext.fly(n).getHeight(),h.showAt(0,o),t.proxy.show()):(e="x-tree-drop-ok-append",h.hide())):this.valid=!1,this.currentCls=e,e},onNodeOut:function(){this.valid=!1;this.getIndicator().hide()},onContainerOver:function(n,t){return this.allowContainerDrops?this.dropAllowed:t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(n,t,i){if(this.allowContainerDrops){this.valid=!0;this.currentPosition="append";this.overRecord=this.view.store.getRoot();this.onNodeDrop(this.overRecord,n,t,i)}},notifyOut:function(){Ext.view.DropZone.prototype.notifyOut.apply(this,arguments);this.cancelExpand()},handleNodeDrop:function(n,t,i){var e=this,c=e.view,o=t?t.parentNode:c.panel.getRootNode(),a=c.store.getModel(),v,u,s,r,h,f,y,l;if(n.copy)for(v=n.records,n.records=[],u=0,s=v.length;u<s;u++)r=v[u],r.isNode?n.records.push(r.copy()):n.records.push(new a(Ext.apply({},r.data)));if(e.cancelExpand(),i==="before"?(h=o.insertBefore,f=[null,t],t=o):i==="after"?(t.nextSibling?(h=o.insertBefore,f=[null,t.nextSibling]):(h=o.appendChild,f=[null]),t=o):(t.isExpanded()||t.isLoading()||(y=!0),h=t.appendChild,f=[null]),l=function(){var o,i;for(Ext.suspendLayouts(),u=0,s=n.records.length;u<s;u++)r=n.records[u],r.isNode||(r=r.isModel?new a(r.data,r.getId()):new a(r),n.records[u]=r),f[0]=r,h.apply(t,f),c.getNavigationModel().setPosition(r);if(e.sortOnDrop&&t.sort(t.getOwnerTree().store.getSorters().sortFn),Ext.resumeLayouts(!0),Ext.enableFx&&e.dropHighlight)for(o=e.dropHighlightColor,u=0;u<s;u++)i=c.getNode(n.records[u]),i&&Ext.fly(i).highlight(o)},y)t.expand(!1,l);else if(t.isLoading())t.on({expand:l,delay:1,single:!0});else l()}},0,0,0,0,0,0,[Ext.tree,"ViewDropZone"],0);Ext.cmd.derive("Ext.tree.plugin.TreeViewDragDrop",Ext.plugin.Abstract,{dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(n){n.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(n){var t=this,i;t.enableDrag&&(t.containerScroll&&(i=n.getEl()),t.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:n,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText,displayField:t.displayField,repairHighlightColor:t.nodeHighlightColor,repairHighlight:t.nodeHighlightOnRepair,scrollEl:i},t.dragZone)));t.enableDrop&&(t.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:n,ddGroup:t.dropGroup||t.ddGroup,allowContainerDrops:t.allowContainerDrops,appendOnly:t.appendOnly,allowParentInserts:t.allowParentInserts,expandDelay:t.expandDelay,dropHighlightColor:t.nodeHighlightColor,dropHighlight:t.nodeHighlightOnDrop,sortOnDrop:t.sortOnDrop,containerScroll:t.containerScroll},t.dropZone)))}},0,0,0,0,["plugin.treeviewdragdrop"],0,[Ext.tree.plugin,"TreeViewDragDrop"],function(){var n=this.prototype;n.nodeHighlightOnDrop=n.nodeHighlightOnRepair=Ext.enableFx});Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var n,t=null,i=document,r=/(-[a-z])/gi,u=function(n,t){return t.charAt(1).toUpperCase()};return{singleton:!0,rules:t,initialized:!1,constructor:function(){n=this},createStyleSheet:function(t,r){var f,e=i.getElementsByTagName("head")[0],u=i.createElement("style");return u.setAttribute("type","text/css"),r&&u.setAttribute("id",r),f=u.styleSheet,f?(e.appendChild(u),f.cssText=t):(u.appendChild(i.createTextNode(t)),e.appendChild(u),f=u.sheet),n.cacheStyleSheet(f),f},removeStyleSheet:function(n){var t=i.getElementById(n);t&&t.parentNode.removeChild(t)},swapStyleSheet:function(t,r){var u;n.removeStyleSheet(t);u=i.createElement("link");u.setAttribute("rel","stylesheet");u.setAttribute("type","text/css");u.setAttribute("id",t);u.setAttribute("href",r);i.getElementsByTagName("head")[0].appendChild(u)},cacheStyleSheet:function(i){t||(t=n.rules={});try{for(var o=i.cssRules||i.rules,f=o.length-1,e=i.imports,s=e?e.length:0,r,u=0;u<s;++u)n.cacheStyleSheet(e[u]);for(;f>=0;--f)r=o[f],r.styleSheet&&n.cacheStyleSheet(r.styleSheet),n.cacheRule(r,i)}catch(h){}},cacheRule:function(i,r){if(i.styleSheet)return n.cacheStyleSheet(i.styleSheet);var u=i.selectorText,e,f;if(u)for(u=u.split(","),e=u.length,f=0;f<e;f++)t[Ext.String.trim(u[f]).toLowerCase()]={parentStyleSheet:r,cssRule:i}},getRules:function(i){var u={},r;(t===null||i)&&n.refreshCache();for(r in t)u[r]=t[r].cssRule;return u},refreshCache:function(){var u=i.styleSheets,r=0,f=u.length;for(t=n.rules={};r<f;r++)try{u[r].disabled||n.cacheStyleSheet(u[r])}catch(e){}},getRule:function(i,r,u){var f,e;if((!t||r)&&n.refreshCache(),!Ext.isArray(i))return e=t[i.toLowerCase()],e&&!u&&(e=e.cssRule),e||null;for(f=0;f<i.length;f++)if(t[i[f]])return u?t[i[f].toLowerCase()]:t[i[f].toLowerCase()].cssRule;return null},createRule:function(t,i,r){var u,f=t.cssRules||t.rules,e=f.length;return t.insertRule?t.insertRule(i+" {"+r+"}",e):t.addRule(i,r||" "),n.cacheRule(u=f[e],t),u},updateRule:function(t,i,f){var e,o,s;if(Ext.isArray(t)){for(o=0;o<t.length;o++)if(n.updateRule(t[o],i,f))return!0}else if(e=n.getRule(t),e){if(arguments.length===2){s=Ext.Element.parseStyles(i);for(i in s)e.style[i.replace(r,u)]=s[i]}else e.style[i.replace(r,u)]=f;return!0}return!1},deleteRule:function(i){var u=n.getRule(i,!1,!0),r,f;u&&(r=u.parentStyleSheet,f=Ext.Array.indexOf(r.cssRules||r.rules,u.cssRule),r.deleteRule?r.deleteRule(f):r.removeRule(f),delete t[i])}}},1,0,0,0,0,0,[Ext.util,"CSS"],0);Ext.cmd.derive("Ext.util.Cookies",Ext.Base,{singleton:!0,set:function(n,t){var i=arguments,r=arguments.length,u=r>2?i[2]:null,f=r>3?i[3]:"/",e=r>4?i[4]:null,o=r>5?i[5]:!1;document.cookie=n+"="+escape(t)+(u===null?"":"; expires="+u.toUTCString())+(f===null?"":"; path="+f)+(e===null?"":"; domain="+e)+(o===!0?"; secure":"")},get:function(n){for(var u=document.cookie.split("; "),f=u.length,i,r,t=0;t<f;++t)if(i=u[t].split("="),i[0]===n)return r=i[1],r?unescape(r):"";return null},clear:function(n,t){this.get(n)&&(t=t||"/",document.cookie=n+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+t)}},0,0,0,0,0,0,[Ext.util,"Cookies"],0);Ext.cmd.derive("Ext.view.MultiSelectorSearch",Ext.panel.Panel,{layout:"fit",floating:!0,resizable:!0,minWidth:200,minHeight:200,border:!0,defaultListenerScope:!0,referenceHolder:!0,searchText:"Search...",initComponent:function(){var n=this,e=n.owner,f=n.makeItems(),i,t,r,u;for(n.dockedItems=n.makeDockedItems(),n.items=f,u=Ext.data.StoreManager.lookup(n.store),i=f.length;i--;)if((t=f[i]).xtype==="grid"){t.store=u;t.isSearchGrid=!0;t.selModel=t.selModel||{type:"checkboxmodel",pruneRemoved:!1,listeners:{selectionchange:"onSelectionChange"}};Ext.merge(t,n.grid);t.columns||(t.hideHeaders=!0,t.columns=[{flex:1,dataIndex:n.field}]);break}if(Ext.panel.Panel.prototype.initComponent.call(this),r=n.getOwnerStore().getRange(),!e.convertSelectionRecord.$nullFn)for(i=r.length;i--;)r[i]=e.convertSelectionRecord(r[i]);if(u.isLoading()||u.loadCount===0&&!u.getCount())u.on("load",function(){n.isDestroyed||n.selectRecords(r)},null,{single:!0});else n.selectRecords(r)},getOwnerStore:function(){return this.owner.getStore()},afterShow:function(){var n=this.lookupReference("searchField");Ext.panel.Panel.prototype.afterShow.apply(this,arguments);n&&n.focus()},getSearchStore:function(){var n=this.lookupReference("searchGrid");return n.getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:!0,emptyText:this.searchText,triggers:{clear:{cls:"x-form-clear-trigger",handler:"onClearSearch",hidden:!0}},listeners:{change:"onSearchChange",buffer:300}}]},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:!1,emptyText:"No results."}}]},selectRecords:function(n){var t=this.lookupReference("searchGrid");return t.getSelectionModel().select(n)},deselectRecords:function(n){var t=this.lookupReference("searchGrid");return t.getSelectionModel().deselect(n)},search:function(n){var i=this,t=i.searchFilter,r=i.getSearchStore().getFilters();n?(r.beginUpdate(),t?t.setValue(n):i.searchFilter=t=new Ext.util.Filter({id:"search",property:i.field,value:n}),r.add(t),r.endUpdate()):t&&r.remove(t)},privates:{onClearSearch:function(){var n=this.lookupReference("searchField");n.setValue(null);n.focus()},onSearchChange:function(n){var t=n.getValue(),i=n.getTrigger("clear");i.setHidden(!t);this.search(t)},onSelectionChange:function(n,t){for(var s=this.owner,c=s.getStore(),u=c.data,f=0,h={},e,o,i,r=t.length;r--;)i=t[r],o=i.id,h[o]=i,u.containsKey(o)||(e||(e=[])).push(s.convertSearchRecord(i));for(r=u.length;r--;)i=u.getAt(r),h[i.id]||(f||(f=[])).push(i);(e||f)&&u.splice(u.length,f,e)}}},0,["multiselector-search"],["component","box","container","panel","multiselector-search"],{component:!0,box:!0,container:!0,panel:!0,"multiselector-search":!0},["widget.multiselector-search"],0,[Ext.view,"MultiSelectorSearch"],0);Ext.cmd.derive("Ext.view.MultiSelector",Ext.grid.Panel,{config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:!0}}},fieldName:"name",fieldTitle:null,removeRowText:"✖",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var n=this,i=n.emptyText,f=n.getStore(),e=n.getSearch(),r=n.fieldTitle,t,u;t=e.store;u=t.isStore?t.getModel():t.model;f||(n.store={model:u});i&&!n.viewConfig&&(n.viewConfig={deferEmptyText:!1,emptyText:i});n.columns||(n.hideHeaders=!r,n.columns=[{text:r,dataIndex:n.fieldName,flex:1},n.makeRemoveRowColumn()]);Ext.grid.Panel.prototype.initComponent.call(this)},addTools:function(){this.addTool({type:"plus",tooltip:this.addToolText,callback:"onShowSearch",scope:this})},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){var n=this;return{width:22,menuDisabled:!0,tdCls:"x-multiselector-remove",processEvent:n.processRowEvent.bind(n),renderer:n.renderRemoveRow,updater:Ext.emptyFn,scope:n}},processRowEvent:function(n,t,i,r,u,f,e){f.type==="click"&&Ext.fly(i).hasCls("x-multiselector-remove")&&(this.store.remove(e),this.searchPopup&&this.searchPopup.deselectRecords(e))},renderRemoveRow:function(){return'<span data-qtip="'+this.removeRowTip+'" role="button">'+this.removeRowText+"<\/span>"},beforeDestroy:function(){Ext.un({mousedown:"onDismissSearch",scope:this});Ext.grid.Panel.prototype.beforeDestroy.call(this)},privates:{onDismissSearch:function(n){var t=this.searchPopup;!t||t.owns(n.getTarget())||this.owns(n.getTarget())||(Ext.un({mousedown:"onDismissSearch",scope:this}),t.hide())},onShowSearch:function(){var n=this,t=n.searchPopup,i=n.getStore();t||(t=Ext.merge({owner:n,field:n.fieldName,floating:!0},n.getSearch()),n.searchPopup=t=n.add(t),i.getCount()&&t.selectRecords(i.getRange()));t.showBy(n,"tl-tr?");Ext.on({mousedown:"onDismissSearch",scope:n})}}},0,["multiselector"],["component","box","container","panel","tablepanel","gridpanel","grid","multiselector"],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0,multiselector:!0},["widget.multiselector"],0,[Ext.view,"MultiSelector"],0);Ext.cmd.derive("Ext.window.Toast",Ext.window.Window,{isToast:!0,cls:"x-toast",bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:"br",animate:!0,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1e3,hideDuration:500,autoCloseDelay:3e3,stickOnClick:!0,stickWhileHover:!0,closeOnMouseDown:!1,isHiding:!1,isFading:!1,destroyAfterHide:!1,closeOnMouseOut:!1,xPos:0,yPos:0,initComponent:function(){var n=this;n.updateAlignment(n.align);n.setAnchor(n.anchor);Ext.window.Window.prototype.initComponent.call(this)},onRender:function(){var n=this;if(Ext.window.Window.prototype.onRender.apply(this,arguments),n.el.hover(n.onMouseEnter,n.onMouseLeave,n),n.closeOnMouseDown)Ext.getDoc().on("mousedown",n.onDocumentMousedown,n)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(n){var t=this,i=t.alignmentProps,u=i[n],r=i.x[n];r&&t.useXAxis&&Ext.applyIf(t,r);Ext.applyIf(t,u)},getXposAlignedToAnchor:function(){var n=this,r=n.align,u=n.anchor,i=u&&u.el,f=n.el,t=0;return i&&i.dom&&(n.useXAxis?r==="br"||r==="tr"||r==="r"?(t+=i.getAnchorXY("r")[0],t-=f.getWidth()+n.paddingX):(t+=i.getAnchorXY("l")[0],t+=n.paddingX):t=f.getLeft()),t},getYposAlignedToAnchor:function(){var n=this,r=n.align,u=n.anchor,i=u&&u.el,f=n.el,t=0;return i&&i.dom&&(n.useXAxis?t=f.getTop():r==="br"||r==="bl"||r==="b"?(t+=i.getAnchorXY("b")[1],t-=f.getHeight()+n.paddingY):(t+=i.getAnchorXY("t")[1],t+=n.paddingY)),t},getXposAlignedToSibling:function(n){var t=this,i=t.align,r=t.el;return t.useXAxis?i==="tl"||i==="bl"||i==="l"?n.xPos+n.el.getWidth()+n.spacing:n.xPos-r.getWidth()-t.spacing:r.getLeft()},getYposAlignedToSibling:function(n){var t=this,i=t.align,r=t.el;return t.useXAxis?r.getTop():i==="tr"||i==="tl"||i==="t"?n.yPos+n.el.getHeight()+n.spacing:n.yPos-r.getHeight()-n.spacing},getToasts:function(){var n=this.anchor,t=this.anchorAlign,i=n.activeToasts||(n.activeToasts={});return i[t]||(i[t]=[])},setAnchor:function(n){var i=this,t;i.anchor=n=typeof n=="string"?Ext.getCmp(n):n;n||(t=Ext.window.Toast,i.anchor=t.bodyAnchor||(t.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var n=this;if(n.stickOnClick)n.body.on("click",function(){n.cancelAutoClose()});n.autoClose&&(n.closeTask||(n.closeTask=new Ext.util.DelayedTask(n.doAutoClose,n)),n.closeTask.delay(n.autoCloseDelay));n.el.setX(-1e4);n.el.setOpacity(1)},afterShow:function(){var n=this,i=n.el,r,t,u,f;Ext.window.Window.prototype.afterShow.apply(this,arguments);r=n.getToasts();u=r.length;t=u&&r[u-1];t?(i.alignTo(t.el,n.siblingAlignment,[0,0]),n.xPos=n.getXposAlignedToSibling(t),n.yPos=n.getYposAlignedToSibling(t)):(i.alignTo(n.anchor.el,n.anchorAlign,[n.paddingX*n.paddingFactorX,n.paddingY*n.paddingFactorY],!1),n.xPos=n.getXposAlignedToAnchor(),n.yPos=n.getYposAlignedToAnchor());Ext.Array.include(r,n);n.animate?(f=i.getXY(),i.animate({from:{x:f[0],y:f[1]},to:{x:n.xPos,y:n.yPos,opacity:1},easing:n.slideInAnimation,duration:n.slideInDuration,dynamic:!0})):n.setLocalXY(n.xPos,n.yPos)},onDocumentMousedown:function(n){this.isVisible()&&!this.owns(n.getTarget())&&this.hide()},slideBack:function(){var n=this,u=n.anchor,f=u&&u.el,t=n.el,i=n.getToasts(),r=Ext.Array.indexOf(i,n);!n.isHiding&&t&&t.dom&&f&&f.isVisible()&&(r?(n.xPos=n.getXposAlignedToSibling(i[r-1]),n.yPos=n.getYposAlignedToSibling(i[r-1])):(n.xPos=n.getXposAlignedToAnchor(),n.yPos=n.getYposAlignedToAnchor()),n.stopAnimation(),n.animate&&t.animate({to:{x:n.xPos,y:n.yPos},easing:n.slideBackAnimation,duration:n.slideBackDuration,dynamic:!0}))},update:function(){var n=this;n.isVisible()&&(n.isHiding=!0,n.hide());Ext.window.Window.prototype.update.apply(this,arguments);n.show()},cancelAutoClose:function(){var n=this.closeTask;n&&n.cancel()},doAutoClose:function(){var n=this;n.stickWhileHover&&n.mouseIsOver?n.closeOnMouseOut=!0:n.close()},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){var n=this;n.mouseIsOver=!1;n.closeOnMouseOut&&(n.closeOnMouseOut=!1,n.close())},removeFromAnchor:function(){var i=this,t,n;if(i.anchor&&(t=i.getToasts(),n=Ext.Array.indexOf(t,i),n!==-1))for(Ext.Array.erase(t,n,1);n<t.length;n++)t[n].slideBack()},getFocusEl:Ext.emptyFn,hide:function(){var n=this,t=n.el;return n.cancelAutoClose(),n.isHiding?n.isFading||(Ext.window.Window.prototype.hide.apply(this,arguments),n.removeFromAnchor(),n.isHiding=!1):(n.isHiding=!0,n.isFading=!0,n.cancelAutoClose(),t&&(n.animate?t.fadeOut({opacity:0,easing:"easeIn",duration:n.hideDuration,listeners:{afteranimate:function(){n.isFading=!1;n.hide(n.animateTarget,n.doClose,n)}}}):(n.isFading=!1,n.hide(n.animateTarget,n.doClose,n)))),n}},0,["toast"],["component","box","container","panel","window","toast"],{component:!0,box:!0,container:!0,panel:!0,window:!0,toast:!0},["widget.toast"],0,[Ext.window,"Toast"],function(n){Ext.toast=function(t,i,r,u){var f=t,e;return Ext.isString(t)&&(f={title:i,html:t,iconCls:u},r&&(f.align=r)),e=new n(f),e.show(),e}});Ext.isIE&&Ext.ieVersion<8&&alert("Minimum supported version of Internet Explorer is 8.\nPlease upgrade your IE version or use another browser.");Ext.scopeCss=!0;Ext.Array.findBy(Ext.feature.tests,function(n){return n.name!="CSS3BorderRadius"?!1:(n.fn=function(){return!0},!0)});Ext.supports.CSS3LinearGradient=!0;Ext.apply(Ext.data.SortTypes,{asLocaleString:function(n){return n.toLocaleLowerCase()}});Ext.override(Ext.util.Collection,{createSortFn:function(){var t=this.getGrouper(),i=this.getSorters(),n;return t&&i&&i.length>0&&(n=i.getAt(0),n&&t._direction!=n._direction&&t.setDirection(n._direction)),this.callParent(arguments)}});Ext.override(Ext.Component,{toggleUICondition:function(n){var i=Ext.callback(n,null,[this,!0,!1]),t;i===!0?this.hidden&&this.show():i===!1&&(this.hidden||this.hide());t=Ext.callback(n,null,[this,!1,!0]);t===!0?this.disabled&&this.enable():t===!1&&(this.disabled||this.disable())}});Ext.override(Ext.toolbar.Toolbar,{toggleItemsUICondition:function(n){Ext.isFunction(n)&&(Ext.suspendLayouts(),this.items.each(function(t){t.xtype!="tbseparator"&&t.toggleUICondition(n)}),Ext.resumeLayouts(!0))}});Ext.override(Ext.menu.Menu,{shadow:"drop",initComponent:function(){this.callParent(arguments);this.on("beforeshow",this.onBeforeShowInternal,this,{priority:-1})},render:function(){this.callParent(arguments);this.el.on("contextmenu",function(n){n.stopEvent()},this)},onBeforeShowInternal:function(){var r=0,n=0,t=0,i;return Ext.suspendLayouts(),this.items.each(function(u){if(u.xtype!="menuseparator"){u.hidden||(r++,n++,t++);return}n>0?u.hidden&&u.show():u.hidden||u.hide();n=0;t=0;u.hidden||(i=u)}),t==0&&i&&i.hide(),Ext.resumeLayouts(!0),r>0},toggleItemsUICondition:function(n){Ext.isFunction(n)&&(Ext.suspendLayouts(),this.items.each(function(t){t.xtype!="menuseparator"&&t.toggleUICondition(n)}),Ext.resumeLayouts(!0))}});Ext.override(Ext.menu.Item,{getRootMenu:function(){for(var n=this;n.parentMenu;)n=n.parentMenu;return n}});Ext.override(Ext.resizer.BorderSplitter,{onTargetCollapse:function(){this.hideSplitterWhenCollapsed&&(this.hide(),this.collapseTargetBackup=this.collapseTarget,this.collapseTarget=null);this.callParent(arguments)},onTargetExpand:function(){this.callParent(arguments);this.hideSplitterWhenCollapsed&&(this.collapseTarget=this.collapseTargetBackup,delete this.collapseTargetBackup,this.show())}});Ext.override(Ext.button.Button,{_syncFrameHeight:!1,toggleSameAction:function(){if(this.baseAction){var n=this;this.baseAction.each(function(t){t!=n&&(t.toggle(n.pressed,!0),Ext.ButtonToggleManager.groups[t.toggleGroup]&&Ext.ButtonToggleManager.toggleGroup(t,t.pressed))})}}});Ext.override(Ext.ZIndexManager,{privates:{showModalMask:function(n){var t=n.floatParent?n.floatParent.getTargetEl():n.container,i=Ext.getBody;Ext.getBody=function(){return t};this.callParent(arguments);Ext.getBody=i}}});Ext.onInternalReady(function(){Ext.un("resize",Ext.WindowManager.onContainerResize,Ext.WindowManager);Ext.on("responsiveupdate",function(){Ext.resumeLayouts(!0);Ext.WindowManager.onContainerResize()})});Ext.override(Ext.window.Window,{center:function(){var n=this,t;return n.isVisible()?(t=n.getAlignToXY(n.floatParent||n.container,"c-c"),n.setPagePosition(t)):n.needsCenter=!0,n}});Ext.override(Ext.view.Table,{processContainerEvent:function(n){var t=Ext.Component.fromElement(n.target.parentNode);if(t&&t.up(this))return!1}});Ext.override(Ext.tree.View,{onItemClick:function(n,t,i,r){return r.getTarget(this.expanderSelector,t)&&n.isExpandable()?(this.focusRow(n),r.button===undefined&&(r.button=r.browserEvent.button),r.button==0&&this.toggle(n,r.ctrlKey),!1):this.callParent(arguments)}});Ext.override(Ext.grid.NavigationModel,{focusItem:function(n){Ext.fly(n.up("table",null,!0)).addCls(this.focusCls);n.focus()},setPosition:function(){var n=this.cell;n&&(n.removeClsBackup=n.removeCls,n.removeCls=function(t){Ext.fly(n.up("table",null,!0)).removeCls(t)});this.callParent(arguments);n&&(n.removeCls=n.removeClsBackup,delete n.removeClsBackup)}});/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(n,t){var i,g,nt,tt,it,r,h,v,c,rt,y,f,u,p,e,l,w,b,ut,k,o,a,d,s;i=function(n){return new i.prototype.init(n)};typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=i:n.Globalize=i;i.cultures={};i.prototype={constructor:i,init:function(n){return this.cultures=i.cultures,this.cultureSelector=n,this}};i.prototype.init.prototype=i.prototype;i.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};i.cultures["default"].calendar=i.cultures["default"].calendars.standard;i.cultures.en=i.cultures["default"];i.cultureSelector="en";g=/^0x[a-f0-9]+$/i;nt=/^[+\-]?infinity$/i;tt=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;it=/^\s+|\s+$/g;r=function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1};h=function(n,t){return n.substr(n.length-t.length)===t};v=function(){var e,u,r,i,o,s,n=arguments[0]||{},f=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},f=2),typeof n=="object"||rt(n)||(n={});f<l;f++)if((e=arguments[f])!=null)for(u in e)(r=n[u],i=e[u],n!==i)&&(h&&i&&(y(i)||(o=c(i)))?(o?(o=!1,s=r&&c(r)?r:[]):s=r&&y(r)?r:{},n[u]=v(h,s,i)):i!==t&&(n[u]=i));return n};c=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};rt=function(n){return Object.prototype.toString.call(n)==="[object Function]"};y=function(n){return Object.prototype.toString.call(n)==="[object Object]"};f=function(n,t){return n.indexOf(t)===0};u=function(n){return(n+"").replace(it,"")};p=function(n){return isNaN(n)?NaN:Math[n<0?"ceil":"floor"](n)};e=function(n,t,i){for(var r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n};l=function(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.push("'"):f++;i=!1;break;case"\\":i&&t.push("\\");i=!i;break;default:t.push(u);i=!1}}return f};w=function(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t};b=function(n,t,i){function e(n,t){var i,r=n+"";return t>1&&r.length<t?(i=st[t-2]+r,i.substr(i.length-t,t)):r}function ct(){return c||ut?c:(c=ht.test(t),ut=!0,c)}function it(n,t){if(v)return v[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();default:throw"Invalid part value "+t;}}var u=i.calendar,d=u.convert,r,g,rt,nt,tt,p,f,ot,h;if(!t||!t.length||t==="i")return i&&i.name.length?d?r=b(n,u.patterns.F,i):(g=new Date(n.getTime()),rt=o(n,u.eras),g.setFullYear(a(n,u,rt)),r=g.toLocaleString()):r=n.toString(),r;nt=u.eras;tt=t==="s";t=w(u,t);r=[];var s,st=["0","00","000"],c,ut,ht=/([^d]|^)(d|dd)([^d]|$)/g,ft=0,et=k(),v;for(!tt&&d&&(v=d.fromGregorian(n));;){var lt=et.lastIndex,y=et.exec(t),at=t.slice(lt,y?y.index:t.length);if(ft+=l(at,r),!y)break;if(ft%2){r.push(y[0]);continue}p=y[0];f=p.length;switch(p){case"ddd":case"dddd":ot=f===3?u.days.namesAbbr:u.days.names;r.push(ot[n.getDay()]);break;case"d":case"dd":c=!0;r.push(e(it(n,2),f));break;case"MMM":case"MMMM":h=it(n,1);r.push(u.monthsGenitive&&ct()?u.monthsGenitive[f===3?"namesAbbr":"names"][h]:u.months[f===3?"namesAbbr":"names"][h]);break;case"M":case"MM":r.push(e(it(n,1)+1,f));break;case"y":case"yy":case"yyyy":h=v?v[0]:a(n,u,o(n,nt),tt);f<4&&(h=h%100);r.push(e(h,f));break;case"h":case"hh":s=n.getHours()%12;s===0&&(s=12);r.push(e(s,f));break;case"H":case"HH":r.push(e(n.getHours(),f));break;case"m":case"mm":r.push(e(n.getMinutes(),f));break;case"s":case"ss":r.push(e(n.getSeconds(),f));break;case"t":case"tt":h=n.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ";r.push(f===1?h.charAt(0):h);break;case"f":case"ff":case"fff":r.push(e(n.getMilliseconds(),3).substr(0,f));break;case"z":case"zz":s=n.getTimezoneOffset()/60;r.push((s<=0?"+":"-")+e(Math.floor(Math.abs(s)),f));break;case"zzz":s=n.getTimezoneOffset()/60;r.push((s<=0?"+":"-")+e(Math.floor(Math.abs(s)),2)+":"+e(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&r.push(u.eras[o(n,nt)].name);break;case"/":r.push(u["/"]);break;default:throw"Invalid date format pattern '"+p+"'.";}}return r.join("")},function(){var n;n=function(n,t,i){var l=i.groupSizes,c=l[0],a=1,p=Math.pow(10,t),v=Math.round(n*p)/p;isFinite(v)||(v=n);n=v;var r=n+"",u="",o=r.split(/e/i),f=o.length>1?parseInt(o[1],10):0;r=o[0];o=r.split(".");r=o[0];u=o.length>1?o[1]:"";f>0?(u=e(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=e(r,f+1,!0),u=r.slice(-f,r.length)+u,r=r.slice(0,-f));u=t>0?i["."]+(u.length>t?u.slice(0,t):e(u,t)):"";for(var s=r.length-1,y=i[","],h="";s>=0;){if(c===0||c>s)return r.slice(0,s+1)+(h.length?y+h+u:u);h=r.slice(s-c+1,s+1)+(h.length?y+h:"");s-=c;a<l.length&&(c=l[a],a++)}return r.slice(0,s+1)+y+h+u};ut=function(t,i,r){var a,f,v,o,y,l;if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!i||i==="i")return r.name.length?t.toLocaleString():t.toString();i=i||"D";var s=r.numberFormat,u=Math.abs(t),h=-1,c;i.length>1&&(h=parseInt(i.slice(1),10));a=i.charAt(0).toUpperCase();switch(a){case"D":c="n";u=p(u);h!==-1&&(u=e(""+u,h,!0));t<0&&(u="-"+u);break;case"N":f=s;case"C":f=f||s.currency;case"P":f=f||s.percent;c=t<0?f.pattern[0]:f.pattern[1]||"n";h===-1&&(h=f.decimals);u=n(u*(a==="P"?100:1),h,f);break;default:throw"Bad number format specifier: "+a;}for(v=/n|\$|-|%/g,o="";;){if(y=v.lastIndex,l=v.exec(c),o+=c.slice(y,l?l.index:c.length),!l)break;switch(l[0]){case"n":o+=u;break;case"$":o+=s.currency.symbol;break;case"-":/[1-9]/.test(u)&&(o+=s["-"]);break;case"%":o+=s.percent.symbol}}return o}}();k=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};o=function(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i++)if(r=t[i].start,r===null||u>=r)return i;return 0};a=function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i].offset),u},function(){var e,s,h,c,n,i,t;e=function(n,t){if(t<100){var r=new Date,f=o(r),u=a(r,n,f),i=n.twoDigitYearMax;i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i;t+=u-u%100;t>i&&(t-=100)}return t};s=function(n,u,f){var e,s=n.days,o=n._upperDays;return o||(n._upperDays=o=[t(s.names),t(s.namesAbbr),t(s.namesShort)]),u=i(u),f?(e=r(o[1],u),e===-1&&(e=r(o[2],u))):e=r(o[0],u),e};h=function(n,u,f){var h=n.months,c=n.monthsGenitive||n.months,e=n._upperMonths,s=n._upperMonthsGen,o;return e||(n._upperMonths=e=[t(h.names),t(h.namesAbbr)],n._upperMonthsGen=s=[t(c.names),t(c.namesAbbr)]),u=i(u),o=r(f?e[1]:e[0],u),o<0&&(o=r(f?s[1]:s[0],u)),o};c=function(n,t){var f=n._parseRegExp,o,y,e,p,i,b,d;if(f){if(o=f[t],o)return o}else n._parseRegExp=f={};for(var s=w(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],c=[],h=0,a=0,v=k(),u;(u=v.exec(s))!==null;){if(y=s.slice(h,u.index),h=v.lastIndex,a+=l(y,r),a%2){r.push(u[0]);continue}e=u[0];p=e.length;switch(e){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i="(\\D+)";break;case"tt":case"t":i="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":i="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i="(\\d\\d?)";break;case"zzz":i="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":i="([+-]?\\d\\d?)";break;case"/":i="(\\/)";break;default:throw"Invalid date format pattern '"+e+"'.";}i&&r.push(i);c.push(u[0])}return l(s.slice(h),r),r.push("$"),b=r.join("").replace(/\s+/g,"\\s+"),d={regExp:b,groups:c},f[t]=d};n=function(n,t,i){return n<t||n>i};i=function(n){return n.split(" ").join(" ").toUpperCase()};t=function(n){for(var r=[],t=0,u=n.length;t<u;t++)r[t]=i(n[t]);return r};d=function(t,i,r){var d,wt,l,ft,et,g,nt,kt,a,dt,tt,at;t=u(t);var o=r.calendar,vt=c(o,i),yt=new RegExp(vt.regExp).exec(t);if(yt===null)return null;var pt=vt.groups,ot=null,w=null,p=null,b=null,it=null,y=0,k,st=0,ht=0,ct=0,rt=null,lt=!1;for(d=0,wt=pt.length;d<wt;d++)if(l=yt[d+1],l){var bt=pt[d],ut=bt.length,v=parseInt(l,10);switch(bt){case"dd":case"d":if(b=v,n(b,1,31))return null;break;case"MMM":case"MMMM":if(p=h(o,l,ut===3),n(p,0,11))return null;break;case"M":case"MM":if(p=v-1,n(p,0,11))return null;break;case"y":case"yy":case"yyyy":if(w=ut<4?e(o,v):v,n(w,0,9999))return null;break;case"h":case"hh":if(y=v,y===12&&(y=0),n(y,0,11))return null;break;case"H":case"HH":if(y=v,n(y,0,23))return null;break;case"m":case"mm":if(st=v,n(st,0,59))return null;break;case"s":case"ss":if(ht=v,n(ht,0,59))return null;break;case"tt":case"t":if(lt=o.PM&&(l===o.PM[0]||l===o.PM[1]||l===o.PM[2]),!lt&&(!o.AM||l!==o.AM[0]&&l!==o.AM[1]&&l!==o.AM[2]))return null;break;case"f":case"ff":case"fff":if(ct=v*Math.pow(10,3-ut),n(ct,0,999))return null;break;case"ddd":case"dddd":if(it=s(o,l,ut===3),n(it,0,6))return null;break;case"zzz":if((ft=l.split(/:/),ft.length!==2)||(k=parseInt(ft[0],10),n(k,-12,13))||(et=parseInt(ft[1],10),n(et,0,59)))return null;rt=k*60+(f(l,"-")?-et:et);break;case"z":case"zz":if(k=v,n(k,-12,13))return null;rt=k*60;break;case"g":case"gg":if(g=l,!g||!o.eras)return null;for(g=u(g.toLowerCase()),nt=0,kt=o.eras.length;nt<kt;nt++)if(g===o.eras[nt].name.toLowerCase()){ot=nt;break}if(ot===null)return null}}if(a=new Date,tt=o.convert,dt=tt?tt.fromGregorian(a)[0]:a.getFullYear(),w===null?w=dt:o.eras&&(w+=o.eras[ot||0].offset),p===null&&(p=0),b===null&&(b=1),tt){if(a=tt.toGregorian(w,p,b),a===null)return null}else if((a.setFullYear(w,p,b),a.getDate()!==b)||it!==null&&a.getDay()!==it)return null;return lt&&y<12&&(y+=12),a.setHours(y,st,ht,ct),rt!==null&&(at=a.getMinutes()-(rt+a.getTimezoneOffset()),a.setHours(a.getHours()+parseInt(at/60,10),at%60)),a}}();s=function(n,t,i){var r=t["-"],u=t["+"],e;switch(i){case"n -":r=" "+r;u=" "+u;case"n-":h(n,r)?e=["-",n.substr(0,n.length-r.length)]:h(n,u)&&(e=["+",n.substr(0,n.length-u.length)]);break;case"- n":r+=" ";u+=" ";case"-n":f(n,r)?e=["-",n.substr(r.length)]:f(n,u)&&(e=["+",n.substr(u.length)]);break;case"(n)":f(n,"(")&&h(n,")")&&(e=["-",n.substr(1,n.length-2)])}return e||["",n]};i.prototype.findClosestCulture=function(n){return i.findClosestCulture.call(this,n)};i.prototype.format=function(n,t,r){return i.format.call(this,n,t,r)};i.prototype.localize=function(n,t){return i.localize.call(this,n,t)};i.prototype.parseInt=function(n,t,r){return i.parseInt.call(this,n,t,r)};i.prototype.parseFloat=function(n,t,r){return i.parseFloat.call(this,n,t,r)};i.prototype.culture=function(n){return i.culture.call(this,n)};i.addCultureInfo=function(n,t,i){var r={},u=!1;typeof n!="string"?(i=n,n=this.culture().name,r=this.cultures[n]):typeof t!="string"?(i=t,u=this.cultures[n]==null,r=this.cultures[n]||this.cultures["default"]):(u=!0,r=this.cultures[t]);this.cultures[n]=v(!0,{},r,i);u&&(this.cultures[n].calendar=this.cultures[n].calendars.standard)};i.findClosestCulture=function(n){var r,f,h,l,y,a;if(!n)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if(typeof n=="string"&&(n=n.split(",")),c(n)){for(var i,o=this.cultures,v=n,s=v.length,e=[],t=0;t<s;t++)n=u(v[t]),h=n.split(";"),i=u(h[0]),h.length===1?f=1:(n=u(h[1]),n.indexOf("q=")===0?(n=n.substr(2),f=parseFloat(n),f=isNaN(f)?0:f):f=1),e.push({lang:i,pri:f});for(e.sort(function(n,t){return n.pri<t.pri?1:n.pri>t.pri?-1:0}),t=0;t<s;t++)if(i=e[t].lang,r=o[i],r)return r;for(t=0;t<s;t++){i=e[t].lang;do{if(l=i.lastIndexOf("-"),l===-1)break;if(i=i.substr(0,l),r=o[i],r)return r}while(1)}for(t=0;t<s;t++){i=e[t].lang;for(y in o)if(a=o[y],a.language===i)return a}}else if(typeof n=="object")return n;return r||null};i.format=function(n,t,i){var r=this.findClosestCulture(i);return n instanceof Date?n=b(n,t,r):typeof n=="number"&&(n=ut(n,t,r)),n};i.localize=function(n,t){return this.findClosestCulture(t).messages[n]||this.cultures["default"].messages[n]};i.parseDate=function(n,t,i){var r,o,f,u,s,e;if(i=this.findClosestCulture(i),t){if(typeof t=="string"&&(t=[t]),t.length)for(u=0,s=t.length;u<s;u++)if(e=t[u],e&&(r=d(n,e,i),r))break}else{f=i.calendar.patterns;for(o in f)if(r=d(n,f[o],i),r)break}return r||null};i.parseInt=function(n,t,r){return p(i.parseFloat(n,t,r))};i.parseFloat=function(n,t,i){var y,c,l,h,p,k,w,b,d,a,it;typeof t!="number"&&(i=t,t=10);var f=this.findClosestCulture(i),v=NaN,r=f.numberFormat;if(n.indexOf(f.numberFormat.currency.symbol)>-1&&(n=n.replace(f.numberFormat.currency.symbol,""),n=n.replace(f.numberFormat.currency["."],f.numberFormat["."])),n.indexOf(f.numberFormat.percent.symbol)>-1&&(n=n.replace(f.numberFormat.percent.symbol,"")),n=n.replace(/ /g,""),nt.test(n))v=parseFloat(n);else if(!t&&g.test(n))v=parseInt(n,16);else{var u=s(n,r,r.pattern[0]),e=u[0],o=u[1];e===""&&r.pattern[0]!=="(n)"&&(u=s(n,r,"(n)"),e=u[0],o=u[1]);e===""&&r.pattern[0]!=="-n"&&(u=s(n,r,"-n"),e=u[0],o=u[1]);e=e||"+";l=o.indexOf("e");l<0&&(l=o.indexOf("E"));l<0?(c=o,y=null):(c=o.substr(0,l),y=o.substr(l+1));k=r["."];w=c.indexOf(k);w<0?(h=c,p=null):(h=c.substr(0,w),p=c.substr(w+k.length));b=r[","];h=h.split(b).join("");d=b.replace(/\u00A0/g," ");b!==d&&(h=h.split(d).join(""));a=e+h;p!==null&&(a+="."+p);y!==null&&(it=s(y,r,"-n"),a+="e"+(it[0]||"+")+it[1]);tt.test(a)&&(v=parseFloat(a))}return v};i.culture=function(n){return typeof n!="undefined"&&(this.cultureSelector=n),this.findClosestCulture(n)||this.cultures["default"]}})(this);/*!
  [be]Lazy.js - v1.1.2 - 2014.01.03
  A lazy loading and multi-serving image script
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
var Blazy=function(n,t){"use strict";function u(u){if(!t.querySelectorAll){var f=t.createStyleSheet();t.querySelectorAll=function(n,i,r,u,e){for(e=t.all,i=[],n=n.replace(/\[for\b/gi,"[htmlFor").split(","),r=n.length;r--;){for(f.addRule(n[r],"k:v"),u=e.length;u--;)e[u].currentStyle.k&&i.push(e[u]);f.removeRule(0)}return i}}i=u||{};i.src=i.src||"data-src";i.multi=i.multi||!1;i.error=i.error||!1;i.offset=i.offset||100;i.success=i.success||!1;i.selector=i.selector||".b-lazy";i.separator=i.separator||"|";i.container=i.container?t.querySelectorAll(i.container):!1;i.errorClass=i.errorClass||"b-error";i.successClass=i.successClass||"b-loaded";i.beforeload=i.beforeload||!1;i.createImageFn=i.createImageFn||null;i.loadingClass=i.loadingClass||"b-loading";i.customBindEvents=i.customBindEvents||!1;a=i.src;w=!0;r=tt(b,20);s=tt(g,50);g();l(i.multi,function(t){if(t.width>=n.screen.width)return a=t.src,!1});o=this;o.options=i;nt()}function b(){for(var t,i,n=0;n<f;n++)t=e[n],i=d(t),(it(t)||i)&&(i||k(t),e.splice(n,1),f--,n--);f===0&&u.prototype.destroy()}function k(n){var t,r,f;n.offsetWidth>0&&n.offsetHeight>0&&(t=n.getAttribute(a)||n.getAttribute(i.src),t&&(f=t.split(i.separator),r=f[w&&f.length>1?1:0]),r?(l(i.multi,function(t){n.removeAttribute(t.src)}),n.removeAttribute(i.src),u.preloadImage(r,function(){n.className=n.className+" "+i.loadingClass;i.beforeload&&i.beforeload(n)},function(t,r){t?(n.nodeName.toLowerCase()==="img"?n.src=r:n.setAttribute("style",'background-image: url("'+r+'");'),n.className=n.className.replace(i.loadingClass,"")+" "+i.successClass,i.success&&i.success(n)):(i.error&&i.error(n,"invalid"),n.className=n.className+" "+i.errorClass)},i.createImageFn)):(i.error&&i.error(n,"missing"),n.className=n.className+" "+i.errorClass))}function it(n){var t=n.getBoundingClientRect(),r=p+i.offset;return t.left>=0&&t.left<=y+i.offset&&(t.top>=0&&t.top<=r||t.bottom<=r&&t.bottom>=0-i.offset)}function d(n){return(" "+n.className+" ").indexOf(" "+i.successClass+" ")!==-1}function rt(n){var r=t.querySelectorAll(n),i;for(f=r.length,i=f;i--;e.unshift(r[i]));}function g(){p=n.innerHeight||t.documentElement.clientHeight;y=n.innerWidth||t.documentElement.clientWidth}function nt(){rt(i.selector);v&&(v=!1,i.customBindEvents?i.customBindEvents(o,!0):(i.container&&l(i.container,function(n){h(n,"scroll",r)}),h(n,"scroll",r),h(n,"resize",r),h(n,"resize",s)));b()}function h(n,t,i){n.attachEvent?n.attachEvent&&n.attachEvent("on"+t,i):n.addEventListener(t,i,!1)}function c(n,t,i){n.detachEvent?n.detachEvent&&n.detachEvent("on"+t,i):n.removeEventListener(t,i,!1)}function l(n,t){var r,i;if(n&&t)for(r=n.length,i=0;i<r&&t(n[i],i)!==!1;i++);}function tt(n,t){var i=0;return function(){var r=+new Date;r-i<t||(i=r,n.apply(this,arguments))}}var a,i,y,p,w,v=!0,f=0,e=[],o,r,s;return u.preloadImage=function(n,t,i,r){var u=r?r():new Image;u.onload=function(){u.onCompleteFired||(u.onCompleteFired=!0,i(!0,n))};u.onerror=function(){i(!1,n)};u.src=n;u.complete&&u.naturalWidth!==undefined&&!u.onCompleteFired&&(u.onCompleteFired=!0,i(!0,n));u.onCompleteFired||t()},u.prototype.onManualScroll=function(){r()},u.prototype.onManualResize=function(){s();r()},u.prototype.revalidate=function(){nt()},u.prototype.load=function(n){d(n)||k(n)},u.prototype.destroy=function(){i.customBindEvents?i.customBindEvents(o,!1):(i.container&&l(i.container,function(n){c(n,"scroll",r)}),c(n,"scroll",r),c(n,"resize",r),c(n,"resize",s));f=0;e.length=0;v=!0},u}(window,document);/*!
* Clamp.js 0.5.1
*
* Copyright 2011-2013, Joseph Schmitt http://joe.sh
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*/
(function(){function n(n,t){function w(n,t){return c.getComputedStyle||(c.getComputedStyle=function(n){return this.el=n,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return t=="float"&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),n.currentStyle&&n.currentStyle[t]?n.currentStyle[t]:null},this}),c.getComputedStyle(n,null).getPropertyValue(t)}function b(t){var i=t||n.clientHeight,r=k(n);return Math.max(Math.floor(i/r),0)}function tt(t){var i=k(n);return i*t}function k(n){var t=w(n,"line-height");return t=="normal"&&(t=parseInt(w(n,"font-size"))*1.2),parseInt(t)}function h(t){return t.lastChild.children&&t.lastChild.children.length>0?h(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&t.lastChild.nodeValue!=""&&t.lastChild.nodeValue!=i.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),h(n))}function a(t,f){function o(){e=i.splitOnChars.slice(0);r=e[0];u=null;l=null}if(f){var c=t.nodeValue.replace(i.truncationChar,"");if(u||(r=e.length>0?e.shift():"",u=c.split(r)),u.length>1?(l=u.pop(),v(t,u.join(r))):u=null,s&&(t.nodeValue=t.nodeValue.replace(i.truncationChar,""),n.innerHTML=t.nodeValue+" "+s.innerHTML+i.truncationChar),u){if(n.clientHeight<=f)if(e.length>=0&&r!="")v(t,u.join(r)+r+l),u=null;else return n.innerHTML}else r==""&&(v(t,""),t=h(n),o());if(i.animate)setTimeout(function(){a(t,f)},i.animate===!0?10:i.animate);else return a(t,f)}}function v(n,t){n.nodeValue=t+i.truncationChar}var e,r,u,l,d,y;t=t||{};var it=this,c=window,i={clamp:t.clamp||2,useNativeClamp:typeof t.useNativeClamp!="undefined"?t.useNativeClamp:!0,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},o=n.style,g=n.innerHTML,nt=typeof n.style.webkitLineClamp!="undefined",f=i.clamp,p=f.indexOf&&(f.indexOf("px")>-1||f.indexOf("em")>-1),s;return i.truncationHTML&&(s=document.createElement("span"),s.innerHTML=i.truncationHTML),e=i.splitOnChars.slice(0),r=e[0],f=="auto"?f=b():p&&(f=b(parseInt(f))),nt&&i.useNativeClamp?(o.overflow="hidden",o.textOverflow="ellipsis",o.webkitBoxOrient="vertical",o.display="-webkit-box",o.webkitLineClamp=f,p&&(o.height=i.clamp+"px")):(y=tt(f),y<=n.clientHeight&&(d=a(h(n),y))),{original:g,clamped:d}}window.$clamp=n})();